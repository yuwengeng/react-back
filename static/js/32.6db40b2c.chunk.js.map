{"version":3,"sources":["../node_modules/zrender/lib/core/vector.js","../node_modules/antd/es/menu/style/css.js","../node_modules/zrender/lib/core/env.js","../node_modules/antd/es/dropdown/style/css.js","../node_modules/zrender/lib/core/BoundingRect.js","../node_modules/rc-dropdown/es/placements.js","../node_modules/rc-dropdown/es/Dropdown.js","../node_modules/rc-dropdown/es/index.js","../node_modules/antd/es/dropdown/dropdown.js","../node_modules/echarts/lib/util/format.js","../node_modules/echarts/lib/model/Model.js","../node_modules/mini-store/lib/index.js","../node_modules/echarts/lib/model/Component.js","../node_modules/echarts/lib/util/layout.js","../node_modules/rc-util/es/Dom/addEventListener.js","../node_modules/zrender/lib/contain/text.js","../node_modules/echarts/lib/util/clazz.js","../node_modules/zrender/lib/core/matrix.js","../node_modules/rc-trigger/es/utils.js","../node_modules/dom-align/dist-web/index.js","../node_modules/rc-align/es/util.js","../node_modules/rc-align/es/Align.js","../node_modules/rc-align/es/index.js","../node_modules/rc-trigger/es/LazyRenderBox.js","../node_modules/rc-trigger/es/PopupInner.js","../node_modules/rc-trigger/es/Popup.js","../node_modules/rc-trigger/es/index.js","../node_modules/zrender/lib/core/event.js","../node_modules/zrender/lib/core/curve.js","../node_modules/echarts/lib/data/helper/dataProvider.js","../node_modules/echarts/lib/data/helper/dataStackHelper.js","../node_modules/echarts/lib/coord/axisHelper.js","../node_modules/echarts/lib/util/symbol.js","../node_modules/antd/es/tooltip/style/css.js","../node_modules/rc-menu/es/util.js","../node_modules/rc-menu/es/placements.js","../node_modules/rc-menu/es/SubMenu.js","../node_modules/rc-menu/es/DOMWrap.js","../node_modules/rc-menu/es/SubPopupMenu.js","../node_modules/rc-menu/es/Menu.js","../node_modules/rc-menu/es/MenuItem.js","../node_modules/rc-menu/es/MenuItemGroup.js","../node_modules/rc-menu/es/Divider.js","../node_modules/rc-menu/es/index.js","../node_modules/rc-tooltip/es/placements.js","../node_modules/rc-tooltip/es/Content.js","../node_modules/rc-tooltip/es/Tooltip.js","../node_modules/rc-tooltip/es/index.js","../node_modules/antd/es/tooltip/placements.js","../node_modules/antd/es/tooltip/index.js","../node_modules/zrender/lib/mixin/Eventful.js","../node_modules/zrender/lib/container/Group.js","../node_modules/zrender/lib/tool/color.js","../node_modules/echarts/lib/data/Source.js","../node_modules/echarts/lib/data/helper/sourceType.js","../node_modules/zrender/lib/config.js","../node_modules/zrender/lib/graphic/constant.js","../node_modules/zrender/lib/graphic/Displayable.js","../node_modules/echarts/lib/model/mixin/makeStyleMapper.js","../node_modules/zrender/lib/core/PathProxy.js","../node_modules/echarts/lib/util/component.js","../node_modules/echarts/lib/data/helper/sourceHelper.js","../node_modules/echarts/lib/model/Series.js","../node_modules/echarts/lib/util/throttle.js","../node_modules/echarts/lib/chart/helper/createListFromArray.js","../node_modules/echarts/lib/scale/Scale.js","../node_modules/antd/es/dropdown/dropdown-button.js","../node_modules/antd/es/dropdown/index.js","../node_modules/zrender/lib/core/timsort.js","../node_modules/zrender/lib/graphic/Style.js","../node_modules/zrender/lib/graphic/Image.js","../node_modules/zrender/lib/graphic/helper/image.js","../node_modules/zrender/lib/graphic/Text.js","../node_modules/zrender/lib/graphic/helper/subPixelOptimize.js","../node_modules/zrender/lib/graphic/Gradient.js","../node_modules/echarts/lib/CoordinateSystem.js","../node_modules/echarts/lib/stream/task.js","../node_modules/echarts/lib/view/Chart.js","../node_modules/echarts/lib/chart/helper/createRenderPlanner.js","../node_modules/echarts/lib/data/List.js","../node_modules/echarts/lib/data/helper/dimensionHelper.js","../node_modules/echarts/lib/data/helper/createDimensions.js","../node_modules/echarts/lib/scale/Interval.js","../node_modules/echarts/lib/layout/barGrid.js","../node_modules/rc-util/es/Dom/contains.js","../node_modules/antd/es/_util/colors.js","../node_modules/antd/es/_util/getScroll.js","../node_modules/zrender/lib/zrender.js","../node_modules/zrender/lib/core/guid.js","../node_modules/zrender/lib/Element.js","../node_modules/zrender/lib/mixin/Transformable.js","../node_modules/zrender/lib/animation/Animator.js","../node_modules/zrender/lib/core/LRU.js","../node_modules/zrender/lib/core/log.js","../node_modules/zrender/lib/graphic/helper/fixShadow.js","../node_modules/zrender/lib/graphic/Pattern.js","../node_modules/zrender/lib/animation/requestAnimationFrame.js","../node_modules/zrender/lib/graphic/helper/text.js","../node_modules/zrender/lib/graphic/helper/roundRect.js","../node_modules/echarts/lib/model/Global.js","../node_modules/zrender/lib/tool/path.js","../node_modules/zrender/lib/core/bbox.js","../node_modules/zrender/lib/contain/util.js","../node_modules/zrender/lib/contain/windingLine.js","../node_modules/zrender/lib/graphic/shape/Circle.js","../node_modules/zrender/lib/graphic/helper/fixClipWithShadow.js","../node_modules/zrender/lib/graphic/shape/Polygon.js","../node_modules/zrender/lib/graphic/helper/poly.js","../node_modules/zrender/lib/graphic/shape/Polyline.js","../node_modules/zrender/lib/graphic/shape/Rect.js","../node_modules/zrender/lib/graphic/shape/Line.js","../node_modules/zrender/lib/graphic/LinearGradient.js","../node_modules/zrender/lib/graphic/IncrementalDisplayable.js","../node_modules/echarts/lib/model/mixin/colorPalette.js","../node_modules/echarts/lib/model/referHelper.js","../node_modules/echarts/lib/ExtensionAPI.js","../node_modules/echarts/lib/view/Component.js","../node_modules/echarts/lib/lang.js","../node_modules/echarts/lib/data/helper/completeDimensions.js","../node_modules/echarts/lib/data/OrdinalMeta.js","../node_modules/echarts/lib/scale/helper.js","../node_modules/echarts/lib/coord/axisModelCommonMixin.js","../node_modules/echarts/lib/coord/Axis.js","../node_modules/mini-store/lib/PropTypes.js","../node_modules/rc-util/es/ContainerRender.js","../node_modules/rc-util/es/Portal.js","../node_modules/antd/es/_util/openAnimation.js","../node_modules/zrender/lib/core/util.js","../node_modules/antd/es/_util/scrollTo.js","../node_modules/antd/es/_util/easings.js","../node_modules/antd/es/back-top/style/css.js","../node_modules/zrender/lib/Handler.js","../node_modules/zrender/lib/mixin/Draggable.js","../node_modules/zrender/lib/core/fourPointsTransform.js","../node_modules/zrender/lib/core/GestureMgr.js","../node_modules/zrender/lib/Storage.js","../node_modules/zrender/lib/mixin/Animatable.js","../node_modules/zrender/lib/animation/Clip.js","../node_modules/zrender/lib/animation/easing.js","../node_modules/zrender/lib/Painter.js","../node_modules/zrender/lib/Layer.js","../node_modules/zrender/lib/graphic/mixin/RectText.js","../node_modules/zrender/lib/animation/Animation.js","../node_modules/zrender/lib/dom/HandlerProxy.js","../node_modules/echarts/lib/model/mixin/lineStyle.js","../node_modules/echarts/lib/model/mixin/areaStyle.js","../node_modules/echarts/lib/model/mixin/textStyle.js","../node_modules/zrender/lib/contain/path.js","../node_modules/zrender/lib/contain/line.js","../node_modules/zrender/lib/contain/cubic.js","../node_modules/zrender/lib/contain/quadratic.js","../node_modules/zrender/lib/contain/arc.js","../node_modules/zrender/lib/tool/transformPath.js","../node_modules/zrender/lib/graphic/shape/Sector.js","../node_modules/zrender/lib/graphic/shape/Ring.js","../node_modules/zrender/lib/graphic/helper/smoothSpline.js","../node_modules/zrender/lib/graphic/helper/smoothBezier.js","../node_modules/zrender/lib/graphic/shape/BezierCurve.js","../node_modules/zrender/lib/graphic/shape/Arc.js","../node_modules/zrender/lib/graphic/CompoundPath.js","../node_modules/zrender/lib/graphic/RadialGradient.js","../node_modules/echarts/lib/model/mixin/itemStyle.js","../node_modules/echarts/lib/model/mixin/boxLayout.js","../node_modules/echarts/lib/model/globalDefault.js","../node_modules/echarts/lib/model/OptionManager.js","../node_modules/echarts/lib/preprocessor/backwardCompat.js","../node_modules/echarts/lib/preprocessor/helper/compatStyle.js","../node_modules/echarts/lib/processor/dataStack.js","../node_modules/echarts/lib/model/mixin/dataFormat.js","../node_modules/echarts/lib/visual/seriesColor.js","../node_modules/echarts/lib/visual/aria.js","../node_modules/echarts/lib/loading/default.js","../node_modules/echarts/lib/stream/Scheduler.js","../node_modules/echarts/lib/theme/light.js","../node_modules/echarts/lib/theme/dark.js","../node_modules/echarts/lib/component/dataset.js","../node_modules/echarts/lib/coord/geo/mapDataStorage.js","../node_modules/zrender/lib/tool/parseSVG.js","../node_modules/zrender/lib/graphic/shape/Ellipse.js","../node_modules/echarts/lib/export.js","../node_modules/echarts/lib/helper.js","../node_modules/echarts/lib/data/DataDiffer.js","../node_modules/echarts/lib/scale/Ordinal.js","../node_modules/echarts/lib/scale/Time.js","../node_modules/echarts/lib/scale/Log.js","../node_modules/echarts/lib/coord/geo/parseGeoJson.js","../node_modules/echarts/lib/coord/geo/Region.js","../node_modules/zrender/lib/contain/polygon.js","../node_modules/echarts/lib/coord/axisTickLabelBuilder.js","../node_modules/antd/es/avatar/style/css.js","../node_modules/antd/es/badge/style/css.js","../node_modules/mini-store/lib/Provider.js","../node_modules/mini-store/lib/connect.js","../node_modules/mini-store/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js","../node_modules/mini-store/lib/create.js","../node_modules/ismobilejs/dist/isMobile.min.js","../node_modules/add-dom-event-listener/lib/index.js","../node_modules/add-dom-event-listener/lib/EventObject.js","../node_modules/add-dom-event-listener/lib/EventBaseObject.js","../node_modules/mutationobserver-shim/dist/mutationobserver.min.js","../node_modules/antd/es/avatar/index.js","../node_modules/antd/es/back-top/index.js","../node_modules/echarts/lib/echarts.js","../node_modules/echarts/lib/util/model.js","../node_modules/echarts/lib/util/graphic.js","../node_modules/shallowequal/index.js","../node_modules/echarts/lib/config.js","../node_modules/echarts/lib/util/number.js","../node_modules/rc-util/es/KeyCode.js","../node_modules/antd/es/badge/ScrollNumber.js","../node_modules/antd/es/badge/index.js","../node_modules/zrender/lib/graphic/Path.js","../node_modules/antd/es/menu/MenuContext.js","../node_modules/antd/es/menu/SubMenu.js","../node_modules/antd/es/menu/MenuItem.js","../node_modules/antd/es/menu/index.js"],"names":["ArrayCtor","Float32Array","Array","len","v","Math","sqrt","lenSquare","length","lengthSquare","distance","v1","v2","dist","distanceSquare","distSquare","exports","create","x","y","out","copy","clone","set","a","b","add","scaleAndAdd","sub","mul","div","dot","scale","s","normalize","d","negate","lerp","t","applyTransform","m","min","max","_default","wx","getSystemInfoSync","browser","os","node","wxa","canvasSupported","svgSupported","touchEventsSupported","domSupported","document","self","worker","navigator","ua","firefox","match","ie","edge","weChat","test","version","createElement","getContext","SVGRect","window","pointerEventsSupported","detect","userAgent","module","vec2","matrix","v2ApplyTransform","mathMin","mathMax","BoundingRect","width","height","this","prototype","constructor","union","other","lt","rb","lb","rt","maxX","maxY","calculateTransform","sx","sy","translate","intersect","ax0","ax1","ay0","ay1","bx0","bx1","by0","by1","contain","plain","rect","autoAdjustOverflow","adjustX","adjustY","targetOffset","topLeft","points","overflow","offset","topCenter","topRight","bottomLeft","bottomCenter","bottomRight","_extends","Object","assign","target","i","arguments","source","key","hasOwnProperty","call","_Component","Dropdown","props","instance","Constructor","TypeError","_classCallCheck","_this","ReferenceError","_possibleConstructorReturn","state","visible","defaultVisible","subClass","superClass","value","enumerable","writable","configurable","setPrototypeOf","__proto__","_inherits","getDerivedStateFromProps","nextProps","getOverlayElement","overlay","getMenuElementOrLambda","getMenuElement","getPopupDomNode","trigger","getOpenClassName","_props","openClassName","prefixCls","undefined","renderChildren","children","childrenProps","childClassName","className","render","_props2","transitionName","animation","align","placement","getPopupContainer","showAction","hideAction","overlayClassName","overlayStyle","otherProps","obj","keys","indexOf","_objectWithoutProperties","triggerHideAction","ref","saveTrigger","popupClassName","popupStyle","builtinPlacements","action","popupPlacement","popupAlign","popupTransitionName","popupAnimation","popupVisible","afterPopupVisibleChange","afterVisibleChange","popup","onPopupVisibleChange","onVisibleChange","propTypes","minOverlayWidthMatchTrigger","bool","func","onOverlayClick","string","any","object","oneOfType","array","alignPoint","defaultProps","_this2","onClick","e","overlayProps","setState","getMinOverlayWidthMatchTrigger","_props3","overlayElement","extraOverlayProps","type","cloneElement","overlayNode","rootNode","findDOMNode","offsetWidth","style","minWidth","_component","alignInstance","forceAlign","_typeof","Symbol","iterator","apply","_defineProperties","descriptor","defineProperty","_assertThisInitialized","_getPrototypeOf","o","getPrototypeOf","_setPrototypeOf","p","_React$Component","renderOverlay","only","warning","mode","concat","_overlayProps$selecta","selectable","_overlayProps$focusab","focusable","expandIcon","renderDropDown","_ref","getContextPopupContainer","getPrefixCls","_this$props","customizePrefixCls","disabled","child","dropdownTrigger","triggerActions","getTransitionName","protoProps","staticProps","_this$props2","_this$props2$placemen","mouseEnterDelay","mouseLeaveDelay","zrUtil","textContain","numberUtil","normalizeCssArray","replaceReg","replaceMap","'","encodeHTML","replace","str","c","TPL_VAR_ALIAS","wrapVar","varName","seriesIdx","pad","substr","truncateText","addCommas","isNaN","split","toCamelCase","upperCaseFirst","toLowerCase","group1","toUpperCase","charAt","slice","formatTpl","tpl","paramsList","encode","isArray","seriesLen","$vars","alias","k","val","formatTplSimple","param","each","getTooltipMarker","opt","extraCssText","color","isString","renderMode","markerId","content","formatTime","isUTC","date","parseDate","utc","M","h","S","capitalFirst","getTextBoundingRect","getBoundingRect","text","font","textAlign","textVerticalAlign","textPadding","textLineHeight","rich","truncate","getTextRect","env","makeInner","_clazz","enableClassExtend","enableClassCheck","lineStyleMixin","areaStyleMixin","textStyleMixin","itemStyleMixin","mixin","inner","Model","option","parentModel","ecModel","doGet","pathArr","get","getParent","model","path","getParentMethod","init","mergeOption","merge","ignoreParent","parsePath","getShallow","getModel","thisParentModel","isEmpty","restoreData","Ctor","setReadOnly","properties","customizeGetParent","isAnimationEnabled","connect","Provider","_Provider3","_interopRequireDefault","_connect3","_create3","__esModule","default","componentUtil","enableClassManagement","parseClassType","layout","boxLayoutMixin","ComponentModel","extend","id","name","mainType","subType","componentIndex","defaultOption","dependentModels","uid","layoutMode","$constructor","extraOpt","getUID","mergeDefaultAndTheme","inputPositionParams","getLayoutParams","themeModel","getTheme","getDefaultOption","mergeLayoutParam","optionUpdated","newCptOption","isInit","fields","optList","Class","push","getReferringComponents","queryComponents","index","registerWhenExtend","enableSubTypeDefaulter","enableTopologicalTravel","componentType","deps","getClassesByMainType","Clazz","dependencies","map","main","unshift","parsePercent","formatUtil","LOCATION_PARAMS","HV_NAMES","boxLayout","orient","group","gap","maxWidth","maxHeight","Infinity","currentLineMaxSize","eachChild","idx","nextX","nextY","position","nextChild","childAt","nextChildRect","moveX","newline","moveY","box","vbox","curry","hbox","getLayoutRect","positionInfo","containerRect","margin","containerWidth","containerHeight","left","top","right","bottom","verticalMargin","horizontalMargin","aspect","copyLayoutParams","getAvailableSize","x2","y2","parseFloat","positionElement","el","hv","boundingMode","needLocalTransform","transform","getLocalTransform","defaults","elPos","dx","dy","attr","sizeCalculable","hvIdx","targetOption","newOption","isObject","ignoreSize","hResult","vResult","names","newParams","newValueCount","merged","mergedValueCount","hasProp","hasValue","addEventListenerWrap","eventType","cb","callback","unstable_batchedUpdates","imageHelper","_util","retrieve2","retrieve3","trim","textWidthCache","textWidthCacheCounter","TEXT_CACHE_MAX","STYLE_REG","DEFAULT_FONT","methods","getWidth","textLines","l","measureText","adjustTextX","adjustTextY","calculateTextPosition","textPosition","textDistance","halfHeight","ellipsis","options","prepareTruncateOptions","truncateSingleLine","join","maxIterations","minChar","cnCharWidth","ascCharWidth","placeholder","contentWidth","ellipsisWidth","textLine","lineWidth","j","subLength","estimateLength","floor","charCode","charCodeAt","getLineHeight","parsePlainText","padding","lineHeight","lines","outerHeight","truncOuterHeight","truncOuterWidth","outerWidth","parseRichText","contentBlock","result","lastIndex","exec","matchedIndex","pushTokens","substring","contentHeight","pendingList","stlPadding","truncateWidth","truncateHeight","line","tokens","tokenStyle","token","styleName","tokenHeight","textHeight","textWidth","tokenWidth","tokenWidthNotSpecified","percentWidth","textBackgroundColor","bgImg","image","findExistImage","isImageReady","paddingW","remianTruncWidth","parseInt","block","isEmptyStr","strs","isLineHolder","tokensLen","ctx","$override","fn","getRichTextRect","getPlainTextRect","adjustTextPositionOnRect","makeFont","fontSize","fontFamily","fontStyle","fontWeight","textFont","__DEV__","TYPE_DELIMITER","IS_CONTAINER","ret","classBase","superCall","context","methodName","args","superApply","RootClass","mandatoryMethods","proto","ExtendedClass","inherits","Clz","classAttr","random","toFixed","isInstance","entity","storage","registerClass","assert","checkClassType","container","makeContainer","getClass","componentMainType","throwWhenNotFound","Error","hasClass","getAllClassMainTypes","types","hasSubTypes","originalExtend","identity","m1","m2","out0","out1","out2","out3","out4","out5","rotate","rad","aa","ac","atx","ab","ad","aty","st","sin","ct","cos","vx","vy","invert","det","isPointsEq","a1","a2","isAlignPoint","saveRef","component","vendorPrefix","_defineProperty","ownKeys","enumerableOnly","getOwnPropertySymbols","symbols","filter","sym","getOwnPropertyDescriptor","jsCssMap","Webkit","Moz","ms","O","getVendorPrefix","getTransformName","setTransitionProperty","transitionProperty","setTransform","getComputedStyleX","matrix2d","matrix3d","forceRelayout","elem","originalStyle","display","offsetHeight","css","getScroll","w","method","documentElement","body","getScrollLeft","getScrollTop","getOffset","pos","doc","ownerDocument","docElem","getBoundingClientRect","clientLeft","clientTop","getClientPosition","defaultView","parentWindow","isWindow","getDocument","nodeType","_RE_NUM_NO_PX","RegExp","RE_POS","CURRENT_STYLE","RUNTIME_STYLE","LEFT","PX","getOffsetDirection","dir","useCssRight","useCssBottom","oppositeOffsetDirection","setLeftTop","presetH","presetV","horizontalProperty","verticalProperty","oppositeHorizontalProperty","oppositeVerticalProperty","originalTransition","originalOffset","old","preset","off","_key","_dir","_off","setTransform$1","originalXY","getComputedStyle","getPropertyValue","getTransformXY","resultXY","xy","arr","match2d","item","setTransformXY","isBorderBoxFn","cs","computedStyle","rsLeft","pixelLeft","BOX_MODELS","CONTENT_INDEX","PADDING_INDEX","BORDER_INDEX","getPBMWidth","which","prop","cssProp","domUtils","element","parent","host","parentNode","getWH","ex","extra","viewportWidth","viewportHeight","docWidth","docHeight","borderBoxValue","isBorderBox","cssBoxValue","Number","borderBoxValueOrIsBorderBox","refWin","win","documentElementProp","compatMode","cssShow","visibility","getWHIgnoreDisplay","_len","_key2","swap","mix","to","from","first","includeMargin","utils","getWindow","setTimeout","ignoreShake","oriOffset","oLeft","oTop","tLeft","tTop","useCssTransform","setOffset","getWindowScrollLeft","getWindowScrollTop","getOffsetParent","positionStyle","nodeName","getParent$1","getVisibleRectForElement","visibleRect","clientWidth","clientHeight","originalPosition","scrollX","scrollY","documentWidth","scrollWidth","documentHeight","scrollHeight","bodyStyle","overflowX","innerWidth","overflowY","innerHeight","isAncestorFixed","maxVisibleWidth","maxVisibleHeight","getRegion","getAlignOffset","region","V","H","getElFuturePos","elRegion","refNodeRegion","p1","p2","diff","round","isFailX","elFuturePos","isFailY","flip","reg","flipOffset","convertOffset","offsetLen","normalizeOffset","doAlign","tgtRegion","isTgtRegionVisible","newOverflowCfg","fail","newElRegion","newPoints","r","newOffset","newTargetOffset","isCompleteFailX","_newPoints","_newOffset","_newTargetOffset","isCompleteFailY","isStillFailX","isStillFailY","size","resizeWidth","resizeHeight","adjustForViewport","alignElement","refNode","targetRegion","isOutOfVisibleRect","tgtPoint","pageX","pageY","clientX","clientY","pointInView","forEach","getOwnPropertyDescriptors","defineProperties","_objectSpread2","__getOffsetParent","__getVisibleRectForElement","isSimilarValue","val1","val2","int1","int2","abs","getElement","getPoint","point","Align","_temp","_ret","onAlign","activeElement","contains","focus","restoreFocus","monitorWindowResize","startMonitorWindowResize","prevProps","prev","next","reAlign","sourceRect","lastElement","currentElement","lastPoint","currentPoint","preRect","stopMonitorWindowResize","resizeHandler","bufferMonitor","timer","clear","clearTimeout","bufferFn","buffer","monitorBufferTime","addEventListener","remove","Children","newProps","isRequired","shape","number","LazyRenderBox","shouldComponentUpdate","hiddenClassName","count","PopupInner","onMouseEnter","onMouseLeave","onMouseDown","onTouchStart","Popup","stretchChecked","targetWidth","targetHeight","savePopupRef","bind","saveAlignRef","componentDidMount","setStretchSize","componentDidUpdate","popupInstance","getMaskTransitionName","maskTransitionName","maskAnimation","getClassName","currentAlignClassName","getPopupElement","_state","getClassNameFromAlign","destroyPopupOnHide","stretch","sizeStyle","minHeight","popupInnerProps","getZIndexStyle","Animate","exclusive","transitionAppear","getAlignTarget","showProp","xVisible","zIndex","getMaskElement","maskElement","mask","maskTransition","getRootDomNode","_this3","popupDomNode","_state2","$ele","getTargetElement","noop","ALL_HANDLERS","IS_REACT_16","contextTypes","rcTrigger","onPopupMouseDown","Trigger","defaultPopupVisible","prevPopupVisible","fireEvents","getChildContext","_","prevState","renderComponent","currentDocument","clickOutsideHandler","isClickToHide","isContextMenuToShow","onDocumentClick","touchOutsideHandler","contextMenuOutsideHandler1","onContextMenuClose","contextMenuOutsideHandler2","clearOutsideHandler","componentWillUnmount","clearDelayTimer","mouseDownTimeout","newState","getPopupAlign","placementStr","baseAlign","getAlignFromPlacement","setPopupVisible","event","setPoint","delaySetPopupVisible","delayS","delay","delayTimer","createTwoChains","childPros","isClickToShow","isMouseEnterToShow","_props4","isMouseLeaveToHide","_props5","isFocusToShow","_props6","isBlurToHide","_props7","forcePopupAlign","childCallback","close","_props8","forceRender","newChildProps","onContextMenu","onMouseMove","onFocus","onBlur","childrenClassName","ContainerRender","autoMount","getComponent","getContainer","_ref2","portal","Portal","didUpdate","handlePortalUpdate","Component","arrayOf","getPopupClassNameFromAlign","focusDelay","blurDelay","maskClosable","onPopupAlign","childContextTypes","_this4","onPopupMouseEnter","onPopupMouseLeave","relatedTarget","focusTime","Date","now","preClickTime","preTouchTime","preventDefault","preTime","nextVisible","_context$rcTrigger","hasPopupMouseDown","root","_props9","getAlignPopupClassName","_props10","mouseProps","savePopup","popupContainer","appendChild","Eventful","Dispatcher","buildTransformer","isDomLevel2","MOUSE_EVENT_REG","EVENT_SAVED_PROP","_calcOut","clientToLocal","calculate","calculateZrXY","layerX","offsetX","zrX","zrY","layerY","offsetY","ey","saved","transformer","markers","oldSrcCoords","srcCoords","useOld","destCoords","ii","offsetLeft","offsetTop","preparePointerTransformer","propLR","propTB","marker","stl","idxLR","idxTB","cssText","prepareCoordMarkers","stop","stopPropagation","cancelBubble","returnValue","normalizeEvent","touch","targetTouches","changedTouches","zrDelta","wheelDelta","detail","button","handler","attachEvent","removeEventListener","detachEvent","isMiddleOrRightButtonOnMouseUpDown","notLeftMouse","_vector","v2Create","v2DistSquare","mathPow","pow","mathSqrt","EPSILON","EPSILON_NUMERIC","THREE_SQRT","ONE_THIRD","_v0","_v1","_v2","isAroundZero","isNotAroundZero","cubicAt","p0","p3","onet","quadraticAt","cubicDerivativeAt","cubicRootAt","roots","A","B","C","n","t1","disc","K","t2","discSqrt","Y1","Y2","T","theta","acos","ASqrt","tmp","t3","cubicExtrema","extrema","cubicSubdivide","p01","p12","p23","p012","p123","p0123","cubicProjectPoint","x0","y0","x1","y1","x3","y3","d1","d2","interval","_t","quadraticDerivativeAt","quadraticRootAt","quadraticExtremum","divider","quadraticSubdivide","quadraticProjectPoint","isTypedArray","_model","getDataItemValue","isDataItemOption","Source","_sourceType","SOURCE_FORMAT_TYPED_ARRAY","SOURCE_FORMAT_ARRAY_ROWS","SOURCE_FORMAT_ORIGINAL","SOURCE_FORMAT_OBJECT_ROWS","DefaultDataProvider","dimSize","seriesDataToSource","_source","data","_data","sourceFormat","_offset","_dimSize","providerMethods","seriesLayoutBy","providerProto","pure","persistent","getSource","startIndex","getItem","appendData","appendDataSimply","row","countSimply","getItemSimply","dimName","dimensionsDefine","col","dims","newData","newCol","oldCol","clean","rawValueGetters","arrayRows","getRawValueSimply","objectRows","dataItem","dataIndex","dimIndex","keyedColumns","original","typedArray","defaultDimValueGetters","getDimValueSimply","converDataValue","_dimensionInfos","_rawData","hasItemOption","dimInfo","dimType","ordinalMeta","parseAndCollect","NaN","retrieveRawValue","dim","getRawDataItem","getProvider","getDimensionInfo","retrieveRawAttr","isDimensionStacked","stackedDim","getCalculationInfo","enableDataStack","seriesModel","dimensionInfoList","stackedByDimInfo","stackedDimInfo","stackResultDimension","stackedOverDimension","byIndex","stackedCoordDimension","mayStack","dimensionInfo","isExtraCoord","coordDim","createInvertedIndices","stackedDimCoordDim","stackedDimType","stackedDimCoordIndex","coordDimIndex","isCalculationCoord","stackedDimension","stackedByDimension","isStackedByIndex","getStackedDimension","targetDim","OrdinalScale","IntervalScale","Scale","_barGrid","prepareLayoutBarSeries","makeColumnLayout","retrieveColumnLayout","getScaleExtent","axisDataLen","boundaryGap","span","scaleType","getMin","getMax","fixMin","fixMax","originalExtent","getExtent","getCategories","isFinite","setBlank","eqNaN","getOrdinalMeta","categories","getNeedCrossZero","isBaseAxisAndHasBarSeries","barSeriesModels","getBaseAxis","axis","barWidthAndOffset","adjustedScale","axisExtent","axisLength","barsOnCurrentAxis","minOverflow","maxOverflow","totalOverFlow","oldRange","overflowBuffer","adjustScaleForOverflow","makeLabelFormatter","labelFormatter","getLabelModel","categoryTickStart","getLabel","tickValue","getAxisRawValue","tick","rotateTextRect","textRect","rotateRadians","PI","boundingBox","beforeWidth","beforeHeight","afterWidth","afterHeight","getOptionCategoryInterval","niceScaleExtent","extent","splitNumber","base","setExtent","niceExtent","minInterval","maxInterval","setInterval","createScaleByModel","axisType","ifAxisCrossZero","dataExtent","estimateLabelUnionRect","axisModel","isBlank","realNumberScaleTicks","tickCount","isCategory","categoryScaleExtent","getTicks","axisLabelModel","step","ceil","label","singleRect","shouldShowAllLabels","graphic","_calculateTextPosition","Triangle","extendShape","cx","cy","buildPath","moveTo","lineTo","closePath","Diamond","Pin","angle","asin","tanX","tanY","cpLen","cpLen2","arc","bezierCurveTo","Arrow","symbolCtors","Line","Rect","roundRect","square","circle","Circle","diamond","pin","arrow","triangle","symbolShapeMakers","symbolBuildProxies","SymbolClz","symbolType","res","inBundle","proxySymbol","symbolPathSetColor","innerColor","symbolStyle","symbolShape","stroke","__isEmptyBrush","fill","dirty","createSymbol","keepAspect","symbolPath","makeImage","makePath","setColor","isMobile","getKeyFromChildrenIndex","menuEventKey","prefix","getMenuIdFromSubMenuEventKey","eventKey","loopMenuItem","isMenuItemGroup","c2","menuAllProps","setStyle","styleProperty","leftTop","rightTop","guid","popupPlacementMap","horizontal","vertical","store","defaultActiveFirst","_extends2","menuId","getState","SubMenu","isRootMenu","parentMenu","manualRef","isOpen","minWidthTimeout","adjustWidth","onDestroy","mouseenterTimeout","baseProps","level","inlineIndent","onSubMenuClick","onSelect","onDeselect","selectedKeys","openKeys","openTransitionName","openAnimation","onOpenChange","subMenuOpenDelay","subMenuCloseDelay","forceSubMenuRender","triggerSubMenuAction","multiple","rootPrefixCls","_menuId","saveMenuInstance","itemIcon","haveRendered","haveOpened","animProps","appear","_classNames","isInlineMode","getActiveClassName","active","getDisabledClassName","getSelectedClassName","isChildrenSelected","mouseEvents","titleClickEvents","titleMouseEvents","onTitleClick","onTitleMouseEnter","onTitleMouseLeave","paddingLeft","ariaOwns","icon","title","saveSubMenuTitle","triggerNode","popupOffset","role","onItemHover","oneOf","onKeyDown","keyCode","menu","menuInstance","KeyCode","ENTER","RIGHT","triggerOpenChange","handled","UP","DOWN","domEvent","subMenuInstance","hover","info","addKeyPath","keyPath","open","openChange","find","loopMenuItemRecursively","construct","isSubMenu","isMenuItem","subMenuTitle","popupMenu","connected","activeKey","subMenuKey","canUseDOM","MENUITEM_OVERFLOWED_CLASSNAME","FLOAT_PRECISION_ADJUST","DOMWrap","lastVisibleIndex","getMenuItemNodes","ul","getOverflowedSubMenuItem","keyPrefix","overflowedItems","renderPlaceholder","overflowedIndicator","theme","_copy$props","propStyle","rest","setChildrenWidthAndResize","ulChildrenNodes","lastOverflowedIndicatorPlaceholder","menuItemNodes","menuItemSizes","overflowedIndicatorWidth","originalTotalWidth","reduce","acc","cur","handleResize","resizeObserver","mutationObserver","currentSumWidth","liWidth","menuUl","entries","observe","MutationObserver","disconnect","attributes","childList","subTree","childNode","overflowed","Tag","tag","updateActiveKey","getEventKey","getActiveKey","originalActiveKey","found","instanceArray","SubPopupMenu","_extends3","domProps","tabIndex","renderMenuItem","defaultSelectedKeys","defaultOpenKeys","getFlatInstanceArray","activeItem","selectInfo","getOpenTransitionName","direction","reverse","activeIndex","every","ci","start","renderCommonMenuItem","extraProps","childProps","isActive","createChainedFunction","Menu","updateMiniStore","innerMenu","selectedKey","getWrappedInstance","changed","processSingle","oneChanged","splice","animationName","MenuItem","_this$props3","isSelected","saveNode","callRef","onlyScrollIfNeeded","attrs","attribute","mouseEvent","MenuItemGroup","renderInnerMenuItem","_props$className","titleClassName","listClassName","Divider","placements","rightBottom","leftBottom","Content","Tooltip","arrowContent","destroyTooltipOnHide","getTooltipContainer","restProps","autoAdjustOverflowEnabled","autoAdjustOverflowDisabled","getOverflowOptions","splitObject","picked","omitted","isNoTitle","saveTooltip","tooltip","domNode","getPlacements","transformOrigin","renderTooltip","_assertThisInitialize","elementType","__ANT_BUTTON","__ANT_SWITCH","__ANT_CHECKBOX","_splitObject","spanStyle","cursor","buttonStyle","pointerEvents","getDisabledCompatibleChildren","childCls","arrowPointAtCenter","config","_config$arrowWidth","arrowWidth","_config$horizontalArr","horizontalArrowShift","_config$verticalArrow","verticalArrowShift","_config$autoAdjustOve","placementMap","arrySlice","eventProcessor","_$handlers","_$eventProcessor","_on","eventful","query","isOnce","_h","normalizeQuery","wrap","one","callAtLast","zrEventfulCallAtLast","lastWrap","on","isSilent","newList","argLen","hItem","afterTrigger","triggerWithContext","Element","Group","opts","_children","__storage","__dirty","isGroup","silent","childOfName","childCount","_doAdd","addBefore","nextSibling","zr","__zr","addToStorage","addChildrenToStorage","refresh","delFromStorage","delChildrenFromStorage","removeAll","traverse","includeChildren","tmpRect","tmpMat","ignore","invisible","childRect","LRU","kCSSColorTable","clampCssByte","clampCssFloat","f","parseCssInt","parseCssFloat","cssHueToRgb","lerpNumber","setRgba","g","copyRgba","colorCache","lastRemovedArr","putToCache","colorStr","rgbaArr","put","parse","cached","iv","op","ep","fname","params","alpha","pop","hsla2rgba","hsla","rgba","fastLerp","normalizedValue","colors","leftIndex","rightIndex","leftColor","rightColor","dv","fastMapToColor","fullOutput","stringify","mapToColor","arrColor","lift","colorArr","toHex","toString","modifyHSL","R","G","vMin","vMax","delta","L","deltaR","deltaG","deltaB","rgba2hsla","modifyAlpha","createHashMap","SERIES_LAYOUT_BY_COLUMN","SOURCE_FORMAT_UNKNOWN","SOURCE_FORMAT_KEYED_COLUMNS","fromDataset","encodeDefine","dimensionsDetectCount","SERIES_LAYOUT_BY_ROW","dpr","devicePixelRatio","debugMode","ContextCachedBy","NONE","STYLE_BIND","PLAIN_TEXT","WILL_BE_RESTORED","Style","RectText","Displayable","_rect","__clipPaths","z","z2","zlevel","draggable","dragging","culling","rectHover","progressive","incremental","globalScaleRatio","beforeBrush","afterBrush","brush","prevEl","rectContain","coord","transformCoordToLocal","__dirtyText","animateStyle","loop","animate","attrKV","useStyle","excludes","includes","propName","curve","bbox","CMD","Q","Z","min2","max2","mathCos","mathSin","mathAbs","hasTypedArray","PathProxy","notSaveData","_saveData","_ctx","_xi","_yi","_x0","_y0","_ux","_uy","_lineDash","_dashOffset","_dashIdx","_dashSum","setScale","segmentIgnoreThreshold","beginPath","addData","exceedUnit","_needsDash","_dashedLineTo","_dashedBezierTo","quadraticCurveTo","_dashedQuadraticTo","startAngle","endAngle","anticlockwise","arcTo","radius","toStatic","setLineDash","lineDash","lineDashSum","setLineDashOffset","setData","appendPath","appendSize","appendPathData","cmd","_expandData","_prevCmd","dash","dashSum","nDash","bezierLen","tmpLen","MAX_VALUE","xi","yi","fromLine","fromCubic","fromQuadratic","rx","ry","fromArc","rebuildPath","ux","uy","dTheta","psi","fs","scaleX","scaleY","subTypeDefaulters","registerSubTypeDefaulter","defaulter","determineSubType","componentTypeMain","dependencyGetter","createDependencyGraphItem","graph","predecessor","successor","topologicalTravel","targetNameList","fullNameList","noEntryList","thisItem","availableDeps","originalDeps","dep","getAvailableDependencies","entryCount","dependentName","thatItem","makeDepndencyGraph","stack","targetNameSet","currComponentType","currVertex","isInTargetNameSet","removeEdgeAndAdd","removeEdge","succComponentType","getCoordSysDefineBySeries","isArrayLike","normalizeDimensionsDefine","nameMap","displayName","exist","arrayRowsTravelFirst","maxLoop","value0","doGuessOrdinal","sample","detectValue","detectSourceFormat","datasetModel","resetSourceDefaulter","datasetMap","prepareSource","seriesOption","sourceHeader","dimensions","datasetIndex","getDatasetModel","datasetOption","completeResult","findPotentialName","potentialNameDimIndex","firstIndex","objectRowsCollectDimensions","colArr","completeBySourceData","coordSysDefine","encodeItemName","encodeSeriesName","seriesType","nSeriesMap","cSeriesMap","datasetRecord","categoryWayDim","valueWayDim","coordSysDims","firstCategoryDimIndex","dataDim","categoryAxisMap","firstNotOrdinal","nameDimIndex","itemName","seriesName","makeDefaultEncode","guessOrdinal","_format","modelUtil","colorPaletteMixin","dataFormatMixin","_layout","createTask","_sourceHelper","_getSource","SeriesModel","seriesIndex","coordinateSystem","legendDataProvider","visualColorAccessPath","visualBorderColorAccessPath","dataTask","dataTaskCount","reset","dataTaskReset","getInitialData","wrapData","dataBeforeProcessed","autoSeriesName","themeSubType","defaultEmphasis","fillDataTextStyle","newSeriesOption","getRawData","getData","dataType","task","getCurrentTask","getLinkedData","modifyOutputEnd","setOutputEnd","outputData","coordSys","formatTooltip","multipleSeries","series","newLine","isRichText","formatSingleValue","tooltipDims","mapDimension","tooltipDimLen","getRawValue","isValueArr","getItemVisual","colorStops","vertially","dimItem","setEachItem","otherDims","markName","dimHead","dimHeadStr","valStr","formatArrayValue","colorEl","getName","isNameSpecified","html","animationEnabled","getColorFromPalette","scope","requestColorNum","coordDimToDataDim","getProgressive","getProgressiveThreshold","getAxisTooltipData","getTooltipPosition","pipeTask","preventIncremental","pipelineContext","dataDims","nameArr","getSeriesAutoName","cloneShallow","dataTaskProgress","end","CHANGABLE_METHODS","wrapMethod","onDataSelfChange","scheduler","pipeline","getPipeline","currentTask","agentStubMap","ORIGIN_METHOD","RATE","THROTTLE_TYPE","throttle","debounce","currCall","debounceNextCall","lastCall","lastExec","getTime","thisDelay","thisDebounce","debounceDelay","createOrUpdate","fnAttr","rate","throttleType","originFn","lastThrottleType","List","createDimensions","getDimensionTypeByAxis","CoordinateSystem","coordSysDimDefs","coordSysName","registeredCoordSys","axisMap","getDimensionsInfo","hasNameEncode","dimInfoList","coordDimensions","generateCoord","categoryAxisModel","stackCalculationInfo","list","setCalculationInfo","dimValueGetter","sampleItem","firstDataNotNull","isNeedCompleteOrdinalData","itemOpt","defaultDimValueGetter","initData","clazzUtil","setting","_setting","_extent","_interval","getSetting","unionExtent","unionExtentFromData","getApproximateExtent","thisExtent","_isBlank","__rest","propertyIsEnumerable","ButtonGroup","DropdownButton","renderButton","_a","htmlType","href","_a$icon","dropdownProps","Button","DEFAULT_MIN_MERGE","DEFAULT_MIN_GALLOPING","makeAscendingRun","lo","hi","compare","runHi","reverseRun","binaryInsertionSort","mid","pivot","gallopLeft","hint","lastOffset","maxOffset","gallopRight","TimSort","runStart","runLength","minGallop","stackSize","mergeAt","start1","length1","start2","length2","cursor1","cursor2","dest","count1","count2","exit","_minGallop","mergeLow","customCursor","customDest","mergeHigh","mergeRuns","forceMergeRuns","pushRun","_runStart","_runLength","remaining","ts","minRun","minRunLength","force","fixShadow","STYLE_COMMON_PROPS","extendFrom","createLinearGradient","global","createRadialGradient","styleProto","opacity","fillOpacity","strokeOpacity","lineDashOffset","shadowBlur","shadowOffsetX","shadowOffsetY","strokeNoScale","textTag","textFill","textStroke","textStrokeWidth","textOffset","textShadowColor","textShadowBlur","textShadowOffsetX","textShadowOffsetY","textBoxShadowColor","textBoxShadowBlur","textBoxShadowOffsetX","textBoxShadowOffsetY","transformText","textRotation","textOrigin","textBorderColor","textBorderWidth","textBorderRadius","blend","prevStyle","notCheckCache","__attrCachedBy","fillStyle","strokeStyle","globalAlpha","globalCompositeOperation","hasStroke","getLineScale","hasFill","otherStyle","overwrite","newStyle","getGradient","canvasGradient","addColorStop","ZImage","src","_image","createOrUpdateImage","onload","sWidth","sHeight","drawImage","restoreTransform","drawRectText","globalImageCache","imageOnLoad","cachedImgObj","__cachedImgObj","onerror","pending","pendingWrap","cbPayload","hostEl","newImageOrSrc","__zrImageSrc","Image","textHelper","Text","normalizeTextStyle","shadowColor","needDrawText","renderText","getStroke","subPixelOptimize","positiveOrNegative","doubledPosition","subPixelOptimizeLine","outputShape","inputShape","subPixelOptimizeRect","originX","originY","originWidth","originHeight","Gradient","coordinateSystemCreators","CoordinateSystemManager","_coordinateSystems","api","coordinateSystems","creater","update","getCoordinateSystems","register","coordinateSystemCreator","Task","define","_reset","_plan","plan","_count","_onDirty","onDirty","_dirty","taskProto","perform","performArgs","planResult","upTask","_upstream","skip","__pipeline","forceFirstProgress","lastModBy","normalizeModBy","_modBy","lastModDataCount","_modDataCount","modBy","modDataCount","taskIns","progress","_dueIndex","_outputDueEnd","_dueEnd","_settedOutputEnd","_progress","downstream","_downstream","doProgress","outputDueEnd","unfinished","current","winCount","it","sStep","sCount","modNext","sequentialNext","_callingProgress","pipe","downTask","dispose","_disposed","getUpstream","getDownstream","graphicUtil","createRenderPlanner","renderPlanner","Chart","renderTask","renderTaskPlan","renderTaskReset","view","payload","highlight","toggleHighlight","downplay","incrementalPrepareRender","incrementalRender","updateTransform","filterForExposedEvent","chartProto","elSetState","highlightDigit","isHighDownDispatcher","queryDataIndex","highlightKey","getHighlightDigit","normalizeToArray","dataIdx","getItemGraphicEl","eachItemGraphicEl","progressiveRender","updateMethod","progressMethodMap","updateView","updateLayout","updateVisual","markUpdateMethod","originalLarge","large","originalProgressive","DataDiffer","_dataProvider","summarizeDimensions","INDEX_NOT_FOUND","ID_PREFIX","dataCtors","Float64Array","Int32Array","CtorUint32Array","Uint32Array","CtorInt32Array","CtorUint16Array","Uint16Array","getIndicesCtor","_rawCount","cloneChunk","originalChunk","TRANSFERABLE_PROPERTIES","CLONE_PROPERTIES","transferProperties","__wrappedMethods","_calculationInfo","hostModel","dimensionInfos","dimensionNames","invertedIndicesMap","dimensionName","_indices","_storage","_nameList","_idList","_optionModels","_visual","_itemVisuals","hasItemVisual","_itemLayouts","_graphicEls","_chunkSize","_chunkCount","_rawExtent","_approximateExtent","_dimensionsSummary","_invertedIndicesMap","userOutput","listProto","prepareChunks","chunkSize","chunkCount","DataCtor","lastChunkIndex","resizeChunkArray","newStore","prepareInvertedIndex","invertedIndices","getRawValueFromStore","rawIndex","chunkIndex","chunkOffset","chunk","getRawIndexWithoutIndices","getRawIndexWithIndices","getId","_idDimIdx","normalizeDimensions","cloneListForMapAndSample","excludeDimensions","allDimensions","originalStorage","cloneDimStore","getInitialExtent","originalDimStore","newDimStore","getDimension","getDimensionsOnCoord","dataDimsOnCoord","dimensionsSummary","encodeFirstDimNotExtra","nameList","_nameRepeatCount","_dimValueGetter","_dimValueGetterArrayRows","_initDataFromProvider","rawData","appendValues","values","dimLen","rawExtent","originalChunkCount","emptyDataItem","sourceIdx","dimRawExtent","nameDimIdx","dimensionInfoMap","idList","nameRepeatCount","_nameDimIdx","itemId","dimStorage","nameDim","nameDimChunk","getIndices","indices","thisCount","newIndices","getRawIndex","getByRawIndex","rawIdx","dimStore","_getFast","getValues","getDataExtent","dimData","initialExtent","dimExtent","currEnd","setApproximateExtent","getSum","sum","getMedian","dimDataArray","sortedDimDataArray","sort","rawIndexOf","indexOfName","indexOfRawIndex","rawDataIndex","indicesOfNearest","maxDistance","nearestIndices","minDist","minDiff","contextCompat","filterSelf","dim0","keep","selectRange","range","originalCount","quickFinished","chunkStorage","dimStorage2","chunkStorage2","dimk","mapArray","tmpRetValue","dataCount","retValue","rawExtentOnDim","downSample","dimension","sampleValue","sampleIndex","targetStorage","frameValues","frameSize","originalChunkIndex","originalChunkOffset","sampleFrameIdx","sampleChunkOffset","getItemModel","otherList","thisList","getVisual","visual","setVisual","setLayout","getLayout","getItemLayout","setItemLayout","clearItemLayouts","itemVisual","setItemVisual","clearAllVisual","setItemDataAndSeriesIndex","setItemGraphicEl","injectFunction","originalMethod","TRANSFERABLE_METHODS","OTHER_DIMENSIONS","getOrCreateEncodeArr","summary","notExtraCoordDimMap","defaultedLabel","defaultedTooltip","defaultTooltip","otherDim","encodeArr","dimArr","encodeLabel","encodeTooltip","completeDimensions","dimsDef","encodeDef","dimCount","dimensionsCount","generateCoordCount","helper","roundNumber","_intervalPrecision","getInterval","_niceExtent","getIntervalPrecision","intervalScaleGetTicks","precision","getPrecisionSafe","niceTicks","intervalScaleNiceTicks","intervalPrecision","niceTickExtent","expandSize","STACK_PREFIX","LargeArr","getSeriesStackId","getAxisKey","seriesModels","eachSeriesByType","isOnCartesian","isInLargeMode","barSeries","seriesInfoList","baseAxis","bandWidth","getBandWidth","barWidth","barMaxWidth","barGap","barCategoryGap","axisKey","stackId","doCalBarWidthAndOffset","columnsMap","seriesInfo","columnsOnAxis","remainedWidth","autoWidthCount","categoryGap","stacks","barGapPercent","autoWidth","column","lastColumn","widthSum","largeLayout","cartesian","valueAxis","getOtherAxis","valueDim","baseDim","valueAxisHorizontal","isHorizontal","valueDimIdx","largePoints","largeDataIndices","valuePair","pointsOffset","idxOffset","dataToPoint","valueAxisStart","getValueAxisStart","stacked","toGlobalCoord","dataToCoord","getLayoutOnAxis","widthAndOffsets","offsetCenter","lastStackCoords","lastStackCoordsOrigin","columnLayoutInfo","columnOffset","columnWidth","barMinHeight","isValueAxisH","baseValue","sign","baseCoord","PresetColorTypes","Handler","Storage","Painter","Animation","HandlerProxy","useVML","painterCtors","canvas","instances","ZRender","dom","rendererType","renderer","vml","painter","handerProxy","getViewportRoot","stage","flush","_needsRefresh","oldDelFromStorage","oldAddToStorage","removeSelfFromZr","addSelfToZr","addRoot","delRoot","configLayer","zLevel","setBackgroundColor","backgroundColor","refreshImmediately","_needsRefreshHover","triggerRendered","refreshHoverImmediately","addHover","elMirror","refreshHover","removeHover","clearHover","resize","clearAnimation","getHeight","pathToImage","setCursorStyle","cursorStyle","findHover","eventName","eventHandler","getInstance","registerPainter","idStart","Transformable","Animatable","clipPath","drift","decomposeTransform","beforeUpdate","afterUpdate","hide","show","setClipPath","removeClipPath","__clipTarget","animators","addAnimator","removeAnimator","vector","mIdentity","rotation","origin","transformableProto","scaleTmp","parentHasTransform","getGlobalScale","relX","relY","invTransform","tmpTransform","originTransform","setLocalTransform","atan2","transformCoordToGlobal","Clip","arraySlice","defaultGetter","defaultSetter","interpolateNumber","percent","interpolateString","interpolateArray","arrDim","len2","fillArr","arr0","arr1","arr0Len","arr1Len","isArraySame","catmullRomInterpolateArray","catmullRomInterpolate","v0","cloneValue","rgba2String","createTrackClip","animator","easing","oneTrackDone","keyframes","forceAnimate","getter","_getter","setter","_setter","useSpline","trackLen","trackMaxTime","firstVal","isValueArray","isValueColor","isValueString","lastValue","getArrayDim","time","kfPercents","kfValues","prevValue","isAllValueEqual","colorArray","_target","lastFrame","lastFramePercent","clip","life","_loop","_delay","onframe","frame","ondestroy","Animator","_tracks","_clipCount","_doneList","_onframeList","_clipList","when","tracks","during","pause","_paused","resume","isPaused","_doneCallback","doneList","lastClip","clipCount","addClip","oldOnFrame","forwardToLast","clipList","removeClip","done","getClips","LinkedList","head","tail","linkedListProto","insert","entry","Entry","insertEntry","maxSize","_list","_map","_maxSize","_lastRemovedEntry","LRUProto","removed","leastUsedEntry","logError","console","error","SHADOW_PROPS","Pattern","repeat","getCanvasPattern","createPattern","requestAnimationFrame","msRequestAnimationFrame","mozRequestAnimationFrame","webkitRequestAnimationFrame","roundRectHelper","_constant","VALID_TEXT_ALIGN","center","VALID_TEXT_VERTICAL_ALIGN","middle","SHADOW_STYLE_COMMON_PROPS","_tmpTextPositionResult","_tmpBoxPositionResult","normalizeStyle","textBaseline","applyTextRotation","placeToken","lineTop","needDrawBackground","drawBackground","getTextXForPadding","setCtx","getFill","strokeText","fillText","isPlainBg","originalGlobalAlpha","onBgImageLoaded","getBoxPosition","baseX","baseY","maxValue","lastIndexOf","__textCotentBlock","boxPos","boxX","boxY","xLeft","xRight","tokenCount","usedWidth","lineXLeft","lineXRight","drawRichText","renderRichText","needDrawBg","checkCache","cachedByMe","styleFont","computedFont","__computedFont","__styleFont","textX","textY","propItem","styleProp","ctxProp","textStrokeWidthPrev","strokeWidthChanged","strokeChanged","renderPlainText","r1","r2","r3","r4","total","globalDefault","OPTION_INNER_KEY","GlobalModel","optionManager","_theme","_optionManager","setOption","optionPreprocessorFuncs","resetOption","optionChanged","baseOption","mountOption","initBase","timelineOption","getTimelineOption","mediaOptions","getMediaOption","_api","mediaOption","componentsMap","_componentsMap","newCptTypes","componentOption","newCptOptionList","mapResult","mappingToExists","makeIdAndName","keyInfo","existComponent","getComponentsByTypes","resultItem","componentModel","ComponentModelClass","createSeriesIndices","_seriesIndicesMap","_seriesIndices","getOption","isIdInner","condition","cpts","isIdArray","cpt","isNameArray","filterBySubType","findComponents","queryCond","q","indexAttr","idAttr","nameAttr","getQueryCond","eachComponent","components","queryResult","getSeriesByName","oneSeries","getSeriesByIndex","getSeriesByType","getSeries","getSeriesCount","eachSeries","rawSeriesIndex","eachRawSeries","eachRawSeriesByType","isSeriesFiltered","getCurrentSeriesIndices","filterSeries","componentTypes","seiresIndex","seriesId","isNotTargetSeries","notMergeColorLayer","colorLayer","themeItem","mergeTheme","Path","transformPath","vMag","vRatio","u","vAngle","processArc","fa","psiDeg","xp","yp","lambda","cxp","cyp","commandReg","numberReg","createPathOptions","pathProxy","prevCmd","cpx","cpy","subpathX","subpathY","cmdList","cmdText","cmdStr","pLen","ctlPtx","ctlPty","pathData","createPathProxyFromString","createFromString","extendFromString","mergePath","pathEls","pathList","pathEl","createPathProxy","__dirtyPath","pathBundle","PI2","extremity","xDim","yDim","fromPoints","tx","ty","vec2Min","vec2Max","normalizeRadian","x_","shadowTemp","orignalBrush","modified","clipPaths","polyHelper","smooth","smoothConstraint","smoothSpline","smoothBezier","controlPoints","cp1","cp2","subPixelOptimizeOutputShape","pointAt","LinearGradient","globalCoord","Displayble","IncrementalDisplayble","_displayables","_temporaryDisplayables","_cursor","notClear","clearDisplaybles","addDisplayable","displayable","notPersistent","addDisplayables","displayables","eachPendingDisplayable","localPos","clearColorPalette","colorIdx","colorNameMap","scopeFields","defaultColorPalette","layeredColorPalette","colorPalette","paletteNum","getNearestColorPalette","retrieve","fetchers","cartesian2d","xAxisModel","yAxisModel","singleAxis","singleAxisModel","polar","polarModel","radiusAxisModel","findAxisModel","angleAxisModel","geo","parallel","parallelModel","parallelAxisIndex","axisIndex","axisDim","fetch","echartsAPIList","chartInstance","componentProto","legend","selector","all","inverse","toolbox","polygon","lineX","lineY","dataView","lang","dataZoom","zoom","back","magicType","bar","tiled","restore","saveAsImage","typeNames","pie","scatter","effectScatter","radar","tree","treemap","boxplot","candlestick","heatmap","sankey","funnel","gauge","pictorialBar","themeRiver","sunburst","aria","general","withTitle","withoutTitle","single","withName","withoutName","separator","allData","partialData","genName","fromZero","sysDims","dataDimNameMap","coordDimNameMap","optDimCount","sysDimItem","sysDimItemDimsDef","getDimCount","dimDefItem","userDimName","validDataDims","resultDimIdx","applyDim","availDimIdx","sysDimIndex","sysDimItemOtherDims","sysDimItemDimsDefItem","OrdinalMeta","_needCollect","needCollect","_deduplication","deduplication","createByAxisModel","dedplication","getOrCreateMap","getOrdinal","category","clamp","fixExtent","nice","ticks","rangeStart","rangeEnd","getCoordSysModel","setRange","resetRange","_number","linearMap","_getPixelPrecision","getPixelPrecision","_axisTickLabelBuilder","createAxisTicks","createAxisLabels","_calculateCategoryInterval","calculateCategoryInterval","NORMALIZED_EXTENT","Axis","onBand","fixExtentWithBands","nTick","containData","coordToData","pointToData","getTicksCoords","tickModel","getTickModel","ticksCoords","alignWithLabel","tickCategoryInterval","ticksLen","last","shift","ticksItem","littleThan","fixOnBandTicksCoords","getViewLabels","labels","getRotate","storeShape","_propTypes","_propTypes2","subscribe","_getPrototypeOf2","removeContainer","unmountComponentAtNode","removeChild","ready","unstable_renderSubtreeIntoContainer","autoDestroy","createContainer","_container","forceUpdate","createPortal","requestAnimationFrameId","cancel","enter","leave","BUILTIN_OBJECT","TYPED_ARRAY","objToString","arrayProto","nativeForEach","nativeFilter","nativeSlice","nativeMap","nativeReduce","typeStr","isPrimitive","isDom","targetProp","sourceProp","isBuiltInObject","createCanvas","primitiveKey","HashMap","isArr","thisMap","visit","removeKey","mergeAll","targetAndSources","clazz","baseClazz","clazzPrototype","F","memo","isFunction","value1","value2","Function","message","setAsPrimitive","concatArray","newArray","scrollTo","_options$getContainer","_options$duration","duration","scrollTop","startTime","frameFunc","nextScrollTop","cc","easeInOutCubic","pageXOffset","util","Draggable","eventTool","GestureMgr","SILENT","stopEvent","EmptyProxy","handlerNames","proxy","painterRoot","_hovered","_lastTouchMoment","_lastX","_lastY","_gestureMgr","setHandlerProxy","isHover","mousemove","lastHovered","lastHoveredTarget","hovered","hoveredTarget","setCursor","dispatchToElement","mouseout","innerDom","toElement","dispatch","eventArgs","targetInfo","eventPacket","eveType","topTarget","gestureEvent","pinchX","pinchY","pinchScale","zrByTouch","makeEventPacket","eachOtherLayer","layer","exclude","getDisplayList","hoverCheckResult","processGesture","gestureMgr","gestureInfo","recognize","_downEl","_downPoint","_upEl","_dragStart","_drag","_dragEnd","draggingTarget","_draggingTarget","_x","_y","dropTarget","lastDropTarget","_dropTarget","LN2","log","determinant","rows","rank","rowStart","rowMask","colMask","detCache","cacheKey","fullRank","colStart","subRowMask","subRowStart","colLocalIdx","colTag","mA","vh","srcPointX","srcPointY","pk","eventUtil","_track","pointPair","_doTrack","_recognize","touches","trackItem","recognizers","pinch","track","pinchEnd","pinchPre","pinchCenter","timsort","shapeCompareFunc","_roots","_displayList","_displayListLen","includeIgnore","updateDisplayList","displayList","_updateAndAddDisplayable","userSetClipPath","currentClipPath","parentClipPath","_renderList","displayableSortFunc","_animateTo","animatable","stopAnimation","animateToShallow","objShallow","propertyCount","setAttrByPath","animatingShape","pathSplitted","animateTo","animateFrom","easingFuncs","_life","_initialized","onrestart","_pausedTime","globalTime","deltaTime","_startTime","easingFunc","schedule","fire","restart","_needsRemove","remainder","arg","linear","quadraticIn","quadraticOut","quadraticInOut","cubicIn","cubicOut","cubicInOut","quarticIn","quarticOut","quarticInOut","quinticIn","quinticOut","quinticInOut","sinusoidalIn","sinusoidalOut","sinusoidalInOut","exponentialIn","exponentialOut","exponentialInOut","circularIn","circularOut","circularInOut","elasticIn","elasticOut","elasticInOut","backIn","backOut","backInOut","bounceIn","bounceOut","bounceInOut","Layer","parseInt10","viewRect","singleCanvas","_opts","_singleCanvas","rootStyle","innerHTML","zlevelList","_zlevelList","layers","_layers","_layerConfig","_needsManuallyCompositing","_width","_height","mainLayer","__builtin__","initContext","_domRoot","_getSize","domRoot","createRoot","_hoverlayer","_hoverElements","getType","isSingleCanvas","getViewportRootOffset","viewportRoot","paintAll","_redrawId","_paintList","clearColor","_backgroundColor","hoverStyle","__hoverMir","__from","hoverElements","hoverLayer","getLayer","save","originalEl","_doPaintEl","getHoverLayer","redrawId","_updateLayerStatus","finished","_doPaintList","_compositeManually","clearRect","eachBuiltinLayer","virtual","layerList","zi","__startIndex","__drawIndex","useTimer","__endIndex","firstEl","prevElClipPaths","draw","currentLayer","forcePaint","isDisplayableCulled","prevClipPaths","isClipPathChanged","doClip","insertLayer","layersMap","prevLayer","isLayerValid","prevDom","insertBefore","firstChild","eachLayer","getLayers","updatePrevLayer","__used","incrementalLayerCount","getElementCount","_clearLayer","layerConfig","_zlevel","delLayer","_progressiveLayers","clearLayer","getRenderedCanvas","imageLayer","pixelRatio","renderToCanvas","whIdx","wh","cwh","plt","prb","shadowBlurSize","leftMargin","rightMargin","topMargin","bottomMargin","pathTransform","imgShape","returnFalse","createDom","newDom","newDomStyle","setAttribute","domStyle","onselectstart","domBack","ctxBack","motionBlur","lastFrameAlpha","createBackBuffer","clearAll","clearColorGradientOrPattern","haveMotionBLur","__canvasGradient","fillRect","_clips","_running","_time","_pauseStart","clips","_update","deferredEvents","deferredClips","_startLoop","isFinished","_event","mouseHandlerNames","touchHandlerNames","pointerEventNames","pointerdown","pointerup","pointermove","pointerout","pointerHandlerNames","nm","eventNameFix","setTouchTimer","_touching","_touchTimer","domHandlers","touchstart","mousedown","touchmove","touchend","mouseup","click","isPointerFromTouch","pointerType","HandlerDomProxy","mountHandlers","_handlers","makeMouseHandler","handlerDomProxyProto","_getLineStyle","makeStyleMapper","getLineStyle","getLineDash","lineType","dotSize","dashSize","_getAreaStyle","getAreaStyle","PATH_COLOR","getTextColor","isEmphasis","getFont","cubic","quadratic","windingLine","swapExtrema","windingCubic","nRoots","y0_","y1_","nExtrema","unit","windingQuadratic","y_","windingArc","containPath","isStroke","containStroke","_l","mathAtan2","nPoint","fixClipWithShadow","r0","clockwise","unitX","unitY","v2Distance","interpolate","isLoop","segs","w2","w3","v2Min","v2Max","v2Scale","v2Add","v2Clone","v2Sub","constraint","prevPoint","nextPoint","cps","d0","cp0","_curve","someVectorAt","isTangent","cpx2","cpy2","cpx1","cpy1","tangentAt","paths","_updatePathDirty","dirtyPath","RadialGradient","_getItemStyle","getItemStyle","getBorderLineDash","getBoxLayoutParams","platform","gradientColor","textStyle","blendMode","animationDuration","animationDurationUpdate","animationEasing","animationEasingUpdate","animationThreshold","progressiveThreshold","hoverLayerThreshold","useUTC","QUERY_REG","OptionManager","_timelineOptions","_mediaList","_mediaDefault","_currentMediaIndices","_optionBackup","_newBaseOption","parseRawOption","rawOption","isNew","mediaDefault","timelineOptions","mediaList","timelineOpt","timeline","media","singleMedia","preProcess","applyMediaQuery","ecWidth","ecHeight","realMap","aspectratio","applicatable","matched","operator","realAttr","real","expect","oldOption","oldOptionBackup","newParsedOption","newCptOpt","oldCptOpt","isRecreate","optionBackup","timelineModel","getCurrentIndex","indices1","indices2","compatStyle","compatLayoutProperties","LAYOUT_PROPERTIES","COMPATITABLE_COMPONENTS","isTheme","seriesOpt","clipOverflow","clockWise","pointerColor","dataRange","visualMap","componentName","POSSIBLE_STYLES","compatEC2ItemStyle","itemStyleOpt","itemStyle","normalItemStyleOpt","normal","emphasisItemStyleOpt","emphasis","convertNormalEmphasis","optType","useExtend","normalOpt","emphasisOpt","removeEC3NormalStatus","compatTextStyle","labelOptSingle","TEXT_STYLE_OPTIONS","compatEC3CommonStyles","toArr","toObj","markPoint","markLine","markArea","nodes","edgeData","links","edges","mpData","mlData","breadcrumb","levels","leaves","processSeries","axes","axisName","axisOpt","axisPointer","parallelOpt","parallelAxisDefault","calendar","calendarOpt","radarOpt","geoOpt","regions","regionObj","toolboxOpt","feature","featureOpt","calculateStack","stackInfoList","targetStackInfo","idxInStack","resultVal","resultNaN","targetData","byValue","stackedDataRawIndex","stackedOver","stackInfo","stackInfoMap","getTooltipRenderMode","DIMENSION_LABEL_REG","getDataParams","rawValue","borderColor","tooltipModel","renderModeOption","isSeries","componentSubType","getFormattedLabel","status","labelProp","itemModel","formatter","dimensionIndex","createOnAllSeries","performRawSeries","colorAccessPath","borderColorAccessPath","dataEach","ariaModel","seriesCnt","ariaLabel","maxDataCnt","maxSeriesCnt","displaySeriesCnt","getTitle","getConfig","seriesLabels","seriesCount","seriesLabel","seriesTpl","displayCnt","dataLabels","keyValues","userConfig","textColor","maskColor","Arc","lineCap","labelRect","animateShape","setShape","ExtensionAPI","Scheduler","ecInstance","dataProcessorHandlers","visualHandlers","_dataProcessorHandlers","_visualHandlers","_allHandlers","_stageTaskMap","performStageTasks","stageHandlers","needSetDirty","setDirty","dirtyMap","stageHandler","visualType","stageHandlerRecord","seriesTaskMap","overallTask","overallNeedDirty","stub","updatePayload","getPerformArgs","pipelineId","taskRecord","isBlock","_pipelineMap","pCtx","progressiveEnabled","__idxInPipeline","blockIndex","updateStreamModes","dataLen","threshold","restorePipelines","pipelineMap","prepareStageTasks","stageTaskMap","record","getTargetSeries","seriesTaskPlan","seriesTaskReset","seriesTaskCount","useClearVisual","isVisual","isLayout","createSeriesStageTask","overallReset","overallTaskReset","overallProgress","createStub","stubReset","stubOnDirty","agent","__block","createOverallStageTask","prepareView","performDataProcessorTasks","performVisualTasks","performSeriesTasks","upstreamContext","stubProgress","resetDefines","makeSeriesTaskProgress","singleSeriesTaskProgress","resetDefineIdx","resetDefine","detectSeriseType","legacyFunc","ecModelMock","apiMock","wrapStageHandler","mockMethods","cond","colorAll","lineStyle","crossStyle","iconStyle","controlStyle","timeAxis","axisLine","axisTick","axisLabel","splitLine","splitArea","areaStyle","logAxis","categoryAxis","symbol","color0","borderColor0","ComponentView","parseXML","registerMap","mapName","rawGeoJson","rawSpecialAreas","records","svg","specialAreas","geoJson","features","parsers","retrieveMap","geoJSON","JSON","svgXML","Ellipse","Polygon","Polyline","DILIMITER_REG","DOMParser","parseFromString","SVGParser","_defs","_root","_isDefine","_isText","xml","viewBox","getAttribute","parseAttributes","viewBoxRect","viewBoxTransform","_parseNode","viewBoxArr","makeViewBoxTransform","ignoreViewBox","elRoot","ignoreRootClip","xmlNode","parentGroup","parser","defineParsers","def","nodeParsers","_parseText","_textX","_textY","textContent","inheritStyle","ellipse","parsePoints","polyline","img","gradient","stopColor","_parseGradientColorStops","__inheritedStyle","pointsString","attributesMap","defs","onlyInlineStyle","zrStyle","isTextEl","transformOps","transformRegex","warn","parseTransformAttribute","styleRegResult","styleList","styleRegex","svgAttrName","parseStyleAttribute","attrValue","elFillProp","elStrokeProp","elStyle","getPaint","elPropName","urlRegex","urlMatch","parseSVG","ox","oy","zrender","colorTool","format","_throttle","ecHelper","parseGeoJSON","_List","_Model","_Axis","_env","parseGeoJson","ecUtil","createListFromArray","axisHelper","axisModelCommonMixin","_dataStackHelper","_completeDimensions","_createDimensions","_symbol","dataStack","createList","createScale","mixinAxisModelCommonMethods","defaultKeyGetter","oldArr","newArr","oldKeyGetter","newKeyGetter","_old","_new","_oldKeyGetter","_newKeyGetter","initIndexMap","keyArr","keyGetterName","dataDiffer","existence","_add","_remove","execute","newDataIndexMap","oldDataKeyArr","newDataKeyArr","scaleProto","_ordinalMeta","scaleHelper","intervalScaleProto","mathCeil","mathFloor","TimeScale","stepLvl","_stepLvl","ONE_HOUR","getFullYear","getMonth","getDate","approxTickNum","approxInterval","scaleLevelsLen","scaleLevels","bisect","yearSpan","timezoneOffset","getTimezoneOffset","ONE_SECOND","ONE_MINUTE","ONE_DAY","roundingErrorFix","mathLog","LogScale","_originalScale","originalScale","powVal","__fixMin","fixRoundingError","__fixMax","quantity","originalVal","Region","decodePolygon","coordinate","encodeOffsets","encodeScale","prevX","prevY","json","UTF8Encoding","UTF8Scale","geometry","coordinates","decode","featureObj","geometries","exterior","interiors","cp","polygonContain","MAX_NUMBER","loopGeo","transformTo","newRegion","isAroundEqual","_axisHelper","makeCategoryLabelsActually","labelModel","numericLabelInterval","labelsCache","getListCache","optionLabelInterval","listCacheGet","makeLabelsByCustomizedCategoryInterval","autoInterval","makeAutoCategoryInterval","makeLabelsByNumericCategoryInterval","listCacheSet","labelCategoryInterval","cache","categoryInterval","onlyTick","ordinalScale","ordinalExtent","startTick","showAllLabel","includeMinLabel","includeMaxLabel","addItem","tVal","formattedLabel","rawLabel","makeCategoryLabels","makeRealNumberLabels","ticksCache","optionTickInterval","labelsResult","labelItem","makeCategoryTicks","axisRotate","labelRotate","fetchAutoCategoryIntervalCalculationParams","unitSpan","unitW","unitH","maxW","maxH","dw","dh","lastAutoInterval","lastTickCount","_createClass","_react","_PropTypes","miniStore","mapStateToProps","shouldSubscribe","finnalMapStateToProps","defaultMapStateToProps","WrappedComponent","Connect","handleChange","unsubscribe","nextState","subscribed","trySubscribe","tryUnsubscribe","_shallowequal2","wrappedInstance","_react2","getDisplayName","_reactLifecyclesCompat","polyfill","_hoistNonReactStatics2","REACT_STATICS","getDefaultProps","mixins","KNOWN_STATICS","caller","callee","arity","getOwnPropertyNames","objectPrototype","hoistNonReactStatics","targetComponent","sourceComponent","blacklist","inheritedComponent","initialState","listeners","partial","listener","apple","phone","ipod","tablet","device","amazon","android","windows","blackberry","blackberry10","opera","chrome","wrapCallback","ne","_EventObject2","useCapture","capture","_EventObject","_EventBaseObject2","_objectAssign2","TRUE","FALSE","commonProps","isNullOrUndefined","eventNormalizers","fix","nativeEvent","metaKey","ctrlKey","deltaX","deltaY","wheelDeltaY","wheelDeltaX","HORIZONTAL_AXIS","VERTICAL_AXIS","eventDoc","scrollLeft","fromElement","retTrue","retFalse","DomEventObject","isNative","isDefaultPrevented","defaultPrevented","getPreventDefault","fixFns","normalizer","srcElement","fixFn","timeStamp","EventBaseObjectProto","returnTrue","EventBaseObject","currentTarget","isEventObject","isPropagationStopped","isImmediatePropagationStopped","stopImmediatePropagation","halt","immediate","addedNodes","removedNodes","previousSibling","attributeName","attributeNamespace","oldValue","J","nodeValue","childNodes","E","D","namespaceURI","N","mo_id","_period","attributeFilter","attributeOldValue","subtree","characterData","characterDataOldValue","takeRecords","I","Avatar","mounted","isImgExist","avatarChildren","avatarNode","childrenWidth","nodeWidth","lastChildrenWidth","lastNodeWidth","handleImgLoadError","onError","renderAvatar","_classNames2","srcSet","alt","others","_this$state","sizeCls","classString","transformString","childrenStyle","msTransform","WebkitTransform","sizeChildrenStyle","getDefaultTarget","BackTop","scrollToTop","_this$props$target","handleScroll","visibilityHeight","_this$props2$target","renderBackTop","_this$props3$classNam","defaultElement","divProps","backTopBtn","getTarget","scrollEvent","backwardCompat","ChartView","seriesColor","loadingDefault","lightTheme","darkTheme","mapDataStorage","PRIORITY_PROCESSOR_FILTER","PRIORITY_VISUAL_LAYOUT","PRIORITY_VISUAL_CHART","PRIORITY","PROCESSOR","FILTER","SERIES_FILTER","STATISTIC","VISUAL","LAYOUT","PROGRESSIVE_LAYOUT","GLOBAL","CHART","POST_CHART_LAYOUT","COMPONENT","BRUSH","IN_MAIN_PROCESS","OPTION_UPDATED","ACTION_REG","createRegisterEventWithLowercaseName","ignoreDisposed","MessageCenter","ECharts","themeStorage","_dom","_zr","_throttledZrFlush","_chartsViews","_chartsMap","_componentsViews","_coordSysMgr","coordSysMgr","getComponentByElement","modelInfo","__ecComponentInfo","createExtensionAPI","prioritySortFunc","__prio","visualFuncs","dataProcessorFuncs","_scheduler","_ecEventProcessor","EventProcessor","_messageCenter","_initEvents","_pendingActions","_onframe","ecIns","bindRenderedEvent","echartsProto","doConvertPixel","finder","coordSysList","parseFinder","prepare","updateMethods","flushPendingActions","triggerUpdatedEvent","remainTime","renderSeries","getDom","getZr","notMerge","lazyUpdate","setTheme","getDevicePixelRatio","getSvgDataUrl","pathToDataUrl","getDataURL","excludeComponents","excludesComponentViews","__viewId","url","toDataURL","getConnectedDataURL","groupId","connectedGroups","canvasList","chart","boundingRect","targetCanvas","connectedBackgroundColor","convertToPixel","convertFromPixel","containPixel","models","containPoint","defaultMainType","dataIndexInside","getViewOfComponentModel","getViewOfSeriesModel","prepareAndUpdate","performPostUpdateFuncs","componentDirtyList","componentView","__alive","seriesDirtyMap","chartView","updateDirectly","excludeSeriesId","callView","__model","chartsMap","doDispatchAction","payloadType","escapeConnect","actionWrap","actions","actionInfo","cptType","payloads","batched","batch","eventObj","eventObjBatch","isHighDown","batchItem","pendingActions","isComponent","viewList","viewMap","doPrepare","viewId","classType","__id","dirtyList","updateZ","renderComponents","updateBlend","elCount","preventUsingHoverLayer","useHoverLayer","updateHoverLayerStatus","postUpdateFuncs","_loadingFX","showLoading","cfg","hideLoading","loadingEffects","makeActionFromEvent","eventActionMap","dispatchAction","MOUSE_EVENT_NAMES","eventInfo","eveName","dataModel","eventData","targetEl","packedEvent","actionType","isDisposed","DOM_ATTRIBUTE_KEY","cptQuery","dataQuery","otherQuery","condCptType","suffixes","dataKeys","reserved","propSuffix","suffixPos","check","propOnHost","idBase","groupIdBase","disConnect","getInstanceByDom","registerTheme","registerPreprocessor","preprocessorFunc","registerProcessor","priority","processor","normalizeRegister","registerAction","registerVisual","visualTask","targetList","defaultPriority","__raw","registerLoading","loadingFx","existInstance","STATUS_KEY","updateConnectedChartsStatus","charts","otherCharts","otherChart","enableConnect","getInstanceById","registerPostUpdate","postUpdateFunc","registerCoordinateSystem","getCoordinateSystemDimensions","coordSysCreator","registerLayout","layoutTask","extendComponentModel","extendComponentView","extendSeriesModel","extendChartView","setCanvasCreator","creator","getMap","dataTool","___ec_export","DUMMY_COMPONENT_NAME_PREFIX","cptOption","innerUniqueIndex","has","subOpts","subOptName","exists","newCptOptions","idMap","existCpt","idNum","compressBatches","batchA","batchB","mapA","mapB","makeMap","mapToArray","sourceBatch","otherMap","dataIndices","otherDataIndices","lenj","isData","hostObj","parsedKey","queryType","includeMainTypes","queryParam","groupData","getKey","buckets","pathTool","Sector","Ring","BezierCurve","CompoundPath","IncrementalDisplayable","subPixelOptimizeUtil","EMPTY_OBJ","Z2_EMPHASIS_LIFT","EMPHASIS","NORMAL","_highlightNextDigit","_highlightKeyMap","_customShapeMap","registerShape","ShapeClass","centerGraphic","resizePath","hasFillOrStroke","fillOrStroke","liftedColorMap","liftedColorCount","singleEnterEmphasis","hoverStl","__hoverStl","__highlighted","elTarget","targetStyle","rollbackDefaultTextStyle","__hoverStlDirty","normalStyle","__cachedNormalStl","__cachedNormalZ2","cacheElementStl","setDefaultHoverFillStroke","applyDefaultTextStyle","liftedColor","liftColor","singleEnterNormal","highlighted","normalStl","normalZ2","traverseUpdate","updater","commonParam","fromState","toState","__highDownOnUpdate","setElementHoverStyle","onElementMouseOver","shouldSilent","__highByOuter","onElementMouseOut","onElementEmphasisEvent","onElementNormalEvent","__highDownSilentOnTouch","setAsHighDownDispatcher","asDispatcher","disable","highDownSilentOnTouch","highDownOnUpdate","__highDownDispatcher","setTextStyle","textStyleModel","specifiedTextStyle","setTextStyleCommon","isRectText","getTextPosition","richResult","globalTextStyle","richItemNames","richItemNameMap","getRichItemNames","richTextStyle","setTokenTextStyle","forceRich","getAutoColor","insideRollbackOpt","autoColor","disableBox","insideRollback","useInsideStyle","useInsideStyleCache","useAutoColorCache","animateOrSetProps","isUpdate","animatableModel","postfix","animationDelay","getAnimationDelayParams","updateProps","lineLineIntersect","a1x","a1y","a2x","a2y","b1x","b1y","b2x","b2y","mx","my","nx","ny","nmCrossProduct","crossProduct2d","b1a1x","b1a1y","CACHED_LABEL_STYLE_PROPERTIES","extendPath","getShapeClass","imageUrl","setHoverStyle","setLabelStyle","emphasisStyle","normalModel","emphasisModel","normalSpecified","emphasisSpecified","baseText","labelFetcher","labelDataIndex","labelDimIndex","showNormal","showEmphasis","defaultText","normalStyleText","emphasisStyleText","modifyLabelStyle","normalStyleProps","emphasisStyleProps","setText","defaultColor","gTextStyleModel","initProps","getTransform","ancestor","mat","transformDirection","hBase","vBase","vertex","groupTransition","g1","g2","elMap1","elMap","anid","getElMap","oldEl","newProp","getAnimatableProps","clipPointsByRect","clipRectByRect","targetRect","createIcon","iconStr","linePolygonIntersect","objA","objB","compareContext","keysA","keysB","bHasOwnProperty","valueA","valueB","dev","RADIAN_EPSILON","TIME_REG","quantityExponent","LN10","domain","subDomain","subRange","returnStr","asc","getPrecision","eIndex","dotIndex","pixelExtent","dataQuantity","sizeQuantity","getPercentWithPrecision","valueList","digits","votesPerQuota","targetSeats","seats","votes","currentSum","NEGATIVE_INFINITY","maxId","MAX_SAFE_INTEGER","remRadian","radian","pi2","isRadianAroundZero","hour","UTC","exponent","exp10","quantile","ascArr","reformIntervals","lg","curr","currClose","isNumeric","MAC_ENTER","BACKSPACE","TAB","NUM_CENTER","SHIFT","CTRL","ALT","PAUSE","CAPS_LOCK","ESC","SPACE","PAGE_UP","PAGE_DOWN","END","HOME","PRINT_SCREEN","INSERT","DELETE","ZERO","ONE","TWO","THREE","FOUR","FIVE","SIX","SEVEN","EIGHT","NINE","QUESTION_MARK","P","U","W","X","Y","META","WIN_KEY_RIGHT","CONTEXT_MENU","NUM_ZERO","NUM_ONE","NUM_TWO","NUM_THREE","NUM_FOUR","NUM_FIVE","NUM_SIX","NUM_SEVEN","NUM_EIGHT","NUM_NINE","NUM_MULTIPLY","NUM_PLUS","NUM_MINUS","NUM_PERIOD","NUM_DIVISION","F1","F2","F3","F4","F5","F6","F7","F8","F9","F10","F11","F12","NUMLOCK","SEMICOLON","DASH","EQUALS","COMMA","PERIOD","SLASH","APOSTROPHE","SINGLE_QUOTE","OPEN_SQUARE_BRACKET","BACKSLASH","CLOSE_SQUARE_BRACKET","WIN_KEY","MAC_FF_META","WIN_IME","altKey","navigation","getNumberArray","num","ScrollNumber","onAnimated","renderScrollNumber","_this$props$component","displayComponent","boxShadow","renderNumberElement","animateStarted","lastCount","__","currentCount","currentDigit","lastDigit","getPositionByNum","removeTransition","transition","childrenToReturn","currentClassName","renderNumberList","renderCurrentNumber","isPresetColor","Badge","renderBadge","customizeScrollNumberPrefixCls","scrollNumberPrefixCls","omitArr","scrollNumber","renderBadgeNumber","statusText","renderStatusText","statusCls","hasStatus","statusStyle","background","styleWithOffset","getStyleWithOffset","statusTextColor","getBadgeClassName","overflowCount","isDot","getNumberedDispayCount","marginTop","_this$props4","_this$props5","numberedDispayCount","isZero","showZero","displayCount","getDispayCount","isHidden","customNode","_classNames3","_this$props6","hidden","scrollNumberCls","renderDispayComponent","getScrollNumberTitle","pathContain","pathProxyForDraw","strokeContainThreshold","hasFillGradient","hasStrokeGradient","hasFillPattern","hasStrokePattern","_fillGradient","_strokeGradient","ctxLineDash","shapeCfg","needsUpdateRect","rectWithStroke","_rectWithStroke","lineScale","Sub","defaultShape","thisShape","inlineCollapsed","subMenu","saveSubMenu","Consumer","antdMenuTheme","menuItem","saveMenuItem","renderItem","siderCollapsed","tooltipProps","Sider","InternalMenu","handleMouseEnter","restoreModeVerticalFromInline","handleTransitionEnd","widthCollapsed","propertyName","classNameValue","animVal","iconScaled","handleClick","handleOpenChange","setOpenKeys","renderMenu","collapsedWidth","passProps","menuMode","getRealMenuMode","menuOpenAnimation","getMenuOpenAnimation","menuClassName","getInlineCollapsed","menuProps","onTransitionEnd","switchingModeFromInline","inlineOpenKeys","mountRafId","raf","_React$Component2","Item","ItemGroup"],"mappings":"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","file":"static/js/32.6db40b2c.chunk.js","sourcesContent":["/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * \n * @param {number} [x=0]\n * @param {number} [y=0]\n * @return {Vector2}\n */\n\nfunction create(x, y) {\n  var out = new ArrayCtor(2);\n\n  if (x == null) {\n    x = 0;\n  }\n\n  if (y == null) {\n    y = 0;\n  }\n\n  out[0] = x;\n  out[1] = y;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction copy(out, v) {\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {Vector2}\n */\n\n\nfunction clone(v) {\n  var out = new ArrayCtor(2);\n  out[0] = v[0];\n  out[1] = v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {number} a\n * @param {number} b\n * @return {Vector2} \n */\n\n\nfunction set(out, a, b) {\n  out[0] = a;\n  out[1] = b;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction add(out, v1, v2) {\n  out[0] = v1[0] + v2[0];\n  out[1] = v1[1] + v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} a\n */\n\n\nfunction scaleAndAdd(out, v1, v2, a) {\n  out[0] = v1[0] + v2[0] * a;\n  out[1] = v1[1] + v2[1] * a;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction sub(out, v1, v2) {\n  out[0] = v1[0] - v2[0];\n  out[1] = v1[1] - v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\n\nfunction len(v) {\n  return Math.sqrt(lenSquare(v));\n}\n\nvar length = len; // jshint ignore:line\n\n/**\n * \n * @param {Vector2} v\n * @return {number}\n */\n\nfunction lenSquare(v) {\n  return v[0] * v[0] + v[1] * v[1];\n}\n\nvar lengthSquare = lenSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\nfunction mul(out, v1, v2) {\n  out[0] = v1[0] * v2[0];\n  out[1] = v1[1] * v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n */\n\n\nfunction div(out, v1, v2) {\n  out[0] = v1[0] / v2[0];\n  out[1] = v1[1] / v2[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction dot(v1, v2) {\n  return v1[0] * v2[0] + v1[1] * v2[1];\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {number} s\n */\n\n\nfunction scale(out, v, s) {\n  out[0] = v[0] * s;\n  out[1] = v[1] * s;\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\n\nfunction normalize(out, v) {\n  var d = len(v);\n\n  if (d === 0) {\n    out[0] = 0;\n    out[1] = 0;\n  } else {\n    out[0] = v[0] / d;\n    out[1] = v[1] / d;\n  }\n\n  return out;\n}\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\n\nfunction distance(v1, v2) {\n  return Math.sqrt((v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]));\n}\n\nvar dist = distance;\n/**\n * \n * @param {Vector2} v1\n * @param {Vector2} v2\n * @return {number}\n */\n\nfunction distanceSquare(v1, v2) {\n  return (v1[0] - v2[0]) * (v1[0] - v2[0]) + (v1[1] - v2[1]) * (v1[1] - v2[1]);\n}\n\nvar distSquare = distanceSquare;\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n */\n\nfunction negate(out, v) {\n  out[0] = -v[0];\n  out[1] = -v[1];\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v1\n * @param {Vector2} v2\n * @param {number} t\n */\n\n\nfunction lerp(out, v1, v2, t) {\n  out[0] = v1[0] + t * (v2[0] - v1[0]);\n  out[1] = v1[1] + t * (v2[1] - v1[1]);\n  return out;\n}\n/**\n * \n * @param {Vector2} out\n * @param {Vector2} v\n * @param {Vector2} m\n */\n\n\nfunction applyTransform(out, v, m) {\n  var x = v[0];\n  var y = v[1];\n  out[0] = m[0] * x + m[2] * y + m[4];\n  out[1] = m[1] * x + m[3] * y + m[5];\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction min(out, v1, v2) {\n  out[0] = Math.min(v1[0], v2[0]);\n  out[1] = Math.min(v1[1], v2[1]);\n  return out;\n}\n/**\n * \n * @param  {Vector2} out\n * @param  {Vector2} v1\n * @param  {Vector2} v2\n */\n\n\nfunction max(out, v1, v2) {\n  out[0] = Math.max(v1[0], v2[0]);\n  out[1] = Math.max(v1[1], v2[1]);\n  return out;\n}\n\nexports.create = create;\nexports.copy = copy;\nexports.clone = clone;\nexports.set = set;\nexports.add = add;\nexports.scaleAndAdd = scaleAndAdd;\nexports.sub = sub;\nexports.len = len;\nexports.length = length;\nexports.lenSquare = lenSquare;\nexports.lengthSquare = lengthSquare;\nexports.mul = mul;\nexports.div = div;\nexports.dot = dot;\nexports.scale = scale;\nexports.normalize = normalize;\nexports.distance = distance;\nexports.dist = dist;\nexports.distanceSquare = distanceSquare;\nexports.distSquare = distSquare;\nexports.negate = negate;\nexports.lerp = lerp;\nexports.applyTransform = applyTransform;\nexports.min = min;\nexports.max = max;","import '../../style/index.css';\nimport './index.css'; // style dependencies\n// deps-lint-skip: layout\n\nimport '../../tooltip/style/css';","/**\n * echarts\n *\n * @desc echartsCanvasJavascript\n * @author firede[firede@firede.us]\n * @desc thanks zepto.\n */\n\n/* global wx */\nvar env = {};\n\nif (typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function') {\n  // In Weixin Application\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    wxa: true,\n    // Weixin Application\n    canvasSupported: true,\n    svgSupported: false,\n    touchEventsSupported: true,\n    domSupported: false\n  };\n} else if (typeof document === 'undefined' && typeof self !== 'undefined') {\n  // In worker\n  env = {\n    browser: {},\n    os: {},\n    node: false,\n    worker: true,\n    canvasSupported: true,\n    domSupported: false\n  };\n} else if (typeof navigator === 'undefined') {\n  // In node\n  env = {\n    browser: {},\n    os: {},\n    node: true,\n    worker: false,\n    // Assume canvas is supported\n    canvasSupported: true,\n    svgSupported: true,\n    domSupported: false\n  };\n} else {\n  env = detect(navigator.userAgent);\n}\n\nvar _default = env; // Zepto.js\n// (c) 2010-2013 Thomas Fuchs\n// Zepto.js may be freely distributed under the MIT license.\n\nfunction detect(ua) {\n  var os = {};\n  var browser = {}; // var webkit = ua.match(/Web[kK]it[\\/]{0,1}([\\d.]+)/);\n  // var android = ua.match(/(Android);?[\\s\\/]+([\\d.]+)?/);\n  // var ipad = ua.match(/(iPad).*OS\\s([\\d_]+)/);\n  // var ipod = ua.match(/(iPod)(.*OS\\s([\\d_]+))?/);\n  // var iphone = !ipad && ua.match(/(iPhone\\sOS)\\s([\\d_]+)/);\n  // var webos = ua.match(/(webOS|hpwOS)[\\s\\/]([\\d.]+)/);\n  // var touchpad = webos && ua.match(/TouchPad/);\n  // var kindle = ua.match(/Kindle\\/([\\d.]+)/);\n  // var silk = ua.match(/Silk\\/([\\d._]+)/);\n  // var blackberry = ua.match(/(BlackBerry).*Version\\/([\\d.]+)/);\n  // var bb10 = ua.match(/(BB10).*Version\\/([\\d.]+)/);\n  // var rimtabletos = ua.match(/(RIM\\sTablet\\sOS)\\s([\\d.]+)/);\n  // var playbook = ua.match(/PlayBook/);\n  // var chrome = ua.match(/Chrome\\/([\\d.]+)/) || ua.match(/CriOS\\/([\\d.]+)/);\n\n  var firefox = ua.match(/Firefox\\/([\\d.]+)/); // var safari = webkit && ua.match(/Mobile\\//) && !chrome;\n  // var webview = ua.match(/(iPhone|iPod|iPad).*AppleWebKit(?!.*Safari)/) && !chrome;\n\n  var ie = ua.match(/MSIE\\s([\\d.]+)/) // IE 11 Trident/7.0; rv:11.0\n  || ua.match(/Trident\\/.+?rv:(([\\d.]+))/);\n  var edge = ua.match(/Edge\\/([\\d.]+)/); // IE 12 and 12+\n\n  var weChat = /micromessenger/i.test(ua); // Todo: clean this up with a better OS/browser seperation:\n  // - discern (more) between multiple browsers on android\n  // - decide if kindle fire in silk mode is android or not\n  // - Firefox on Android doesn't specify the Android version\n  // - possibly devide in os, device and browser hashes\n  // if (browser.webkit = !!webkit) browser.version = webkit[1];\n  // if (android) os.android = true, os.version = android[2];\n  // if (iphone && !ipod) os.ios = os.iphone = true, os.version = iphone[2].replace(/_/g, '.');\n  // if (ipad) os.ios = os.ipad = true, os.version = ipad[2].replace(/_/g, '.');\n  // if (ipod) os.ios = os.ipod = true, os.version = ipod[3] ? ipod[3].replace(/_/g, '.') : null;\n  // if (webos) os.webos = true, os.version = webos[2];\n  // if (touchpad) os.touchpad = true;\n  // if (blackberry) os.blackberry = true, os.version = blackberry[2];\n  // if (bb10) os.bb10 = true, os.version = bb10[2];\n  // if (rimtabletos) os.rimtabletos = true, os.version = rimtabletos[2];\n  // if (playbook) browser.playbook = true;\n  // if (kindle) os.kindle = true, os.version = kindle[1];\n  // if (silk) browser.silk = true, browser.version = silk[1];\n  // if (!silk && os.android && ua.match(/Kindle Fire/)) browser.silk = true;\n  // if (chrome) browser.chrome = true, browser.version = chrome[1];\n\n  if (firefox) {\n    browser.firefox = true;\n    browser.version = firefox[1];\n  } // if (safari && (ua.match(/Safari/) || !!os.ios)) browser.safari = true;\n  // if (webview) browser.webview = true;\n\n\n  if (ie) {\n    browser.ie = true;\n    browser.version = ie[1];\n  }\n\n  if (edge) {\n    browser.edge = true;\n    browser.version = edge[1];\n  } // It is difficult to detect WeChat in Win Phone precisely, because ua can\n  // not be set on win phone. So we do not consider Win Phone.\n\n\n  if (weChat) {\n    browser.weChat = true;\n  } // os.tablet = !!(ipad || playbook || (android && !ua.match(/Mobile/)) ||\n  //     (firefox && ua.match(/Tablet/)) || (ie && !ua.match(/Phone/) && ua.match(/Touch/)));\n  // os.phone  = !!(!os.tablet && !os.ipod && (android || iphone || webos ||\n  //     (chrome && ua.match(/Android/)) || (chrome && ua.match(/CriOS\\/([\\d.]+)/)) ||\n  //     (firefox && ua.match(/Mobile/)) || (ie && ua.match(/Touch/))));\n\n\n  return {\n    browser: browser,\n    os: os,\n    node: false,\n    // canvas\n    // canvasSupported : !(browser.ie && parseFloat(browser.version) < 9)\n    canvasSupported: !!document.createElement('canvas').getContext,\n    svgSupported: typeof SVGRect !== 'undefined',\n    // works on most browsers\n    // IE10/11 does not support touch event, and MS Edge supports them but not by\n    // default, so we dont check navigator.maxTouchPoints for them here.\n    touchEventsSupported: 'ontouchstart' in window && !browser.ie && !browser.edge,\n    // <http://caniuse.com/#search=pointer%20event>.\n    pointerEventsSupported: 'onpointerdown' in window // Firefox supports pointer but not by default, only MS browsers are reliable on pointer\n    // events currently. So we dont use that on other browsers unless tested sufficiently.\n    // Although IE 10 supports pointer event, it use old style and is different from the\n    // standard. So we exclude that. (IE 10 is hardly used on touch device)\n    && (browser.edge || browser.ie && browser.version >= 11),\n    // passiveSupported: detectPassiveSupport()\n    domSupported: typeof document !== 'undefined'\n  };\n} // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md#feature-detection\n// function detectPassiveSupport() {\n//     // Test via a getter in the options object to see if the passive property is accessed\n//     var supportsPassive = false;\n//     try {\n//         var opts = Object.defineProperty({}, 'passive', {\n//             get: function() {\n//                 supportsPassive = true;\n//             }\n//         });\n//         window.addEventListener('testPassive', function() {}, opts);\n//     } catch (e) {\n//     }\n//     return supportsPassive;\n// }\n\n\nmodule.exports = _default;","import '../../style/index.css';\nimport './index.css'; // style dependencies\n\nimport '../../button/style/css';","var vec2 = require(\"./vector\");\n\nvar matrix = require(\"./matrix\");\n/**\n * @module echarts/core/BoundingRect\n */\n\n\nvar v2ApplyTransform = vec2.applyTransform;\nvar mathMin = Math.min;\nvar mathMax = Math.max;\n/**\n * @alias module:echarts/core/BoundingRect\n */\n\nfunction BoundingRect(x, y, width, height) {\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n  /**\n   * @type {number}\n   */\n\n\n  this.x = x;\n  /**\n   * @type {number}\n   */\n\n  this.y = y;\n  /**\n   * @type {number}\n   */\n\n  this.width = width;\n  /**\n   * @type {number}\n   */\n\n  this.height = height;\n}\n\nBoundingRect.prototype = {\n  constructor: BoundingRect,\n\n  /**\n   * @param {module:echarts/core/BoundingRect} other\n   */\n  union: function union(other) {\n    var x = mathMin(other.x, this.x);\n    var y = mathMin(other.y, this.y);\n    this.width = mathMax(other.x + other.width, this.x + this.width) - x;\n    this.height = mathMax(other.y + other.height, this.y + this.height) - y;\n    this.x = x;\n    this.y = y;\n  },\n\n  /**\n   * @param {Array.<number>} m\n   * @methods\n   */\n  applyTransform: function () {\n    var lt = [];\n    var rb = [];\n    var lb = [];\n    var rt = [];\n    return function (m) {\n      // In case usage like this\n      // el.getBoundingRect().applyTransform(el.transform)\n      // And element has no transform\n      if (!m) {\n        return;\n      }\n\n      lt[0] = lb[0] = this.x;\n      lt[1] = rt[1] = this.y;\n      rb[0] = rt[0] = this.x + this.width;\n      rb[1] = lb[1] = this.y + this.height;\n      v2ApplyTransform(lt, lt, m);\n      v2ApplyTransform(rb, rb, m);\n      v2ApplyTransform(lb, lb, m);\n      v2ApplyTransform(rt, rt, m);\n      this.x = mathMin(lt[0], rb[0], lb[0], rt[0]);\n      this.y = mathMin(lt[1], rb[1], lb[1], rt[1]);\n      var maxX = mathMax(lt[0], rb[0], lb[0], rt[0]);\n      var maxY = mathMax(lt[1], rb[1], lb[1], rt[1]);\n      this.width = maxX - this.x;\n      this.height = maxY - this.y;\n    };\n  }(),\n\n  /**\n   * Calculate matrix of transforming from self to target rect\n   * @param  {module:zrender/core/BoundingRect} b\n   * @return {Array.<number>}\n   */\n  calculateTransform: function calculateTransform(b) {\n    var a = this;\n    var sx = b.width / a.width;\n    var sy = b.height / a.height;\n    var m = matrix.create(); // \n\n    matrix.translate(m, m, [-a.x, -a.y]);\n    matrix.scale(m, m, [sx, sy]);\n    matrix.translate(m, m, [b.x, b.y]);\n    return m;\n  },\n\n  /**\n   * @param {(module:echarts/core/BoundingRect|Object)} b\n   * @return {boolean}\n   */\n  intersect: function intersect(b) {\n    if (!b) {\n      return false;\n    }\n\n    if (!(b instanceof BoundingRect)) {\n      // Normalize negative width/height.\n      b = BoundingRect.create(b);\n    }\n\n    var a = this;\n    var ax0 = a.x;\n    var ax1 = a.x + a.width;\n    var ay0 = a.y;\n    var ay1 = a.y + a.height;\n    var bx0 = b.x;\n    var bx1 = b.x + b.width;\n    var by0 = b.y;\n    var by1 = b.y + b.height;\n    return !(ax1 < bx0 || bx1 < ax0 || ay1 < by0 || by1 < ay0);\n  },\n  contain: function contain(x, y) {\n    var rect = this;\n    return x >= rect.x && x <= rect.x + rect.width && y >= rect.y && y <= rect.y + rect.height;\n  },\n\n  /**\n   * @return {module:echarts/core/BoundingRect}\n   */\n  clone: function clone() {\n    return new BoundingRect(this.x, this.y, this.width, this.height);\n  },\n\n  /**\n   * Copy from another rect\n   */\n  copy: function copy(other) {\n    this.x = other.x;\n    this.y = other.y;\n    this.width = other.width;\n    this.height = other.height;\n  },\n  plain: function plain() {\n    return {\n      x: this.x,\n      y: this.y,\n      width: this.width,\n      height: this.height\n    };\n  }\n};\n/**\n * @param {Object|module:zrender/core/BoundingRect} rect\n * @param {number} rect.x\n * @param {number} rect.y\n * @param {number} rect.width\n * @param {number} rect.height\n * @return {module:zrender/core/BoundingRect}\n */\n\nBoundingRect.create = function (rect) {\n  return new BoundingRect(rect.x, rect.y, rect.width, rect.height);\n};\n\nvar _default = BoundingRect;\nmodule.exports = _default;","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topCenter: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomCenter: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","var _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nfunction _objectWithoutProperties(obj, keys) {\n  var target = {};\n\n  for (var i in obj) {\n    if (keys.indexOf(i) >= 0) continue;\n    if (!Object.prototype.hasOwnProperty.call(obj, i)) continue;\n    target[i] = obj[i];\n  }\n\n  return target;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nimport React, { Component, cloneElement } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Trigger from 'rc-trigger';\nimport classNames from 'classnames';\nimport placements from './placements';\nimport { polyfill } from 'react-lifecycles-compat';\n\nvar Dropdown = function (_Component) {\n  _inherits(Dropdown, _Component);\n\n  function Dropdown(props) {\n    _classCallCheck(this, Dropdown);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    if ('visible' in props) {\n      _this.state = {\n        visible: props.visible\n      };\n    } else {\n      _this.state = {\n        visible: props.defaultVisible\n      };\n    }\n\n    return _this;\n  }\n\n  Dropdown.getDerivedStateFromProps = function getDerivedStateFromProps(nextProps) {\n    if ('visible' in nextProps) {\n      return {\n        visible: nextProps.visible\n      };\n    }\n\n    return null;\n  };\n\n  Dropdown.prototype.getOverlayElement = function getOverlayElement() {\n    var overlay = this.props.overlay;\n    var overlayElement = void 0;\n\n    if (typeof overlay === 'function') {\n      overlayElement = overlay();\n    } else {\n      overlayElement = overlay;\n    }\n\n    return overlayElement;\n  };\n\n  Dropdown.prototype.getMenuElementOrLambda = function getMenuElementOrLambda() {\n    var overlay = this.props.overlay;\n\n    if (typeof overlay === 'function') {\n      return this.getMenuElement;\n    }\n\n    return this.getMenuElement();\n  };\n\n  Dropdown.prototype.getPopupDomNode = function getPopupDomNode() {\n    return this.trigger.getPopupDomNode();\n  };\n\n  Dropdown.prototype.getOpenClassName = function getOpenClassName() {\n    var _props = this.props,\n        openClassName = _props.openClassName,\n        prefixCls = _props.prefixCls;\n\n    if (openClassName !== undefined) {\n      return openClassName;\n    }\n\n    return prefixCls + '-open';\n  };\n\n  Dropdown.prototype.renderChildren = function renderChildren() {\n    var children = this.props.children;\n    var visible = this.state.visible;\n    var childrenProps = children.props ? children.props : {};\n    var childClassName = classNames(childrenProps.className, this.getOpenClassName());\n    return visible && children ? cloneElement(children, {\n      className: childClassName\n    }) : children;\n  };\n\n  Dropdown.prototype.render = function render() {\n    var _props2 = this.props,\n        prefixCls = _props2.prefixCls,\n        transitionName = _props2.transitionName,\n        animation = _props2.animation,\n        align = _props2.align,\n        placement = _props2.placement,\n        getPopupContainer = _props2.getPopupContainer,\n        showAction = _props2.showAction,\n        hideAction = _props2.hideAction,\n        overlayClassName = _props2.overlayClassName,\n        overlayStyle = _props2.overlayStyle,\n        trigger = _props2.trigger,\n        otherProps = _objectWithoutProperties(_props2, ['prefixCls', 'transitionName', 'animation', 'align', 'placement', 'getPopupContainer', 'showAction', 'hideAction', 'overlayClassName', 'overlayStyle', 'trigger']);\n\n    var triggerHideAction = hideAction;\n\n    if (!triggerHideAction && trigger.indexOf('contextMenu') !== -1) {\n      triggerHideAction = ['click'];\n    }\n\n    return React.createElement(Trigger, _extends({}, otherProps, {\n      prefixCls: prefixCls,\n      ref: this.saveTrigger,\n      popupClassName: overlayClassName,\n      popupStyle: overlayStyle,\n      builtinPlacements: placements,\n      action: trigger,\n      showAction: showAction,\n      hideAction: triggerHideAction || [],\n      popupPlacement: placement,\n      popupAlign: align,\n      popupTransitionName: transitionName,\n      popupAnimation: animation,\n      popupVisible: this.state.visible,\n      afterPopupVisibleChange: this.afterVisibleChange,\n      popup: this.getMenuElementOrLambda(),\n      onPopupVisibleChange: this.onVisibleChange,\n      getPopupContainer: getPopupContainer\n    }), this.renderChildren());\n  };\n\n  return Dropdown;\n}(Component);\n\nDropdown.propTypes = {\n  minOverlayWidthMatchTrigger: PropTypes.bool,\n  onVisibleChange: PropTypes.func,\n  onOverlayClick: PropTypes.func,\n  prefixCls: PropTypes.string,\n  children: PropTypes.any,\n  transitionName: PropTypes.string,\n  overlayClassName: PropTypes.string,\n  openClassName: PropTypes.string,\n  animation: PropTypes.any,\n  align: PropTypes.object,\n  overlayStyle: PropTypes.object,\n  placement: PropTypes.string,\n  overlay: PropTypes.oneOfType([PropTypes.node, PropTypes.func]),\n  trigger: PropTypes.array,\n  alignPoint: PropTypes.bool,\n  showAction: PropTypes.array,\n  hideAction: PropTypes.array,\n  getPopupContainer: PropTypes.func,\n  visible: PropTypes.bool,\n  defaultVisible: PropTypes.bool\n};\nDropdown.defaultProps = {\n  prefixCls: 'rc-dropdown',\n  trigger: ['hover'],\n  showAction: [],\n  overlayClassName: '',\n  overlayStyle: {},\n  defaultVisible: false,\n  onVisibleChange: function onVisibleChange() {},\n  placement: 'bottomLeft'\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this2 = this;\n\n  this.onClick = function (e) {\n    var props = _this2.props;\n\n    var overlayProps = _this2.getOverlayElement().props; // do no call onVisibleChange, if you need click to hide, use onClick and control visible\n\n\n    if (!('visible' in props)) {\n      _this2.setState({\n        visible: false\n      });\n    }\n\n    if (props.onOverlayClick) {\n      props.onOverlayClick(e);\n    }\n\n    if (overlayProps.onClick) {\n      overlayProps.onClick(e);\n    }\n  };\n\n  this.onVisibleChange = function (visible) {\n    var props = _this2.props;\n\n    if (!('visible' in props)) {\n      _this2.setState({\n        visible: visible\n      });\n    }\n\n    props.onVisibleChange(visible);\n  };\n\n  this.getMinOverlayWidthMatchTrigger = function () {\n    var _props3 = _this2.props,\n        minOverlayWidthMatchTrigger = _props3.minOverlayWidthMatchTrigger,\n        alignPoint = _props3.alignPoint;\n\n    if ('minOverlayWidthMatchTrigger' in _this2.props) {\n      return minOverlayWidthMatchTrigger;\n    }\n\n    return !alignPoint;\n  };\n\n  this.getMenuElement = function () {\n    var prefixCls = _this2.props.prefixCls;\n\n    var overlayElement = _this2.getOverlayElement();\n\n    var extraOverlayProps = {\n      prefixCls: prefixCls + '-menu',\n      onClick: _this2.onClick\n    };\n\n    if (typeof overlayElement.type === 'string') {\n      delete extraOverlayProps.prefixCls;\n    }\n\n    return React.cloneElement(overlayElement, extraOverlayProps);\n  };\n\n  this.afterVisibleChange = function (visible) {\n    if (visible && _this2.getMinOverlayWidthMatchTrigger()) {\n      var overlayNode = _this2.getPopupDomNode();\n\n      var rootNode = ReactDOM.findDOMNode(_this2);\n\n      if (rootNode && overlayNode && rootNode.offsetWidth > overlayNode.offsetWidth) {\n        overlayNode.style.minWidth = rootNode.offsetWidth + 'px';\n\n        if (_this2.trigger && _this2.trigger._component && _this2.trigger._component.alignInstance) {\n          _this2.trigger._component.alignInstance.forceAlign();\n        }\n      }\n    }\n  };\n\n  this.saveTrigger = function (node) {\n    _this2.trigger = node;\n  };\n};\n\npolyfill(Dropdown);\nexport default Dropdown;","import Dropdown from './Dropdown';\nexport default Dropdown;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport RcDropdown from 'rc-dropdown';\nimport classNames from 'classnames';\nimport { ConfigConsumer } from '../config-provider';\nimport warning from '../_util/warning';\nimport Icon from '../icon';\nimport { tuple } from '../_util/type';\nvar Placements = tuple('topLeft', 'topCenter', 'topRight', 'bottomLeft', 'bottomCenter', 'bottomRight');\n\nvar Dropdown =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Dropdown, _React$Component);\n\n  function Dropdown() {\n    var _this;\n\n    _classCallCheck(this, Dropdown);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Dropdown).apply(this, arguments));\n\n    _this.renderOverlay = function (prefixCls) {\n      // rc-dropdown already can process the function of overlay, but we have check logic here.\n      // So we need render the element to check and pass back to rc-dropdown.\n      var overlay = _this.props.overlay;\n      var overlayNode;\n\n      if (typeof overlay === 'function') {\n        overlayNode = overlay();\n      } else {\n        overlayNode = overlay;\n      }\n\n      overlayNode = React.Children.only(overlayNode);\n      var overlayProps = overlayNode.props; // Warning if use other mode\n\n      warning(!overlayProps.mode || overlayProps.mode === 'vertical', 'Dropdown', \"mode=\\\"\".concat(overlayProps.mode, \"\\\" is not supported for Dropdown's Menu.\")); // menu cannot be selectable in dropdown defaultly\n      // menu should be focusable in dropdown defaultly\n\n      var _overlayProps$selecta = overlayProps.selectable,\n          selectable = _overlayProps$selecta === void 0 ? false : _overlayProps$selecta,\n          _overlayProps$focusab = overlayProps.focusable,\n          focusable = _overlayProps$focusab === void 0 ? true : _overlayProps$focusab;\n      var expandIcon = React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-menu-submenu-arrow\")\n      }, React.createElement(Icon, {\n        type: \"right\",\n        className: \"\".concat(prefixCls, \"-menu-submenu-arrow-icon\")\n      }));\n      var fixedModeOverlay = typeof overlayNode.type === 'string' ? overlay : React.cloneElement(overlayNode, {\n        mode: 'vertical',\n        selectable: selectable,\n        focusable: focusable,\n        expandIcon: expandIcon\n      });\n      return fixedModeOverlay;\n    };\n\n    _this.renderDropDown = function (_ref) {\n      var getContextPopupContainer = _ref.getPopupContainer,\n          getPrefixCls = _ref.getPrefixCls;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          children = _this$props.children,\n          trigger = _this$props.trigger,\n          disabled = _this$props.disabled,\n          getPopupContainer = _this$props.getPopupContainer;\n      var prefixCls = getPrefixCls('dropdown', customizePrefixCls);\n      var child = React.Children.only(children);\n      var dropdownTrigger = React.cloneElement(child, {\n        className: classNames(child.props.className, \"\".concat(prefixCls, \"-trigger\")),\n        disabled: disabled\n      });\n      var triggerActions = disabled ? [] : trigger;\n      var alignPoint;\n\n      if (triggerActions && triggerActions.indexOf('contextMenu') !== -1) {\n        alignPoint = true;\n      }\n\n      return React.createElement(RcDropdown, _extends({\n        alignPoint: alignPoint\n      }, _this.props, {\n        prefixCls: prefixCls,\n        getPopupContainer: getPopupContainer || getContextPopupContainer,\n        transitionName: _this.getTransitionName(),\n        trigger: triggerActions,\n        overlay: function overlay() {\n          return _this.renderOverlay(prefixCls);\n        }\n      }), dropdownTrigger);\n    };\n\n    return _this;\n  }\n\n  _createClass(Dropdown, [{\n    key: \"getTransitionName\",\n    value: function getTransitionName() {\n      var _this$props2 = this.props,\n          _this$props2$placemen = _this$props2.placement,\n          placement = _this$props2$placemen === void 0 ? '' : _this$props2$placemen,\n          transitionName = _this$props2.transitionName;\n\n      if (transitionName !== undefined) {\n        return transitionName;\n      }\n\n      if (placement.indexOf('top') >= 0) {\n        return 'slide-down';\n      }\n\n      return 'slide-up';\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderDropDown);\n    }\n  }]);\n\n  return Dropdown;\n}(React.Component);\n\nexport { Dropdown as default };\nDropdown.defaultProps = {\n  mouseEnterDelay: 0.15,\n  mouseLeaveDelay: 0.1,\n  placement: 'bottomLeft'\n};","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar numberUtil = require(\"./number\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import Text from 'zrender/src/graphic/Text';\n\n/**\n * ,\n * @param {string|number} x\n * @return {string}\n */\n\n\nfunction addCommas(x) {\n  if (isNaN(x)) {\n    return '-';\n  }\n\n  x = (x + '').split('.');\n  return x[0].replace(/(\\d{1,3})(?=(?:\\d{3})+(?!\\d))/g, '$1,') + (x.length > 1 ? '.' + x[1] : '');\n}\n/**\n * @param {string} str\n * @param {boolean} [upperCaseFirst=false]\n * @return {string} str\n */\n\n\nfunction toCamelCase(str, upperCaseFirst) {\n  str = (str || '').toLowerCase().replace(/-(.)/g, function (match, group1) {\n    return group1.toUpperCase();\n  });\n\n  if (upperCaseFirst && str) {\n    str = str.charAt(0).toUpperCase() + str.slice(1);\n  }\n\n  return str;\n}\n\nvar normalizeCssArray = zrUtil.normalizeCssArray;\nvar replaceReg = /([&<>\"'])/g;\nvar replaceMap = {\n  '&': '&amp;',\n  '<': '&lt;',\n  '>': '&gt;',\n  '\"': '&quot;',\n  '\\'': '&#39;'\n};\n\nfunction encodeHTML(source) {\n  return source == null ? '' : (source + '').replace(replaceReg, function (str, c) {\n    return replaceMap[c];\n  });\n}\n\nvar TPL_VAR_ALIAS = ['a', 'b', 'c', 'd', 'e', 'f', 'g'];\n\nvar wrapVar = function wrapVar(varName, seriesIdx) {\n  return '{' + varName + (seriesIdx == null ? '' : seriesIdx) + '}';\n};\n/**\n * Template formatter\n * @param {string} tpl\n * @param {Array.<Object>|Object} paramsList\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTpl(tpl, paramsList, encode) {\n  if (!zrUtil.isArray(paramsList)) {\n    paramsList = [paramsList];\n  }\n\n  var seriesLen = paramsList.length;\n\n  if (!seriesLen) {\n    return '';\n  }\n\n  var $vars = paramsList[0].$vars || [];\n\n  for (var i = 0; i < $vars.length; i++) {\n    var alias = TPL_VAR_ALIAS[i];\n    tpl = tpl.replace(wrapVar(alias), wrapVar(alias, 0));\n  }\n\n  for (var seriesIdx = 0; seriesIdx < seriesLen; seriesIdx++) {\n    for (var k = 0; k < $vars.length; k++) {\n      var val = paramsList[seriesIdx][$vars[k]];\n      tpl = tpl.replace(wrapVar(TPL_VAR_ALIAS[k], seriesIdx), encode ? encodeHTML(val) : val);\n    }\n  }\n\n  return tpl;\n}\n/**\n * simple Template formatter\n *\n * @param {string} tpl\n * @param {Object} param\n * @param {boolean} [encode=false]\n * @return {string}\n */\n\n\nfunction formatTplSimple(tpl, param, encode) {\n  zrUtil.each(param, function (value, key) {\n    tpl = tpl.replace('{' + key + '}', encode ? encodeHTML(value) : value);\n  });\n  return tpl;\n}\n/**\n * @param {Object|string} [opt] If string, means color.\n * @param {string} [opt.color]\n * @param {string} [opt.extraCssText]\n * @param {string} [opt.type='item'] 'item' or 'subItem'\n * @param {string} [opt.renderMode='html'] render mode of tooltip, 'html' or 'richText'\n * @param {string} [opt.markerId='X'] id name for marker. If only one marker is in a rich text, this can be omitted.\n * @return {string}\n */\n\n\nfunction getTooltipMarker(opt, extraCssText) {\n  opt = zrUtil.isString(opt) ? {\n    color: opt,\n    extraCssText: extraCssText\n  } : opt || {};\n  var color = opt.color;\n  var type = opt.type;\n  var extraCssText = opt.extraCssText;\n  var renderMode = opt.renderMode || 'html';\n  var markerId = opt.markerId || 'X';\n\n  if (!color) {\n    return '';\n  }\n\n  if (renderMode === 'html') {\n    return type === 'subItem' ? '<span style=\"display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;' + 'border-radius:4px;width:4px;height:4px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>' : '<span style=\"display:inline-block;margin-right:5px;' + 'border-radius:10px;width:10px;height:10px;background-color:' + encodeHTML(color) + ';' + (extraCssText || '') + '\"></span>';\n  } else {\n    // Space for rich element marker\n    return {\n      renderMode: renderMode,\n      content: '{marker' + markerId + '|}  ',\n      style: {\n        color: color\n      }\n    };\n  }\n}\n\nfunction pad(str, len) {\n  str += '';\n  return '0000'.substr(0, len - str.length) + str;\n}\n/**\n * ISO Date format\n * @param {string} tpl\n * @param {number} value\n * @param {boolean} [isUTC=false] Default in local time.\n *           see `module:echarts/scale/Time`\n *           and `module:echarts/util/number#parseDate`.\n * @inner\n */\n\n\nfunction formatTime(tpl, value, isUTC) {\n  if (tpl === 'week' || tpl === 'month' || tpl === 'quarter' || tpl === 'half-year' || tpl === 'year') {\n    tpl = 'MM-dd\\nyyyy';\n  }\n\n  var date = numberUtil.parseDate(value);\n  var utc = isUTC ? 'UTC' : '';\n  var y = date['get' + utc + 'FullYear']();\n  var M = date['get' + utc + 'Month']() + 1;\n  var d = date['get' + utc + 'Date']();\n  var h = date['get' + utc + 'Hours']();\n  var m = date['get' + utc + 'Minutes']();\n  var s = date['get' + utc + 'Seconds']();\n  var S = date['get' + utc + 'Milliseconds']();\n  tpl = tpl.replace('MM', pad(M, 2)).replace('M', M).replace('yyyy', y).replace('yy', y % 100).replace('dd', pad(d, 2)).replace('d', d).replace('hh', pad(h, 2)).replace('h', h).replace('mm', pad(m, 2)).replace('m', m).replace('ss', pad(s, 2)).replace('s', s).replace('SSS', pad(S, 3));\n  return tpl;\n}\n/**\n * Capital first\n * @param {string} str\n * @return {string}\n */\n\n\nfunction capitalFirst(str) {\n  return str ? str.charAt(0).toUpperCase() + str.substr(1) : str;\n}\n\nvar truncateText = textContain.truncateText;\n/**\n * @public\n * @param {Object} opt\n * @param {string} opt.text\n * @param {string} opt.font\n * @param {string} [opt.textAlign='left']\n * @param {string} [opt.textVerticalAlign='top']\n * @param {Array.<number>} [opt.textPadding]\n * @param {number} [opt.textLineHeight]\n * @param {Object} [opt.rich]\n * @param {Object} [opt.truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\nfunction getTextBoundingRect(opt) {\n  return textContain.getBoundingRect(opt.text, opt.font, opt.textAlign, opt.textVerticalAlign, opt.textPadding, opt.textLineHeight, opt.rich, opt.truncate);\n}\n/**\n * @deprecated\n * the `textLineHeight` was added later.\n * For backward compatiblility, put it as the last parameter.\n * But deprecated this interface. Please use `getTextBoundingRect` instead.\n */\n\n\nfunction getTextRect(text, font, textAlign, textVerticalAlign, textPadding, rich, truncate, textLineHeight) {\n  return textContain.getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate);\n}\n\nexports.addCommas = addCommas;\nexports.toCamelCase = toCamelCase;\nexports.normalizeCssArray = normalizeCssArray;\nexports.encodeHTML = encodeHTML;\nexports.formatTpl = formatTpl;\nexports.formatTplSimple = formatTplSimple;\nexports.getTooltipMarker = getTooltipMarker;\nexports.formatTime = formatTime;\nexports.capitalFirst = capitalFirst;\nexports.truncateText = truncateText;\nexports.getTextBoundingRect = getTextBoundingRect;\nexports.getTextRect = getTextRect;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _model = require(\"../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassExtend = _clazz.enableClassExtend;\nvar enableClassCheck = _clazz.enableClassCheck;\n\nvar lineStyleMixin = require(\"./mixin/lineStyle\");\n\nvar areaStyleMixin = require(\"./mixin/areaStyle\");\n\nvar textStyleMixin = require(\"./mixin/textStyle\");\n\nvar itemStyleMixin = require(\"./mixin/itemStyle\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/model/Model\n */\n\n\nvar mixin = zrUtil.mixin;\nvar inner = makeInner();\n/**\n * @alias module:echarts/model/Model\n * @constructor\n * @param {Object} [option]\n * @param {module:echarts/model/Model} [parentModel]\n * @param {module:echarts/model/Global} [ecModel]\n */\n\nfunction Model(option, parentModel, ecModel) {\n  /**\n   * @type {module:echarts/model/Model}\n   * @readOnly\n   */\n  this.parentModel = parentModel;\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n\n  this.ecModel = ecModel;\n  /**\n   * @type {Object}\n   * @protected\n   */\n\n  this.option = option; // Simple optimization\n  // if (this.init) {\n  //     if (arguments.length <= 4) {\n  //         this.init(option, parentModel, ecModel, extraOpt);\n  //     }\n  //     else {\n  //         this.init.apply(this, arguments);\n  //     }\n  // }\n}\n\nModel.prototype = {\n  constructor: Model,\n\n  /**\n   * Model \n   * @param {Object} option\n   */\n  init: null,\n\n  /**\n   *  Option merge\n   */\n  mergeOption: function mergeOption(option) {\n    zrUtil.merge(this.option, option, true);\n  },\n\n  /**\n   * @param {string|Array.<string>} path\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  get: function get(path, ignoreParent) {\n    if (path == null) {\n      return this.option;\n    }\n\n    return doGet(this.option, this.parsePath(path), !ignoreParent && getParent(this, path));\n  },\n\n  /**\n   * @param {string} key\n   * @param {boolean} [ignoreParent=false]\n   * @return {*}\n   */\n  getShallow: function getShallow(key, ignoreParent) {\n    var option = this.option;\n    var val = option == null ? option : option[key];\n    var parentModel = !ignoreParent && getParent(this, key);\n\n    if (val == null && parentModel) {\n      val = parentModel.getShallow(key);\n    }\n\n    return val;\n  },\n\n  /**\n   * @param {string|Array.<string>} [path]\n   * @param {module:echarts/model/Model} [parentModel]\n   * @return {module:echarts/model/Model}\n   */\n  getModel: function getModel(path, parentModel) {\n    var obj = path == null ? this.option : doGet(this.option, path = this.parsePath(path));\n    var thisParentModel;\n    parentModel = parentModel || (thisParentModel = getParent(this, path)) && thisParentModel.getModel(path);\n    return new Model(obj, parentModel, this.ecModel);\n  },\n\n  /**\n   * If model has option\n   */\n  isEmpty: function isEmpty() {\n    return this.option == null;\n  },\n  restoreData: function restoreData() {},\n  // Pending\n  clone: function clone() {\n    var Ctor = this.constructor;\n    return new Ctor(zrUtil.clone(this.option));\n  },\n  setReadOnly: function setReadOnly(properties) {// clazzUtil.setReadOnly(this, properties);\n  },\n  // If path is null/undefined, return null/undefined.\n  parsePath: function parsePath(path) {\n    if (typeof path === 'string') {\n      path = path.split('.');\n    }\n\n    return path;\n  },\n\n  /**\n   * @param {Function} getParentMethod\n   *        param {Array.<string>|string} path\n   *        return {module:echarts/model/Model}\n   */\n  customizeGetParent: function customizeGetParent(getParentMethod) {\n    inner(this).getParent = getParentMethod;\n  },\n  isAnimationEnabled: function isAnimationEnabled() {\n    if (!env.node) {\n      if (this.option.animation != null) {\n        return !!this.option.animation;\n      } else if (this.parentModel) {\n        return this.parentModel.isAnimationEnabled();\n      }\n    }\n  }\n};\n\nfunction doGet(obj, pathArr, parentModel) {\n  for (var i = 0; i < pathArr.length; i++) {\n    // Ignore empty\n    if (!pathArr[i]) {\n      continue;\n    } // obj could be number/string/... (like 0)\n\n\n    obj = obj && typeof obj === 'object' ? obj[pathArr[i]] : null;\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  if (obj == null && parentModel) {\n    obj = parentModel.get(pathArr);\n  }\n\n  return obj;\n} // `path` can be null/undefined\n\n\nfunction getParent(model, path) {\n  var getParentMethod = inner(model).getParent;\n  return getParentMethod ? getParentMethod.call(model, path) : model.parentModel;\n} // Enable Model.extend.\n\n\nenableClassExtend(Model);\nenableClassCheck(Model);\nmixin(Model, lineStyleMixin);\nmixin(Model, areaStyleMixin);\nmixin(Model, textStyleMixin);\nmixin(Model, itemStyleMixin);\nvar _default = Model;\nmodule.exports = _default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.create = exports.connect = exports.Provider = undefined;\n\nvar _Provider2 = require('./Provider');\n\nvar _Provider3 = _interopRequireDefault(_Provider2);\n\nvar _connect2 = require('./connect');\n\nvar _connect3 = _interopRequireDefault(_connect2);\n\nvar _create2 = require('./create');\n\nvar _create3 = _interopRequireDefault(_create2);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nexports.Provider = _Provider3.default;\nexports.connect = _connect3.default;\nexports.create = _create3.default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"./Model\");\n\nvar componentUtil = require(\"../util/component\");\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassManagement = _clazz.enableClassManagement;\nvar parseClassType = _clazz.parseClassType;\n\nvar _model = require(\"../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar layout = require(\"../util/layout\");\n\nvar boxLayoutMixin = require(\"./mixin/boxLayout\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Component model\n *\n * @module echarts/model/Component\n */\n\n\nvar inner = makeInner();\n/**\n * @alias module:echarts/model/Component\n * @constructor\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {module:echarts/model/Model} ecModel\n */\n\nvar ComponentModel = Model.extend({\n  type: 'component',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  id: '',\n\n  /**\n   * Because simplified concept is probably better, series.name (or component.name)\n   * has been having too many resposibilities:\n   * (1) Generating id (which requires name in option should not be modified).\n   * (2) As an index to mapping series when merging option or calling API (a name\n   * can refer to more then one components, which is convinient is some case).\n   * (3) Display.\n   * @readOnly\n   */\n  name: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  mainType: '',\n\n  /**\n   * @readOnly\n   * @type {string}\n   */\n  subType: '',\n\n  /**\n   * @readOnly\n   * @type {number}\n   */\n  componentIndex: 0,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * @type {module:echarts/model/Global}\n   * @readOnly\n   */\n  ecModel: null,\n\n  /**\n   * key: componentType\n   * value:  Component model list, can not be null.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @readOnly\n   */\n  dependentModels: [],\n\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  uid: null,\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  $constructor: function $constructor(option, parentModel, ecModel, extraOpt) {\n    Model.call(this, option, parentModel, ecModel, extraOpt);\n    this.uid = componentUtil.getUID('ec_cpt_model');\n  },\n  init: function init(option, parentModel, ecModel, extraOpt) {\n    this.mergeDefaultAndTheme(option, ecModel);\n  },\n  mergeDefaultAndTheme: function mergeDefaultAndTheme(option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? layout.getLayoutParams(option) : {};\n    var themeModel = ecModel.getTheme();\n    zrUtil.merge(option, themeModel.get(this.mainType));\n    zrUtil.merge(option, this.getDefaultOption());\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function mergeOption(option, extraOpt) {\n    zrUtil.merge(this.option, option, true);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      layout.mergeLayoutParam(this.option, option, layoutMode);\n    }\n  },\n  // Hooker after init or mergeOption\n  optionUpdated: function optionUpdated(newCptOption, isInit) {},\n  getDefaultOption: function getDefaultOption() {\n    var fields = inner(this);\n\n    if (!fields.defaultOption) {\n      var optList = [];\n      var Class = this.constructor;\n\n      while (Class) {\n        var opt = Class.prototype.defaultOption;\n        opt && optList.push(opt);\n        Class = Class.superClass;\n      }\n\n      var defaultOption = {};\n\n      for (var i = optList.length - 1; i >= 0; i--) {\n        defaultOption = zrUtil.merge(defaultOption, optList[i], true);\n      }\n\n      fields.defaultOption = defaultOption;\n    }\n\n    return fields.defaultOption;\n  },\n  getReferringComponents: function getReferringComponents(mainType) {\n    return this.ecModel.queryComponents({\n      mainType: mainType,\n      index: this.get(mainType + 'Index', true),\n      id: this.get(mainType + 'Id', true)\n    });\n  }\n}); // Reset ComponentModel.extend, add preConstruct.\n// clazzUtil.enableClassExtend(\n//     ComponentModel,\n//     function (option, parentModel, ecModel, extraOpt) {\n//         // Set dependentModels, componentIndex, name, id, mainType, subType.\n//         zrUtil.extend(this, extraOpt);\n//         this.uid = componentUtil.getUID('componentModel');\n//         // this.setReadOnly([\n//         //     'type', 'id', 'uid', 'name', 'mainType', 'subType',\n//         //     'dependentModels', 'componentIndex'\n//         // ]);\n//     }\n// );\n// Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nenableClassManagement(ComponentModel, {\n  registerWhenExtend: true\n});\ncomponentUtil.enableSubTypeDefaulter(ComponentModel); // Add capability of ComponentModel.topologicalTravel.\n\ncomponentUtil.enableTopologicalTravel(ComponentModel, getDependencies);\n\nfunction getDependencies(componentType) {\n  var deps = [];\n  zrUtil.each(ComponentModel.getClassesByMainType(componentType), function (Clazz) {\n    deps = deps.concat(Clazz.prototype.dependencies || []);\n  }); // Ensure main type.\n\n  deps = zrUtil.map(deps, function (type) {\n    return parseClassType(type).main;\n  }); // Hack dataset for convenience.\n\n  if (componentType !== 'dataset' && zrUtil.indexOf(deps, 'dataset') <= 0) {\n    deps.unshift('dataset');\n  }\n\n  return deps;\n}\n\nzrUtil.mixin(ComponentModel, boxLayoutMixin);\nvar _default = ComponentModel;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _number = require(\"./number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar formatUtil = require(\"./format\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Layout helpers for each component positioning\n\n\nvar each = zrUtil.each;\n/**\n * @public\n */\n\nvar LOCATION_PARAMS = ['left', 'right', 'top', 'bottom', 'width', 'height'];\n/**\n * @public\n */\n\nvar HV_NAMES = [['width', 'left', 'right'], ['height', 'top', 'bottom']];\n\nfunction boxLayout(orient, group, gap, maxWidth, maxHeight) {\n  var x = 0;\n  var y = 0;\n\n  if (maxWidth == null) {\n    maxWidth = Infinity;\n  }\n\n  if (maxHeight == null) {\n    maxHeight = Infinity;\n  }\n\n  var currentLineMaxSize = 0;\n  group.eachChild(function (child, idx) {\n    var position = child.position;\n    var rect = child.getBoundingRect();\n    var nextChild = group.childAt(idx + 1);\n    var nextChildRect = nextChild && nextChild.getBoundingRect();\n    var nextX;\n    var nextY;\n\n    if (orient === 'horizontal') {\n      var moveX = rect.width + (nextChildRect ? -nextChildRect.x + rect.x : 0);\n      nextX = x + moveX; // Wrap when width exceeds maxWidth or meet a `newline` group\n      // FIXME compare before adding gap?\n\n      if (nextX > maxWidth || child.newline) {\n        x = 0;\n        nextX = moveX;\n        y += currentLineMaxSize + gap;\n        currentLineMaxSize = rect.height;\n      } else {\n        // FIXME: consider rect.y is not `0`?\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.height);\n      }\n    } else {\n      var moveY = rect.height + (nextChildRect ? -nextChildRect.y + rect.y : 0);\n      nextY = y + moveY; // Wrap when width exceeds maxHeight or meet a `newline` group\n\n      if (nextY > maxHeight || child.newline) {\n        x += currentLineMaxSize + gap;\n        y = 0;\n        nextY = moveY;\n        currentLineMaxSize = rect.width;\n      } else {\n        currentLineMaxSize = Math.max(currentLineMaxSize, rect.width);\n      }\n    }\n\n    if (child.newline) {\n      return;\n    }\n\n    position[0] = x;\n    position[1] = y;\n    orient === 'horizontal' ? x = nextX + gap : y = nextY + gap;\n  });\n}\n/**\n * VBox or HBox layouting\n * @param {string} orient\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\n\nvar box = boxLayout;\n/**\n * VBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar vbox = zrUtil.curry(boxLayout, 'vertical');\n/**\n * HBox layouting\n * @param {module:zrender/container/Group} group\n * @param {number} gap\n * @param {number} [width=Infinity]\n * @param {number} [height=Infinity]\n */\n\nvar hbox = zrUtil.curry(boxLayout, 'horizontal');\n/**\n * If x or x2 is not specified or 'center' 'left' 'right',\n * the width would be as long as possible.\n * If y or y2 is not specified or 'middle' 'top' 'bottom',\n * the height would be as long as possible.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.x]\n * @param {number|string} [positionInfo.y]\n * @param {number|string} [positionInfo.x2]\n * @param {number|string} [positionInfo.y2]\n * @param {Object} containerRect {width, height}\n * @param {string|number} margin\n * @return {Object} {width, height}\n */\n\nfunction getAvailableSize(positionInfo, containerRect, margin) {\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var x = parsePercent(positionInfo.x, containerWidth);\n  var y = parsePercent(positionInfo.y, containerHeight);\n  var x2 = parsePercent(positionInfo.x2, containerWidth);\n  var y2 = parsePercent(positionInfo.y2, containerHeight);\n  (isNaN(x) || isNaN(parseFloat(positionInfo.x))) && (x = 0);\n  (isNaN(x2) || isNaN(parseFloat(positionInfo.x2))) && (x2 = containerWidth);\n  (isNaN(y) || isNaN(parseFloat(positionInfo.y))) && (y = 0);\n  (isNaN(y2) || isNaN(parseFloat(positionInfo.y2))) && (y2 = containerHeight);\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  return {\n    width: Math.max(x2 - x - margin[1] - margin[3], 0),\n    height: Math.max(y2 - y - margin[0] - margin[2], 0)\n  };\n}\n/**\n * Parse position info.\n *\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width]\n * @param {number|string} [positionInfo.height]\n * @param {number|string} [positionInfo.aspect] Aspect is width / height\n * @param {Object} containerRect\n * @param {string|number} [margin]\n *\n * @return {module:zrender/core/BoundingRect}\n */\n\n\nfunction getLayoutRect(positionInfo, containerRect, margin) {\n  margin = formatUtil.normalizeCssArray(margin || 0);\n  var containerWidth = containerRect.width;\n  var containerHeight = containerRect.height;\n  var left = parsePercent(positionInfo.left, containerWidth);\n  var top = parsePercent(positionInfo.top, containerHeight);\n  var right = parsePercent(positionInfo.right, containerWidth);\n  var bottom = parsePercent(positionInfo.bottom, containerHeight);\n  var width = parsePercent(positionInfo.width, containerWidth);\n  var height = parsePercent(positionInfo.height, containerHeight);\n  var verticalMargin = margin[2] + margin[0];\n  var horizontalMargin = margin[1] + margin[3];\n  var aspect = positionInfo.aspect; // If width is not specified, calculate width from left and right\n\n  if (isNaN(width)) {\n    width = containerWidth - right - horizontalMargin - left;\n  }\n\n  if (isNaN(height)) {\n    height = containerHeight - bottom - verticalMargin - top;\n  }\n\n  if (aspect != null) {\n    // If width and height are not given\n    // 1. Graph should not exceeds the container\n    // 2. Aspect must be keeped\n    // 3. Graph should take the space as more as possible\n    // FIXME\n    // Margin is not considered, because there is no case that both\n    // using margin and aspect so far.\n    if (isNaN(width) && isNaN(height)) {\n      if (aspect > containerWidth / containerHeight) {\n        width = containerWidth * 0.8;\n      } else {\n        height = containerHeight * 0.8;\n      }\n    } // Calculate width or height with given aspect\n\n\n    if (isNaN(width)) {\n      width = aspect * height;\n    }\n\n    if (isNaN(height)) {\n      height = width / aspect;\n    }\n  } // If left is not specified, calculate left from right and width\n\n\n  if (isNaN(left)) {\n    left = containerWidth - right - width - horizontalMargin;\n  }\n\n  if (isNaN(top)) {\n    top = containerHeight - bottom - height - verticalMargin;\n  } // Align left and top\n\n\n  switch (positionInfo.left || positionInfo.right) {\n    case 'center':\n      left = containerWidth / 2 - width / 2 - margin[3];\n      break;\n\n    case 'right':\n      left = containerWidth - width - horizontalMargin;\n      break;\n  }\n\n  switch (positionInfo.top || positionInfo.bottom) {\n    case 'middle':\n    case 'center':\n      top = containerHeight / 2 - height / 2 - margin[0];\n      break;\n\n    case 'bottom':\n      top = containerHeight - height - verticalMargin;\n      break;\n  } // If something is wrong and left, top, width, height are calculated as NaN\n\n\n  left = left || 0;\n  top = top || 0;\n\n  if (isNaN(width)) {\n    // Width may be NaN if only one value is given except width\n    width = containerWidth - horizontalMargin - left - (right || 0);\n  }\n\n  if (isNaN(height)) {\n    // Height may be NaN if only one value is given except height\n    height = containerHeight - verticalMargin - top - (bottom || 0);\n  }\n\n  var rect = new BoundingRect(left + margin[3], top + margin[0], width, height);\n  rect.margin = margin;\n  return rect;\n}\n/**\n * Position a zr element in viewport\n *  Group position is specified by either\n *  {left, top}, {right, bottom}\n *  If all properties exists, right and bottom will be igonred.\n *\n * Logic:\n *     1. Scale (against origin point in parent coord)\n *     2. Rotate (against origin point in parent coord)\n *     3. Traslate (with el.position by this method)\n * So this method only fixes the last step 'Traslate', which does not affect\n * scaling and rotating.\n *\n * If be called repeatly with the same input el, the same result will be gotten.\n *\n * @param {module:zrender/Element} el Should have `getBoundingRect` method.\n * @param {Object} positionInfo\n * @param {number|string} [positionInfo.left]\n * @param {number|string} [positionInfo.top]\n * @param {number|string} [positionInfo.right]\n * @param {number|string} [positionInfo.bottom]\n * @param {number|string} [positionInfo.width] Only for opt.boundingModel: 'raw'\n * @param {number|string} [positionInfo.height] Only for opt.boundingModel: 'raw'\n * @param {Object} containerRect\n * @param {string|number} margin\n * @param {Object} [opt]\n * @param {Array.<number>} [opt.hv=[1,1]] Only horizontal or only vertical.\n * @param {Array.<number>} [opt.boundingMode='all']\n *        Specify how to calculate boundingRect when locating.\n *        'all': Position the boundingRect that is transformed and uioned\n *               both itself and its descendants.\n *               This mode simplies confine the elements in the bounding\n *               of their container (e.g., using 'right: 0').\n *        'raw': Position the boundingRect that is not transformed and only itself.\n *               This mode is useful when you want a element can overflow its\n *               container. (Consider a rotated circle needs to be located in a corner.)\n *               In this mode positionInfo.width/height can only be number.\n */\n\n\nfunction positionElement(el, positionInfo, containerRect, margin, opt) {\n  var h = !opt || !opt.hv || opt.hv[0];\n  var v = !opt || !opt.hv || opt.hv[1];\n  var boundingMode = opt && opt.boundingMode || 'all';\n\n  if (!h && !v) {\n    return;\n  }\n\n  var rect;\n\n  if (boundingMode === 'raw') {\n    rect = el.type === 'group' ? new BoundingRect(0, 0, +positionInfo.width || 0, +positionInfo.height || 0) : el.getBoundingRect();\n  } else {\n    rect = el.getBoundingRect();\n\n    if (el.needLocalTransform()) {\n      var transform = el.getLocalTransform(); // Notice: raw rect may be inner object of el,\n      // which should not be modified.\n\n      rect = rect.clone();\n      rect.applyTransform(transform);\n    }\n  } // The real width and height can not be specified but calculated by the given el.\n\n\n  positionInfo = getLayoutRect(zrUtil.defaults({\n    width: rect.width,\n    height: rect.height\n  }, positionInfo), containerRect, margin); // Because 'tranlate' is the last step in transform\n  // (see zrender/core/Transformable#getLocalTransform),\n  // we can just only modify el.position to get final result.\n\n  var elPos = el.position;\n  var dx = h ? positionInfo.x - rect.x : 0;\n  var dy = v ? positionInfo.y - rect.y : 0;\n  el.attr('position', boundingMode === 'raw' ? [dx, dy] : [elPos[0] + dx, elPos[1] + dy]);\n}\n/**\n * @param {Object} option Contains some of the properties in HV_NAMES.\n * @param {number} hvIdx 0: horizontal; 1: vertical.\n */\n\n\nfunction sizeCalculable(option, hvIdx) {\n  return option[HV_NAMES[hvIdx][0]] != null || option[HV_NAMES[hvIdx][1]] != null && option[HV_NAMES[hvIdx][2]] != null;\n}\n/**\n * Consider Case:\n * When defulat option has {left: 0, width: 100}, and we set {right: 0}\n * through setOption or media query, using normal zrUtil.merge will cause\n * {right: 0} does not take effect.\n *\n * @example\n * ComponentModel.extend({\n *     init: function () {\n *         ...\n *         var inputPositionParams = layout.getLayoutParams(option);\n *         this.mergeOption(inputPositionParams);\n *     },\n *     mergeOption: function (newOption) {\n *         newOption && zrUtil.merge(thisOption, newOption, true);\n *         layout.mergeLayoutParam(thisOption, newOption);\n *     }\n * });\n *\n * @param {Object} targetOption\n * @param {Object} newOption\n * @param {Object|string} [opt]\n * @param {boolean|Array.<boolean>} [opt.ignoreSize=false] Used for the components\n *  that width (or height) should not be calculated by left and right (or top and bottom).\n */\n\n\nfunction mergeLayoutParam(targetOption, newOption, opt) {\n  !zrUtil.isObject(opt) && (opt = {});\n  var ignoreSize = opt.ignoreSize;\n  !zrUtil.isArray(ignoreSize) && (ignoreSize = [ignoreSize, ignoreSize]);\n  var hResult = merge(HV_NAMES[0], 0);\n  var vResult = merge(HV_NAMES[1], 1);\n  copy(HV_NAMES[0], targetOption, hResult);\n  copy(HV_NAMES[1], targetOption, vResult);\n\n  function merge(names, hvIdx) {\n    var newParams = {};\n    var newValueCount = 0;\n    var merged = {};\n    var mergedValueCount = 0;\n    var enoughParamNumber = 2;\n    each(names, function (name) {\n      merged[name] = targetOption[name];\n    });\n    each(names, function (name) {\n      // Consider case: newOption.width is null, which is\n      // set by user for removing width setting.\n      hasProp(newOption, name) && (newParams[name] = merged[name] = newOption[name]);\n      hasValue(newParams, name) && newValueCount++;\n      hasValue(merged, name) && mergedValueCount++;\n    });\n\n    if (ignoreSize[hvIdx]) {\n      // Only one of left/right is premitted to exist.\n      if (hasValue(newOption, names[1])) {\n        merged[names[2]] = null;\n      } else if (hasValue(newOption, names[2])) {\n        merged[names[1]] = null;\n      }\n\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // or targetOption: {right: ...} and newOption: {width: ...},\n    // There is no conflict when merged only has params count\n    // little than enoughParamNumber.\n\n\n    if (mergedValueCount === enoughParamNumber || !newValueCount) {\n      return merged;\n    } // Case: newOption: {width: ..., right: ...},\n    // Than we can make sure user only want those two, and ignore\n    // all origin params in targetOption.\n    else if (newValueCount >= enoughParamNumber) {\n        return newParams;\n      } else {\n        // Chose another param from targetOption by priority.\n        for (var i = 0; i < names.length; i++) {\n          var name = names[i];\n\n          if (!hasProp(newParams, name) && hasProp(targetOption, name)) {\n            newParams[name] = targetOption[name];\n            break;\n          }\n        }\n\n        return newParams;\n      }\n  }\n\n  function hasProp(obj, name) {\n    return obj.hasOwnProperty(name);\n  }\n\n  function hasValue(obj, name) {\n    return obj[name] != null && obj[name] !== 'auto';\n  }\n\n  function copy(names, target, source) {\n    each(names, function (name) {\n      target[name] = source[name];\n    });\n  }\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction getLayoutParams(source) {\n  return copyLayoutParams({}, source);\n}\n/**\n * Retrieve 'left', 'right', 'top', 'bottom', 'width', 'height' from object.\n * @param {Object} source\n * @return {Object} Result contains those props.\n */\n\n\nfunction copyLayoutParams(target, source) {\n  source && target && each(LOCATION_PARAMS, function (name) {\n    source.hasOwnProperty(name) && (target[name] = source[name]);\n  });\n  return target;\n}\n\nexports.LOCATION_PARAMS = LOCATION_PARAMS;\nexports.HV_NAMES = HV_NAMES;\nexports.box = box;\nexports.vbox = vbox;\nexports.hbox = hbox;\nexports.getAvailableSize = getAvailableSize;\nexports.getLayoutRect = getLayoutRect;\nexports.positionElement = positionElement;\nexports.sizeCalculable = sizeCalculable;\nexports.mergeLayoutParam = mergeLayoutParam;\nexports.getLayoutParams = getLayoutParams;\nexports.copyLayoutParams = copyLayoutParams;","import addDOMEventListener from 'add-dom-event-listener';\nimport ReactDOM from 'react-dom';\nexport default function addEventListenerWrap(target, eventType, cb, option) {\n  /* eslint camelcase: 2 */\n  var callback = ReactDOM.unstable_batchedUpdates ? function run(e) {\n    ReactDOM.unstable_batchedUpdates(cb, e);\n  } : cb;\n  return addDOMEventListener(target, eventType, callback, option);\n}","var BoundingRect = require(\"../core/BoundingRect\");\n\nvar imageHelper = require(\"../graphic/helper/image\");\n\nvar _util = require(\"../core/util\");\n\nvar getContext = _util.getContext;\nvar extend = _util.extend;\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar trim = _util.trim;\nvar textWidthCache = {};\nvar textWidthCacheCounter = 0;\nvar TEXT_CACHE_MAX = 5000;\nvar STYLE_REG = /\\{([a-zA-Z0-9_]+)\\|([^}]*)\\}/g;\nvar DEFAULT_FONT = '12px sans-serif'; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  methods[name] = fn;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {number} width\n */\n\n\nfunction getWidth(text, font) {\n  font = font || DEFAULT_FONT;\n  var key = text + ':' + font;\n\n  if (textWidthCache[key]) {\n    return textWidthCache[key];\n  }\n\n  var textLines = (text + '').split('\\n');\n  var width = 0;\n\n  for (var i = 0, l = textLines.length; i < l; i++) {\n    // textContain.measureText may be overrided in SVG or VML\n    width = Math.max(measureText(textLines[i], font).width, width);\n  }\n\n  if (textWidthCacheCounter > TEXT_CACHE_MAX) {\n    textWidthCacheCounter = 0;\n    textWidthCache = {};\n  }\n\n  textWidthCacheCounter++;\n  textWidthCache[key] = width;\n  return width;\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {string} [textAlign='left']\n * @param {string} [textVerticalAlign='top']\n * @param {Array.<number>} [textPadding]\n * @param {Object} [rich]\n * @param {Object} [truncate]\n * @return {Object} {x, y, width, height, lineHeight}\n */\n\n\nfunction getBoundingRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  return rich ? getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) : getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate);\n}\n\nfunction getPlainTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, truncate) {\n  var contentBlock = parsePlainText(text, font, textPadding, textLineHeight, truncate);\n  var outerWidth = getWidth(text, font);\n\n  if (textPadding) {\n    outerWidth += textPadding[1] + textPadding[3];\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  var rect = new BoundingRect(x, y, outerWidth, outerHeight);\n  rect.lineHeight = contentBlock.lineHeight;\n  return rect;\n}\n\nfunction getRichTextRect(text, font, textAlign, textVerticalAlign, textPadding, textLineHeight, rich, truncate) {\n  var contentBlock = parseRichText(text, {\n    rich: rich,\n    truncate: truncate,\n    font: font,\n    textAlign: textAlign,\n    textPadding: textPadding,\n    textLineHeight: textLineHeight\n  });\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var x = adjustTextX(0, outerWidth, textAlign);\n  var y = adjustTextY(0, outerHeight, textVerticalAlign);\n  return new BoundingRect(x, y, outerWidth, outerHeight);\n}\n/**\n * @public\n * @param {number} x\n * @param {number} width\n * @param {string} [textAlign='left']\n * @return {number} Adjusted x.\n */\n\n\nfunction adjustTextX(x, width, textAlign) {\n  // FIXME Right to left language\n  if (textAlign === 'right') {\n    x -= width;\n  } else if (textAlign === 'center') {\n    x -= width / 2;\n  }\n\n  return x;\n}\n/**\n * @public\n * @param {number} y\n * @param {number} height\n * @param {string} [textVerticalAlign='top']\n * @return {number} Adjusted y.\n */\n\n\nfunction adjustTextY(y, height, textVerticalAlign) {\n  if (textVerticalAlign === 'middle') {\n    y -= height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y -= height;\n  }\n\n  return y;\n}\n/**\n * Follow same interface to `Displayable.prototype.calculateTextPosition`.\n * @public\n * @param {Obejct} [out] Prepared out object. If not input, auto created in the method.\n * @param {module:zrender/graphic/Style} style where `textPosition` and `textDistance` are visited.\n * @param {Object} rect {x, y, width, height} Rect of the host elment, according to which the text positioned.\n * @return {Object} The input `out`. Set: {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction calculateTextPosition(out, style, rect) {\n  var textPosition = style.textPosition;\n  var distance = style.textDistance;\n  var x = rect.x;\n  var y = rect.y;\n  var height = rect.height;\n  var width = rect.width;\n  var halfHeight = height / 2;\n  var textAlign = 'left';\n  var textVerticalAlign = 'top';\n\n  switch (textPosition) {\n    case 'left':\n      x -= distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'right':\n      x += distance + width;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'top':\n      x += width / 2;\n      y -= distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'bottom':\n      x += width / 2;\n      y += height + distance;\n      textAlign = 'center';\n      break;\n\n    case 'inside':\n      x += width / 2;\n      y += halfHeight;\n      textAlign = 'center';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideLeft':\n      x += distance;\n      y += halfHeight;\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideRight':\n      x += width - distance;\n      y += halfHeight;\n      textAlign = 'right';\n      textVerticalAlign = 'middle';\n      break;\n\n    case 'insideTop':\n      x += width / 2;\n      y += distance;\n      textAlign = 'center';\n      break;\n\n    case 'insideBottom':\n      x += width / 2;\n      y += height - distance;\n      textAlign = 'center';\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideTopLeft':\n      x += distance;\n      y += distance;\n      break;\n\n    case 'insideTopRight':\n      x += width - distance;\n      y += distance;\n      textAlign = 'right';\n      break;\n\n    case 'insideBottomLeft':\n      x += distance;\n      y += height - distance;\n      textVerticalAlign = 'bottom';\n      break;\n\n    case 'insideBottomRight':\n      x += width - distance;\n      y += height - distance;\n      textAlign = 'right';\n      textVerticalAlign = 'bottom';\n      break;\n  }\n\n  out = out || {};\n  out.x = x;\n  out.y = y;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n/**\n * To be removed. But still do not remove in case that some one has imported it.\n * @deprecated\n * @public\n * @param {stirng} textPosition\n * @param {Object} rect {x, y, width, height}\n * @param {number} distance\n * @return {Object} {x, y, textAlign, textVerticalAlign}\n */\n\n\nfunction adjustTextPositionOnRect(textPosition, rect, distance) {\n  var dummyStyle = {\n    textPosition: textPosition,\n    textDistance: distance\n  };\n  return calculateTextPosition({}, dummyStyle, rect);\n}\n/**\n * Show ellipsis if overflow.\n *\n * @public\n * @param  {string} text\n * @param  {string} containerWidth\n * @param  {string} font\n * @param  {number} [ellipsis='...']\n * @param  {Object} [options]\n * @param  {number} [options.maxIterations=3]\n * @param  {number} [options.minChar=0] If truncate result are less\n *                  then minChar, ellipsis will not show, which is\n *                  better for user hint in some cases.\n * @param  {number} [options.placeholder=''] When all truncated, use the placeholder.\n * @return {string}\n */\n\n\nfunction truncateText(text, containerWidth, font, ellipsis, options) {\n  if (!containerWidth) {\n    return '';\n  }\n\n  var textLines = (text + '').split('\\n');\n  options = prepareTruncateOptions(containerWidth, font, ellipsis, options); // FIXME\n  // It is not appropriate that every line has '...' when truncate multiple lines.\n\n  for (var i = 0, len = textLines.length; i < len; i++) {\n    textLines[i] = truncateSingleLine(textLines[i], options);\n  }\n\n  return textLines.join('\\n');\n}\n\nfunction prepareTruncateOptions(containerWidth, font, ellipsis, options) {\n  options = extend({}, options);\n  options.font = font;\n  var ellipsis = retrieve2(ellipsis, '...');\n  options.maxIterations = retrieve2(options.maxIterations, 2);\n  var minChar = options.minChar = retrieve2(options.minChar, 0); // FIXME\n  // Other languages?\n\n  options.cnCharWidth = getWidth('', font); // FIXME\n  // Consider proportional font?\n\n  var ascCharWidth = options.ascCharWidth = getWidth('a', font);\n  options.placeholder = retrieve2(options.placeholder, ''); // Example 1: minChar: 3, text: 'asdfzxcv', truncate result: 'asdf', but not: 'a...'.\n  // Example 2: minChar: 3, text: '', truncate result: '', but not: '...'.\n\n  var contentWidth = containerWidth = Math.max(0, containerWidth - 1); // Reserve some gap.\n\n  for (var i = 0; i < minChar && contentWidth >= ascCharWidth; i++) {\n    contentWidth -= ascCharWidth;\n  }\n\n  var ellipsisWidth = getWidth(ellipsis, font);\n\n  if (ellipsisWidth > contentWidth) {\n    ellipsis = '';\n    ellipsisWidth = 0;\n  }\n\n  contentWidth = containerWidth - ellipsisWidth;\n  options.ellipsis = ellipsis;\n  options.ellipsisWidth = ellipsisWidth;\n  options.contentWidth = contentWidth;\n  options.containerWidth = containerWidth;\n  return options;\n}\n\nfunction truncateSingleLine(textLine, options) {\n  var containerWidth = options.containerWidth;\n  var font = options.font;\n  var contentWidth = options.contentWidth;\n\n  if (!containerWidth) {\n    return '';\n  }\n\n  var lineWidth = getWidth(textLine, font);\n\n  if (lineWidth <= containerWidth) {\n    return textLine;\n  }\n\n  for (var j = 0;; j++) {\n    if (lineWidth <= contentWidth || j >= options.maxIterations) {\n      textLine += options.ellipsis;\n      break;\n    }\n\n    var subLength = j === 0 ? estimateLength(textLine, contentWidth, options.ascCharWidth, options.cnCharWidth) : lineWidth > 0 ? Math.floor(textLine.length * contentWidth / lineWidth) : 0;\n    textLine = textLine.substr(0, subLength);\n    lineWidth = getWidth(textLine, font);\n  }\n\n  if (textLine === '') {\n    textLine = options.placeholder;\n  }\n\n  return textLine;\n}\n\nfunction estimateLength(text, contentWidth, ascCharWidth, cnCharWidth) {\n  var width = 0;\n  var i = 0;\n\n  for (var len = text.length; i < len && width < contentWidth; i++) {\n    var charCode = text.charCodeAt(i);\n    width += 0 <= charCode && charCode <= 127 ? ascCharWidth : cnCharWidth;\n  }\n\n  return i;\n}\n/**\n * @public\n * @param {string} font\n * @return {number} line height\n */\n\n\nfunction getLineHeight(font) {\n  // FIXME A rough approach.\n  return getWidth('', font);\n}\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @return {Object} width\n */\n\n\nfunction measureText(text, font) {\n  return methods.measureText(text, font);\n} // Avoid assign to an exported variable, for transforming to cjs.\n\n\nmethods.measureText = function (text, font) {\n  var ctx = getContext();\n  ctx.font = font || DEFAULT_FONT;\n  return ctx.measureText(text);\n};\n/**\n * @public\n * @param {string} text\n * @param {string} font\n * @param {Object} [truncate]\n * @return {Object} block: {lineHeight, lines, height, outerHeight}\n *  Notice: for performance, do not calculate outerWidth util needed.\n */\n\n\nfunction parsePlainText(text, font, padding, textLineHeight, truncate) {\n  text != null && (text += '');\n  var lineHeight = retrieve2(textLineHeight, getLineHeight(font));\n  var lines = text ? text.split('\\n') : [];\n  var height = lines.length * lineHeight;\n  var outerHeight = height;\n\n  if (padding) {\n    outerHeight += padding[0] + padding[2];\n  }\n\n  if (text && truncate) {\n    var truncOuterHeight = truncate.outerHeight;\n    var truncOuterWidth = truncate.outerWidth;\n\n    if (truncOuterHeight != null && outerHeight > truncOuterHeight) {\n      text = '';\n      lines = [];\n    } else if (truncOuterWidth != null) {\n      var options = prepareTruncateOptions(truncOuterWidth - (padding ? padding[1] + padding[3] : 0), font, truncate.ellipsis, {\n        minChar: truncate.minChar,\n        placeholder: truncate.placeholder\n      }); // FIXME\n      // It is not appropriate that every line has '...' when truncate multiple lines.\n\n      for (var i = 0, len = lines.length; i < len; i++) {\n        lines[i] = truncateSingleLine(lines[i], options);\n      }\n    }\n  }\n\n  return {\n    lines: lines,\n    height: height,\n    outerHeight: outerHeight,\n    lineHeight: lineHeight\n  };\n}\n/**\n * For example: 'some text {a|some text}other text{b|some text}xxx{c|}xxx'\n * Also consider 'bbbb{a|xxx\\nzzz}xxxx\\naaaa'.\n *\n * @public\n * @param {string} text\n * @param {Object} style\n * @return {Object} block\n * {\n *      width,\n *      height,\n *      lines: [{\n *          lineHeight,\n *          width,\n *          tokens: [[{\n *              styleName,\n *              text,\n *              width,      // include textPadding\n *              height,     // include textPadding\n *              textWidth, // pure text width\n *              textHeight, // pure text height\n *              lineHeihgt,\n *              font,\n *              textAlign,\n *              textVerticalAlign\n *          }], [...], ...]\n *      }, ...]\n * }\n * If styleName is undefined, it is plain text.\n */\n\n\nfunction parseRichText(text, style) {\n  var contentBlock = {\n    lines: [],\n    width: 0,\n    height: 0\n  };\n  text != null && (text += '');\n\n  if (!text) {\n    return contentBlock;\n  }\n\n  var lastIndex = STYLE_REG.lastIndex = 0;\n  var result;\n\n  while ((result = STYLE_REG.exec(text)) != null) {\n    var matchedIndex = result.index;\n\n    if (matchedIndex > lastIndex) {\n      pushTokens(contentBlock, text.substring(lastIndex, matchedIndex));\n    }\n\n    pushTokens(contentBlock, result[2], result[1]);\n    lastIndex = STYLE_REG.lastIndex;\n  }\n\n  if (lastIndex < text.length) {\n    pushTokens(contentBlock, text.substring(lastIndex, text.length));\n  }\n\n  var lines = contentBlock.lines;\n  var contentHeight = 0;\n  var contentWidth = 0; // For `textWidth: 100%`\n\n  var pendingList = [];\n  var stlPadding = style.textPadding;\n  var truncate = style.truncate;\n  var truncateWidth = truncate && truncate.outerWidth;\n  var truncateHeight = truncate && truncate.outerHeight;\n\n  if (stlPadding) {\n    truncateWidth != null && (truncateWidth -= stlPadding[1] + stlPadding[3]);\n    truncateHeight != null && (truncateHeight -= stlPadding[0] + stlPadding[2]);\n  } // Calculate layout info of tokens.\n\n\n  for (var i = 0; i < lines.length; i++) {\n    var line = lines[i];\n    var lineHeight = 0;\n    var lineWidth = 0;\n\n    for (var j = 0; j < line.tokens.length; j++) {\n      var token = line.tokens[j];\n      var tokenStyle = token.styleName && style.rich[token.styleName] || {}; // textPadding should not inherit from style.\n\n      var textPadding = token.textPadding = tokenStyle.textPadding; // textFont has been asigned to font by `normalizeStyle`.\n\n      var font = token.font = tokenStyle.font || style.font; // textHeight can be used when textVerticalAlign is specified in token.\n\n      var tokenHeight = token.textHeight = retrieve2( // textHeight should not be inherited, consider it can be specified\n      // as box height of the block.\n      tokenStyle.textHeight, getLineHeight(font));\n      textPadding && (tokenHeight += textPadding[0] + textPadding[2]);\n      token.height = tokenHeight;\n      token.lineHeight = retrieve3(tokenStyle.textLineHeight, style.textLineHeight, tokenHeight);\n      token.textAlign = tokenStyle && tokenStyle.textAlign || style.textAlign;\n      token.textVerticalAlign = tokenStyle && tokenStyle.textVerticalAlign || 'middle';\n\n      if (truncateHeight != null && contentHeight + token.lineHeight > truncateHeight) {\n        return {\n          lines: [],\n          width: 0,\n          height: 0\n        };\n      }\n\n      token.textWidth = getWidth(token.text, font);\n      var tokenWidth = tokenStyle.textWidth;\n      var tokenWidthNotSpecified = tokenWidth == null || tokenWidth === 'auto'; // Percent width, can be `100%`, can be used in drawing separate\n      // line when box width is needed to be auto.\n\n      if (typeof tokenWidth === 'string' && tokenWidth.charAt(tokenWidth.length - 1) === '%') {\n        token.percentWidth = tokenWidth;\n        pendingList.push(token);\n        tokenWidth = 0; // Do not truncate in this case, because there is no user case\n        // and it is too complicated.\n      } else {\n        if (tokenWidthNotSpecified) {\n          tokenWidth = token.textWidth; // FIXME: If image is not loaded and textWidth is not specified, calling\n          // `getBoundingRect()` will not get correct result.\n\n          var textBackgroundColor = tokenStyle.textBackgroundColor;\n          var bgImg = textBackgroundColor && textBackgroundColor.image; // Use cases:\n          // (1) If image is not loaded, it will be loaded at render phase and call\n          // `dirty()` and `textBackgroundColor.image` will be replaced with the loaded\n          // image, and then the right size will be calculated here at the next tick.\n          // See `graphic/helper/text.js`.\n          // (2) If image loaded, and `textBackgroundColor.image` is image src string,\n          // use `imageHelper.findExistImage` to find cached image.\n          // `imageHelper.findExistImage` will always be called here before\n          // `imageHelper.createOrUpdateImage` in `graphic/helper/text.js#renderRichText`\n          // which ensures that image will not be rendered before correct size calcualted.\n\n          if (bgImg) {\n            bgImg = imageHelper.findExistImage(bgImg);\n\n            if (imageHelper.isImageReady(bgImg)) {\n              tokenWidth = Math.max(tokenWidth, bgImg.width * tokenHeight / bgImg.height);\n            }\n          }\n        }\n\n        var paddingW = textPadding ? textPadding[1] + textPadding[3] : 0;\n        tokenWidth += paddingW;\n        var remianTruncWidth = truncateWidth != null ? truncateWidth - lineWidth : null;\n\n        if (remianTruncWidth != null && remianTruncWidth < tokenWidth) {\n          if (!tokenWidthNotSpecified || remianTruncWidth < paddingW) {\n            token.text = '';\n            token.textWidth = tokenWidth = 0;\n          } else {\n            token.text = truncateText(token.text, remianTruncWidth - paddingW, font, truncate.ellipsis, {\n              minChar: truncate.minChar\n            });\n            token.textWidth = getWidth(token.text, font);\n            tokenWidth = token.textWidth + paddingW;\n          }\n        }\n      }\n\n      lineWidth += token.width = tokenWidth;\n      tokenStyle && (lineHeight = Math.max(lineHeight, token.lineHeight));\n    }\n\n    line.width = lineWidth;\n    line.lineHeight = lineHeight;\n    contentHeight += lineHeight;\n    contentWidth = Math.max(contentWidth, lineWidth);\n  }\n\n  contentBlock.outerWidth = contentBlock.width = retrieve2(style.textWidth, contentWidth);\n  contentBlock.outerHeight = contentBlock.height = retrieve2(style.textHeight, contentHeight);\n\n  if (stlPadding) {\n    contentBlock.outerWidth += stlPadding[1] + stlPadding[3];\n    contentBlock.outerHeight += stlPadding[0] + stlPadding[2];\n  }\n\n  for (var i = 0; i < pendingList.length; i++) {\n    var token = pendingList[i];\n    var percentWidth = token.percentWidth; // Should not base on outerWidth, because token can not be placed out of padding.\n\n    token.width = parseInt(percentWidth, 10) / 100 * contentWidth;\n  }\n\n  return contentBlock;\n}\n\nfunction pushTokens(block, str, styleName) {\n  var isEmptyStr = str === '';\n  var strs = str.split('\\n');\n  var lines = block.lines;\n\n  for (var i = 0; i < strs.length; i++) {\n    var text = strs[i];\n    var token = {\n      styleName: styleName,\n      text: text,\n      isLineHolder: !text && !isEmptyStr\n    }; // The first token should be appended to the last line.\n\n    if (!i) {\n      var tokens = (lines[lines.length - 1] || (lines[0] = {\n        tokens: []\n      })).tokens; // Consider cases:\n      // (1) ''.split('\\n') => ['', '\\n', ''], the '' at the first item\n      // (which is a placeholder) should be replaced by new token.\n      // (2) A image backage, where token likes {a|}.\n      // (3) A redundant '' will affect textAlign in line.\n      // (4) tokens with the same tplName should not be merged, because\n      // they should be displayed in different box (with border and padding).\n\n      var tokensLen = tokens.length;\n      tokensLen === 1 && tokens[0].isLineHolder ? tokens[0] = token : // Consider text is '', only insert when it is the \"lineHolder\" or\n      // \"emptyStr\". Otherwise a redundant '' will affect textAlign in line.\n      (text || !tokensLen || isEmptyStr) && tokens.push(token);\n    } // Other tokens always start a new line.\n    else {\n        // If there is '', insert it as a placeholder.\n        lines.push({\n          tokens: [token]\n        });\n      }\n  }\n}\n\nfunction makeFont(style) {\n  // FIXME in node-canvas fontWeight is before fontStyle\n  // Use `fontSize` `fontFamily` to check whether font properties are defined.\n  var font = (style.fontSize || style.fontFamily) && [style.fontStyle, style.fontWeight, (style.fontSize || 12) + 'px', // If font properties are defined, `fontFamily` should not be ignored.\n  style.fontFamily || 'sans-serif'].join(' ');\n  return font && trim(font) || style.textFont || style.font;\n}\n\nexports.DEFAULT_FONT = DEFAULT_FONT;\nexports.$override = $override;\nexports.getWidth = getWidth;\nexports.getBoundingRect = getBoundingRect;\nexports.adjustTextX = adjustTextX;\nexports.adjustTextY = adjustTextY;\nexports.calculateTextPosition = calculateTextPosition;\nexports.adjustTextPositionOnRect = adjustTextPositionOnRect;\nexports.truncateText = truncateText;\nexports.getLineHeight = getLineHeight;\nexports.measureText = measureText;\nexports.parsePlainText = parsePlainText;\nexports.parseRichText = parseRichText;\nexports.makeFont = makeFont;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar TYPE_DELIMITER = '.';\nvar IS_CONTAINER = '___EC__COMPONENT__CONTAINER___';\n/**\n * Notice, parseClassType('') should returns {main: '', sub: ''}\n * @public\n */\n\nfunction parseClassType(componentType) {\n  var ret = {\n    main: '',\n    sub: ''\n  };\n\n  if (componentType) {\n    componentType = componentType.split(TYPE_DELIMITER);\n    ret.main = componentType[0] || '';\n    ret.sub = componentType[1] || '';\n  }\n\n  return ret;\n}\n/**\n * @public\n */\n\n\nfunction checkClassType(componentType) {\n  zrUtil.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(componentType), 'componentType \"' + componentType + '\" illegal');\n}\n/**\n * @public\n */\n\n\nfunction enableClassExtend(RootClass, mandatoryMethods) {\n  RootClass.$constructor = RootClass;\n\n  RootClass.extend = function (proto) {\n    var superClass = this;\n\n    var ExtendedClass = function ExtendedClass() {\n      if (!proto.$constructor) {\n        superClass.apply(this, arguments);\n      } else {\n        proto.$constructor.apply(this, arguments);\n      }\n    };\n\n    zrUtil.extend(ExtendedClass.prototype, proto);\n    ExtendedClass.extend = this.extend;\n    ExtendedClass.superCall = superCall;\n    ExtendedClass.superApply = superApply;\n    zrUtil.inherits(ExtendedClass, this);\n    ExtendedClass.superClass = superClass;\n    return ExtendedClass;\n  };\n}\n\nvar classBase = 0;\n/**\n * Can not use instanceof, consider different scope by\n * cross domain or es module import in ec extensions.\n * Mount a method \"isInstance()\" to Clz.\n */\n\nfunction enableClassCheck(Clz) {\n  var classAttr = ['__\\0is_clz', classBase++, Math.random().toFixed(3)].join('_');\n  Clz.prototype[classAttr] = true;\n\n  Clz.isInstance = function (obj) {\n    return !!(obj && obj[classAttr]);\n  };\n} // superCall should have class info, which can not be fetch from 'this'.\n// Consider this case:\n// class A has method f,\n// class B inherits class A, overrides method f, f call superApply('f'),\n// class C inherits class B, do not overrides method f,\n// then when method of class C is called, dead loop occured.\n\n\nfunction superCall(context, methodName) {\n  var args = zrUtil.slice(arguments, 2);\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n\nfunction superApply(context, methodName, args) {\n  return this.superClass.prototype[methodName].apply(context, args);\n}\n/**\n * @param {Object} entity\n * @param {Object} options\n * @param {boolean} [options.registerWhenExtend]\n * @public\n */\n\n\nfunction enableClassManagement(entity, options) {\n  options = options || {};\n  /**\n   * Component model classes\n   * key: componentType,\n   * value:\n   *     componentClass, when componentType is 'xxx'\n   *     or Object.<subKey, componentClass>, when componentType is 'xxx.yy'\n   * @type {Object}\n   */\n\n  var storage = {};\n\n  entity.registerClass = function (Clazz, componentType) {\n    if (componentType) {\n      checkClassType(componentType);\n      componentType = parseClassType(componentType);\n\n      if (!componentType.sub) {\n        storage[componentType.main] = Clazz;\n      } else if (componentType.sub !== IS_CONTAINER) {\n        var container = makeContainer(componentType);\n        container[componentType.sub] = Clazz;\n      }\n    }\n\n    return Clazz;\n  };\n\n  entity.getClass = function (componentMainType, subType, throwWhenNotFound) {\n    var Clazz = storage[componentMainType];\n\n    if (Clazz && Clazz[IS_CONTAINER]) {\n      Clazz = subType ? Clazz[subType] : null;\n    }\n\n    if (throwWhenNotFound && !Clazz) {\n      throw new Error(!subType ? componentMainType + '.' + 'type should be specified.' : 'Component ' + componentMainType + '.' + (subType || '') + ' not exists. Load it first.');\n    }\n\n    return Clazz;\n  };\n\n  entity.getClassesByMainType = function (componentType) {\n    componentType = parseClassType(componentType);\n    var result = [];\n    var obj = storage[componentType.main];\n\n    if (obj && obj[IS_CONTAINER]) {\n      zrUtil.each(obj, function (o, type) {\n        type !== IS_CONTAINER && result.push(o);\n      });\n    } else {\n      result.push(obj);\n    }\n\n    return result;\n  };\n\n  entity.hasClass = function (componentType) {\n    // Just consider componentType.main.\n    componentType = parseClassType(componentType);\n    return !!storage[componentType.main];\n  };\n  /**\n   * @return {Array.<string>} Like ['aa', 'bb'], but can not be ['aa.xx']\n   */\n\n\n  entity.getAllClassMainTypes = function () {\n    var types = [];\n    zrUtil.each(storage, function (obj, type) {\n      types.push(type);\n    });\n    return types;\n  };\n  /**\n   * If a main type is container and has sub types\n   * @param  {string}  mainType\n   * @return {boolean}\n   */\n\n\n  entity.hasSubTypes = function (componentType) {\n    componentType = parseClassType(componentType);\n    var obj = storage[componentType.main];\n    return obj && obj[IS_CONTAINER];\n  };\n\n  entity.parseClassType = parseClassType;\n\n  function makeContainer(componentType) {\n    var container = storage[componentType.main];\n\n    if (!container || !container[IS_CONTAINER]) {\n      container = storage[componentType.main] = {};\n      container[IS_CONTAINER] = true;\n    }\n\n    return container;\n  }\n\n  if (options.registerWhenExtend) {\n    var originalExtend = entity.extend;\n\n    if (originalExtend) {\n      entity.extend = function (proto) {\n        var ExtendedClass = originalExtend.call(this, proto);\n        return entity.registerClass(ExtendedClass, proto.type);\n      };\n    }\n  }\n\n  return entity;\n}\n/**\n * @param {string|Array.<string>} properties\n */\n\n\nfunction setReadOnly(obj, properties) {// FIXME It seems broken in IE8 simulation of IE11\n  // if (!zrUtil.isArray(properties)) {\n  //     properties = properties != null ? [properties] : [];\n  // }\n  // zrUtil.each(properties, function (prop) {\n  //     var value = obj[prop];\n  //     Object.defineProperty\n  //         && Object.defineProperty(obj, prop, {\n  //             value: value, writable: false\n  //         });\n  //     zrUtil.isArray(obj[prop])\n  //         && Object.freeze\n  //         && Object.freeze(obj[prop]);\n  // });\n}\n\nexports.parseClassType = parseClassType;\nexports.enableClassExtend = enableClassExtend;\nexports.enableClassCheck = enableClassCheck;\nexports.enableClassManagement = enableClassManagement;\nexports.setReadOnly = setReadOnly;","/**\n * 3x2\n * @exports zrender/tool/matrix\n */\n\n/* global Float32Array */\nvar ArrayCtor = typeof Float32Array === 'undefined' ? Array : Float32Array;\n/**\n * Create a identity matrix.\n * @return {Float32Array|Array.<number>}\n */\n\nfunction create() {\n  var out = new ArrayCtor(6);\n  identity(out);\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n */\n\n\nfunction identity(out) {\n  out[0] = 1;\n  out[1] = 0;\n  out[2] = 0;\n  out[3] = 1;\n  out[4] = 0;\n  out[5] = 0;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m\n */\n\n\nfunction copy(out, m) {\n  out[0] = m[0];\n  out[1] = m[1];\n  out[2] = m[2];\n  out[3] = m[3];\n  out[4] = m[4];\n  out[5] = m[5];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} m1\n * @param {Float32Array|Array.<number>} m2\n */\n\n\nfunction mul(out, m1, m2) {\n  // Consider matrix.mul(m, m2, m);\n  // where out is the same as m2.\n  // So use temp variable to escape error.\n  var out0 = m1[0] * m2[0] + m1[2] * m2[1];\n  var out1 = m1[1] * m2[0] + m1[3] * m2[1];\n  var out2 = m1[0] * m2[2] + m1[2] * m2[3];\n  var out3 = m1[1] * m2[2] + m1[3] * m2[3];\n  var out4 = m1[0] * m2[4] + m1[2] * m2[5] + m1[4];\n  var out5 = m1[1] * m2[4] + m1[3] * m2[5] + m1[5];\n  out[0] = out0;\n  out[1] = out1;\n  out[2] = out2;\n  out[3] = out3;\n  out[4] = out4;\n  out[5] = out5;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction translate(out, a, v) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  out[4] = a[4] + v[0];\n  out[5] = a[5] + v[1];\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {number} rad\n */\n\n\nfunction rotate(out, a, rad) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var st = Math.sin(rad);\n  var ct = Math.cos(rad);\n  out[0] = aa * ct + ab * st;\n  out[1] = -aa * st + ab * ct;\n  out[2] = ac * ct + ad * st;\n  out[3] = -ac * st + ct * ad;\n  out[4] = ct * atx + st * aty;\n  out[5] = ct * aty - st * atx;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n * @param {Float32Array|Array.<number>} v\n */\n\n\nfunction scale(out, a, v) {\n  var vx = v[0];\n  var vy = v[1];\n  out[0] = a[0] * vx;\n  out[1] = a[1] * vy;\n  out[2] = a[2] * vx;\n  out[3] = a[3] * vy;\n  out[4] = a[4] * vx;\n  out[5] = a[5] * vy;\n  return out;\n}\n/**\n * \n * @param {Float32Array|Array.<number>} out\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction invert(out, a) {\n  var aa = a[0];\n  var ac = a[2];\n  var atx = a[4];\n  var ab = a[1];\n  var ad = a[3];\n  var aty = a[5];\n  var det = aa * ad - ab * ac;\n\n  if (!det) {\n    return null;\n  }\n\n  det = 1.0 / det;\n  out[0] = ad * det;\n  out[1] = -ab * det;\n  out[2] = -ac * det;\n  out[3] = aa * det;\n  out[4] = (ac * aty - ad * atx) * det;\n  out[5] = (ab * atx - aa * aty) * det;\n  return out;\n}\n/**\n * Clone a new matrix.\n * @param {Float32Array|Array.<number>} a\n */\n\n\nfunction clone(a) {\n  var b = create();\n  copy(b, a);\n  return b;\n}\n\nexports.create = create;\nexports.identity = identity;\nexports.copy = copy;\nexports.mul = mul;\nexports.translate = translate;\nexports.rotate = rotate;\nexports.scale = scale;\nexports.invert = invert;\nexports.clone = clone;","import _extends from 'babel-runtime/helpers/extends';\n\nfunction isPointsEq(a1, a2, isAlignPoint) {\n  if (isAlignPoint) {\n    return a1[0] === a2[0];\n  }\n\n  return a1[0] === a2[0] && a1[1] === a2[1];\n}\n\nexport function getAlignFromPlacement(builtinPlacements, placementStr, align) {\n  var baseAlign = builtinPlacements[placementStr] || {};\n  return _extends({}, baseAlign, align);\n}\nexport function getAlignPopupClassName(builtinPlacements, prefixCls, align, isAlignPoint) {\n  var points = align.points;\n\n  for (var placement in builtinPlacements) {\n    if (builtinPlacements.hasOwnProperty(placement)) {\n      if (isPointsEq(builtinPlacements[placement].points, points, isAlignPoint)) {\n        return prefixCls + '-placement-' + placement;\n      }\n    }\n  }\n\n  return '';\n}\nexport function saveRef(name, component) {\n  this[name] = component;\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    if (enumerableOnly) symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    });\n    keys.push.apply(keys, symbols);\n  }\n\n  return keys;\n}\n\nfunction _objectSpread2(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n\n    if (i % 2) {\n      ownKeys(source, true).forEach(function (key) {\n        _defineProperty(target, key, source[key]);\n      });\n    } else if (Object.getOwnPropertyDescriptors) {\n      Object.defineProperties(target, Object.getOwnPropertyDescriptors(source));\n    } else {\n      ownKeys(source).forEach(function (key) {\n        Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n      });\n    }\n  }\n\n  return target;\n}\n\nvar vendorPrefix;\nvar jsCssMap = {\n  Webkit: '-webkit-',\n  Moz: '-moz-',\n  // IE did it wrong again ...\n  ms: '-ms-',\n  O: '-o-'\n};\n\nfunction getVendorPrefix() {\n  if (vendorPrefix !== undefined) {\n    return vendorPrefix;\n  }\n\n  vendorPrefix = '';\n  var style = document.createElement('p').style;\n  var testProp = 'Transform';\n\n  for (var key in jsCssMap) {\n    if (key + testProp in style) {\n      vendorPrefix = key;\n    }\n  }\n\n  return vendorPrefix;\n}\n\nfunction getTransitionName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"TransitionProperty\") : 'transitionProperty';\n}\n\nfunction getTransformName() {\n  return getVendorPrefix() ? \"\".concat(getVendorPrefix(), \"Transform\") : 'transform';\n}\n\nfunction setTransitionProperty(node, value) {\n  var name = getTransitionName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transitionProperty') {\n      node.style.transitionProperty = value;\n    }\n  }\n}\n\nfunction setTransform(node, value) {\n  var name = getTransformName();\n\n  if (name) {\n    node.style[name] = value;\n\n    if (name !== 'transform') {\n      node.style.transform = value;\n    }\n  }\n}\n\nfunction getTransitionProperty(node) {\n  return node.style.transitionProperty || node.style[getTransitionName()];\n}\n\nfunction getTransformXY(node) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var matrix = transform.replace(/[^0-9\\-.,]/g, '').split(',');\n    return {\n      x: parseFloat(matrix[12] || matrix[4], 0),\n      y: parseFloat(matrix[13] || matrix[5], 0)\n    };\n  }\n\n  return {\n    x: 0,\n    y: 0\n  };\n}\n\nvar matrix2d = /matrix\\((.*)\\)/;\nvar matrix3d = /matrix3d\\((.*)\\)/;\n\nfunction setTransformXY(node, xy) {\n  var style = window.getComputedStyle(node, null);\n  var transform = style.getPropertyValue('transform') || style.getPropertyValue(getTransformName());\n\n  if (transform && transform !== 'none') {\n    var arr;\n    var match2d = transform.match(matrix2d);\n\n    if (match2d) {\n      match2d = match2d[1];\n      arr = match2d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[4] = xy.x;\n      arr[5] = xy.y;\n      setTransform(node, \"matrix(\".concat(arr.join(','), \")\"));\n    } else {\n      var match3d = transform.match(matrix3d)[1];\n      arr = match3d.split(',').map(function (item) {\n        return parseFloat(item, 10);\n      });\n      arr[12] = xy.x;\n      arr[13] = xy.y;\n      setTransform(node, \"matrix3d(\".concat(arr.join(','), \")\"));\n    }\n  } else {\n    setTransform(node, \"translateX(\".concat(xy.x, \"px) translateY(\").concat(xy.y, \"px) translateZ(0)\"));\n  }\n}\n\nvar RE_NUM = /[\\-+]?(?:\\d*\\.|)\\d+(?:[eE][\\-+]?\\d+|)/.source;\nvar getComputedStyleX; // https://stackoverflow.com/a/3485654/3040605\n\nfunction forceRelayout(elem) {\n  var originalStyle = elem.style.display;\n  elem.style.display = 'none';\n  elem.offsetHeight; // eslint-disable-line\n\n  elem.style.display = originalStyle;\n}\n\nfunction css(el, name, v) {\n  var value = v;\n\n  if (_typeof(name) === 'object') {\n    for (var i in name) {\n      if (name.hasOwnProperty(i)) {\n        css(el, i, name[i]);\n      }\n    }\n\n    return undefined;\n  }\n\n  if (typeof value !== 'undefined') {\n    if (typeof value === 'number') {\n      value = \"\".concat(value, \"px\");\n    }\n\n    el.style[name] = value;\n    return undefined;\n  }\n\n  return getComputedStyleX(el, name);\n}\n\nfunction getClientPosition(elem) {\n  var box;\n  var x;\n  var y;\n  var doc = elem.ownerDocument;\n  var body = doc.body;\n  var docElem = doc && doc.documentElement; //  GBS A-Grade Browsers  getBoundingClientRect \n\n  box = elem.getBoundingClientRect(); // jQuery  docElem.clientLeft/clientTop\n  //  html  body /\n  // ie6  html  margin  html  margin\n\n  x = box.left;\n  y = box.top; // In IE, most of the time, 2 extra pixels are added to the top and left\n  // due to the implicit 2-pixel inset border.  In IE6/7 quirks mode and\n  // IE6 standards mode, this border can be overridden by setting the\n  // document element's border to zero -- thus, we cannot rely on the\n  // offset always being 2 pixels.\n  // In quirks mode, the offset can be determined by querying the body's\n  // clientLeft/clientTop, but in standards mode, it is found by querying\n  // the document element's clientLeft/clientTop.  Since we already called\n  // getClientBoundingRect we have already forced a reflow, so it is not\n  // too expensive just to query them all.\n  // ie  absolute \n  //  documentElement ,quirks  body\n  //  body  html   ie < 9 html  2px \n  //  ie body html  ,ie  html,body \n  //  ie  docElem.clientTop  border-top\n  // ie7 html  2\n  //  firefox/chrome/ie9  docElem.clientTop  border-top  0\n\n  x -= docElem.clientLeft || body.clientLeft || 0;\n  y -= docElem.clientTop || body.clientTop || 0;\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getScroll(w, top) {\n  var ret = w[\"page\".concat(top ? 'Y' : 'X', \"Offset\")];\n  var method = \"scroll\".concat(top ? 'Top' : 'Left');\n\n  if (typeof ret !== 'number') {\n    var d = w.document; // ie6,7,8 standard mode\n\n    ret = d.documentElement[method];\n\n    if (typeof ret !== 'number') {\n      // quirks mode\n      ret = d.body[method];\n    }\n  }\n\n  return ret;\n}\n\nfunction getScrollLeft(w) {\n  return getScroll(w);\n}\n\nfunction getScrollTop(w) {\n  return getScroll(w, true);\n}\n\nfunction getOffset(el) {\n  var pos = getClientPosition(el);\n  var doc = el.ownerDocument;\n  var w = doc.defaultView || doc.parentWindow;\n  pos.left += getScrollLeft(w);\n  pos.top += getScrollTop(w);\n  return pos;\n}\n/**\n * A crude way of determining if an object is a window\n * @member util\n */\n\n\nfunction isWindow(obj) {\n  // must use == for ie8\n\n  /* eslint eqeqeq:0 */\n  return obj !== null && obj !== undefined && obj == obj.window;\n}\n\nfunction getDocument(node) {\n  if (isWindow(node)) {\n    return node.document;\n  }\n\n  if (node.nodeType === 9) {\n    return node;\n  }\n\n  return node.ownerDocument;\n}\n\nfunction _getComputedStyle(elem, name, cs) {\n  var computedStyle = cs;\n  var val = '';\n  var d = getDocument(elem);\n  computedStyle = computedStyle || d.defaultView.getComputedStyle(elem, null); // https://github.com/kissyteam/kissy/issues/61\n\n  if (computedStyle) {\n    val = computedStyle.getPropertyValue(name) || computedStyle[name];\n  }\n\n  return val;\n}\n\nvar _RE_NUM_NO_PX = new RegExp(\"^(\".concat(RE_NUM, \")(?!px)[a-z%]+$\"), 'i');\n\nvar RE_POS = /^(top|right|bottom|left)$/;\nvar CURRENT_STYLE = 'currentStyle';\nvar RUNTIME_STYLE = 'runtimeStyle';\nvar LEFT = 'left';\nvar PX = 'px';\n\nfunction _getComputedStyleIE(elem, name) {\n  // currentStyle maybe null\n  // http://msdn.microsoft.com/en-us/library/ms535231.aspx\n  var ret = elem[CURRENT_STYLE] && elem[CURRENT_STYLE][name]; //  width/height  pixelLeft  width/height \n  // ! CUSTOM_STYLE.height,CUSTOM_STYLE.width ,cssHook @2011-08-19\n  //  ie  offset \n  // borderWidth  borderWidth \n  // From the awesome hack by Dean Edwards\n  // http://erik.eae.net/archives/2007/07/27/18.54.15/#comment-102291\n  // If we're not dealing with a regular pixel number\n  // but a number that has a weird ending, we need to convert it to pixels\n  // exclude left right for relativity\n\n  if (_RE_NUM_NO_PX.test(ret) && !RE_POS.test(name)) {\n    // Remember the original values\n    var style = elem.style;\n    var left = style[LEFT];\n    var rsLeft = elem[RUNTIME_STYLE][LEFT]; // prevent flashing of content\n\n    elem[RUNTIME_STYLE][LEFT] = elem[CURRENT_STYLE][LEFT]; // Put in the new values to get a computed value out\n\n    style[LEFT] = name === 'fontSize' ? '1em' : ret || 0;\n    ret = style.pixelLeft + PX; // Revert the changed values\n\n    style[LEFT] = left;\n    elem[RUNTIME_STYLE][LEFT] = rsLeft;\n  }\n\n  return ret === '' ? 'auto' : ret;\n}\n\nif (typeof window !== 'undefined') {\n  getComputedStyleX = window.getComputedStyle ? _getComputedStyle : _getComputedStyleIE;\n}\n\nfunction getOffsetDirection(dir, option) {\n  if (dir === 'left') {\n    return option.useCssRight ? 'right' : dir;\n  }\n\n  return option.useCssBottom ? 'bottom' : dir;\n}\n\nfunction oppositeOffsetDirection(dir) {\n  if (dir === 'left') {\n    return 'right';\n  } else if (dir === 'right') {\n    return 'left';\n  } else if (dir === 'top') {\n    return 'bottom';\n  } else if (dir === 'bottom') {\n    return 'top';\n  }\n} //  elem  elem.ownerDocument \n\n\nfunction setLeftTop(elem, offset, option) {\n  // set position first, in-case top/left are set even on static elem\n  if (css(elem, 'position') === 'static') {\n    elem.style.position = 'relative';\n  }\n\n  var presetH = -999;\n  var presetV = -999;\n  var horizontalProperty = getOffsetDirection('left', option);\n  var verticalProperty = getOffsetDirection('top', option);\n  var oppositeHorizontalProperty = oppositeOffsetDirection(horizontalProperty);\n  var oppositeVerticalProperty = oppositeOffsetDirection(verticalProperty);\n\n  if (horizontalProperty !== 'left') {\n    presetH = 999;\n  }\n\n  if (verticalProperty !== 'top') {\n    presetV = 999;\n  }\n\n  var originalTransition = '';\n  var originalOffset = getOffset(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    originalTransition = getTransitionProperty(elem) || '';\n    setTransitionProperty(elem, 'none');\n  }\n\n  if ('left' in offset) {\n    elem.style[oppositeHorizontalProperty] = '';\n    elem.style[horizontalProperty] = \"\".concat(presetH, \"px\");\n  }\n\n  if ('top' in offset) {\n    elem.style[oppositeVerticalProperty] = '';\n    elem.style[verticalProperty] = \"\".concat(presetV, \"px\");\n  } // force relayout\n\n\n  forceRelayout(elem);\n  var old = getOffset(elem);\n  var originalStyle = {};\n\n  for (var key in offset) {\n    if (offset.hasOwnProperty(key)) {\n      var dir = getOffsetDirection(key, option);\n      var preset = key === 'left' ? presetH : presetV;\n      var off = originalOffset[key] - old[key];\n\n      if (dir === key) {\n        originalStyle[dir] = preset + off;\n      } else {\n        originalStyle[dir] = preset - off;\n      }\n    }\n  }\n\n  css(elem, originalStyle); // force relayout\n\n  forceRelayout(elem);\n\n  if ('left' in offset || 'top' in offset) {\n    setTransitionProperty(elem, originalTransition);\n  }\n\n  var ret = {};\n\n  for (var _key in offset) {\n    if (offset.hasOwnProperty(_key)) {\n      var _dir = getOffsetDirection(_key, option);\n\n      var _off = offset[_key] - originalOffset[_key];\n\n      if (_key === _dir) {\n        ret[_dir] = originalStyle[_dir] + _off;\n      } else {\n        ret[_dir] = originalStyle[_dir] - _off;\n      }\n    }\n  }\n\n  css(elem, ret);\n}\n\nfunction setTransform$1(elem, offset) {\n  var originalOffset = getOffset(elem);\n  var originalXY = getTransformXY(elem);\n  var resultXY = {\n    x: originalXY.x,\n    y: originalXY.y\n  };\n\n  if ('left' in offset) {\n    resultXY.x = originalXY.x + offset.left - originalOffset.left;\n  }\n\n  if ('top' in offset) {\n    resultXY.y = originalXY.y + offset.top - originalOffset.top;\n  }\n\n  setTransformXY(elem, resultXY);\n}\n\nfunction setOffset(elem, offset, option) {\n  if (option.ignoreShake) {\n    var oriOffset = getOffset(elem);\n    var oLeft = oriOffset.left.toFixed(0);\n    var oTop = oriOffset.top.toFixed(0);\n    var tLeft = offset.left.toFixed(0);\n    var tTop = offset.top.toFixed(0);\n\n    if (oLeft === tLeft && oTop === tTop) {\n      return;\n    }\n  }\n\n  if (option.useCssRight || option.useCssBottom) {\n    setLeftTop(elem, offset, option);\n  } else if (option.useCssTransform && getTransformName() in document.body.style) {\n    setTransform$1(elem, offset);\n  } else {\n    setLeftTop(elem, offset, option);\n  }\n}\n\nfunction each(arr, fn) {\n  for (var i = 0; i < arr.length; i++) {\n    fn(arr[i]);\n  }\n}\n\nfunction isBorderBoxFn(elem) {\n  return getComputedStyleX(elem, 'boxSizing') === 'border-box';\n}\n\nvar BOX_MODELS = ['margin', 'border', 'padding'];\nvar CONTENT_INDEX = -1;\nvar PADDING_INDEX = 2;\nvar BORDER_INDEX = 1;\nvar MARGIN_INDEX = 0;\n\nfunction swap(elem, options, callback) {\n  var old = {};\n  var style = elem.style;\n  var name; // Remember the old values, and insert the new ones\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      old[name] = style[name];\n      style[name] = options[name];\n    }\n  }\n\n  callback.call(elem); // Revert the old values\n\n  for (name in options) {\n    if (options.hasOwnProperty(name)) {\n      style[name] = old[name];\n    }\n  }\n}\n\nfunction getPBMWidth(elem, props, which) {\n  var value = 0;\n  var prop;\n  var j;\n  var i;\n\n  for (j = 0; j < props.length; j++) {\n    prop = props[j];\n\n    if (prop) {\n      for (i = 0; i < which.length; i++) {\n        var cssProp = void 0;\n\n        if (prop === 'border') {\n          cssProp = \"\".concat(prop).concat(which[i], \"Width\");\n        } else {\n          cssProp = prop + which[i];\n        }\n\n        value += parseFloat(getComputedStyleX(elem, cssProp)) || 0;\n      }\n    }\n  }\n\n  return value;\n}\n\nvar domUtils = {\n  getParent: function getParent(element) {\n    var parent = element;\n\n    do {\n      if (parent.nodeType === 11 && parent.host) {\n        parent = parent.host;\n      } else {\n        parent = parent.parentNode;\n      }\n    } while (parent && parent.nodeType !== 1 && parent.nodeType !== 9);\n\n    return parent;\n  }\n};\neach(['Width', 'Height'], function (name) {\n  domUtils[\"doc\".concat(name)] = function (refWin) {\n    var d = refWin.document;\n    return Math.max( // firefox chrome documentElement.scrollHeight< body.scrollHeight\n    // ie standard mode : documentElement.scrollHeight> body.scrollHeight\n    d.documentElement[\"scroll\".concat(name)], // quirks : documentElement.scrollHeight \n    d.body[\"scroll\".concat(name)], domUtils[\"viewport\".concat(name)](d));\n  };\n\n  domUtils[\"viewport\".concat(name)] = function (win) {\n    // pc browser includes scrollbar in window.innerWidth\n    var prop = \"client\".concat(name);\n    var doc = win.document;\n    var body = doc.body;\n    var documentElement = doc.documentElement;\n    var documentElementProp = documentElement[prop]; //  documentElement\n    // backcompat  body\n\n    return doc.compatMode === 'CSS1Compat' && documentElementProp || body && body[prop] || documentElementProp;\n  };\n});\n/*\n \n @param elem\n @param name\n @param {String} [extra]  'padding' : (css width) + padding\n 'border' : (css width) + padding + border\n 'margin' : (css width) + padding + border + margin\n */\n\nfunction getWH(elem, name, ex) {\n  var extra = ex;\n\n  if (isWindow(elem)) {\n    return name === 'width' ? domUtils.viewportWidth(elem) : domUtils.viewportHeight(elem);\n  } else if (elem.nodeType === 9) {\n    return name === 'width' ? domUtils.docWidth(elem) : domUtils.docHeight(elem);\n  }\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n  var borderBoxValue = name === 'width' ? elem.getBoundingClientRect().width : elem.getBoundingClientRect().height;\n  var computedStyle = getComputedStyleX(elem);\n  var isBorderBox = isBorderBoxFn(elem);\n  var cssBoxValue = 0;\n\n  if (borderBoxValue === null || borderBoxValue === undefined || borderBoxValue <= 0) {\n    borderBoxValue = undefined; // Fall back to computed then un computed css if necessary\n\n    cssBoxValue = getComputedStyleX(elem, name);\n\n    if (cssBoxValue === null || cssBoxValue === undefined || Number(cssBoxValue) < 0) {\n      cssBoxValue = elem.style[name] || 0;\n    } // Normalize '', auto, and prepare for extra\n\n\n    cssBoxValue = parseFloat(cssBoxValue) || 0;\n  }\n\n  if (extra === undefined) {\n    extra = isBorderBox ? BORDER_INDEX : CONTENT_INDEX;\n  }\n\n  var borderBoxValueOrIsBorderBox = borderBoxValue !== undefined || isBorderBox;\n  var val = borderBoxValue || cssBoxValue;\n\n  if (extra === CONTENT_INDEX) {\n    if (borderBoxValueOrIsBorderBox) {\n      return val - getPBMWidth(elem, ['border', 'padding'], which);\n    }\n\n    return cssBoxValue;\n  } else if (borderBoxValueOrIsBorderBox) {\n    if (extra === BORDER_INDEX) {\n      return val;\n    }\n\n    return val + (extra === PADDING_INDEX ? -getPBMWidth(elem, ['border'], which) : getPBMWidth(elem, ['margin'], which));\n  }\n\n  return cssBoxValue + getPBMWidth(elem, BOX_MODELS.slice(extra), which);\n}\n\nvar cssShow = {\n  position: 'absolute',\n  visibility: 'hidden',\n  display: 'block'\n}; // fix #119 : https://github.com/kissyteam/kissy/issues/119\n\nfunction getWHIgnoreDisplay() {\n  for (var _len = arguments.length, args = new Array(_len), _key2 = 0; _key2 < _len; _key2++) {\n    args[_key2] = arguments[_key2];\n  }\n\n  var val;\n  var elem = args[0]; // in case elem is window\n  // elem.offsetWidth === undefined\n\n  if (elem.offsetWidth !== 0) {\n    val = getWH.apply(undefined, args);\n  } else {\n    swap(elem, cssShow, function () {\n      val = getWH.apply(undefined, args);\n    });\n  }\n\n  return val;\n}\n\neach(['width', 'height'], function (name) {\n  var first = name.charAt(0).toUpperCase() + name.slice(1);\n\n  domUtils[\"outer\".concat(first)] = function (el, includeMargin) {\n    return el && getWHIgnoreDisplay(el, name, includeMargin ? MARGIN_INDEX : BORDER_INDEX);\n  };\n\n  var which = name === 'width' ? ['Left', 'Right'] : ['Top', 'Bottom'];\n\n  domUtils[name] = function (elem, v) {\n    var val = v;\n\n    if (val !== undefined) {\n      if (elem) {\n        var computedStyle = getComputedStyleX(elem);\n        var isBorderBox = isBorderBoxFn(elem);\n\n        if (isBorderBox) {\n          val += getPBMWidth(elem, ['padding', 'border'], which);\n        }\n\n        return css(elem, name, val);\n      }\n\n      return undefined;\n    }\n\n    return elem && getWHIgnoreDisplay(elem, name, CONTENT_INDEX);\n  };\n});\n\nfunction mix(to, from) {\n  for (var i in from) {\n    if (from.hasOwnProperty(i)) {\n      to[i] = from[i];\n    }\n  }\n\n  return to;\n}\n\nvar utils = {\n  getWindow: function getWindow(node) {\n    if (node && node.document && node.setTimeout) {\n      return node;\n    }\n\n    var doc = node.ownerDocument || node;\n    return doc.defaultView || doc.parentWindow;\n  },\n  getDocument: getDocument,\n  offset: function offset(el, value, option) {\n    if (typeof value !== 'undefined') {\n      setOffset(el, value, option || {});\n    } else {\n      return getOffset(el);\n    }\n  },\n  isWindow: isWindow,\n  each: each,\n  css: css,\n  clone: function clone(obj) {\n    var i;\n    var ret = {};\n\n    for (i in obj) {\n      if (obj.hasOwnProperty(i)) {\n        ret[i] = obj[i];\n      }\n    }\n\n    var overflow = obj.overflow;\n\n    if (overflow) {\n      for (i in obj) {\n        if (obj.hasOwnProperty(i)) {\n          ret.overflow[i] = obj.overflow[i];\n        }\n      }\n    }\n\n    return ret;\n  },\n  mix: mix,\n  getWindowScrollLeft: function getWindowScrollLeft(w) {\n    return getScrollLeft(w);\n  },\n  getWindowScrollTop: function getWindowScrollTop(w) {\n    return getScrollTop(w);\n  },\n  merge: function merge() {\n    var ret = {};\n\n    for (var i = 0; i < arguments.length; i++) {\n      utils.mix(ret, i < 0 || arguments.length <= i ? undefined : arguments[i]);\n    }\n\n    return ret;\n  },\n  viewportWidth: 0,\n  viewportHeight: 0\n};\nmix(utils, domUtils);\n/**\n * \n */\n\nvar getParent = utils.getParent;\n\nfunction getOffsetParent(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return null;\n  } // ie \n\n  /*\n   <div style=\"width: 50px;height: 100px;overflow: hidden\">\n   <div style=\"width: 50px;height: 100px;position: relative;\" id=\"d6\">\n    6  100px  50px<br/>\n   </div>\n   </div>\n   */\n  // element.offsetParent does the right thing in ie7 and below. Return parent with layout!\n  //  In other browsers it only includes elements with position absolute, relative or\n  // fixed, not elements with overflow set to auto or scroll.\n  //        if (UA.ie && ieMode < 8) {\n  //            return element.offsetParent;\n  //        }\n  //  offsetParent \n\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent;\n  var positionStyle = utils.css(element, 'position');\n  var skipStatic = positionStyle === 'fixed' || positionStyle === 'absolute';\n\n  if (!skipStatic) {\n    return element.nodeName.toLowerCase() === 'html' ? null : getParent(element);\n  }\n\n  for (parent = getParent(element); parent && parent !== body; parent = getParent(parent)) {\n    positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle !== 'static') {\n      return parent;\n    }\n  }\n\n  return null;\n}\n\nvar getParent$1 = utils.getParent;\n\nfunction isAncestorFixed(element) {\n  if (utils.isWindow(element) || element.nodeType === 9) {\n    return false;\n  }\n\n  var doc = utils.getDocument(element);\n  var body = doc.body;\n  var parent = null;\n\n  for (parent = getParent$1(element); parent && parent !== body; parent = getParent$1(parent)) {\n    var positionStyle = utils.css(parent, 'position');\n\n    if (positionStyle === 'fixed') {\n      return true;\n    }\n  }\n\n  return false;\n}\n/**\n * \n */\n\n\nfunction getVisibleRectForElement(element) {\n  var visibleRect = {\n    left: 0,\n    right: Infinity,\n    top: 0,\n    bottom: Infinity\n  };\n  var el = getOffsetParent(element);\n  var doc = utils.getDocument(element);\n  var win = doc.defaultView || doc.parentWindow;\n  var body = doc.body;\n  var documentElement = doc.documentElement; // Determine the size of the visible rect by climbing the dom accounting for\n  // all scrollable containers.\n\n  while (el) {\n    // clientWidth is zero for inline block elements in ie.\n    if ((navigator.userAgent.indexOf('MSIE') === -1 || el.clientWidth !== 0) && // body may have overflow set on it, yet we still get the entire\n    // viewport. In some browsers, el.offsetParent may be\n    // document.documentElement, so check for that too.\n    el !== body && el !== documentElement && utils.css(el, 'overflow') !== 'visible') {\n      var pos = utils.offset(el); // add border\n\n      pos.left += el.clientLeft;\n      pos.top += el.clientTop;\n      visibleRect.top = Math.max(visibleRect.top, pos.top);\n      visibleRect.right = Math.min(visibleRect.right, // consider area without scrollBar\n      pos.left + el.clientWidth);\n      visibleRect.bottom = Math.min(visibleRect.bottom, pos.top + el.clientHeight);\n      visibleRect.left = Math.max(visibleRect.left, pos.left);\n    } else if (el === body || el === documentElement) {\n      break;\n    }\n\n    el = getOffsetParent(el);\n  } // Set element position to fixed\n  // make sure absolute element itself don't affect it's visible area\n  // https://github.com/ant-design/ant-design/issues/7601\n\n\n  var originalPosition = null;\n\n  if (!utils.isWindow(element) && element.nodeType !== 9) {\n    originalPosition = element.style.position;\n    var position = utils.css(element, 'position');\n\n    if (position === 'absolute') {\n      element.style.position = 'fixed';\n    }\n  }\n\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n  var documentWidth = documentElement.scrollWidth;\n  var documentHeight = documentElement.scrollHeight; // scrollXXX on html is sync with body which means overflow: hidden on body gets wrong scrollXXX.\n  // We should cut this ourself.\n\n  var bodyStyle = window.getComputedStyle(body);\n\n  if (bodyStyle.overflowX === 'hidden') {\n    documentWidth = win.innerWidth;\n  }\n\n  if (bodyStyle.overflowY === 'hidden') {\n    documentHeight = win.innerHeight;\n  } // Reset element position after calculate the visible area\n\n\n  if (element.style) {\n    element.style.position = originalPosition;\n  }\n\n  if (isAncestorFixed(element)) {\n    // Clip by viewport's size.\n    visibleRect.left = Math.max(visibleRect.left, scrollX);\n    visibleRect.top = Math.max(visibleRect.top, scrollY);\n    visibleRect.right = Math.min(visibleRect.right, scrollX + viewportWidth);\n    visibleRect.bottom = Math.min(visibleRect.bottom, scrollY + viewportHeight);\n  } else {\n    // Clip by document's size.\n    var maxVisibleWidth = Math.max(documentWidth, scrollX + viewportWidth);\n    visibleRect.right = Math.min(visibleRect.right, maxVisibleWidth);\n    var maxVisibleHeight = Math.max(documentHeight, scrollY + viewportHeight);\n    visibleRect.bottom = Math.min(visibleRect.bottom, maxVisibleHeight);\n  }\n\n  return visibleRect.top >= 0 && visibleRect.left >= 0 && visibleRect.bottom > visibleRect.top && visibleRect.right > visibleRect.left ? visibleRect : null;\n}\n\nfunction adjustForViewport(elFuturePos, elRegion, visibleRect, overflow) {\n  var pos = utils.clone(elFuturePos);\n  var size = {\n    width: elRegion.width,\n    height: elRegion.height\n  };\n\n  if (overflow.adjustX && pos.left < visibleRect.left) {\n    pos.left = visibleRect.left;\n  } // Left edge inside and right edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeWidth && pos.left >= visibleRect.left && pos.left + size.width > visibleRect.right) {\n    size.width -= pos.left + size.width - visibleRect.right;\n  } // Right edge outside viewport, try to move it.\n\n\n  if (overflow.adjustX && pos.left + size.width > visibleRect.right) {\n    // \n    pos.left = Math.max(visibleRect.right - size.width, visibleRect.left);\n  } // Top edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top < visibleRect.top) {\n    pos.top = visibleRect.top;\n  } // Top edge inside and bottom edge outside viewport, try to resize it.\n\n\n  if (overflow.resizeHeight && pos.top >= visibleRect.top && pos.top + size.height > visibleRect.bottom) {\n    size.height -= pos.top + size.height - visibleRect.bottom;\n  } // Bottom edge outside viewport, try to move it.\n\n\n  if (overflow.adjustY && pos.top + size.height > visibleRect.bottom) {\n    // \n    pos.top = Math.max(visibleRect.bottom - size.height, visibleRect.top);\n  }\n\n  return utils.mix(pos, size);\n}\n\nfunction getRegion(node) {\n  var offset;\n  var w;\n  var h;\n\n  if (!utils.isWindow(node) && node.nodeType !== 9) {\n    offset = utils.offset(node);\n    w = utils.outerWidth(node);\n    h = utils.outerHeight(node);\n  } else {\n    var win = utils.getWindow(node);\n    offset = {\n      left: utils.getWindowScrollLeft(win),\n      top: utils.getWindowScrollTop(win)\n    };\n    w = utils.viewportWidth(win);\n    h = utils.viewportHeight(win);\n  }\n\n  offset.width = w;\n  offset.height = h;\n  return offset;\n}\n/**\n *  node  align  \n */\n\n\nfunction getAlignOffset(region, align) {\n  var V = align.charAt(0);\n  var H = align.charAt(1);\n  var w = region.width;\n  var h = region.height;\n  var x = region.left;\n  var y = region.top;\n\n  if (V === 'c') {\n    y += h / 2;\n  } else if (V === 'b') {\n    y += h;\n  }\n\n  if (H === 'c') {\n    x += w / 2;\n  } else if (H === 'r') {\n    x += w;\n  }\n\n  return {\n    left: x,\n    top: y\n  };\n}\n\nfunction getElFuturePos(elRegion, refNodeRegion, points, offset, targetOffset) {\n  var p1 = getAlignOffset(refNodeRegion, points[1]);\n  var p2 = getAlignOffset(elRegion, points[0]);\n  var diff = [p2.left - p1.left, p2.top - p1.top];\n  return {\n    left: Math.round(elRegion.left - diff[0] + offset[0] - targetOffset[0]),\n    top: Math.round(elRegion.top - diff[1] + offset[1] - targetOffset[1])\n  };\n}\n/**\n * align dom node flexibly\n * @author yiminghe@gmail.com\n */\n\n\nfunction isFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left < visibleRect.left || elFuturePos.left + elRegion.width > visibleRect.right;\n}\n\nfunction isFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top < visibleRect.top || elFuturePos.top + elRegion.height > visibleRect.bottom;\n}\n\nfunction isCompleteFailX(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.left > visibleRect.right || elFuturePos.left + elRegion.width < visibleRect.left;\n}\n\nfunction isCompleteFailY(elFuturePos, elRegion, visibleRect) {\n  return elFuturePos.top > visibleRect.bottom || elFuturePos.top + elRegion.height < visibleRect.top;\n}\n\nfunction flip(points, reg, map) {\n  var ret = [];\n  utils.each(points, function (p) {\n    ret.push(p.replace(reg, function (m) {\n      return map[m];\n    }));\n  });\n  return ret;\n}\n\nfunction flipOffset(offset, index) {\n  offset[index] = -offset[index];\n  return offset;\n}\n\nfunction convertOffset(str, offsetLen) {\n  var n;\n\n  if (/%$/.test(str)) {\n    n = parseInt(str.substring(0, str.length - 1), 10) / 100 * offsetLen;\n  } else {\n    n = parseInt(str, 10);\n  }\n\n  return n || 0;\n}\n\nfunction normalizeOffset(offset, el) {\n  offset[0] = convertOffset(offset[0], el.width);\n  offset[1] = convertOffset(offset[1], el.height);\n}\n/**\n * @param el\n * @param tgtRegion : { left, top, width, height }\n * @param align\n */\n\n\nfunction doAlign(el, tgtRegion, align, isTgtRegionVisible) {\n  var points = align.points;\n  var offset = align.offset || [0, 0];\n  var targetOffset = align.targetOffset || [0, 0];\n  var overflow = align.overflow;\n  var source = align.source || el;\n  offset = [].concat(offset);\n  targetOffset = [].concat(targetOffset);\n  overflow = overflow || {};\n  var newOverflowCfg = {};\n  var fail = 0; // \n\n  var visibleRect = getVisibleRectForElement(source); // , left/top/width/height\n\n  var elRegion = getRegion(source); //  offset \n\n  normalizeOffset(offset, elRegion);\n  normalizeOffset(targetOffset, tgtRegion); // \n\n  var elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset); // \n\n  var newElRegion = utils.merge(elRegion, elFuturePos); // \n\n  if (visibleRect && (overflow.adjustX || overflow.adjustY) && isTgtRegionVisible) {\n    if (overflow.adjustX) {\n      // \n      if (isFailX(elFuturePos, elRegion, visibleRect)) {\n        // \n        var newPoints = flip(points, /[lr]/gi, {\n          l: 'r',\n          r: 'l'\n        }); // \n\n        var newOffset = flipOffset(offset, 0);\n        var newTargetOffset = flipOffset(targetOffset, 0);\n        var newElFuturePos = getElFuturePos(elRegion, tgtRegion, newPoints, newOffset, newTargetOffset);\n\n        if (!isCompleteFailX(newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = newPoints;\n          offset = newOffset;\n          targetOffset = newTargetOffset;\n        }\n      }\n    }\n\n    if (overflow.adjustY) {\n      // \n      if (isFailY(elFuturePos, elRegion, visibleRect)) {\n        // \n        var _newPoints = flip(points, /[tb]/gi, {\n          t: 'b',\n          b: 't'\n        }); // \n\n\n        var _newOffset = flipOffset(offset, 1);\n\n        var _newTargetOffset = flipOffset(targetOffset, 1);\n\n        var _newElFuturePos = getElFuturePos(elRegion, tgtRegion, _newPoints, _newOffset, _newTargetOffset);\n\n        if (!isCompleteFailY(_newElFuturePos, elRegion, visibleRect)) {\n          fail = 1;\n          points = _newPoints;\n          offset = _newOffset;\n          targetOffset = _newTargetOffset;\n        }\n      }\n    } // \n\n\n    if (fail) {\n      elFuturePos = getElFuturePos(elRegion, tgtRegion, points, offset, targetOffset);\n      utils.mix(newElRegion, elFuturePos);\n    }\n\n    var isStillFailX = isFailX(elFuturePos, elRegion, visibleRect);\n    var isStillFailY = isFailY(elFuturePos, elRegion, visibleRect); // \n    // 1. \n\n    if (isStillFailX || isStillFailY) {\n      points = align.points;\n      offset = align.offset || [0, 0];\n      targetOffset = align.targetOffset || [0, 0];\n    } // 2. \n\n\n    newOverflowCfg.adjustX = overflow.adjustX && isStillFailX;\n    newOverflowCfg.adjustY = overflow.adjustY && isStillFailY; // \n\n    if (newOverflowCfg.adjustX || newOverflowCfg.adjustY) {\n      newElRegion = adjustForViewport(elFuturePos, elRegion, visibleRect, newOverflowCfg);\n    }\n  } // need judge to in case set fixed with in css on height auto element\n\n\n  if (newElRegion.width !== elRegion.width) {\n    utils.css(source, 'width', utils.width(source) + newElRegion.width - elRegion.width);\n  }\n\n  if (newElRegion.height !== elRegion.height) {\n    utils.css(source, 'height', utils.height(source) + newElRegion.height - elRegion.height);\n  } // https://github.com/kissyteam/kissy/issues/190\n  //  left/top \n  //  <div 'relative'><el absolute></div>\n\n\n  utils.offset(source, {\n    left: newElRegion.left,\n    top: newElRegion.top\n  }, {\n    useCssRight: align.useCssRight,\n    useCssBottom: align.useCssBottom,\n    useCssTransform: align.useCssTransform,\n    ignoreShake: align.ignoreShake\n  });\n  return {\n    points: points,\n    offset: offset,\n    targetOffset: targetOffset,\n    overflow: newOverflowCfg\n  };\n}\n/**\n *  2012-04-26 yiminghe@gmail.com\n *   - \n *   -  resizeXX\n *\n *  2011-07-13 yiminghe@gmail.com note:\n *   - \n **/\n\n\nfunction isOutOfVisibleRect(target) {\n  var visibleRect = getVisibleRectForElement(target);\n  var targetRegion = getRegion(target);\n  return !visibleRect || targetRegion.left + targetRegion.width <= visibleRect.left || targetRegion.top + targetRegion.height <= visibleRect.top || targetRegion.left >= visibleRect.right || targetRegion.top >= visibleRect.bottom;\n}\n\nfunction alignElement(el, refNode, align) {\n  var target = align.target || refNode;\n  var refNodeRegion = getRegion(target);\n  var isTargetNotOutOfVisible = !isOutOfVisibleRect(target);\n  return doAlign(el, refNodeRegion, align, isTargetNotOutOfVisible);\n}\n\nalignElement.__getOffsetParent = getOffsetParent;\nalignElement.__getVisibleRectForElement = getVisibleRectForElement;\n/**\n * `tgtPoint`: { pageX, pageY } or { clientX, clientY }.\n * If client position provided, will internal convert to page position.\n */\n\nfunction alignPoint(el, tgtPoint, align) {\n  var pageX;\n  var pageY;\n  var doc = utils.getDocument(el);\n  var win = doc.defaultView || doc.parentWindow;\n  var scrollX = utils.getWindowScrollLeft(win);\n  var scrollY = utils.getWindowScrollTop(win);\n  var viewportWidth = utils.viewportWidth(win);\n  var viewportHeight = utils.viewportHeight(win);\n\n  if ('pageX' in tgtPoint) {\n    pageX = tgtPoint.pageX;\n  } else {\n    pageX = scrollX + tgtPoint.clientX;\n  }\n\n  if ('pageY' in tgtPoint) {\n    pageY = tgtPoint.pageY;\n  } else {\n    pageY = scrollY + tgtPoint.clientY;\n  }\n\n  var tgtRegion = {\n    left: pageX,\n    top: pageY,\n    width: 0,\n    height: 0\n  };\n  var pointInView = pageX >= 0 && pageX <= scrollX + viewportWidth && pageY >= 0 && pageY <= scrollY + viewportHeight; // Provide default target point\n\n  var points = [align.points[0], 'cc'];\n  return doAlign(el, tgtRegion, _objectSpread2({}, align, {\n    points: points\n  }), pointInView);\n}\n\nexport default alignElement;\nexport { alignElement, alignPoint };","import contains from 'rc-util/es/Dom/contains';\nexport function buffer(fn, ms) {\n  var timer = void 0;\n\n  function clear() {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  }\n\n  function bufferFn() {\n    clear();\n    timer = setTimeout(fn, ms);\n  }\n\n  bufferFn.clear = clear;\n  return bufferFn;\n}\nexport function isSamePoint(prev, next) {\n  if (prev === next) return true;\n  if (!prev || !next) return false;\n\n  if ('pageX' in next && 'pageY' in next) {\n    return prev.pageX === next.pageX && prev.pageY === next.pageY;\n  }\n\n  if ('clientX' in next && 'clientY' in next) {\n    return prev.clientX === next.clientX && prev.clientY === next.clientY;\n  }\n\n  return false;\n}\nexport function isWindow(obj) {\n  return obj && typeof obj === 'object' && obj.window === obj;\n}\nexport function isSimilarValue(val1, val2) {\n  var int1 = Math.floor(val1);\n  var int2 = Math.floor(val2);\n  return Math.abs(int1 - int2) <= 1;\n}\nexport function restoreFocus(activeElement, container) {\n  // Focus back if is in the container\n  if (activeElement !== document.activeElement && contains(container, activeElement)) {\n    activeElement.focus();\n  }\n}","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _createClass from 'babel-runtime/helpers/createClass';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport { alignElement, alignPoint } from 'dom-align';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport { isWindow, buffer, isSamePoint, isSimilarValue, restoreFocus } from './util';\n\nfunction getElement(func) {\n  if (typeof func !== 'function' || !func) return null;\n  return func();\n}\n\nfunction getPoint(point) {\n  if (typeof point !== 'object' || !point) return null;\n  return point;\n}\n\nvar Align = function (_Component) {\n  _inherits(Align, _Component);\n\n  function Align() {\n    var _ref;\n\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Align);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, (_ref = Align.__proto__ || Object.getPrototypeOf(Align)).call.apply(_ref, [this].concat(args))), _this), _this.forceAlign = function () {\n      var _this$props = _this.props,\n          disabled = _this$props.disabled,\n          target = _this$props.target,\n          align = _this$props.align,\n          onAlign = _this$props.onAlign;\n\n      if (!disabled && target) {\n        var source = ReactDOM.findDOMNode(_this);\n        var result = void 0;\n        var element = getElement(target);\n        var point = getPoint(target); // IE lose focus after element realign\n        // We should record activeElement and restore later\n\n        var activeElement = document.activeElement;\n\n        if (element) {\n          result = alignElement(source, element, align);\n        } else if (point) {\n          result = alignPoint(source, point, align);\n        }\n\n        restoreFocus(activeElement, source);\n\n        if (onAlign) {\n          onAlign(source, result);\n        }\n      }\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  _createClass(Align, [{\n    key: 'componentDidMount',\n    value: function componentDidMount() {\n      var props = this.props; // if parent ref not attached .... use document.getElementById\n\n      this.forceAlign();\n\n      if (!props.disabled && props.monitorWindowResize) {\n        this.startMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentDidUpdate',\n    value: function componentDidUpdate(prevProps) {\n      var reAlign = false;\n      var props = this.props;\n\n      if (!props.disabled) {\n        var source = ReactDOM.findDOMNode(this);\n        var sourceRect = source ? source.getBoundingClientRect() : null;\n\n        if (prevProps.disabled) {\n          reAlign = true;\n        } else {\n          var lastElement = getElement(prevProps.target);\n          var currentElement = getElement(props.target);\n          var lastPoint = getPoint(prevProps.target);\n          var currentPoint = getPoint(props.target);\n\n          if (isWindow(lastElement) && isWindow(currentElement)) {\n            // Skip if is window\n            reAlign = false;\n          } else if (lastElement !== currentElement || // Element change\n          lastElement && !currentElement && currentPoint || // Change from element to point\n          lastPoint && currentPoint && currentElement || // Change from point to element\n          currentPoint && !isSamePoint(lastPoint, currentPoint)) {\n            reAlign = true;\n          } // If source element size changed\n\n\n          var preRect = this.sourceRect || {};\n\n          if (!reAlign && source && (!isSimilarValue(preRect.width, sourceRect.width) || !isSimilarValue(preRect.height, sourceRect.height))) {\n            reAlign = true;\n          }\n        }\n\n        this.sourceRect = sourceRect;\n      }\n\n      if (reAlign) {\n        this.forceAlign();\n      }\n\n      if (props.monitorWindowResize && !props.disabled) {\n        this.startMonitorWindowResize();\n      } else {\n        this.stopMonitorWindowResize();\n      }\n    }\n  }, {\n    key: 'componentWillUnmount',\n    value: function componentWillUnmount() {\n      this.stopMonitorWindowResize();\n    }\n  }, {\n    key: 'startMonitorWindowResize',\n    value: function startMonitorWindowResize() {\n      if (!this.resizeHandler) {\n        this.bufferMonitor = buffer(this.forceAlign, this.props.monitorBufferTime);\n        this.resizeHandler = addEventListener(window, 'resize', this.bufferMonitor);\n      }\n    }\n  }, {\n    key: 'stopMonitorWindowResize',\n    value: function stopMonitorWindowResize() {\n      if (this.resizeHandler) {\n        this.bufferMonitor.clear();\n        this.resizeHandler.remove();\n        this.resizeHandler = null;\n      }\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      var _this2 = this;\n\n      var _props = this.props,\n          childrenProps = _props.childrenProps,\n          children = _props.children;\n      var child = React.Children.only(children);\n\n      if (childrenProps) {\n        var newProps = {};\n        var propList = Object.keys(childrenProps);\n        propList.forEach(function (prop) {\n          newProps[prop] = _this2.props[childrenProps[prop]];\n        });\n        return React.cloneElement(child, newProps);\n      }\n\n      return child;\n    }\n  }]);\n\n  return Align;\n}(Component);\n\nAlign.propTypes = {\n  childrenProps: PropTypes.object,\n  align: PropTypes.object.isRequired,\n  target: PropTypes.oneOfType([PropTypes.func, PropTypes.shape({\n    clientX: PropTypes.number,\n    clientY: PropTypes.number,\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })]),\n  onAlign: PropTypes.func,\n  monitorBufferTime: PropTypes.number,\n  monitorWindowResize: PropTypes.bool,\n  disabled: PropTypes.bool,\n  children: PropTypes.any\n};\nAlign.defaultProps = {\n  target: function target() {\n    return window;\n  },\n  monitorBufferTime: 50,\n  monitorWindowResize: false,\n  disabled: false\n};\nexport default Align;","// export this package's api\nimport Align from './Align';\nexport default Align;","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nvar LazyRenderBox = function (_Component) {\n  _inherits(LazyRenderBox, _Component);\n\n  function LazyRenderBox() {\n    _classCallCheck(this, LazyRenderBox);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  LazyRenderBox.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return nextProps.hiddenClassName || nextProps.visible;\n  };\n\n  LazyRenderBox.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        props = _objectWithoutProperties(_props, ['hiddenClassName', 'visible']);\n\n    if (hiddenClassName || React.Children.count(props.children) > 1) {\n      if (!visible && hiddenClassName) {\n        props.className += ' ' + hiddenClassName;\n      }\n\n      return React.createElement('div', props);\n    }\n\n    return React.Children.only(props.children);\n  };\n\n  return LazyRenderBox;\n}(Component);\n\nLazyRenderBox.propTypes = {\n  children: PropTypes.any,\n  className: PropTypes.string,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string\n};\nexport default LazyRenderBox;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport LazyRenderBox from './LazyRenderBox';\n\nvar PopupInner = function (_Component) {\n  _inherits(PopupInner, _Component);\n\n  function PopupInner() {\n    _classCallCheck(this, PopupInner);\n\n    return _possibleConstructorReturn(this, _Component.apply(this, arguments));\n  }\n\n  PopupInner.prototype.render = function render() {\n    var props = this.props;\n    var className = props.className;\n\n    if (!props.visible) {\n      className += ' ' + props.hiddenClassName;\n    }\n\n    return React.createElement('div', {\n      className: className,\n      onMouseEnter: props.onMouseEnter,\n      onMouseLeave: props.onMouseLeave,\n      onMouseDown: props.onMouseDown,\n      onTouchStart: props.onTouchStart,\n      style: props.style\n    }, React.createElement(LazyRenderBox, {\n      className: props.prefixCls + '-content',\n      visible: props.visible\n    }, props.children));\n  };\n\n  return PopupInner;\n}(Component);\n\nPopupInner.propTypes = {\n  hiddenClassName: PropTypes.string,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  children: PropTypes.any\n};\nexport default PopupInner;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport ReactDOM from 'react-dom';\nimport Align from 'rc-align';\nimport Animate from 'rc-animate';\nimport PopupInner from './PopupInner';\nimport LazyRenderBox from './LazyRenderBox';\nimport { saveRef } from './utils';\n\nvar Popup = function (_Component) {\n  _inherits(Popup, _Component);\n\n  function Popup(props) {\n    _classCallCheck(this, Popup);\n\n    var _this = _possibleConstructorReturn(this, _Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.state = {\n      // Used for stretch\n      stretchChecked: false,\n      targetWidth: undefined,\n      targetHeight: undefined\n    };\n    _this.savePopupRef = saveRef.bind(_this, 'popupInstance');\n    _this.saveAlignRef = saveRef.bind(_this, 'alignInstance');\n    return _this;\n  }\n\n  Popup.prototype.componentDidMount = function componentDidMount() {\n    this.rootNode = this.getPopupDomNode();\n    this.setStretchSize();\n  };\n\n  Popup.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.setStretchSize();\n  }; // Record size if stretch needed\n\n\n  Popup.prototype.getPopupDomNode = function getPopupDomNode() {\n    return ReactDOM.findDOMNode(this.popupInstance);\n  }; // `target` on `rc-align` can accept as a function to get the bind element or a point.\n  // ref: https://www.npmjs.com/package/rc-align\n\n\n  Popup.prototype.getMaskTransitionName = function getMaskTransitionName() {\n    var props = this.props;\n    var transitionName = props.maskTransitionName;\n    var animation = props.maskAnimation;\n\n    if (!transitionName && animation) {\n      transitionName = props.prefixCls + '-' + animation;\n    }\n\n    return transitionName;\n  };\n\n  Popup.prototype.getTransitionName = function getTransitionName() {\n    var props = this.props;\n    var transitionName = props.transitionName;\n\n    if (!transitionName && props.animation) {\n      transitionName = props.prefixCls + '-' + props.animation;\n    }\n\n    return transitionName;\n  };\n\n  Popup.prototype.getClassName = function getClassName(currentAlignClassName) {\n    return this.props.prefixCls + ' ' + this.props.className + ' ' + currentAlignClassName;\n  };\n\n  Popup.prototype.getPopupElement = function getPopupElement() {\n    var _this2 = this;\n\n    var savePopupRef = this.savePopupRef;\n    var _state = this.state,\n        stretchChecked = _state.stretchChecked,\n        targetHeight = _state.targetHeight,\n        targetWidth = _state.targetWidth;\n    var _props = this.props,\n        align = _props.align,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        style = _props.style,\n        getClassNameFromAlign = _props.getClassNameFromAlign,\n        destroyPopupOnHide = _props.destroyPopupOnHide,\n        stretch = _props.stretch,\n        children = _props.children,\n        onMouseEnter = _props.onMouseEnter,\n        onMouseLeave = _props.onMouseLeave,\n        onMouseDown = _props.onMouseDown,\n        onTouchStart = _props.onTouchStart;\n    var className = this.getClassName(this.currentAlignClassName || getClassNameFromAlign(align));\n    var hiddenClassName = prefixCls + '-hidden';\n\n    if (!visible) {\n      this.currentAlignClassName = null;\n    }\n\n    var sizeStyle = {};\n\n    if (stretch) {\n      // Stretch with target\n      if (stretch.indexOf('height') !== -1) {\n        sizeStyle.height = targetHeight;\n      } else if (stretch.indexOf('minHeight') !== -1) {\n        sizeStyle.minHeight = targetHeight;\n      }\n\n      if (stretch.indexOf('width') !== -1) {\n        sizeStyle.width = targetWidth;\n      } else if (stretch.indexOf('minWidth') !== -1) {\n        sizeStyle.minWidth = targetWidth;\n      } // Delay force align to makes ui smooth\n\n\n      if (!stretchChecked) {\n        sizeStyle.visibility = 'hidden';\n        setTimeout(function () {\n          if (_this2.alignInstance) {\n            _this2.alignInstance.forceAlign();\n          }\n        }, 0);\n      }\n    }\n\n    var newStyle = _extends({}, sizeStyle, style, this.getZIndexStyle());\n\n    var popupInnerProps = {\n      className: className,\n      prefixCls: prefixCls,\n      ref: savePopupRef,\n      onMouseEnter: onMouseEnter,\n      onMouseLeave: onMouseLeave,\n      onMouseDown: onMouseDown,\n      onTouchStart: onTouchStart,\n      style: newStyle\n    };\n\n    if (destroyPopupOnHide) {\n      return React.createElement(Animate, {\n        component: '',\n        exclusive: true,\n        transitionAppear: true,\n        transitionName: this.getTransitionName()\n      }, visible ? React.createElement(Align, {\n        target: this.getAlignTarget(),\n        key: 'popup',\n        ref: this.saveAlignRef,\n        monitorWindowResize: true,\n        align: align,\n        onAlign: this.onAlign\n      }, React.createElement(PopupInner, _extends({\n        visible: true\n      }, popupInnerProps), children)) : null);\n    }\n\n    return React.createElement(Animate, {\n      component: '',\n      exclusive: true,\n      transitionAppear: true,\n      transitionName: this.getTransitionName(),\n      showProp: 'xVisible'\n    }, React.createElement(Align, {\n      target: this.getAlignTarget(),\n      key: 'popup',\n      ref: this.saveAlignRef,\n      monitorWindowResize: true,\n      xVisible: visible,\n      childrenProps: {\n        visible: 'xVisible'\n      },\n      disabled: !visible,\n      align: align,\n      onAlign: this.onAlign\n    }, React.createElement(PopupInner, _extends({\n      hiddenClassName: hiddenClassName\n    }, popupInnerProps), children)));\n  };\n\n  Popup.prototype.getZIndexStyle = function getZIndexStyle() {\n    var style = {};\n    var props = this.props;\n\n    if (props.zIndex !== undefined) {\n      style.zIndex = props.zIndex;\n    }\n\n    return style;\n  };\n\n  Popup.prototype.getMaskElement = function getMaskElement() {\n    var props = this.props;\n    var maskElement = void 0;\n\n    if (props.mask) {\n      var maskTransition = this.getMaskTransitionName();\n      maskElement = React.createElement(LazyRenderBox, {\n        style: this.getZIndexStyle(),\n        key: 'mask',\n        className: props.prefixCls + '-mask',\n        hiddenClassName: props.prefixCls + '-mask-hidden',\n        visible: props.visible\n      });\n\n      if (maskTransition) {\n        maskElement = React.createElement(Animate, {\n          key: 'mask',\n          showProp: 'visible',\n          transitionAppear: true,\n          component: '',\n          transitionName: maskTransition\n        }, maskElement);\n      }\n    }\n\n    return maskElement;\n  };\n\n  Popup.prototype.render = function render() {\n    return React.createElement('div', null, this.getMaskElement(), this.getPopupElement());\n  };\n\n  return Popup;\n}(Component);\n\nPopup.propTypes = {\n  visible: PropTypes.bool,\n  style: PropTypes.object,\n  getClassNameFromAlign: PropTypes.func,\n  onAlign: PropTypes.func,\n  getRootDomNode: PropTypes.func,\n  align: PropTypes.any,\n  destroyPopupOnHide: PropTypes.bool,\n  className: PropTypes.string,\n  prefixCls: PropTypes.string,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onMouseDown: PropTypes.func,\n  onTouchStart: PropTypes.func,\n  stretch: PropTypes.string,\n  children: PropTypes.node,\n  point: PropTypes.shape({\n    pageX: PropTypes.number,\n    pageY: PropTypes.number\n  })\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onAlign = function (popupDomNode, align) {\n    var props = _this3.props;\n    var currentAlignClassName = props.getClassNameFromAlign(align); // FIX: https://github.com/react-component/trigger/issues/56\n    // FIX: https://github.com/react-component/tooltip/issues/79\n\n    if (_this3.currentAlignClassName !== currentAlignClassName) {\n      _this3.currentAlignClassName = currentAlignClassName;\n      popupDomNode.className = _this3.getClassName(currentAlignClassName);\n    }\n\n    props.onAlign(popupDomNode, align);\n  };\n\n  this.setStretchSize = function () {\n    var _props2 = _this3.props,\n        stretch = _props2.stretch,\n        getRootDomNode = _props2.getRootDomNode,\n        visible = _props2.visible;\n    var _state2 = _this3.state,\n        stretchChecked = _state2.stretchChecked,\n        targetHeight = _state2.targetHeight,\n        targetWidth = _state2.targetWidth;\n\n    if (!stretch || !visible) {\n      if (stretchChecked) {\n        _this3.setState({\n          stretchChecked: false\n        });\n      }\n\n      return;\n    }\n\n    var $ele = getRootDomNode();\n    if (!$ele) return;\n    var height = $ele.offsetHeight;\n    var width = $ele.offsetWidth;\n\n    if (targetHeight !== height || targetWidth !== width || !stretchChecked) {\n      _this3.setState({\n        stretchChecked: true,\n        targetHeight: height,\n        targetWidth: width\n      });\n    }\n  };\n\n  this.getTargetElement = function () {\n    return _this3.props.getRootDomNode();\n  };\n\n  this.getAlignTarget = function () {\n    var point = _this3.props.point;\n\n    if (point) {\n      return point;\n    }\n\n    return _this3.getTargetElement;\n  };\n};\n\nexport default Popup;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { findDOMNode, createPortal } from 'react-dom';\nimport { polyfill } from 'react-lifecycles-compat';\nimport contains from 'rc-util/es/Dom/contains';\nimport addEventListener from 'rc-util/es/Dom/addEventListener';\nimport ContainerRender from 'rc-util/es/ContainerRender';\nimport Portal from 'rc-util/es/Portal';\nimport classNames from 'classnames';\nimport { getAlignFromPlacement, getAlignPopupClassName } from './utils';\nimport Popup from './Popup';\n\nfunction noop() {}\n\nfunction returnEmptyString() {\n  return '';\n}\n\nfunction returnDocument() {\n  return window.document;\n}\n\nvar ALL_HANDLERS = ['onClick', 'onMouseDown', 'onTouchStart', 'onMouseEnter', 'onMouseLeave', 'onFocus', 'onBlur', 'onContextMenu'];\nvar IS_REACT_16 = !!createPortal;\nvar contextTypes = {\n  rcTrigger: PropTypes.shape({\n    onPopupMouseDown: PropTypes.func\n  })\n};\n\nvar Trigger = function (_React$Component) {\n  _inherits(Trigger, _React$Component);\n\n  function Trigger(props) {\n    _classCallCheck(this, Trigger);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var popupVisible = void 0;\n\n    if ('popupVisible' in props) {\n      popupVisible = !!props.popupVisible;\n    } else {\n      popupVisible = !!props.defaultPopupVisible;\n    }\n\n    _this.state = {\n      prevPopupVisible: popupVisible,\n      popupVisible: popupVisible\n    };\n    ALL_HANDLERS.forEach(function (h) {\n      _this['fire' + h] = function (e) {\n        _this.fireEvents(h, e);\n      };\n    });\n    return _this;\n  }\n\n  Trigger.prototype.getChildContext = function getChildContext() {\n    return {\n      rcTrigger: {\n        onPopupMouseDown: this.onPopupMouseDown\n      }\n    };\n  };\n\n  Trigger.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate({}, {\n      popupVisible: this.state.popupVisible\n    });\n  };\n\n  Trigger.prototype.componentDidUpdate = function componentDidUpdate(_, prevState) {\n    var props = this.props;\n    var state = this.state;\n\n    var triggerAfterPopupVisibleChange = function triggerAfterPopupVisibleChange() {\n      if (prevState.popupVisible !== state.popupVisible) {\n        props.afterPopupVisibleChange(state.popupVisible);\n      }\n    };\n\n    if (!IS_REACT_16) {\n      this.renderComponent(null, triggerAfterPopupVisibleChange);\n    } // We must listen to `mousedown` or `touchstart`, edge case:\n    // https://github.com/ant-design/ant-design/issues/5804\n    // https://github.com/react-component/calendar/issues/250\n    // https://github.com/react-component/trigger/issues/50\n\n\n    if (state.popupVisible) {\n      var currentDocument = void 0;\n\n      if (!this.clickOutsideHandler && (this.isClickToHide() || this.isContextMenuToShow())) {\n        currentDocument = props.getDocument();\n        this.clickOutsideHandler = addEventListener(currentDocument, 'mousedown', this.onDocumentClick);\n      } // always hide on mobile\n\n\n      if (!this.touchOutsideHandler) {\n        currentDocument = currentDocument || props.getDocument();\n        this.touchOutsideHandler = addEventListener(currentDocument, 'touchstart', this.onDocumentClick);\n      } // close popup when trigger type contains 'onContextMenu' and document is scrolling.\n\n\n      if (!this.contextMenuOutsideHandler1 && this.isContextMenuToShow()) {\n        currentDocument = currentDocument || props.getDocument();\n        this.contextMenuOutsideHandler1 = addEventListener(currentDocument, 'scroll', this.onContextMenuClose);\n      } // close popup when trigger type contains 'onContextMenu' and window is blur.\n\n\n      if (!this.contextMenuOutsideHandler2 && this.isContextMenuToShow()) {\n        this.contextMenuOutsideHandler2 = addEventListener(window, 'blur', this.onContextMenuClose);\n      }\n\n      return;\n    }\n\n    this.clearOutsideHandler();\n  };\n\n  Trigger.prototype.componentWillUnmount = function componentWillUnmount() {\n    this.clearDelayTimer();\n    this.clearOutsideHandler();\n    clearTimeout(this.mouseDownTimeout);\n  };\n\n  Trigger.getDerivedStateFromProps = function getDerivedStateFromProps(_ref, prevState) {\n    var popupVisible = _ref.popupVisible;\n    var newState = {};\n\n    if (popupVisible !== undefined && prevState.popupVisible !== popupVisible) {\n      newState.popupVisible = popupVisible;\n      newState.prevPopupVisible = prevState.popupVisible;\n    }\n\n    return newState;\n  };\n\n  Trigger.prototype.getPopupDomNode = function getPopupDomNode() {\n    // for test\n    if (this._component && this._component.getPopupDomNode) {\n      return this._component.getPopupDomNode();\n    }\n\n    return null;\n  };\n\n  Trigger.prototype.getPopupAlign = function getPopupAlign() {\n    var props = this.props;\n    var popupPlacement = props.popupPlacement,\n        popupAlign = props.popupAlign,\n        builtinPlacements = props.builtinPlacements;\n\n    if (popupPlacement && builtinPlacements) {\n      return getAlignFromPlacement(builtinPlacements, popupPlacement, popupAlign);\n    }\n\n    return popupAlign;\n  };\n  /**\n   * @param popupVisible    Show or not the popup element\n   * @param event           SyntheticEvent, used for `pointAlign`\n   */\n\n\n  Trigger.prototype.setPopupVisible = function setPopupVisible(popupVisible, event) {\n    var alignPoint = this.props.alignPoint;\n    var prevPopupVisible = this.state.popupVisible;\n    this.clearDelayTimer();\n\n    if (prevPopupVisible !== popupVisible) {\n      if (!('popupVisible' in this.props)) {\n        this.setState({\n          popupVisible: popupVisible,\n          prevPopupVisible: prevPopupVisible\n        });\n      }\n\n      this.props.onPopupVisibleChange(popupVisible);\n    } // Always record the point position since mouseEnterDelay will delay the show\n\n\n    if (alignPoint && event) {\n      this.setPoint(event);\n    }\n  };\n\n  Trigger.prototype.delaySetPopupVisible = function delaySetPopupVisible(visible, delayS, event) {\n    var _this2 = this;\n\n    var delay = delayS * 1000;\n    this.clearDelayTimer();\n\n    if (delay) {\n      var point = event ? {\n        pageX: event.pageX,\n        pageY: event.pageY\n      } : null;\n      this.delayTimer = setTimeout(function () {\n        _this2.setPopupVisible(visible, point);\n\n        _this2.clearDelayTimer();\n      }, delay);\n    } else {\n      this.setPopupVisible(visible, event);\n    }\n  };\n\n  Trigger.prototype.clearDelayTimer = function clearDelayTimer() {\n    if (this.delayTimer) {\n      clearTimeout(this.delayTimer);\n      this.delayTimer = null;\n    }\n  };\n\n  Trigger.prototype.clearOutsideHandler = function clearOutsideHandler() {\n    if (this.clickOutsideHandler) {\n      this.clickOutsideHandler.remove();\n      this.clickOutsideHandler = null;\n    }\n\n    if (this.contextMenuOutsideHandler1) {\n      this.contextMenuOutsideHandler1.remove();\n      this.contextMenuOutsideHandler1 = null;\n    }\n\n    if (this.contextMenuOutsideHandler2) {\n      this.contextMenuOutsideHandler2.remove();\n      this.contextMenuOutsideHandler2 = null;\n    }\n\n    if (this.touchOutsideHandler) {\n      this.touchOutsideHandler.remove();\n      this.touchOutsideHandler = null;\n    }\n  };\n\n  Trigger.prototype.createTwoChains = function createTwoChains(event) {\n    var childPros = this.props.children.props;\n    var props = this.props;\n\n    if (childPros[event] && props[event]) {\n      return this['fire' + event];\n    }\n\n    return childPros[event] || props[event];\n  };\n\n  Trigger.prototype.isClickToShow = function isClickToShow() {\n    var _props = this.props,\n        action = _props.action,\n        showAction = _props.showAction;\n    return action.indexOf('click') !== -1 || showAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isContextMenuToShow = function isContextMenuToShow() {\n    var _props2 = this.props,\n        action = _props2.action,\n        showAction = _props2.showAction;\n    return action.indexOf('contextMenu') !== -1 || showAction.indexOf('contextMenu') !== -1;\n  };\n\n  Trigger.prototype.isClickToHide = function isClickToHide() {\n    var _props3 = this.props,\n        action = _props3.action,\n        hideAction = _props3.hideAction;\n    return action.indexOf('click') !== -1 || hideAction.indexOf('click') !== -1;\n  };\n\n  Trigger.prototype.isMouseEnterToShow = function isMouseEnterToShow() {\n    var _props4 = this.props,\n        action = _props4.action,\n        showAction = _props4.showAction;\n    return action.indexOf('hover') !== -1 || showAction.indexOf('mouseEnter') !== -1;\n  };\n\n  Trigger.prototype.isMouseLeaveToHide = function isMouseLeaveToHide() {\n    var _props5 = this.props,\n        action = _props5.action,\n        hideAction = _props5.hideAction;\n    return action.indexOf('hover') !== -1 || hideAction.indexOf('mouseLeave') !== -1;\n  };\n\n  Trigger.prototype.isFocusToShow = function isFocusToShow() {\n    var _props6 = this.props,\n        action = _props6.action,\n        showAction = _props6.showAction;\n    return action.indexOf('focus') !== -1 || showAction.indexOf('focus') !== -1;\n  };\n\n  Trigger.prototype.isBlurToHide = function isBlurToHide() {\n    var _props7 = this.props,\n        action = _props7.action,\n        hideAction = _props7.hideAction;\n    return action.indexOf('focus') !== -1 || hideAction.indexOf('blur') !== -1;\n  };\n\n  Trigger.prototype.forcePopupAlign = function forcePopupAlign() {\n    if (this.state.popupVisible && this._component && this._component.alignInstance) {\n      this._component.alignInstance.forceAlign();\n    }\n  };\n\n  Trigger.prototype.fireEvents = function fireEvents(type, e) {\n    var childCallback = this.props.children.props[type];\n\n    if (childCallback) {\n      childCallback(e);\n    }\n\n    var callback = this.props[type];\n\n    if (callback) {\n      callback(e);\n    }\n  };\n\n  Trigger.prototype.close = function close() {\n    this.setPopupVisible(false);\n  };\n\n  Trigger.prototype.render = function render() {\n    var _this3 = this;\n\n    var popupVisible = this.state.popupVisible;\n    var _props8 = this.props,\n        children = _props8.children,\n        forceRender = _props8.forceRender,\n        alignPoint = _props8.alignPoint,\n        className = _props8.className;\n    var child = React.Children.only(children);\n    var newChildProps = {\n      key: 'trigger'\n    };\n\n    if (this.isContextMenuToShow()) {\n      newChildProps.onContextMenu = this.onContextMenu;\n    } else {\n      newChildProps.onContextMenu = this.createTwoChains('onContextMenu');\n    }\n\n    if (this.isClickToHide() || this.isClickToShow()) {\n      newChildProps.onClick = this.onClick;\n      newChildProps.onMouseDown = this.onMouseDown;\n      newChildProps.onTouchStart = this.onTouchStart;\n    } else {\n      newChildProps.onClick = this.createTwoChains('onClick');\n      newChildProps.onMouseDown = this.createTwoChains('onMouseDown');\n      newChildProps.onTouchStart = this.createTwoChains('onTouchStart');\n    }\n\n    if (this.isMouseEnterToShow()) {\n      newChildProps.onMouseEnter = this.onMouseEnter;\n\n      if (alignPoint) {\n        newChildProps.onMouseMove = this.onMouseMove;\n      }\n    } else {\n      newChildProps.onMouseEnter = this.createTwoChains('onMouseEnter');\n    }\n\n    if (this.isMouseLeaveToHide()) {\n      newChildProps.onMouseLeave = this.onMouseLeave;\n    } else {\n      newChildProps.onMouseLeave = this.createTwoChains('onMouseLeave');\n    }\n\n    if (this.isFocusToShow() || this.isBlurToHide()) {\n      newChildProps.onFocus = this.onFocus;\n      newChildProps.onBlur = this.onBlur;\n    } else {\n      newChildProps.onFocus = this.createTwoChains('onFocus');\n      newChildProps.onBlur = this.createTwoChains('onBlur');\n    }\n\n    var childrenClassName = classNames(child && child.props && child.props.className, className);\n\n    if (childrenClassName) {\n      newChildProps.className = childrenClassName;\n    }\n\n    var trigger = React.cloneElement(child, newChildProps);\n\n    if (!IS_REACT_16) {\n      return React.createElement(ContainerRender, {\n        parent: this,\n        visible: popupVisible,\n        autoMount: false,\n        forceRender: forceRender,\n        getComponent: this.getComponent,\n        getContainer: this.getContainer\n      }, function (_ref2) {\n        var renderComponent = _ref2.renderComponent;\n        _this3.renderComponent = renderComponent;\n        return trigger;\n      });\n    }\n\n    var portal = void 0; // prevent unmounting after it's rendered\n\n    if (popupVisible || this._component || forceRender) {\n      portal = React.createElement(Portal, {\n        key: 'portal',\n        getContainer: this.getContainer,\n        didUpdate: this.handlePortalUpdate\n      }, this.getComponent());\n    }\n\n    return [trigger, portal];\n  };\n\n  return Trigger;\n}(React.Component);\n\nTrigger.propTypes = {\n  children: PropTypes.any,\n  action: PropTypes.oneOfType([PropTypes.string, PropTypes.arrayOf(PropTypes.string)]),\n  showAction: PropTypes.any,\n  hideAction: PropTypes.any,\n  getPopupClassNameFromAlign: PropTypes.any,\n  onPopupVisibleChange: PropTypes.func,\n  afterPopupVisibleChange: PropTypes.func,\n  popup: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  popupStyle: PropTypes.object,\n  prefixCls: PropTypes.string,\n  popupClassName: PropTypes.string,\n  className: PropTypes.string,\n  popupPlacement: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  popupTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  popupAnimation: PropTypes.any,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  zIndex: PropTypes.number,\n  focusDelay: PropTypes.number,\n  blurDelay: PropTypes.number,\n  getPopupContainer: PropTypes.func,\n  getDocument: PropTypes.func,\n  forceRender: PropTypes.bool,\n  destroyPopupOnHide: PropTypes.bool,\n  mask: PropTypes.bool,\n  maskClosable: PropTypes.bool,\n  onPopupAlign: PropTypes.func,\n  popupAlign: PropTypes.object,\n  popupVisible: PropTypes.bool,\n  defaultPopupVisible: PropTypes.bool,\n  maskTransitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  maskAnimation: PropTypes.string,\n  stretch: PropTypes.string,\n  alignPoint: PropTypes.bool // Maybe we can support user pass position in the future\n\n};\nTrigger.contextTypes = contextTypes;\nTrigger.childContextTypes = contextTypes;\nTrigger.defaultProps = {\n  prefixCls: 'rc-trigger-popup',\n  getPopupClassNameFromAlign: returnEmptyString,\n  getDocument: returnDocument,\n  onPopupVisibleChange: noop,\n  afterPopupVisibleChange: noop,\n  onPopupAlign: noop,\n  popupClassName: '',\n  mouseEnterDelay: 0,\n  mouseLeaveDelay: 0.1,\n  focusDelay: 0,\n  blurDelay: 0.15,\n  popupStyle: {},\n  destroyPopupOnHide: false,\n  popupAlign: {},\n  defaultPopupVisible: false,\n  mask: false,\n  maskClosable: true,\n  action: [],\n  showAction: [],\n  hideAction: []\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this4 = this;\n\n  this.onMouseEnter = function (e) {\n    var mouseEnterDelay = _this4.props.mouseEnterDelay;\n\n    _this4.fireEvents('onMouseEnter', e);\n\n    _this4.delaySetPopupVisible(true, mouseEnterDelay, mouseEnterDelay ? null : e);\n  };\n\n  this.onMouseMove = function (e) {\n    _this4.fireEvents('onMouseMove', e);\n\n    _this4.setPoint(e);\n  };\n\n  this.onMouseLeave = function (e) {\n    _this4.fireEvents('onMouseLeave', e);\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onPopupMouseEnter = function () {\n    _this4.clearDelayTimer();\n  };\n\n  this.onPopupMouseLeave = function (e) {\n    // https://github.com/react-component/trigger/pull/13\n    // react bug?\n    if (e.relatedTarget && !e.relatedTarget.setTimeout && _this4._component && _this4._component.getPopupDomNode && contains(_this4._component.getPopupDomNode(), e.relatedTarget)) {\n      return;\n    }\n\n    _this4.delaySetPopupVisible(false, _this4.props.mouseLeaveDelay);\n  };\n\n  this.onFocus = function (e) {\n    _this4.fireEvents('onFocus', e); // incase focusin and focusout\n\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isFocusToShow()) {\n      _this4.focusTime = Date.now();\n\n      _this4.delaySetPopupVisible(true, _this4.props.focusDelay);\n    }\n  };\n\n  this.onMouseDown = function (e) {\n    _this4.fireEvents('onMouseDown', e);\n\n    _this4.preClickTime = Date.now();\n  };\n\n  this.onTouchStart = function (e) {\n    _this4.fireEvents('onTouchStart', e);\n\n    _this4.preTouchTime = Date.now();\n  };\n\n  this.onBlur = function (e) {\n    _this4.fireEvents('onBlur', e);\n\n    _this4.clearDelayTimer();\n\n    if (_this4.isBlurToHide()) {\n      _this4.delaySetPopupVisible(false, _this4.props.blurDelay);\n    }\n  };\n\n  this.onContextMenu = function (e) {\n    e.preventDefault();\n\n    _this4.fireEvents('onContextMenu', e);\n\n    _this4.setPopupVisible(true, e);\n  };\n\n  this.onContextMenuClose = function () {\n    if (_this4.isContextMenuToShow()) {\n      _this4.close();\n    }\n  };\n\n  this.onClick = function (event) {\n    _this4.fireEvents('onClick', event); // focus will trigger click\n\n\n    if (_this4.focusTime) {\n      var preTime = void 0;\n\n      if (_this4.preClickTime && _this4.preTouchTime) {\n        preTime = Math.min(_this4.preClickTime, _this4.preTouchTime);\n      } else if (_this4.preClickTime) {\n        preTime = _this4.preClickTime;\n      } else if (_this4.preTouchTime) {\n        preTime = _this4.preTouchTime;\n      }\n\n      if (Math.abs(preTime - _this4.focusTime) < 20) {\n        return;\n      }\n\n      _this4.focusTime = 0;\n    }\n\n    _this4.preClickTime = 0;\n    _this4.preTouchTime = 0; // Only prevent default when all the action is click.\n    // https://github.com/ant-design/ant-design/issues/17043\n    // https://github.com/ant-design/ant-design/issues/17291\n\n    if (_this4.isClickToShow() && (_this4.isClickToHide() || _this4.isBlurToHide()) && event && event.preventDefault) {\n      event.preventDefault();\n    }\n\n    var nextVisible = !_this4.state.popupVisible;\n\n    if (_this4.isClickToHide() && !nextVisible || nextVisible && _this4.isClickToShow()) {\n      _this4.setPopupVisible(!_this4.state.popupVisible, event);\n    }\n  };\n\n  this.onPopupMouseDown = function () {\n    var _context$rcTrigger = _this4.context.rcTrigger,\n        rcTrigger = _context$rcTrigger === undefined ? {} : _context$rcTrigger;\n    _this4.hasPopupMouseDown = true;\n    clearTimeout(_this4.mouseDownTimeout);\n    _this4.mouseDownTimeout = setTimeout(function () {\n      _this4.hasPopupMouseDown = false;\n    }, 0);\n\n    if (rcTrigger.onPopupMouseDown) {\n      rcTrigger.onPopupMouseDown.apply(rcTrigger, arguments);\n    }\n  };\n\n  this.onDocumentClick = function (event) {\n    if (_this4.props.mask && !_this4.props.maskClosable) {\n      return;\n    }\n\n    var target = event.target;\n    var root = findDOMNode(_this4);\n\n    if (!contains(root, target) && !_this4.hasPopupMouseDown) {\n      _this4.close();\n    }\n  };\n\n  this.getRootDomNode = function () {\n    return findDOMNode(_this4);\n  };\n\n  this.getPopupClassNameFromAlign = function (align) {\n    var className = [];\n    var _props9 = _this4.props,\n        popupPlacement = _props9.popupPlacement,\n        builtinPlacements = _props9.builtinPlacements,\n        prefixCls = _props9.prefixCls,\n        alignPoint = _props9.alignPoint,\n        getPopupClassNameFromAlign = _props9.getPopupClassNameFromAlign;\n\n    if (popupPlacement && builtinPlacements) {\n      className.push(getAlignPopupClassName(builtinPlacements, prefixCls, align, alignPoint));\n    }\n\n    if (getPopupClassNameFromAlign) {\n      className.push(getPopupClassNameFromAlign(align));\n    }\n\n    return className.join(' ');\n  };\n\n  this.getComponent = function () {\n    var _props10 = _this4.props,\n        prefixCls = _props10.prefixCls,\n        destroyPopupOnHide = _props10.destroyPopupOnHide,\n        popupClassName = _props10.popupClassName,\n        action = _props10.action,\n        onPopupAlign = _props10.onPopupAlign,\n        popupAnimation = _props10.popupAnimation,\n        popupTransitionName = _props10.popupTransitionName,\n        popupStyle = _props10.popupStyle,\n        mask = _props10.mask,\n        maskAnimation = _props10.maskAnimation,\n        maskTransitionName = _props10.maskTransitionName,\n        zIndex = _props10.zIndex,\n        popup = _props10.popup,\n        stretch = _props10.stretch,\n        alignPoint = _props10.alignPoint;\n    var _state = _this4.state,\n        popupVisible = _state.popupVisible,\n        point = _state.point;\n\n    var align = _this4.getPopupAlign();\n\n    var mouseProps = {};\n\n    if (_this4.isMouseEnterToShow()) {\n      mouseProps.onMouseEnter = _this4.onPopupMouseEnter;\n    }\n\n    if (_this4.isMouseLeaveToHide()) {\n      mouseProps.onMouseLeave = _this4.onPopupMouseLeave;\n    }\n\n    mouseProps.onMouseDown = _this4.onPopupMouseDown;\n    mouseProps.onTouchStart = _this4.onPopupMouseDown;\n    return React.createElement(Popup, _extends({\n      prefixCls: prefixCls,\n      destroyPopupOnHide: destroyPopupOnHide,\n      visible: popupVisible,\n      point: alignPoint && point,\n      className: popupClassName,\n      action: action,\n      align: align,\n      onAlign: onPopupAlign,\n      animation: popupAnimation,\n      getClassNameFromAlign: _this4.getPopupClassNameFromAlign\n    }, mouseProps, {\n      stretch: stretch,\n      getRootDomNode: _this4.getRootDomNode,\n      style: popupStyle,\n      mask: mask,\n      zIndex: zIndex,\n      transitionName: popupTransitionName,\n      maskAnimation: maskAnimation,\n      maskTransitionName: maskTransitionName,\n      ref: _this4.savePopup\n    }), typeof popup === 'function' ? popup() : popup);\n  };\n\n  this.getContainer = function () {\n    var props = _this4.props;\n    var popupContainer = document.createElement('div'); // Make sure default popup container will never cause scrollbar appearing\n    // https://github.com/react-component/trigger/issues/41\n\n    popupContainer.style.position = 'absolute';\n    popupContainer.style.top = '0';\n    popupContainer.style.left = '0';\n    popupContainer.style.width = '100%';\n    var mountNode = props.getPopupContainer ? props.getPopupContainer(findDOMNode(_this4)) : props.getDocument().body;\n    mountNode.appendChild(popupContainer);\n    return popupContainer;\n  };\n\n  this.setPoint = function (point) {\n    var alignPoint = _this4.props.alignPoint;\n    if (!alignPoint || !point) return;\n\n    _this4.setState({\n      point: {\n        pageX: point.pageX,\n        pageY: point.pageY\n      }\n    });\n  };\n\n  this.handlePortalUpdate = function () {\n    if (_this4.state.prevPopupVisible !== _this4.state.popupVisible) {\n      _this4.props.afterPopupVisibleChange(_this4.state.popupVisible);\n    }\n  };\n\n  this.savePopup = function (node) {\n    _this4._component = node;\n  };\n};\n\npolyfill(Trigger);\nexport default Trigger;","var Eventful = require(\"../mixin/Eventful\");\n\nexports.Dispatcher = Eventful;\n\nvar env = require(\"./env\");\n\nvar _fourPointsTransform = require(\"./fourPointsTransform\");\n\nvar buildTransformer = _fourPointsTransform.buildTransformer;\n/**\n * Utilities for mouse or touch events.\n */\n\nvar isDomLevel2 = typeof window !== 'undefined' && !!window.addEventListener;\nvar MOUSE_EVENT_REG = /^(?:mouse|pointer|contextmenu|drag|drop)|click/;\nvar EVENT_SAVED_PROP = '___zrEVENTSAVED';\nvar _calcOut = [];\n/**\n * Get the `zrX` and `zrY`, which are relative to the top-left of\n * the input `el`.\n * CSS transform (2D & 3D) is supported.\n *\n * The strategy to fetch the coords:\n * + If `calculate` is not set as `true`, users of this method should\n * ensure that `el` is the same or the same size & location as `e.target`.\n * Otherwise the result coords are probably not expected. Because we\n * firstly try to get coords from e.offsetX/e.offsetY.\n * + If `calculate` is set as `true`, the input `el` can be any element\n * and we force to calculate the coords based on `el`.\n * + The input `el` should be positionable (not position:static).\n *\n * The force `calculate` can be used in case like:\n * When mousemove event triggered on ec tooltip, `e.target` is not `el`(zr painter.dom).\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} e Mouse event or touch event.\n * @param {Object} out Get `out.zrX` and `out.zrY` as the result.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\nfunction clientToLocal(el, e, out, calculate) {\n  out = out || {}; // According to the W3C Working Draft, offsetX and offsetY should be relative\n  // to the padding edge of the target element. The only browser using this convention\n  // is IE. Webkit uses the border edge, Opera uses the content edge, and FireFox does\n  // not support the properties.\n  // (see http://www.jacklmoore.com/notes/mouse-position/)\n  // In zr painter.dom, padding edge equals to border edge.\n\n  if (calculate || !env.canvasSupported) {\n    calculateZrXY(el, e, out);\n  } // Caution: In FireFox, layerX/layerY Mouse position relative to the closest positioned\n  // ancestor element, so we should make sure el is positioned (e.g., not position:static).\n  // BTW1, Webkit don't return the same results as FF in non-simple cases (like add\n  // zoom-factor, overflow / opacity layers, transforms ...)\n  // BTW2, (ev.offsetY || ev.pageY - $(ev.target).offset().top) is not correct in preserve-3d.\n  // <https://bugs.jquery.com/ticket/8523#comment:14>\n  // BTW3, In ff, offsetX/offsetY is always 0.\n  else if (env.browser.firefox && e.layerX != null && e.layerX !== e.offsetX) {\n      out.zrX = e.layerX;\n      out.zrY = e.layerY;\n    } // For IE6+, chrome, safari, opera. (When will ff support offsetX?)\n    else if (e.offsetX != null) {\n        out.zrX = e.offsetX;\n        out.zrY = e.offsetY;\n      } // For some other device, e.g., IOS safari.\n      else {\n          calculateZrXY(el, e, out);\n        }\n\n  return out;\n}\n\nfunction calculateZrXY(el, e, out) {\n  // BlackBerry 5, iOS 3 (original iPhone) don't have getBoundingRect.\n  if (el.getBoundingClientRect && env.domSupported) {\n    var ex = e.clientX;\n    var ey = e.clientY;\n\n    if (el.nodeName.toUpperCase() === 'CANVAS') {\n      // Original approach, which do not support CSS transform.\n      // marker can not be locationed in a canvas container\n      // (getBoundingClientRect is always 0). We do not support\n      // that input a pre-created canvas to zr while using css\n      // transform in iOS.\n      var box = el.getBoundingClientRect();\n      out.zrX = ex - box.left;\n      out.zrY = ey - box.top;\n      return;\n    } else {\n      var saved = el[EVENT_SAVED_PROP] || (el[EVENT_SAVED_PROP] = {});\n      var transformer = preparePointerTransformer(prepareCoordMarkers(el, saved), saved);\n\n      if (transformer) {\n        transformer(_calcOut, ex, ey);\n        out.zrX = _calcOut[0];\n        out.zrY = _calcOut[1];\n        return;\n      }\n    }\n  }\n\n  out.zrX = out.zrY = 0;\n}\n\nfunction prepareCoordMarkers(el, saved) {\n  var markers = saved.markers;\n\n  if (markers) {\n    return markers;\n  }\n\n  markers = saved.markers = [];\n  var propLR = ['left', 'right'];\n  var propTB = ['top', 'bottom'];\n\n  for (var i = 0; i < 4; i++) {\n    var marker = document.createElement('div');\n    var stl = marker.style;\n    var idxLR = i % 2;\n    var idxTB = (i >> 1) % 2;\n    stl.cssText = ['position:absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'width:0', 'height:0', // 'width: 5px',\n    // 'height: 5px',\n    propLR[idxLR] + ':0', propTB[idxTB] + ':0', propLR[1 - idxLR] + ':auto', propTB[1 - idxTB] + ':auto', ''].join('!important;');\n    el.appendChild(marker);\n    markers.push(marker);\n  }\n\n  return markers;\n}\n\nfunction preparePointerTransformer(markers, saved) {\n  var transformer = saved.transformer;\n  var oldSrcCoords = saved.srcCoords;\n  var useOld = true;\n  var srcCoords = [];\n  var destCoords = [];\n\n  for (var i = 0; i < 4; i++) {\n    var rect = markers[i].getBoundingClientRect();\n    var ii = 2 * i;\n    var x = rect.left;\n    var y = rect.top;\n    srcCoords.push(x, y);\n    useOld &= oldSrcCoords && x === oldSrcCoords[ii] && y === oldSrcCoords[ii + 1];\n    destCoords.push(markers[i].offsetLeft, markers[i].offsetTop);\n  } // Cache to avoid time consuming of `buildTransformer`.\n\n\n  return useOld ? transformer : (saved.srcCoords = srcCoords, saved.transformer = buildTransformer(srcCoords, destCoords));\n}\n/**\n * Normalize the coordinates of the input event.\n *\n * Get the `e.zrX` and `e.zrY`, which are relative to the top-left of\n * the input `el`.\n * Get `e.zrDelta` if using mouse wheel.\n * Get `e.which`, see the comment inside this function.\n *\n * Do not calculate repeatly if `zrX` and `zrY` already exist.\n *\n * Notice: see comments in `clientToLocal`. check the relationship\n * between the result coords and the parameters `el` and `calculate`.\n *\n * @param {HTMLElement} el DOM element.\n * @param {Event} [e] Mouse event or touch event. For lagency IE,\n *        do not need to input it and `window.event` is used.\n * @param {boolean} [calculate=false] Whether to force calculate\n *        the coordinates but not use ones provided by browser.\n */\n\n\nfunction normalizeEvent(el, e, calculate) {\n  e = e || window.event;\n\n  if (e.zrX != null) {\n    return e;\n  }\n\n  var eventType = e.type;\n  var isTouch = eventType && eventType.indexOf('touch') >= 0;\n\n  if (!isTouch) {\n    clientToLocal(el, e, e, calculate);\n    e.zrDelta = e.wheelDelta ? e.wheelDelta / 120 : -(e.detail || 0) / 3;\n  } else {\n    var touch = eventType !== 'touchend' ? e.targetTouches[0] : e.changedTouches[0];\n    touch && clientToLocal(el, touch, e, calculate);\n  } // Add which for click: 1 === left; 2 === middle; 3 === right; otherwise: 0;\n  // See jQuery: https://github.com/jquery/jquery/blob/master/src/event.js\n  // If e.which has been defined, it may be readonly,\n  // see: https://developer.mozilla.org/en-US/docs/Web/API/MouseEvent/which\n\n\n  var button = e.button;\n\n  if (e.which == null && button !== undefined && MOUSE_EVENT_REG.test(e.type)) {\n    e.which = button & 1 ? 1 : button & 2 ? 3 : button & 4 ? 2 : 0;\n  } // [Caution]: `e.which` from browser is not always reliable. For example,\n  // when press left button and `mousemove (pointermove)` in Edge, the `e.which`\n  // is 65536 and the `e.button` is -1. But the `mouseup (pointerup)` and\n  // `mousedown (pointerdown)` is the same as Chrome does.\n\n\n  return e;\n}\n/**\n * @param {HTMLElement} el\n * @param {string} name\n * @param {Function} handler\n */\n\n\nfunction addEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    // Reproduct the console warning:\n    // [Violation] Added non-passive event listener to a scroll-blocking <some> event.\n    // Consider marking event handler as 'passive' to make the page more responsive.\n    // Just set console log level: verbose in chrome dev tool.\n    // then the warning log will be printed when addEventListener called.\n    // See https://github.com/WICG/EventListenerOptions/blob/gh-pages/explainer.md\n    // We have not yet found a neat way to using passive. Because in zrender the dom event\n    // listener delegate all of the upper events of element. Some of those events need\n    // to prevent default. For example, the feature `preventDefaultMouseMove` of echarts.\n    // Before passive can be adopted, these issues should be considered:\n    // (1) Whether and how a zrender user specifies an event listener passive. And by default,\n    // passive or not.\n    // (2) How to tread that some zrender event listener is passive, and some is not. If\n    // we use other way but not preventDefault of mousewheel and touchmove, browser\n    // compatibility should be handled.\n    // var opts = (env.passiveSupported && name === 'mousewheel')\n    //     ? {passive: true}\n    //     // By default, the third param of el.addEventListener is `capture: false`.\n    //     : void 0;\n    // el.addEventListener(name, handler /* , opts */);\n    el.addEventListener(name, handler);\n  } else {\n    el.attachEvent('on' + name, handler);\n  }\n}\n\nfunction removeEventListener(el, name, handler) {\n  if (isDomLevel2) {\n    el.removeEventListener(name, handler);\n  } else {\n    el.detachEvent('on' + name, handler);\n  }\n}\n/**\n * preventDefault and stopPropagation.\n * Notice: do not use this method in zrender. It can only be\n * used by upper applications if necessary.\n *\n * @param {Event} e A mouse or touch event.\n */\n\n\nvar stop = isDomLevel2 ? function (e) {\n  e.preventDefault();\n  e.stopPropagation();\n  e.cancelBubble = true;\n} : function (e) {\n  e.returnValue = false;\n  e.cancelBubble = true;\n};\n/**\n * This method only works for mouseup and mousedown. The functionality is restricted\n * for fault tolerance, See the `e.which` compatibility above.\n *\n * @param {MouseEvent} e\n * @return {boolean}\n */\n\nfunction isMiddleOrRightButtonOnMouseUpDown(e) {\n  return e.which === 2 || e.which === 3;\n}\n/**\n * To be removed.\n * @deprecated\n */\n\n\nfunction notLeftMouse(e) {\n  // If e.which is undefined, considered as left mouse event.\n  return e.which > 1;\n} // For backward compatibility\n\n\nexports.clientToLocal = clientToLocal;\nexports.normalizeEvent = normalizeEvent;\nexports.addEventListener = addEventListener;\nexports.removeEventListener = removeEventListener;\nexports.stop = stop;\nexports.isMiddleOrRightButtonOnMouseUpDown = isMiddleOrRightButtonOnMouseUpDown;\nexports.notLeftMouse = notLeftMouse;","var _vector = require(\"./vector\");\n\nvar v2Create = _vector.create;\nvar v2DistSquare = _vector.distSquare;\n/**\n * \n * @module zrender/core/curve\n * @author pissang(https://www.github.com/pissang)\n */\n\nvar mathPow = Math.pow;\nvar mathSqrt = Math.sqrt;\nvar EPSILON = 1e-8;\nvar EPSILON_NUMERIC = 1e-4;\nvar THREE_SQRT = mathSqrt(3);\nvar ONE_THIRD = 1 / 3; // \n\nvar _v0 = v2Create();\n\nvar _v1 = v2Create();\n\nvar _v2 = v2Create();\n\nfunction isAroundZero(val) {\n  return val > -EPSILON && val < EPSILON;\n}\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return onet * onet * (onet * p0 + 3 * t * p1) + t * t * (t * p3 + 3 * onet * p2);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction cubicDerivativeAt(p0, p1, p2, p3, t) {\n  var onet = 1 - t;\n  return 3 * (((p1 - p0) * onet + 2 * (p2 - p1) * t) * onet + (p3 - p2) * t * t);\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} val\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction cubicRootAt(p0, p1, p2, p3, val, roots) {\n  // Evaluate roots of cubic functions\n  var a = p3 + 3 * (p1 - p2) - p0;\n  var b = 3 * (p2 - p1 * 2 + p0);\n  var c = 3 * (p1 - p0);\n  var d = p0 - val;\n  var A = b * b - 3 * a * c;\n  var B = b * c - 9 * a * d;\n  var C = c * c - 3 * b * d;\n  var n = 0;\n\n  if (isAroundZero(A) && isAroundZero(B)) {\n    if (isAroundZero(b)) {\n      roots[0] = 0;\n    } else {\n      var t1 = -c / b; //t1, t2, t3, b is not zero\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = B * B - 4 * A * C;\n\n    if (isAroundZero(disc)) {\n      var K = B / A;\n      var t1 = -b / a + K; // t1, a is not zero\n\n      var t2 = -K / 2; // t2, t3\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var Y1 = A * b + 1.5 * a * (-B + discSqrt);\n      var Y2 = A * b + 1.5 * a * (-B - discSqrt);\n\n      if (Y1 < 0) {\n        Y1 = -mathPow(-Y1, ONE_THIRD);\n      } else {\n        Y1 = mathPow(Y1, ONE_THIRD);\n      }\n\n      if (Y2 < 0) {\n        Y2 = -mathPow(-Y2, ONE_THIRD);\n      } else {\n        Y2 = mathPow(Y2, ONE_THIRD);\n      }\n\n      var t1 = (-b - (Y1 + Y2)) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else {\n      var T = (2 * A * b - 3 * a * B) / (2 * mathSqrt(A * A * A));\n      var theta = Math.acos(T) / 3;\n      var ASqrt = mathSqrt(A);\n      var tmp = Math.cos(theta);\n      var t1 = (-b - 2 * ASqrt * tmp) / (3 * a);\n      var t2 = (-b + ASqrt * (tmp + THREE_SQRT * Math.sin(theta))) / (3 * a);\n      var t3 = (-b + ASqrt * (tmp - THREE_SQRT * Math.sin(theta))) / (3 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n\n      if (t3 >= 0 && t3 <= 1) {\n        roots[n++] = t3;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {Array.<number>} extrema\n * @return {number} \n */\n\n\nfunction cubicExtrema(p0, p1, p2, p3, extrema) {\n  var b = 6 * p2 - 12 * p1 + 6 * p0;\n  var a = 9 * p1 + 3 * p3 - 3 * p0 - 9 * p2;\n  var c = 3 * p1 - 3 * p0;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      extrema[0] = -b / (2 * a);\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        extrema[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        extrema[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction cubicSubdivide(p0, p1, p2, p3, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p23 = (p3 - p2) * t + p2;\n  var p012 = (p12 - p01) * t + p01;\n  var p123 = (p23 - p12) * t + p12;\n  var p0123 = (p123 - p012) * t + p012; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012;\n  out[3] = p0123; // Seg1\n\n  out[4] = p0123;\n  out[5] = p123;\n  out[6] = p23;\n  out[7] = p3;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} [out] \n * @return {number}\n */\n\n\nfunction cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  var prev;\n  var next;\n  var d1;\n  var d2;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = cubicAt(x0, x1, x2, x3, _t);\n    _v1[1] = cubicAt(y0, y1, y2, y3, _t);\n    d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    prev = t - interval;\n    next = t + interval; // t - interval\n\n    _v1[0] = cubicAt(x0, x1, x2, x3, prev);\n    _v1[1] = cubicAt(y0, y1, y2, y3, prev);\n    d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = cubicAt(x0, x1, x2, x3, next);\n      _v2[1] = cubicAt(y0, y1, y2, y3, next);\n      d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = cubicAt(x0, x1, x2, x3, t);\n    out[1] = cubicAt(y0, y1, y2, y3, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticAt(p0, p1, p2, t) {\n  var onet = 1 - t;\n  return onet * (onet * p0 + 2 * t * p1) + t * t * p2;\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @return {number}\n */\n\n\nfunction quadraticDerivativeAt(p0, p1, p2, t) {\n  return 2 * ((1 - t) * (p1 - p0) + t * (p2 - p1));\n}\n/**\n * \n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} roots\n * @return {number} \n */\n\n\nfunction quadraticRootAt(p0, p1, p2, val, roots) {\n  var a = p0 - 2 * p1 + p2;\n  var b = 2 * (p1 - p0);\n  var c = p0 - val;\n  var n = 0;\n\n  if (isAroundZero(a)) {\n    if (isNotAroundZero(b)) {\n      var t1 = -c / b;\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    }\n  } else {\n    var disc = b * b - 4 * a * c;\n\n    if (isAroundZero(disc)) {\n      var t1 = -b / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n    } else if (disc > 0) {\n      var discSqrt = mathSqrt(disc);\n      var t1 = (-b + discSqrt) / (2 * a);\n      var t2 = (-b - discSqrt) / (2 * a);\n\n      if (t1 >= 0 && t1 <= 1) {\n        roots[n++] = t1;\n      }\n\n      if (t2 >= 0 && t2 <= 1) {\n        roots[n++] = t2;\n      }\n    }\n  }\n\n  return n;\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @return {number}\n */\n\n\nfunction quadraticExtremum(p0, p1, p2) {\n  var divider = p0 + p2 - 2 * p1;\n\n  if (divider === 0) {\n    // p1 is center of p0 and p2\n    return 0.5;\n  } else {\n    return (p0 - p1) / divider;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/curve\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} t\n * @param  {Array.<number>} out\n */\n\n\nfunction quadraticSubdivide(p0, p1, p2, t, out) {\n  var p01 = (p1 - p0) * t + p0;\n  var p12 = (p2 - p1) * t + p1;\n  var p012 = (p12 - p01) * t + p01; // Seg0\n\n  out[0] = p0;\n  out[1] = p01;\n  out[2] = p012; // Seg1\n\n  out[3] = p012;\n  out[4] = p12;\n  out[5] = p2;\n}\n/**\n * \n * \n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x\n * @param {number} y\n * @param {Array.<number>} out \n * @return {number}\n */\n\n\nfunction quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, out) {\n  // http://pomax.github.io/bezierinfo/#projections\n  var t;\n  var interval = 0.005;\n  var d = Infinity;\n  _v0[0] = x;\n  _v0[1] = y; //  t \n  // PENDING\n\n  for (var _t = 0; _t < 1; _t += 0.05) {\n    _v1[0] = quadraticAt(x0, x1, x2, _t);\n    _v1[1] = quadraticAt(y0, y1, y2, _t);\n    var d1 = v2DistSquare(_v0, _v1);\n\n    if (d1 < d) {\n      t = _t;\n      d = d1;\n    }\n  }\n\n  d = Infinity; // At most 32 iteration\n\n  for (var i = 0; i < 32; i++) {\n    if (interval < EPSILON_NUMERIC) {\n      break;\n    }\n\n    var prev = t - interval;\n    var next = t + interval; // t - interval\n\n    _v1[0] = quadraticAt(x0, x1, x2, prev);\n    _v1[1] = quadraticAt(y0, y1, y2, prev);\n    var d1 = v2DistSquare(_v1, _v0);\n\n    if (prev >= 0 && d1 < d) {\n      t = prev;\n      d = d1;\n    } else {\n      // t + interval\n      _v2[0] = quadraticAt(x0, x1, x2, next);\n      _v2[1] = quadraticAt(y0, y1, y2, next);\n      var d2 = v2DistSquare(_v2, _v0);\n\n      if (next <= 1 && d2 < d) {\n        t = next;\n        d = d2;\n      } else {\n        interval *= 0.5;\n      }\n    }\n  } // t\n\n\n  if (out) {\n    out[0] = quadraticAt(x0, x1, x2, t);\n    out[1] = quadraticAt(y0, y1, y2, t);\n  } // console.log(interval, i);\n\n\n  return mathSqrt(d);\n}\n\nexports.cubicAt = cubicAt;\nexports.cubicDerivativeAt = cubicDerivativeAt;\nexports.cubicRootAt = cubicRootAt;\nexports.cubicExtrema = cubicExtrema;\nexports.cubicSubdivide = cubicSubdivide;\nexports.cubicProjectPoint = cubicProjectPoint;\nexports.quadraticAt = quadraticAt;\nexports.quadraticDerivativeAt = quadraticDerivativeAt;\nexports.quadraticRootAt = quadraticRootAt;\nexports.quadraticExtremum = quadraticExtremum;\nexports.quadraticSubdivide = quadraticSubdivide;\nexports.quadraticProjectPoint = quadraticProjectPoint;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar isTypedArray = _util.isTypedArray;\nvar extend = _util.extend;\nvar assert = _util.assert;\nvar each = _util.each;\nvar isObject = _util.isObject;\n\nvar _model = require(\"../../util/model\");\n\nvar getDataItemValue = _model.getDataItemValue;\nvar isDataItemOption = _model.isDataItemOption;\n\nvar _number = require(\"../../util/number\");\n\nvar parseDate = _number.parseDate;\n\nvar Source = require(\"../Source\");\n\nvar _sourceType = require(\"./sourceType\");\n\nvar SOURCE_FORMAT_TYPED_ARRAY = _sourceType.SOURCE_FORMAT_TYPED_ARRAY;\nvar SOURCE_FORMAT_ARRAY_ROWS = _sourceType.SOURCE_FORMAT_ARRAY_ROWS;\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\nvar SOURCE_FORMAT_OBJECT_ROWS = _sourceType.SOURCE_FORMAT_OBJECT_ROWS;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO\n// ??? refactor? check the outer usage of data provider.\n// merge with defaultDimValueGetter?\n\n/**\n * If normal array used, mutable chunk size is supported.\n * If typed array used, chunk size must be fixed.\n */\n\nfunction DefaultDataProvider(source, dimSize) {\n  if (!Source.isInstance(source)) {\n    source = Source.seriesDataToSource(source);\n  }\n\n  this._source = source;\n  var data = this._data = source.data;\n  var sourceFormat = source.sourceFormat; // Typed array. TODO IE10+?\n\n  if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {\n    this._offset = 0;\n    this._dimSize = dimSize;\n    this._data = data;\n  }\n\n  var methods = providerMethods[sourceFormat === SOURCE_FORMAT_ARRAY_ROWS ? sourceFormat + '_' + source.seriesLayoutBy : sourceFormat];\n  extend(this, methods);\n}\n\nvar providerProto = DefaultDataProvider.prototype; // If data is pure without style configuration\n\nproviderProto.pure = false; // If data is persistent and will not be released after use.\n\nproviderProto.persistent = true; // ???! FIXME legacy data provider do not has method getSource\n\nproviderProto.getSource = function () {\n  return this._source;\n};\n\nvar providerMethods = {\n  'arrayRows_column': {\n    pure: true,\n    count: function count() {\n      return Math.max(0, this._data.length - this._source.startIndex);\n    },\n    getItem: function getItem(idx) {\n      return this._data[idx + this._source.startIndex];\n    },\n    appendData: appendDataSimply\n  },\n  'arrayRows_row': {\n    pure: true,\n    count: function count() {\n      var row = this._data[0];\n      return row ? Math.max(0, row.length - this._source.startIndex) : 0;\n    },\n    getItem: function getItem(idx) {\n      idx += this._source.startIndex;\n      var item = [];\n      var data = this._data;\n\n      for (var i = 0; i < data.length; i++) {\n        var row = data[i];\n        item.push(row ? row[idx] : null);\n      }\n\n      return item;\n    },\n    appendData: function appendData() {\n      throw new Error('Do not support appendData when set seriesLayoutBy: \"row\".');\n    }\n  },\n  'objectRows': {\n    pure: true,\n    count: countSimply,\n    getItem: getItemSimply,\n    appendData: appendDataSimply\n  },\n  'keyedColumns': {\n    pure: true,\n    count: function count() {\n      var dimName = this._source.dimensionsDefine[0].name;\n      var col = this._data[dimName];\n      return col ? col.length : 0;\n    },\n    getItem: function getItem(idx) {\n      var item = [];\n      var dims = this._source.dimensionsDefine;\n\n      for (var i = 0; i < dims.length; i++) {\n        var col = this._data[dims[i].name];\n        item.push(col ? col[idx] : null);\n      }\n\n      return item;\n    },\n    appendData: function appendData(newData) {\n      var data = this._data;\n      each(newData, function (newCol, key) {\n        var oldCol = data[key] || (data[key] = []);\n\n        for (var i = 0; i < (newCol || []).length; i++) {\n          oldCol.push(newCol[i]);\n        }\n      });\n    }\n  },\n  'original': {\n    count: countSimply,\n    getItem: getItemSimply,\n    appendData: appendDataSimply\n  },\n  'typedArray': {\n    persistent: false,\n    pure: true,\n    count: function count() {\n      return this._data ? this._data.length / this._dimSize : 0;\n    },\n    getItem: function getItem(idx, out) {\n      idx = idx - this._offset;\n      out = out || [];\n      var offset = this._dimSize * idx;\n\n      for (var i = 0; i < this._dimSize; i++) {\n        out[i] = this._data[offset + i];\n      }\n\n      return out;\n    },\n    appendData: function appendData(newData) {\n      this._data = newData;\n    },\n    // Clean self if data is already used.\n    clean: function clean() {\n      // PENDING\n      this._offset += this.count();\n      this._data = null;\n    }\n  }\n};\n\nfunction countSimply() {\n  return this._data.length;\n}\n\nfunction getItemSimply(idx) {\n  return this._data[idx];\n}\n\nfunction appendDataSimply(newData) {\n  for (var i = 0; i < newData.length; i++) {\n    this._data.push(newData[i]);\n  }\n}\n\nvar rawValueGetters = {\n  arrayRows: getRawValueSimply,\n  objectRows: function objectRows(dataItem, dataIndex, dimIndex, dimName) {\n    return dimIndex != null ? dataItem[dimName] : dataItem;\n  },\n  keyedColumns: getRawValueSimply,\n  original: function original(dataItem, dataIndex, dimIndex, dimName) {\n    // FIXME\n    // In some case (markpoint in geo (geo-map.html)), dataItem\n    // is {coord: [...]}\n    var value = getDataItemValue(dataItem);\n    return dimIndex == null || !(value instanceof Array) ? value : value[dimIndex];\n  },\n  typedArray: getRawValueSimply\n};\n\nfunction getRawValueSimply(dataItem, dataIndex, dimIndex, dimName) {\n  return dimIndex != null ? dataItem[dimIndex] : dataItem;\n}\n\nvar defaultDimValueGetters = {\n  arrayRows: getDimValueSimply,\n  objectRows: function objectRows(dataItem, dimName, dataIndex, dimIndex) {\n    return converDataValue(dataItem[dimName], this._dimensionInfos[dimName]);\n  },\n  keyedColumns: getDimValueSimply,\n  original: function original(dataItem, dimName, dataIndex, dimIndex) {\n    // Performance sensitive, do not use modelUtil.getDataItemValue.\n    // If dataItem is an plain object with no value field, the var `value`\n    // will be assigned with the object, but it will be tread correctly\n    // in the `convertDataValue`.\n    var value = dataItem && (dataItem.value == null ? dataItem : dataItem.value); // If any dataItem is like { value: 10 }\n\n    if (!this._rawData.pure && isDataItemOption(dataItem)) {\n      this.hasItemOption = true;\n    }\n\n    return converDataValue(value instanceof Array ? value[dimIndex] // If value is a single number or something else not array.\n    : value, this._dimensionInfos[dimName]);\n  },\n  typedArray: function typedArray(dataItem, dimName, dataIndex, dimIndex) {\n    return dataItem[dimIndex];\n  }\n};\n\nfunction getDimValueSimply(dataItem, dimName, dataIndex, dimIndex) {\n  return converDataValue(dataItem[dimIndex], this._dimensionInfos[dimName]);\n}\n/**\n * This helper method convert value in data.\n * @param {string|number|Date} value\n * @param {Object|string} [dimInfo] If string (like 'x'), dimType defaults 'number'.\n *        If \"dimInfo.ordinalParseAndSave\", ordinal value can be parsed.\n */\n\n\nfunction converDataValue(value, dimInfo) {\n  // Performance sensitive.\n  var dimType = dimInfo && dimInfo.type;\n\n  if (dimType === 'ordinal') {\n    // If given value is a category string\n    var ordinalMeta = dimInfo && dimInfo.ordinalMeta;\n    return ordinalMeta ? ordinalMeta.parseAndCollect(value) : value;\n  }\n\n  if (dimType === 'time' // spead up when using timestamp\n  && typeof value !== 'number' && value != null && value !== '-') {\n    value = +parseDate(value);\n  } // dimType defaults 'number'.\n  // If dimType is not ordinal and value is null or undefined or NaN or '-',\n  // parse to NaN.\n\n\n  return value == null || value === '' ? NaN // If string (like '-'), using '+' parse to NaN\n  // If object, also parse to NaN\n  : +value;\n} // ??? FIXME can these logic be more neat: getRawValue, getRawDataItem,\n// Consider persistent.\n// Caution: why use raw value to display on label or tooltip?\n// A reason is to avoid format. For example time value we do not know\n// how to format is expected. More over, if stack is used, calculated\n// value may be 0.91000000001, which have brings trouble to display.\n// TODO: consider how to treat null/undefined/NaN when display?\n\n/**\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @param {string|number} [dim] dimName or dimIndex\n * @return {Array.<number>|string|number} can be null/undefined.\n */\n\n\nfunction retrieveRawValue(data, dataIndex, dim) {\n  if (!data) {\n    return;\n  } // Consider data may be not persistent.\n\n\n  var dataItem = data.getRawDataItem(dataIndex);\n\n  if (dataItem == null) {\n    return;\n  }\n\n  var sourceFormat = data.getProvider().getSource().sourceFormat;\n  var dimName;\n  var dimIndex;\n  var dimInfo = data.getDimensionInfo(dim);\n\n  if (dimInfo) {\n    dimName = dimInfo.name;\n    dimIndex = dimInfo.index;\n  }\n\n  return rawValueGetters[sourceFormat](dataItem, dataIndex, dimIndex, dimName);\n}\n/**\n * Compatible with some cases (in pie, map) like:\n * data: [{name: 'xx', value: 5, selected: true}, ...]\n * where only sourceFormat is 'original' and 'objectRows' supported.\n *\n * ??? TODO\n * Supported detail options in data item when using 'arrayRows'.\n *\n * @param {module:echarts/data/List} data\n * @param {number} dataIndex\n * @param {string} attr like 'selected'\n */\n\n\nfunction retrieveRawAttr(data, dataIndex, attr) {\n  if (!data) {\n    return;\n  }\n\n  var sourceFormat = data.getProvider().getSource().sourceFormat;\n\n  if (sourceFormat !== SOURCE_FORMAT_ORIGINAL && sourceFormat !== SOURCE_FORMAT_OBJECT_ROWS) {\n    return;\n  }\n\n  var dataItem = data.getRawDataItem(dataIndex);\n\n  if (sourceFormat === SOURCE_FORMAT_ORIGINAL && !isObject(dataItem)) {\n    dataItem = null;\n  }\n\n  if (dataItem) {\n    return dataItem[attr];\n  }\n}\n\nexports.DefaultDataProvider = DefaultDataProvider;\nexports.defaultDimValueGetters = defaultDimValueGetters;\nexports.retrieveRawValue = retrieveRawValue;\nexports.retrieveRawAttr = retrieveRawAttr;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar isString = _util.isString;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Note that it is too complicated to support 3d stack by value\n * (have to create two-dimension inverted index), so in 3d case\n * we just support that stacked by index.\n *\n * @param {module:echarts/model/Series} seriesModel\n * @param {Array.<string|Object>} dimensionInfoList The same as the input of <module:echarts/data/List>.\n *        The input dimensionInfoList will be modified.\n * @param {Object} [opt]\n * @param {boolean} [opt.stackedCoordDimension=''] Specify a coord dimension if needed.\n * @param {boolean} [opt.byIndex=false]\n * @return {Object} calculationInfo\n * {\n *     stackedDimension: string\n *     stackedByDimension: string\n *     isStackedByIndex: boolean\n *     stackedOverDimension: string\n *     stackResultDimension: string\n * }\n */\n\nfunction enableDataStack(seriesModel, dimensionInfoList, opt) {\n  opt = opt || {};\n  var byIndex = opt.byIndex;\n  var stackedCoordDimension = opt.stackedCoordDimension; // Compatibal: when `stack` is set as '', do not stack.\n\n  var mayStack = !!(seriesModel && seriesModel.get('stack'));\n  var stackedByDimInfo;\n  var stackedDimInfo;\n  var stackResultDimension;\n  var stackedOverDimension;\n  each(dimensionInfoList, function (dimensionInfo, index) {\n    if (isString(dimensionInfo)) {\n      dimensionInfoList[index] = dimensionInfo = {\n        name: dimensionInfo\n      };\n    }\n\n    if (mayStack && !dimensionInfo.isExtraCoord) {\n      // Find the first ordinal dimension as the stackedByDimInfo.\n      if (!byIndex && !stackedByDimInfo && dimensionInfo.ordinalMeta) {\n        stackedByDimInfo = dimensionInfo;\n      } // Find the first stackable dimension as the stackedDimInfo.\n\n\n      if (!stackedDimInfo && dimensionInfo.type !== 'ordinal' && dimensionInfo.type !== 'time' && (!stackedCoordDimension || stackedCoordDimension === dimensionInfo.coordDim)) {\n        stackedDimInfo = dimensionInfo;\n      }\n    }\n  });\n\n  if (stackedDimInfo && !byIndex && !stackedByDimInfo) {\n    // Compatible with previous design, value axis (time axis) only stack by index.\n    // It may make sense if the user provides elaborately constructed data.\n    byIndex = true;\n  } // Add stack dimension, they can be both calculated by coordinate system in `unionExtent`.\n  // That put stack logic in List is for using conveniently in echarts extensions, but it\n  // might not be a good way.\n\n\n  if (stackedDimInfo) {\n    // Use a weird name that not duplicated with other names.\n    stackResultDimension = '__\\0ecstackresult';\n    stackedOverDimension = '__\\0ecstackedover'; // Create inverted index to fast query index by value.\n\n    if (stackedByDimInfo) {\n      stackedByDimInfo.createInvertedIndices = true;\n    }\n\n    var stackedDimCoordDim = stackedDimInfo.coordDim;\n    var stackedDimType = stackedDimInfo.type;\n    var stackedDimCoordIndex = 0;\n    each(dimensionInfoList, function (dimensionInfo) {\n      if (dimensionInfo.coordDim === stackedDimCoordDim) {\n        stackedDimCoordIndex++;\n      }\n    });\n    dimensionInfoList.push({\n      name: stackResultDimension,\n      coordDim: stackedDimCoordDim,\n      coordDimIndex: stackedDimCoordIndex,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true\n    });\n    stackedDimCoordIndex++;\n    dimensionInfoList.push({\n      name: stackedOverDimension,\n      // This dimension contains stack base (generally, 0), so do not set it as\n      // `stackedDimCoordDim` to avoid extent calculation, consider log scale.\n      coordDim: stackedOverDimension,\n      coordDimIndex: stackedDimCoordIndex,\n      type: stackedDimType,\n      isExtraCoord: true,\n      isCalculationCoord: true\n    });\n  }\n\n  return {\n    stackedDimension: stackedDimInfo && stackedDimInfo.name,\n    stackedByDimension: stackedByDimInfo && stackedByDimInfo.name,\n    isStackedByIndex: byIndex,\n    stackedOverDimension: stackedOverDimension,\n    stackResultDimension: stackResultDimension\n  };\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {string} stackedDim\n */\n\n\nfunction isDimensionStacked(data, stackedDim\n/*, stackedByDim*/\n) {\n  // Each single series only maps to one pair of axis. So we do not need to\n  // check stackByDim, whatever stacked by a dimension or stacked by index.\n  return !!stackedDim && stackedDim === data.getCalculationInfo('stackedDimension'); // && (\n  //     stackedByDim != null\n  //         ? stackedByDim === data.getCalculationInfo('stackedByDimension')\n  //         : data.getCalculationInfo('isStackedByIndex')\n  // );\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {string} targetDim\n * @param {string} [stackedByDim] If not input this parameter, check whether\n *                                stacked by index.\n * @return {string} dimension\n */\n\n\nfunction getStackedDimension(data, targetDim) {\n  return isDimensionStacked(data, targetDim) ? data.getCalculationInfo('stackResultDimension') : targetDim;\n}\n\nexports.enableDataStack = enableDataStack;\nexports.isDimensionStacked = isDimensionStacked;\nexports.getStackedDimension = getStackedDimension;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar OrdinalScale = require(\"../scale/Ordinal\");\n\nvar IntervalScale = require(\"../scale/Interval\");\n\nvar Scale = require(\"../scale/Scale\");\n\nvar numberUtil = require(\"../util/number\");\n\nvar _barGrid = require(\"../layout/barGrid\");\n\nvar prepareLayoutBarSeries = _barGrid.prepareLayoutBarSeries;\nvar makeColumnLayout = _barGrid.makeColumnLayout;\nvar retrieveColumnLayout = _barGrid.retrieveColumnLayout;\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nrequire(\"../scale/Time\");\n\nrequire(\"../scale/Log\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Get axis scale extent before niced.\n * Item of returned array can only be number (including Infinity and NaN).\n */\n\n\nfunction getScaleExtent(scale, model) {\n  var scaleType = scale.type;\n  var min = model.getMin();\n  var max = model.getMax();\n  var fixMin = min != null;\n  var fixMax = max != null;\n  var originalExtent = scale.getExtent();\n  var axisDataLen;\n  var boundaryGap;\n  var span;\n\n  if (scaleType === 'ordinal') {\n    axisDataLen = model.getCategories().length;\n  } else {\n    boundaryGap = model.get('boundaryGap');\n\n    if (!zrUtil.isArray(boundaryGap)) {\n      boundaryGap = [boundaryGap || 0, boundaryGap || 0];\n    }\n\n    if (typeof boundaryGap[0] === 'boolean') {\n      boundaryGap = [0, 0];\n    }\n\n    boundaryGap[0] = numberUtil.parsePercent(boundaryGap[0], 1);\n    boundaryGap[1] = numberUtil.parsePercent(boundaryGap[1], 1);\n    span = originalExtent[1] - originalExtent[0] || Math.abs(originalExtent[0]);\n  } // Notice: When min/max is not set (that is, when there are null/undefined,\n  // which is the most common case), these cases should be ensured:\n  // (1) For 'ordinal', show all axis.data.\n  // (2) For others:\n  //      + `boundaryGap` is applied (if min/max set, boundaryGap is\n  //      disabled).\n  //      + If `needCrossZero`, min/max should be zero, otherwise, min/max should\n  //      be the result that originalExtent enlarged by boundaryGap.\n  // (3) If no data, it should be ensured that `scale.setBlank` is set.\n  // FIXME\n  // (1) When min/max is 'dataMin' or 'dataMax', should boundaryGap be able to used?\n  // (2) When `needCrossZero` and all data is positive/negative, should it be ensured\n  // that the results processed by boundaryGap are positive/negative?\n\n\n  if (min == null) {\n    min = scaleType === 'ordinal' ? axisDataLen ? 0 : NaN : originalExtent[0] - boundaryGap[0] * span;\n  }\n\n  if (max == null) {\n    max = scaleType === 'ordinal' ? axisDataLen ? axisDataLen - 1 : NaN : originalExtent[1] + boundaryGap[1] * span;\n  }\n\n  if (min === 'dataMin') {\n    min = originalExtent[0];\n  } else if (typeof min === 'function') {\n    min = min({\n      min: originalExtent[0],\n      max: originalExtent[1]\n    });\n  }\n\n  if (max === 'dataMax') {\n    max = originalExtent[1];\n  } else if (typeof max === 'function') {\n    max = max({\n      min: originalExtent[0],\n      max: originalExtent[1]\n    });\n  }\n\n  (min == null || !isFinite(min)) && (min = NaN);\n  (max == null || !isFinite(max)) && (max = NaN);\n  scale.setBlank(zrUtil.eqNaN(min) || zrUtil.eqNaN(max) || scaleType === 'ordinal' && !scale.getOrdinalMeta().categories.length); // Evaluate if axis needs cross zero\n\n  if (model.getNeedCrossZero()) {\n    // Axis is over zero and min is not set\n    if (min > 0 && max > 0 && !fixMin) {\n      min = 0;\n    } // Axis is under zero and max is not set\n\n\n    if (min < 0 && max < 0 && !fixMax) {\n      max = 0;\n    }\n  } // If bars are placed on a base axis of type time or interval account for axis boundary overflow and current axis\n  // is base axis\n  // FIXME\n  // (1) Consider support value axis, where below zero and axis `onZero` should be handled properly.\n  // (2) Refactor the logic with `barGrid`. Is it not need to `makeBarWidthAndOffsetInfo` twice with different extent?\n  //     Should not depend on series type `bar`?\n  // (3) Fix that might overlap when using dataZoom.\n  // (4) Consider other chart types using `barGrid`?\n  // See #6728, #4862, `test/bar-overflow-time-plot.html`\n\n\n  var ecModel = model.ecModel;\n\n  if (ecModel && scaleType === 'time'\n  /*|| scaleType === 'interval' */\n  ) {\n      var barSeriesModels = prepareLayoutBarSeries('bar', ecModel);\n      var isBaseAxisAndHasBarSeries;\n      zrUtil.each(barSeriesModels, function (seriesModel) {\n        isBaseAxisAndHasBarSeries |= seriesModel.getBaseAxis() === model.axis;\n      });\n\n      if (isBaseAxisAndHasBarSeries) {\n        // Calculate placement of bars on axis\n        var barWidthAndOffset = makeColumnLayout(barSeriesModels); // Adjust axis min and max to account for overflow\n\n        var adjustedScale = adjustScaleForOverflow(min, max, model, barWidthAndOffset);\n        min = adjustedScale.min;\n        max = adjustedScale.max;\n      }\n    }\n\n  return [min, max];\n}\n\nfunction adjustScaleForOverflow(min, max, model, barWidthAndOffset) {\n  // Get Axis Length\n  var axisExtent = model.axis.getExtent();\n  var axisLength = axisExtent[1] - axisExtent[0]; // Get bars on current base axis and calculate min and max overflow\n\n  var barsOnCurrentAxis = retrieveColumnLayout(barWidthAndOffset, model.axis);\n\n  if (barsOnCurrentAxis === undefined) {\n    return {\n      min: min,\n      max: max\n    };\n  }\n\n  var minOverflow = Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    minOverflow = Math.min(item.offset, minOverflow);\n  });\n  var maxOverflow = -Infinity;\n  zrUtil.each(barsOnCurrentAxis, function (item) {\n    maxOverflow = Math.max(item.offset + item.width, maxOverflow);\n  });\n  minOverflow = Math.abs(minOverflow);\n  maxOverflow = Math.abs(maxOverflow);\n  var totalOverFlow = minOverflow + maxOverflow; // Calulate required buffer based on old range and overflow\n\n  var oldRange = max - min;\n  var oldRangePercentOfNew = 1 - (minOverflow + maxOverflow) / axisLength;\n  var overflowBuffer = oldRange / oldRangePercentOfNew - oldRange;\n  max += overflowBuffer * (maxOverflow / totalOverFlow);\n  min -= overflowBuffer * (minOverflow / totalOverFlow);\n  return {\n    min: min,\n    max: max\n  };\n}\n\nfunction niceScaleExtent(scale, model) {\n  var extent = getScaleExtent(scale, model);\n  var fixMin = model.getMin() != null;\n  var fixMax = model.getMax() != null;\n  var splitNumber = model.get('splitNumber');\n\n  if (scale.type === 'log') {\n    scale.base = model.get('logBase');\n  }\n\n  var scaleType = scale.type;\n  scale.setExtent(extent[0], extent[1]);\n  scale.niceExtent({\n    splitNumber: splitNumber,\n    fixMin: fixMin,\n    fixMax: fixMax,\n    minInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('minInterval') : null,\n    maxInterval: scaleType === 'interval' || scaleType === 'time' ? model.get('maxInterval') : null\n  }); // If some one specified the min, max. And the default calculated interval\n  // is not good enough. He can specify the interval. It is often appeared\n  // in angle axis with angle 0 - 360. Interval calculated in interval scale is hard\n  // to be 60.\n  // FIXME\n\n  var interval = model.get('interval');\n\n  if (interval != null) {\n    scale.setInterval && scale.setInterval(interval);\n  }\n}\n/**\n * @param {module:echarts/model/Model} model\n * @param {string} [axisType] Default retrieve from model.type\n * @return {module:echarts/scale/*}\n */\n\n\nfunction createScaleByModel(model, axisType) {\n  axisType = axisType || model.get('type');\n\n  if (axisType) {\n    switch (axisType) {\n      // Buildin scale\n      case 'category':\n        return new OrdinalScale(model.getOrdinalMeta ? model.getOrdinalMeta() : model.getCategories(), [Infinity, -Infinity]);\n\n      case 'value':\n        return new IntervalScale();\n      // Extended scale, like time and log\n\n      default:\n        return (Scale.getClass(axisType) || IntervalScale).create(model);\n    }\n  }\n}\n/**\n * Check if the axis corss 0\n */\n\n\nfunction ifAxisCrossZero(axis) {\n  var dataExtent = axis.scale.getExtent();\n  var min = dataExtent[0];\n  var max = dataExtent[1];\n  return !(min > 0 && max > 0 || min < 0 && max < 0);\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @return {Function} Label formatter function.\n *         param: {number} tickValue,\n *         param: {number} idx, the index in all ticks.\n *                         If category axis, this param is not requied.\n *         return: {string} label string.\n */\n\n\nfunction makeLabelFormatter(axis) {\n  var labelFormatter = axis.getLabelModel().get('formatter');\n  var categoryTickStart = axis.type === 'category' ? axis.scale.getExtent()[0] : null;\n\n  if (typeof labelFormatter === 'string') {\n    labelFormatter = function (tpl) {\n      return function (val) {\n        // For category axis, get raw value; for numeric axis,\n        // get foramtted label like '1,333,444'.\n        val = axis.scale.getLabel(val);\n        return tpl.replace('{value}', val != null ? val : '');\n      };\n    }(labelFormatter); // Consider empty array\n\n\n    return labelFormatter;\n  } else if (typeof labelFormatter === 'function') {\n    return function (tickValue, idx) {\n      // The original intention of `idx` is \"the index of the tick in all ticks\".\n      // But the previous implementation of category axis do not consider the\n      // `axisLabel.interval`, which cause that, for example, the `interval` is\n      // `1`, then the ticks \"name5\", \"name7\", \"name9\" are displayed, where the\n      // corresponding `idx` are `0`, `2`, `4`, but not `0`, `1`, `2`. So we keep\n      // the definition here for back compatibility.\n      if (categoryTickStart != null) {\n        idx = tickValue - categoryTickStart;\n      }\n\n      return labelFormatter(getAxisRawValue(axis, tickValue), idx);\n    };\n  } else {\n    return function (tick) {\n      return axis.scale.getLabel(tick);\n    };\n  }\n}\n\nfunction getAxisRawValue(axis, value) {\n  // In category axis with data zoom, tick is not the original\n  // index of axis.data. So tick should not be exposed to user\n  // in category axis.\n  return axis.type === 'category' ? axis.scale.getLabel(value) : value;\n}\n/**\n * @param {module:echarts/coord/Axis} axis\n * @return {module:zrender/core/BoundingRect} Be null/undefined if no labels.\n */\n\n\nfunction estimateLabelUnionRect(axis) {\n  var axisModel = axis.model;\n  var scale = axis.scale;\n\n  if (!axisModel.get('axisLabel.show') || scale.isBlank()) {\n    return;\n  }\n\n  var isCategory = axis.type === 'category';\n  var realNumberScaleTicks;\n  var tickCount;\n  var categoryScaleExtent = scale.getExtent(); // Optimize for large category data, avoid call `getTicks()`.\n\n  if (isCategory) {\n    tickCount = scale.count();\n  } else {\n    realNumberScaleTicks = scale.getTicks();\n    tickCount = realNumberScaleTicks.length;\n  }\n\n  var axisLabelModel = axis.getLabelModel();\n  var labelFormatter = makeLabelFormatter(axis);\n  var rect;\n  var step = 1; // Simple optimization for large amount of labels\n\n  if (tickCount > 40) {\n    step = Math.ceil(tickCount / 40);\n  }\n\n  for (var i = 0; i < tickCount; i += step) {\n    var tickValue = realNumberScaleTicks ? realNumberScaleTicks[i] : categoryScaleExtent[0] + i;\n    var label = labelFormatter(tickValue);\n    var unrotatedSingleRect = axisLabelModel.getTextRect(label);\n    var singleRect = rotateTextRect(unrotatedSingleRect, axisLabelModel.get('rotate') || 0);\n    rect ? rect.union(singleRect) : rect = singleRect;\n  }\n\n  return rect;\n}\n\nfunction rotateTextRect(textRect, rotate) {\n  var rotateRadians = rotate * Math.PI / 180;\n  var boundingBox = textRect.plain();\n  var beforeWidth = boundingBox.width;\n  var beforeHeight = boundingBox.height;\n  var afterWidth = beforeWidth * Math.cos(rotateRadians) + beforeHeight * Math.sin(rotateRadians);\n  var afterHeight = beforeWidth * Math.sin(rotateRadians) + beforeHeight * Math.cos(rotateRadians);\n  var rotatedRect = new BoundingRect(boundingBox.x, boundingBox.y, afterWidth, afterHeight);\n  return rotatedRect;\n}\n/**\n * @param {module:echarts/src/model/Model} model axisLabelModel or axisTickModel\n * @return {number|String} Can be null|'auto'|number|function\n */\n\n\nfunction getOptionCategoryInterval(model) {\n  var interval = model.get('interval');\n  return interval == null ? 'auto' : interval;\n}\n/**\n * Set `categoryInterval` as 0 implicitly indicates that\n * show all labels reguardless of overlap.\n * @param {Object} axis axisModel.axis\n * @return {boolean}\n */\n\n\nfunction shouldShowAllLabels(axis) {\n  return axis.type === 'category' && getOptionCategoryInterval(axis.getLabelModel()) === 0;\n}\n\nexports.getScaleExtent = getScaleExtent;\nexports.niceScaleExtent = niceScaleExtent;\nexports.createScaleByModel = createScaleByModel;\nexports.ifAxisCrossZero = ifAxisCrossZero;\nexports.makeLabelFormatter = makeLabelFormatter;\nexports.getAxisRawValue = getAxisRawValue;\nexports.estimateLabelUnionRect = estimateLabelUnionRect;\nexports.getOptionCategoryInterval = getOptionCategoryInterval;\nexports.shouldShowAllLabels = shouldShowAllLabels;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"./graphic\");\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar _text = require(\"zrender/lib/contain/text\");\n\nvar _calculateTextPosition = _text.calculateTextPosition;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Symbol factory\n\n/**\n * Triangle shape\n * @inner\n */\n\nvar Triangle = graphic.extendShape({\n  type: 'triangle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function buildPath(path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy + height);\n    path.lineTo(cx - width, cy + height);\n    path.closePath();\n  }\n});\n/**\n * Diamond shape\n * @inner\n */\n\nvar Diamond = graphic.extendShape({\n  type: 'diamond',\n  shape: {\n    cx: 0,\n    cy: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function buildPath(path, shape) {\n    var cx = shape.cx;\n    var cy = shape.cy;\n    var width = shape.width / 2;\n    var height = shape.height / 2;\n    path.moveTo(cx, cy - height);\n    path.lineTo(cx + width, cy);\n    path.lineTo(cx, cy + height);\n    path.lineTo(cx - width, cy);\n    path.closePath();\n  }\n});\n/**\n * Pin shape\n * @inner\n */\n\nvar Pin = graphic.extendShape({\n  type: 'pin',\n  shape: {\n    // x, y on the cusp\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function buildPath(path, shape) {\n    var x = shape.x;\n    var y = shape.y;\n    var w = shape.width / 5 * 3; // Height must be larger than width\n\n    var h = Math.max(w, shape.height);\n    var r = w / 2; // Dist on y with tangent point and circle center\n\n    var dy = r * r / (h - r);\n    var cy = y - h + r + dy;\n    var angle = Math.asin(dy / r); // Dist on x with tangent point and circle center\n\n    var dx = Math.cos(angle) * r;\n    var tanX = Math.sin(angle);\n    var tanY = Math.cos(angle);\n    var cpLen = r * 0.6;\n    var cpLen2 = r * 0.7;\n    path.moveTo(x - dx, cy + dy);\n    path.arc(x, cy, r, Math.PI - angle, Math.PI * 2 + angle);\n    path.bezierCurveTo(x + dx - tanX * cpLen, cy + dy + tanY * cpLen, x, y - cpLen2, x, y);\n    path.bezierCurveTo(x, y - cpLen2, x - dx + tanX * cpLen, cy + dy + tanY * cpLen, x - dx, cy + dy);\n    path.closePath();\n  }\n});\n/**\n * Arrow shape\n * @inner\n */\n\nvar Arrow = graphic.extendShape({\n  type: 'arrow',\n  shape: {\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var height = shape.height;\n    var width = shape.width;\n    var x = shape.x;\n    var y = shape.y;\n    var dx = width / 3 * 2;\n    ctx.moveTo(x, y);\n    ctx.lineTo(x + dx, y + height);\n    ctx.lineTo(x, y + height / 4 * 3);\n    ctx.lineTo(x - dx, y + height);\n    ctx.lineTo(x, y);\n    ctx.closePath();\n  }\n});\n/**\n * Map of path contructors\n * @type {Object.<string, module:zrender/graphic/Path>}\n */\n\nvar symbolCtors = {\n  line: graphic.Line,\n  rect: graphic.Rect,\n  roundRect: graphic.Rect,\n  square: graphic.Rect,\n  circle: graphic.Circle,\n  diamond: Diamond,\n  pin: Pin,\n  arrow: Arrow,\n  triangle: Triangle\n};\nvar symbolShapeMakers = {\n  line: function line(x, y, w, h, shape) {\n    // FIXME\n    shape.x1 = x;\n    shape.y1 = y + h / 2;\n    shape.x2 = x + w;\n    shape.y2 = y + h / 2;\n  },\n  rect: function rect(x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n  },\n  roundRect: function roundRect(x, y, w, h, shape) {\n    shape.x = x;\n    shape.y = y;\n    shape.width = w;\n    shape.height = h;\n    shape.r = Math.min(w, h) / 4;\n  },\n  square: function square(x, y, w, h, shape) {\n    var size = Math.min(w, h);\n    shape.x = x;\n    shape.y = y;\n    shape.width = size;\n    shape.height = size;\n  },\n  circle: function circle(x, y, w, h, shape) {\n    // Put circle in the center of square\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.r = Math.min(w, h) / 2;\n  },\n  diamond: function diamond(x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  pin: function pin(x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  arrow: function arrow(x, y, w, h, shape) {\n    shape.x = x + w / 2;\n    shape.y = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  },\n  triangle: function triangle(x, y, w, h, shape) {\n    shape.cx = x + w / 2;\n    shape.cy = y + h / 2;\n    shape.width = w;\n    shape.height = h;\n  }\n};\nvar symbolBuildProxies = {};\nzrUtil.each(symbolCtors, function (Ctor, name) {\n  symbolBuildProxies[name] = new Ctor();\n});\nvar SymbolClz = graphic.extendShape({\n  type: 'symbol',\n  shape: {\n    symbolType: '',\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  calculateTextPosition: function calculateTextPosition(out, style, rect) {\n    var res = _calculateTextPosition(out, style, rect);\n\n    var shape = this.shape;\n\n    if (shape && shape.symbolType === 'pin' && style.textPosition === 'inside') {\n      res.y = rect.y + rect.height * 0.4;\n    }\n\n    return res;\n  },\n  buildPath: function buildPath(ctx, shape, inBundle) {\n    var symbolType = shape.symbolType;\n\n    if (symbolType !== 'none') {\n      var proxySymbol = symbolBuildProxies[symbolType];\n\n      if (!proxySymbol) {\n        // Default rect\n        symbolType = 'rect';\n        proxySymbol = symbolBuildProxies[symbolType];\n      }\n\n      symbolShapeMakers[symbolType](shape.x, shape.y, shape.width, shape.height, proxySymbol.shape);\n      proxySymbol.buildPath(ctx, proxySymbol.shape, inBundle);\n    }\n  }\n}); // Provide setColor helper method to avoid determine if set the fill or stroke outside\n\nfunction symbolPathSetColor(color, innerColor) {\n  if (this.type !== 'image') {\n    var symbolStyle = this.style;\n    var symbolShape = this.shape;\n\n    if (symbolShape && symbolShape.symbolType === 'line') {\n      symbolStyle.stroke = color;\n    } else if (this.__isEmptyBrush) {\n      symbolStyle.stroke = color;\n      symbolStyle.fill = innerColor || '#fff';\n    } else {\n      // FIXME  onlyStroke ?\n      symbolStyle.fill && (symbolStyle.fill = color);\n      symbolStyle.stroke && (symbolStyle.stroke = color);\n    }\n\n    this.dirty(false);\n  }\n}\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n * @param {string} symbolType\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {string} color\n * @param {boolean} [keepAspect=false] whether to keep the ratio of w/h,\n *                            for path and image only.\n */\n\n\nfunction createSymbol(symbolType, x, y, w, h, color, keepAspect) {\n  // TODO Support image object, DynamicImage.\n  var isEmpty = symbolType.indexOf('empty') === 0;\n\n  if (isEmpty) {\n    symbolType = symbolType.substr(5, 1).toLowerCase() + symbolType.substr(6);\n  }\n\n  var symbolPath;\n\n  if (symbolType.indexOf('image://') === 0) {\n    symbolPath = graphic.makeImage(symbolType.slice(8), new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else if (symbolType.indexOf('path://') === 0) {\n    symbolPath = graphic.makePath(symbolType.slice(7), {}, new BoundingRect(x, y, w, h), keepAspect ? 'center' : 'cover');\n  } else {\n    symbolPath = new SymbolClz({\n      shape: {\n        symbolType: symbolType,\n        x: x,\n        y: y,\n        width: w,\n        height: h\n      }\n    });\n  }\n\n  symbolPath.__isEmptyBrush = isEmpty;\n  symbolPath.setColor = symbolPathSetColor;\n  symbolPath.setColor(color);\n  return symbolPath;\n}\n\nexports.createSymbol = createSymbol;","import '../../style/index.css';\nimport './index.css';","import React from 'react';\n\nvar isMobile = require('ismobilejs');\n\nexport function noop() {}\nexport function getKeyFromChildrenIndex(child, menuEventKey, index) {\n  var prefix = menuEventKey || '';\n  return child.key || prefix + 'item_' + index;\n}\nexport function getMenuIdFromSubMenuEventKey(eventKey) {\n  return eventKey + '-menu-';\n}\nexport function loopMenuItem(children, cb) {\n  var index = -1;\n  React.Children.forEach(children, function (c) {\n    index++;\n\n    if (c && c.type && c.type.isMenuItemGroup) {\n      React.Children.forEach(c.props.children, function (c2) {\n        index++;\n        cb(c2, index);\n      });\n    } else {\n      cb(c, index);\n    }\n  });\n}\nexport function loopMenuItemRecursively(children, keys, ret) {\n  /* istanbul ignore if */\n  if (!children || ret.find) {\n    return;\n  }\n\n  React.Children.forEach(children, function (c) {\n    if (c) {\n      var construct = c.type;\n\n      if (!construct || !(construct.isSubMenu || construct.isMenuItem || construct.isMenuItemGroup)) {\n        return;\n      }\n\n      if (keys.indexOf(c.key) !== -1) {\n        ret.find = true;\n      } else if (c.props.children) {\n        loopMenuItemRecursively(c.props.children, keys, ret);\n      }\n    }\n  });\n}\nexport var menuAllProps = ['defaultSelectedKeys', 'selectedKeys', 'defaultOpenKeys', 'openKeys', 'mode', 'getPopupContainer', 'onSelect', 'onDeselect', 'onDestroy', 'openTransitionName', 'openAnimation', 'subMenuOpenDelay', 'subMenuCloseDelay', 'forceSubMenuRender', 'triggerSubMenuAction', 'level', 'selectable', 'multiple', 'onOpenChange', 'visible', 'focusable', 'defaultActiveFirst', 'prefixCls', 'inlineIndent', 'parentMenu', 'title', 'rootPrefixCls', 'eventKey', 'active', 'onItemHover', 'onTitleMouseEnter', 'onTitleMouseLeave', 'onTitleClick', 'popupAlign', 'popupOffset', 'isOpen', 'renderMenuItem', 'manualRef', 'subMenuKey', 'disabled', 'index', 'isSelected', 'store', 'activeKey', 'builtinPlacements', 'overflowedIndicator', // the following keys found need to be removed from test regression\n'attribute', 'value', 'popupClassName', 'inlineCollapsed', 'menu', 'theme', 'itemIcon', 'expandIcon']; // ref: https://github.com/ant-design/ant-design/issues/14007\n// ref: https://bugs.chromium.org/p/chromium/issues/detail?id=360889\n// getBoundingClientRect return the full precision value, which is\n// not the same behavior as on chrome. Set the precision to 6 to\n// unify their behavior\n\nexport var getWidth = function getWidth(elem) {\n  var width = elem && typeof elem.getBoundingClientRect === 'function' && elem.getBoundingClientRect().width;\n\n  if (width) {\n    width = +width.toFixed(6);\n  }\n\n  return width || 0;\n};\nexport var setStyle = function setStyle(elem, styleProperty, value) {\n  if (elem && typeof elem.style === 'object') {\n    elem.style[styleProperty] = value;\n  }\n};\nexport var isMobileDevice = function isMobileDevice() {\n  return isMobile.any;\n};","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nexport var placements = {\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -7]\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 7]\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0]\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0]\n  }\n};\nexport default placements;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport { connect } from 'mini-store';\nimport SubPopupMenu from './SubPopupMenu';\nimport placements from './placements';\nimport Animate from 'rc-animate';\nimport { noop, loopMenuItemRecursively, getMenuIdFromSubMenuEventKey, menuAllProps } from './util';\nvar guid = 0;\nvar popupPlacementMap = {\n  horizontal: 'bottomLeft',\n  vertical: 'rightTop',\n  'vertical-left': 'rightTop',\n  'vertical-right': 'leftTop'\n};\n\nvar updateDefaultActiveFirst = function updateDefaultActiveFirst(store, eventKey, defaultActiveFirst) {\n  var _extends2;\n\n  var menuId = getMenuIdFromSubMenuEventKey(eventKey);\n  var state = store.getState();\n  store.setState({\n    defaultActiveFirst: _extends({}, state.defaultActiveFirst, (_extends2 = {}, _extends2[menuId] = defaultActiveFirst, _extends2))\n  });\n};\n\nexport var SubMenu = function (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu(props) {\n    _classCallCheck(this, SubMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    var store = props.store;\n    var eventKey = props.eventKey;\n    var defaultActiveFirst = store.getState().defaultActiveFirst;\n    _this.isRootMenu = false;\n    var value = false;\n\n    if (defaultActiveFirst) {\n      value = defaultActiveFirst[eventKey];\n    }\n\n    updateDefaultActiveFirst(store, eventKey, value);\n    return _this;\n  }\n\n  SubMenu.prototype.componentDidMount = function componentDidMount() {\n    this.componentDidUpdate();\n  };\n\n  SubMenu.prototype.componentDidUpdate = function componentDidUpdate() {\n    var _this2 = this;\n\n    var _props = this.props,\n        mode = _props.mode,\n        parentMenu = _props.parentMenu,\n        manualRef = _props.manualRef; // invoke customized ref to expose component to mixin\n\n    if (manualRef) {\n      manualRef(this);\n    }\n\n    if (mode !== 'horizontal' || !parentMenu.isRootMenu || !this.props.isOpen) {\n      return;\n    }\n\n    this.minWidthTimeout = setTimeout(function () {\n      return _this2.adjustWidth();\n    }, 0);\n  };\n\n  SubMenu.prototype.componentWillUnmount = function componentWillUnmount() {\n    var _props2 = this.props,\n        onDestroy = _props2.onDestroy,\n        eventKey = _props2.eventKey;\n\n    if (onDestroy) {\n      onDestroy(eventKey);\n    }\n    /* istanbul ignore if */\n\n\n    if (this.minWidthTimeout) {\n      clearTimeout(this.minWidthTimeout);\n    }\n    /* istanbul ignore if */\n\n\n    if (this.mouseenterTimeout) {\n      clearTimeout(this.mouseenterTimeout);\n    }\n  };\n\n  SubMenu.prototype.renderChildren = function renderChildren(children) {\n    var props = this.props;\n    var baseProps = {\n      mode: props.mode === 'horizontal' ? 'vertical' : props.mode,\n      visible: this.props.isOpen,\n      level: props.level + 1,\n      inlineIndent: props.inlineIndent,\n      focusable: false,\n      onClick: this.onSubMenuClick,\n      onSelect: this.onSelect,\n      onDeselect: this.onDeselect,\n      onDestroy: this.onDestroy,\n      selectedKeys: props.selectedKeys,\n      eventKey: props.eventKey + '-menu-',\n      openKeys: props.openKeys,\n      openTransitionName: props.openTransitionName,\n      openAnimation: props.openAnimation,\n      onOpenChange: this.onOpenChange,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      parentMenu: this,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      triggerSubMenuAction: props.triggerSubMenuAction,\n      builtinPlacements: props.builtinPlacements,\n      defaultActiveFirst: props.store.getState().defaultActiveFirst[getMenuIdFromSubMenuEventKey(props.eventKey)],\n      multiple: props.multiple,\n      prefixCls: props.rootPrefixCls,\n      id: this._menuId,\n      manualRef: this.saveMenuInstance,\n      itemIcon: props.itemIcon,\n      expandIcon: props.expandIcon\n    };\n    var haveRendered = this.haveRendered;\n    this.haveRendered = true;\n    this.haveOpened = this.haveOpened || baseProps.visible || baseProps.forceSubMenuRender; // never rendered not planning to, don't render\n\n    if (!this.haveOpened) {\n      return React.createElement('div', null);\n    } // don't show transition on first rendering (no animation for opened menu)\n    // show appear transition if it's not visible (not sure why)\n    // show appear transition if it's not inline mode\n\n\n    var transitionAppear = haveRendered || !baseProps.visible || baseProps.mode !== 'inline';\n    baseProps.className = ' ' + baseProps.prefixCls + '-sub';\n    var animProps = {};\n\n    if (baseProps.openTransitionName) {\n      animProps.transitionName = baseProps.openTransitionName;\n    } else if (typeof baseProps.openAnimation === 'object') {\n      animProps.animation = _extends({}, baseProps.openAnimation);\n\n      if (!transitionAppear) {\n        delete animProps.animation.appear;\n      }\n    }\n\n    return React.createElement(Animate, _extends({}, animProps, {\n      showProp: 'visible',\n      component: '',\n      transitionAppear: transitionAppear\n    }), React.createElement(SubPopupMenu, _extends({}, baseProps, {\n      id: this._menuId\n    }), children));\n  };\n\n  SubMenu.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n\n    var isOpen = props.isOpen;\n    var prefixCls = this.getPrefixCls();\n    var isInlineMode = props.mode === 'inline';\n    var className = classNames(prefixCls, prefixCls + '-' + props.mode, (_classNames = {}, _classNames[props.className] = !!props.className, _classNames[this.getOpenClassName()] = isOpen, _classNames[this.getActiveClassName()] = props.active || isOpen && !isInlineMode, _classNames[this.getDisabledClassName()] = props.disabled, _classNames[this.getSelectedClassName()] = this.isChildrenSelected(), _classNames));\n\n    if (!this._menuId) {\n      if (props.eventKey) {\n        this._menuId = props.eventKey + '$Menu';\n      } else {\n        this._menuId = '$__$' + ++guid + '$Menu';\n      }\n    }\n\n    var mouseEvents = {};\n    var titleClickEvents = {};\n    var titleMouseEvents = {};\n\n    if (!props.disabled) {\n      mouseEvents = {\n        onMouseLeave: this.onMouseLeave,\n        onMouseEnter: this.onMouseEnter\n      }; // only works in title, not outer li\n\n      titleClickEvents = {\n        onClick: this.onTitleClick\n      };\n      titleMouseEvents = {\n        onMouseEnter: this.onTitleMouseEnter,\n        onMouseLeave: this.onTitleMouseLeave\n      };\n    }\n\n    var style = {};\n\n    if (isInlineMode) {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    var ariaOwns = {}; // only set aria-owns when menu is open\n    // otherwise it would be an invalid aria-owns value\n    // since corresponding node cannot be found\n\n    if (this.props.isOpen) {\n      ariaOwns = {\n        'aria-owns': this._menuId\n      };\n    } // expand custom icon should NOT be displayed in menu with horizontal mode.\n\n\n    var icon = null;\n\n    if (props.mode !== 'horizontal') {\n      icon = this.props.expandIcon; // ReactNode\n\n      if (typeof this.props.expandIcon === 'function') {\n        icon = React.createElement(this.props.expandIcon, _extends({}, this.props));\n      }\n    }\n\n    var title = React.createElement('div', _extends({\n      ref: this.saveSubMenuTitle,\n      style: style,\n      className: prefixCls + '-title'\n    }, titleMouseEvents, titleClickEvents, {\n      'aria-expanded': isOpen\n    }, ariaOwns, {\n      'aria-haspopup': 'true',\n      title: typeof props.title === 'string' ? props.title : undefined\n    }), props.title, icon || React.createElement('i', {\n      className: prefixCls + '-arrow'\n    }));\n    var children = this.renderChildren(props.children);\n    var getPopupContainer = props.parentMenu.isRootMenu ? props.parentMenu.props.getPopupContainer : function (triggerNode) {\n      return triggerNode.parentNode;\n    };\n    var popupPlacement = popupPlacementMap[props.mode];\n    var popupAlign = props.popupOffset ? {\n      offset: props.popupOffset\n    } : {};\n    var popupClassName = props.mode === 'inline' ? '' : props.popupClassName;\n    var disabled = props.disabled,\n        triggerSubMenuAction = props.triggerSubMenuAction,\n        subMenuOpenDelay = props.subMenuOpenDelay,\n        forceSubMenuRender = props.forceSubMenuRender,\n        subMenuCloseDelay = props.subMenuCloseDelay,\n        builtinPlacements = props.builtinPlacements;\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    }); // Set onClick to null, to ignore propagated onClick event\n\n    delete props.onClick;\n    return React.createElement('li', _extends({}, props, mouseEvents, {\n      className: className,\n      role: 'menuitem'\n    }), isInlineMode && title, isInlineMode && children, !isInlineMode && React.createElement(Trigger, {\n      prefixCls: prefixCls,\n      popupClassName: prefixCls + '-popup ' + popupClassName,\n      getPopupContainer: getPopupContainer,\n      builtinPlacements: _extends({}, placements, builtinPlacements),\n      popupPlacement: popupPlacement,\n      popupVisible: isOpen,\n      popupAlign: popupAlign,\n      popup: children,\n      action: disabled ? [] : [triggerSubMenuAction],\n      mouseEnterDelay: subMenuOpenDelay,\n      mouseLeaveDelay: subMenuCloseDelay,\n      onPopupVisibleChange: this.onPopupVisibleChange,\n      forceRender: forceSubMenuRender\n    }, title));\n  };\n\n  return SubMenu;\n}(React.Component);\nSubMenu.propTypes = {\n  parentMenu: PropTypes.object,\n  title: PropTypes.node,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  openKeys: PropTypes.array,\n  onClick: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  multiple: PropTypes.bool,\n  active: PropTypes.bool,\n  // TODO: remove\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  triggerSubMenuAction: PropTypes.string,\n  onDeselect: PropTypes.func,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  onTitleMouseEnter: PropTypes.func,\n  onTitleMouseLeave: PropTypes.func,\n  onTitleClick: PropTypes.func,\n  popupOffset: PropTypes.array,\n  isOpen: PropTypes.bool,\n  store: PropTypes.object,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nSubMenu.defaultProps = {\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  onTitleMouseEnter: noop,\n  onTitleMouseLeave: noop,\n  onTitleClick: noop,\n  manualRef: noop,\n  mode: 'vertical',\n  title: ''\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onDestroy = function (key) {\n    _this3.props.onDestroy(key);\n  };\n\n  this.onKeyDown = function (e) {\n    var keyCode = e.keyCode;\n    var menu = _this3.menuInstance;\n    var _props3 = _this3.props,\n        isOpen = _props3.isOpen,\n        store = _props3.store;\n\n    if (keyCode === KeyCode.ENTER) {\n      _this3.onTitleClick(e);\n\n      updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      return true;\n    }\n\n    if (keyCode === KeyCode.RIGHT) {\n      if (isOpen) {\n        menu.onKeyDown(e);\n      } else {\n        _this3.triggerOpenChange(true); // need to update current menu's defaultActiveFirst value\n\n\n        updateDefaultActiveFirst(store, _this3.props.eventKey, true);\n      }\n\n      return true;\n    }\n\n    if (keyCode === KeyCode.LEFT) {\n      var handled = void 0;\n\n      if (isOpen) {\n        handled = menu.onKeyDown(e);\n      } else {\n        return undefined;\n      }\n\n      if (!handled) {\n        _this3.triggerOpenChange(false);\n\n        handled = true;\n      }\n\n      return handled;\n    }\n\n    if (isOpen && (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN)) {\n      return menu.onKeyDown(e);\n    }\n  };\n\n  this.onOpenChange = function (e) {\n    _this3.props.onOpenChange(e);\n  };\n\n  this.onPopupVisibleChange = function (visible) {\n    _this3.triggerOpenChange(visible, visible ? 'mouseenter' : 'mouseleave');\n  };\n\n  this.onMouseEnter = function (e) {\n    var _props4 = _this3.props,\n        key = _props4.eventKey,\n        onMouseEnter = _props4.onMouseEnter,\n        store = _props4.store;\n    updateDefaultActiveFirst(store, _this3.props.eventKey, false);\n    onMouseEnter({\n      key: key,\n      domEvent: e\n    });\n  };\n\n  this.onMouseLeave = function (e) {\n    var _props5 = _this3.props,\n        parentMenu = _props5.parentMenu,\n        eventKey = _props5.eventKey,\n        onMouseLeave = _props5.onMouseLeave;\n    parentMenu.subMenuInstance = _this3;\n    onMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleMouseEnter = function (domEvent) {\n    var _props6 = _this3.props,\n        key = _props6.eventKey,\n        onItemHover = _props6.onItemHover,\n        onTitleMouseEnter = _props6.onTitleMouseEnter;\n    onItemHover({\n      key: key,\n      hover: true\n    });\n    onTitleMouseEnter({\n      key: key,\n      domEvent: domEvent\n    });\n  };\n\n  this.onTitleMouseLeave = function (e) {\n    var _props7 = _this3.props,\n        parentMenu = _props7.parentMenu,\n        eventKey = _props7.eventKey,\n        onItemHover = _props7.onItemHover,\n        onTitleMouseLeave = _props7.onTitleMouseLeave;\n    parentMenu.subMenuInstance = _this3;\n    onItemHover({\n      key: eventKey,\n      hover: false\n    });\n    onTitleMouseLeave({\n      key: eventKey,\n      domEvent: e\n    });\n  };\n\n  this.onTitleClick = function (e) {\n    var props = _this3.props;\n    props.onTitleClick({\n      key: props.eventKey,\n      domEvent: e\n    });\n\n    if (props.triggerSubMenuAction === 'hover') {\n      return;\n    }\n\n    _this3.triggerOpenChange(!props.isOpen, 'click');\n\n    updateDefaultActiveFirst(props.store, _this3.props.eventKey, false);\n  };\n\n  this.onSubMenuClick = function (info) {\n    // in the case of overflowed submenu\n    // onClick is not copied over\n    if (typeof _this3.props.onClick === 'function') {\n      _this3.props.onClick(_this3.addKeyPath(info));\n    }\n  };\n\n  this.onSelect = function (info) {\n    _this3.props.onSelect(info);\n  };\n\n  this.onDeselect = function (info) {\n    _this3.props.onDeselect(info);\n  };\n\n  this.getPrefixCls = function () {\n    return _this3.props.rootPrefixCls + '-submenu';\n  };\n\n  this.getActiveClassName = function () {\n    return _this3.getPrefixCls() + '-active';\n  };\n\n  this.getDisabledClassName = function () {\n    return _this3.getPrefixCls() + '-disabled';\n  };\n\n  this.getSelectedClassName = function () {\n    return _this3.getPrefixCls() + '-selected';\n  };\n\n  this.getOpenClassName = function () {\n    return _this3.props.rootPrefixCls + '-submenu-open';\n  };\n\n  this.saveMenuInstance = function (c) {\n    // children menu instance\n    _this3.menuInstance = c;\n  };\n\n  this.addKeyPath = function (info) {\n    return _extends({}, info, {\n      keyPath: (info.keyPath || []).concat(_this3.props.eventKey)\n    });\n  };\n\n  this.triggerOpenChange = function (open, type) {\n    var key = _this3.props.eventKey;\n\n    var openChange = function openChange() {\n      _this3.onOpenChange({\n        key: key,\n        item: _this3,\n        trigger: type,\n        open: open\n      });\n    };\n\n    if (type === 'mouseenter') {\n      // make sure mouseenter happen after other menu item's mouseleave\n      _this3.mouseenterTimeout = setTimeout(function () {\n        openChange();\n      }, 0);\n    } else {\n      openChange();\n    }\n  };\n\n  this.isChildrenSelected = function () {\n    var ret = {\n      find: false\n    };\n    loopMenuItemRecursively(_this3.props.children, _this3.props.selectedKeys, ret);\n    return ret.find;\n  };\n\n  this.isOpen = function () {\n    return _this3.props.openKeys.indexOf(_this3.props.eventKey) !== -1;\n  };\n\n  this.adjustWidth = function () {\n    /* istanbul ignore if */\n    if (!_this3.subMenuTitle || !_this3.menuInstance) {\n      return;\n    }\n\n    var popupMenu = ReactDOM.findDOMNode(_this3.menuInstance);\n\n    if (popupMenu.offsetWidth >= _this3.subMenuTitle.offsetWidth) {\n      return;\n    }\n    /* istanbul ignore next */\n\n\n    popupMenu.style.minWidth = _this3.subMenuTitle.offsetWidth + 'px';\n  };\n\n  this.saveSubMenuTitle = function (subMenuTitle) {\n    _this3.subMenuTitle = subMenuTitle;\n  };\n};\n\nvar connected = connect(function (_ref, _ref2) {\n  var openKeys = _ref.openKeys,\n      activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    isOpen: openKeys.indexOf(eventKey) > -1,\n    active: activeKey[subMenuKey] === eventKey,\n    selectedKeys: selectedKeys\n  };\n})(SubMenu);\nconnected.isSubMenu = true;\nexport default connected;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport ResizeObserver from 'resize-observer-polyfill';\nimport SubMenu from './SubMenu';\nimport { getWidth, setStyle, menuAllProps } from './util';\nvar canUseDOM = !!(typeof window !== 'undefined' && window.document && window.document.createElement);\nvar MENUITEM_OVERFLOWED_CLASSNAME = 'menuitem-overflowed';\nvar FLOAT_PRECISION_ADJUST = 0.5; // Fix ssr\n\nif (canUseDOM) {\n  require('mutationobserver-shim');\n}\n\nvar DOMWrap = function (_React$Component) {\n  _inherits(DOMWrap, _React$Component);\n\n  function DOMWrap() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, DOMWrap);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.state = {\n      lastVisibleIndex: undefined\n    }, _this.getMenuItemNodes = function () {\n      var prefixCls = _this.props.prefixCls;\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return [];\n      } // filter out all overflowed indicator placeholder\n\n\n      return [].slice.call(ul.children).filter(function (node) {\n        return node.className.split(' ').indexOf(prefixCls + '-overflowed-submenu') < 0;\n      });\n    }, _this.getOverflowedSubMenuItem = function (keyPrefix, overflowedItems, renderPlaceholder) {\n      var _this$props = _this.props,\n          overflowedIndicator = _this$props.overflowedIndicator,\n          level = _this$props.level,\n          mode = _this$props.mode,\n          prefixCls = _this$props.prefixCls,\n          theme = _this$props.theme;\n\n      if (level !== 1 || mode !== 'horizontal') {\n        return null;\n      } // put all the overflowed item inside a submenu\n      // with a title of overflow indicator ('...')\n\n\n      var copy = _this.props.children[0];\n\n      var _copy$props = copy.props,\n          throwAway = _copy$props.children,\n          title = _copy$props.title,\n          propStyle = _copy$props.style,\n          rest = _objectWithoutProperties(_copy$props, ['children', 'title', 'style']);\n\n      var style = _extends({}, propStyle);\n\n      var key = keyPrefix + '-overflowed-indicator';\n      var eventKey = keyPrefix + '-overflowed-indicator';\n\n      if (overflowedItems.length === 0 && renderPlaceholder !== true) {\n        style = _extends({}, style, {\n          display: 'none'\n        });\n      } else if (renderPlaceholder) {\n        style = _extends({}, style, {\n          visibility: 'hidden',\n          // prevent from taking normal dom space\n          position: 'absolute'\n        });\n        key = key + '-placeholder';\n        eventKey = eventKey + '-placeholder';\n      }\n\n      var popupClassName = theme ? prefixCls + '-' + theme : '';\n      var props = {};\n      menuAllProps.forEach(function (k) {\n        if (rest[k] !== undefined) {\n          props[k] = rest[k];\n        }\n      });\n      return React.createElement(SubMenu, _extends({\n        title: overflowedIndicator,\n        className: prefixCls + '-overflowed-submenu',\n        popupClassName: popupClassName\n      }, props, {\n        key: key,\n        eventKey: eventKey,\n        disabled: false,\n        style: style\n      }), overflowedItems);\n    }, _this.setChildrenWidthAndResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return;\n      }\n\n      var ulChildrenNodes = ul.children;\n\n      if (!ulChildrenNodes || ulChildrenNodes.length === 0) {\n        return;\n      }\n\n      var lastOverflowedIndicatorPlaceholder = ul.children[ulChildrenNodes.length - 1]; // need last overflowed indicator for calculating length;\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'inline-block');\n\n      var menuItemNodes = _this.getMenuItemNodes(); // reset display attribute for all hidden elements caused by overflow to calculate updated width\n      // and then reset to original state after width calculation\n\n\n      var overflowedItems = menuItemNodes.filter(function (c) {\n        return c.className.split(' ').indexOf(MENUITEM_OVERFLOWED_CLASSNAME) >= 0;\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'inline-block');\n      });\n      _this.menuItemSizes = menuItemNodes.map(function (c) {\n        return getWidth(c);\n      });\n      overflowedItems.forEach(function (c) {\n        setStyle(c, 'display', 'none');\n      });\n      _this.overflowedIndicatorWidth = getWidth(ul.children[ul.children.length - 1]);\n      _this.originalTotalWidth = _this.menuItemSizes.reduce(function (acc, cur) {\n        return acc + cur;\n      }, 0);\n\n      _this.handleResize(); // prevent the overflowed indicator from taking space;\n\n\n      setStyle(lastOverflowedIndicatorPlaceholder, 'display', 'none');\n    }, _this.resizeObserver = null, _this.mutationObserver = null, _this.originalTotalWidth = 0, _this.overflowedItems = [], _this.menuItemSizes = [], _this.handleResize = function () {\n      if (_this.props.mode !== 'horizontal') {\n        return;\n      }\n\n      var ul = ReactDOM.findDOMNode(_this);\n\n      if (!ul) {\n        return;\n      }\n\n      var width = getWidth(ul);\n      _this.overflowedItems = [];\n      var currentSumWidth = 0; // index for last visible child in horizontal mode\n\n      var lastVisibleIndex = undefined; // float number comparison could be problematic\n      // e.g. 0.1 + 0.2 > 0.3 =====> true\n      // thus using FLOAT_PRECISION_ADJUST as buffer to help the situation\n\n      if (_this.originalTotalWidth > width + FLOAT_PRECISION_ADJUST) {\n        lastVisibleIndex = -1;\n\n        _this.menuItemSizes.forEach(function (liWidth) {\n          currentSumWidth += liWidth;\n\n          if (currentSumWidth + _this.overflowedIndicatorWidth <= width) {\n            lastVisibleIndex++;\n          }\n        });\n      }\n\n      _this.setState({\n        lastVisibleIndex: lastVisibleIndex\n      });\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  DOMWrap.prototype.componentDidMount = function componentDidMount() {\n    var _this2 = this;\n\n    this.setChildrenWidthAndResize();\n\n    if (this.props.level === 1 && this.props.mode === 'horizontal') {\n      var menuUl = ReactDOM.findDOMNode(this);\n\n      if (!menuUl) {\n        return;\n      }\n\n      this.resizeObserver = new ResizeObserver(function (entries) {\n        entries.forEach(_this2.setChildrenWidthAndResize);\n      });\n      [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n        _this2.resizeObserver.observe(el);\n      });\n\n      if (typeof MutationObserver !== 'undefined') {\n        this.mutationObserver = new MutationObserver(function () {\n          _this2.resizeObserver.disconnect();\n\n          [].slice.call(menuUl.children).concat(menuUl).forEach(function (el) {\n            _this2.resizeObserver.observe(el);\n          });\n\n          _this2.setChildrenWidthAndResize();\n        });\n        this.mutationObserver.observe(menuUl, {\n          attributes: false,\n          childList: true,\n          subTree: false\n        });\n      }\n    }\n  };\n\n  DOMWrap.prototype.componentWillUnmount = function componentWillUnmount() {\n    if (this.resizeObserver) {\n      this.resizeObserver.disconnect();\n    }\n\n    if (this.mutationObserver) {\n      this.resizeObserver.disconnect();\n    }\n  }; // get all valid menuItem nodes\n  // memorize rendered menuSize\n  // original scroll size of the list\n  // copy of overflowed items\n  // cache item of the original items (so we can track the size and order)\n\n\n  DOMWrap.prototype.renderChildren = function renderChildren(children) {\n    var _this3 = this; // need to take care of overflowed items in horizontal mode\n\n\n    var lastVisibleIndex = this.state.lastVisibleIndex;\n    return (children || []).reduce(function (acc, childNode, index) {\n      var item = childNode;\n\n      if (_this3.props.mode === 'horizontal') {\n        var overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, []);\n\n        if (lastVisibleIndex !== undefined && _this3.props.className.indexOf(_this3.props.prefixCls + '-root') !== -1) {\n          if (index > lastVisibleIndex) {\n            item = React.cloneElement(childNode, //  eventKey  openkeys \n            {\n              style: {\n                display: 'none'\n              },\n              eventKey: childNode.props.eventKey + '-hidden',\n              className: childNode.className + ' ' + MENUITEM_OVERFLOWED_CLASSNAME\n            });\n          }\n\n          if (index === lastVisibleIndex + 1) {\n            _this3.overflowedItems = children.slice(lastVisibleIndex + 1).map(function (c) {\n              return React.cloneElement(c, // children[index].key will become '.$key' in clone by default,\n              // we have to overwrite with the correct key explicitly\n              {\n                key: c.props.eventKey,\n                mode: 'vertical-left'\n              });\n            });\n            overflowed = _this3.getOverflowedSubMenuItem(childNode.props.eventKey, _this3.overflowedItems);\n          }\n        }\n\n        var ret = [].concat(acc, [overflowed, item]);\n\n        if (index === children.length - 1) {\n          // need a placeholder for calculating overflowed indicator width\n          ret.push(_this3.getOverflowedSubMenuItem(childNode.props.eventKey, [], true));\n        }\n\n        return ret;\n      }\n\n      return [].concat(acc, [item]);\n    }, []);\n  };\n\n  DOMWrap.prototype.render = function render() {\n    var _props = this.props,\n        hiddenClassName = _props.hiddenClassName,\n        visible = _props.visible,\n        prefixCls = _props.prefixCls,\n        overflowedIndicator = _props.overflowedIndicator,\n        mode = _props.mode,\n        level = _props.level,\n        Tag = _props.tag,\n        children = _props.children,\n        theme = _props.theme,\n        rest = _objectWithoutProperties(_props, ['hiddenClassName', 'visible', 'prefixCls', 'overflowedIndicator', 'mode', 'level', 'tag', 'children', 'theme']);\n\n    if (!visible) {\n      rest.className += ' ' + hiddenClassName;\n    }\n\n    return React.createElement(Tag, rest, this.renderChildren(this.props.children));\n  };\n\n  return DOMWrap;\n}(React.Component);\n\nDOMWrap.propTypes = {\n  className: PropTypes.string,\n  children: PropTypes.node,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  prefixCls: PropTypes.string,\n  level: PropTypes.number,\n  theme: PropTypes.string,\n  overflowedIndicator: PropTypes.node,\n  visible: PropTypes.bool,\n  hiddenClassName: PropTypes.string,\n  tag: PropTypes.string,\n  style: PropTypes.object\n};\nDOMWrap.defaultProps = {\n  tag: 'div',\n  className: ''\n};\nexport default DOMWrap;","import _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport _extends from 'babel-runtime/helpers/extends';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'mini-store';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport createChainedFunction from 'rc-util/es/createChainedFunction';\nimport classNames from 'classnames';\nimport { getKeyFromChildrenIndex, loopMenuItem, noop, menuAllProps, isMobileDevice } from './util';\nimport DOMWrap from './DOMWrap';\n\nfunction allDisabled(arr) {\n  if (!arr.length) {\n    return true;\n  }\n\n  return arr.every(function (c) {\n    return !!c.props.disabled;\n  });\n}\n\nfunction updateActiveKey(store, menuId, activeKey) {\n  var _extends2;\n\n  var state = store.getState();\n  store.setState({\n    activeKey: _extends({}, state.activeKey, (_extends2 = {}, _extends2[menuId] = activeKey, _extends2))\n  });\n}\n\nfunction getEventKey(props) {\n  // when eventKey not available ,it's menu and return menu id '0-menu-'\n  return props.eventKey || '0-menu-';\n}\n\nexport function getActiveKey(props, originalActiveKey) {\n  var activeKey = originalActiveKey;\n  var children = props.children,\n      eventKey = props.eventKey;\n\n  if (activeKey) {\n    var found = void 0;\n    loopMenuItem(children, function (c, i) {\n      if (c && c.props && !c.props.disabled && activeKey === getKeyFromChildrenIndex(c, eventKey, i)) {\n        found = true;\n      }\n    });\n\n    if (found) {\n      return activeKey;\n    }\n  }\n\n  activeKey = null;\n\n  if (props.defaultActiveFirst) {\n    loopMenuItem(children, function (c, i) {\n      if (!activeKey && c && !c.props.disabled) {\n        activeKey = getKeyFromChildrenIndex(c, eventKey, i);\n      }\n    });\n    return activeKey;\n  }\n\n  return activeKey;\n}\nexport function saveRef(c) {\n  if (c) {\n    var index = this.instanceArray.indexOf(c);\n\n    if (index !== -1) {\n      // update component if it's already inside instanceArray\n      this.instanceArray[index] = c;\n    } else {\n      // add component if it's not in instanceArray yet;\n      this.instanceArray.push(c);\n    }\n  }\n}\nexport var SubPopupMenu = function (_React$Component) {\n  _inherits(SubPopupMenu, _React$Component);\n\n  function SubPopupMenu(props) {\n    var _extends3;\n\n    _classCallCheck(this, SubPopupMenu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    props.store.setState({\n      activeKey: _extends({}, props.store.getState().activeKey, (_extends3 = {}, _extends3[props.eventKey] = getActiveKey(props, props.activeKey), _extends3))\n    });\n    _this.instanceArray = [];\n    return _this;\n  }\n\n  SubPopupMenu.prototype.componentDidMount = function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  };\n\n  SubPopupMenu.prototype.shouldComponentUpdate = function shouldComponentUpdate(nextProps) {\n    return this.props.visible || nextProps.visible;\n  };\n\n  SubPopupMenu.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var props = this.props;\n    var originalActiveKey = 'activeKey' in props ? props.activeKey : props.store.getState().activeKey[getEventKey(props)];\n    var activeKey = getActiveKey(props, originalActiveKey);\n\n    if (activeKey !== originalActiveKey) {\n      updateActiveKey(props.store, getEventKey(props), activeKey);\n    } else if ('activeKey' in prevProps) {\n      // If prev activeKey is not same as current activeKey,\n      // we should set it.\n      var prevActiveKey = getActiveKey(prevProps, prevProps.activeKey);\n\n      if (activeKey !== prevActiveKey) {\n        updateActiveKey(props.store, getEventKey(props), activeKey);\n      }\n    }\n  }; // all keyboard events callbacks run from here at first\n\n\n  SubPopupMenu.prototype.render = function render() {\n    var _this2 = this;\n\n    var props = _objectWithoutProperties(this.props, []);\n\n    this.instanceArray = [];\n    var className = classNames(props.prefixCls, props.className, props.prefixCls + '-' + props.mode);\n    var domProps = {\n      className: className,\n      // role could be 'select' and by default set to menu\n      role: props.role || 'menu'\n    };\n\n    if (props.id) {\n      domProps.id = props.id;\n    }\n\n    if (props.focusable) {\n      domProps.tabIndex = '0';\n      domProps.onKeyDown = this.onKeyDown;\n    }\n\n    var prefixCls = props.prefixCls,\n        eventKey = props.eventKey,\n        visible = props.visible,\n        level = props.level,\n        mode = props.mode,\n        overflowedIndicator = props.overflowedIndicator,\n        theme = props.theme;\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    }); // Otherwise, the propagated click event will trigger another onClick\n\n    delete props.onClick;\n    return React.createElement(DOMWrap, _extends({}, props, {\n      prefixCls: prefixCls,\n      mode: mode,\n      tag: 'ul',\n      level: level,\n      theme: theme,\n      hiddenClassName: prefixCls + '-hidden',\n      visible: visible,\n      overflowedIndicator: overflowedIndicator\n    }, domProps), React.Children.map(props.children, function (c, i) {\n      return _this2.renderMenuItem(c, i, eventKey || '0-menu-');\n    }));\n  };\n\n  return SubPopupMenu;\n}(React.Component);\nSubPopupMenu.propTypes = {\n  onSelect: PropTypes.func,\n  onClick: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onOpenChange: PropTypes.func,\n  onDestroy: PropTypes.func,\n  openTransitionName: PropTypes.string,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  openKeys: PropTypes.arrayOf(PropTypes.string),\n  visible: PropTypes.bool,\n  children: PropTypes.any,\n  parentMenu: PropTypes.object,\n  eventKey: PropTypes.string,\n  store: PropTypes.shape({\n    getState: PropTypes.func,\n    setState: PropTypes.func\n  }),\n  // adding in refactor\n  focusable: PropTypes.bool,\n  multiple: PropTypes.bool,\n  style: PropTypes.object,\n  defaultActiveFirst: PropTypes.bool,\n  activeKey: PropTypes.string,\n  selectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\n  level: PropTypes.number,\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  triggerSubMenuAction: PropTypes.oneOf(['click', 'hover']),\n  inlineIndent: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nSubPopupMenu.defaultProps = {\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  level: 1,\n  inlineIndent: 24,\n  visible: true,\n  focusable: true,\n  style: {},\n  manualRef: noop\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onKeyDown = function (e, callback) {\n    var keyCode = e.keyCode;\n    var handled = void 0;\n\n    _this3.getFlatInstanceArray().forEach(function (obj) {\n      if (obj && obj.props.active && obj.onKeyDown) {\n        handled = obj.onKeyDown(e);\n      }\n    });\n\n    if (handled) {\n      return 1;\n    }\n\n    var activeItem = null;\n\n    if (keyCode === KeyCode.UP || keyCode === KeyCode.DOWN) {\n      activeItem = _this3.step(keyCode === KeyCode.UP ? -1 : 1);\n    }\n\n    if (activeItem) {\n      e.preventDefault();\n      updateActiveKey(_this3.props.store, getEventKey(_this3.props), activeItem.props.eventKey);\n\n      if (typeof callback === 'function') {\n        callback(activeItem);\n      }\n\n      return 1;\n    }\n  };\n\n  this.onItemHover = function (e) {\n    var key = e.key,\n        hover = e.hover;\n    updateActiveKey(_this3.props.store, getEventKey(_this3.props), hover ? key : null);\n  };\n\n  this.onDeselect = function (selectInfo) {\n    _this3.props.onDeselect(selectInfo);\n  };\n\n  this.onSelect = function (selectInfo) {\n    _this3.props.onSelect(selectInfo);\n  };\n\n  this.onClick = function (e) {\n    _this3.props.onClick(e);\n  };\n\n  this.onOpenChange = function (e) {\n    _this3.props.onOpenChange(e);\n  };\n\n  this.onDestroy = function (key) {\n    /* istanbul ignore next */\n    _this3.props.onDestroy(key);\n  };\n\n  this.getFlatInstanceArray = function () {\n    return _this3.instanceArray;\n  };\n\n  this.getOpenTransitionName = function () {\n    return _this3.props.openTransitionName;\n  };\n\n  this.step = function (direction) {\n    var children = _this3.getFlatInstanceArray();\n\n    var activeKey = _this3.props.store.getState().activeKey[getEventKey(_this3.props)];\n\n    var len = children.length;\n\n    if (!len) {\n      return null;\n    }\n\n    if (direction < 0) {\n      children = children.concat().reverse();\n    } // find current activeIndex\n\n\n    var activeIndex = -1;\n    children.every(function (c, ci) {\n      if (c && c.props.eventKey === activeKey) {\n        activeIndex = ci;\n        return false;\n      }\n\n      return true;\n    });\n\n    if (!_this3.props.defaultActiveFirst && activeIndex !== -1 && allDisabled(children.slice(activeIndex, len - 1))) {\n      return undefined;\n    }\n\n    var start = (activeIndex + 1) % len;\n    var i = start;\n\n    do {\n      var child = children[i];\n\n      if (!child || child.props.disabled) {\n        i = (i + 1) % len;\n      } else {\n        return child;\n      }\n    } while (i !== start);\n\n    return null;\n  };\n\n  this.renderCommonMenuItem = function (child, i, extraProps) {\n    var state = _this3.props.store.getState();\n\n    var props = _this3.props;\n    var key = getKeyFromChildrenIndex(child, props.eventKey, i);\n    var childProps = child.props; // https://github.com/ant-design/ant-design/issues/11517#issuecomment-477403055\n\n    if (!childProps || typeof child.type === 'string') {\n      return child;\n    }\n\n    var isActive = key === state.activeKey;\n\n    var newChildProps = _extends({\n      mode: childProps.mode || props.mode,\n      level: props.level,\n      inlineIndent: props.inlineIndent,\n      renderMenuItem: _this3.renderMenuItem,\n      rootPrefixCls: props.prefixCls,\n      index: i,\n      parentMenu: props.parentMenu,\n      // customized ref function, need to be invoked manually in child's componentDidMount\n      manualRef: childProps.disabled ? undefined : createChainedFunction(child.ref, saveRef.bind(_this3)),\n      eventKey: key,\n      active: !childProps.disabled && isActive,\n      multiple: props.multiple,\n      onClick: function onClick(e) {\n        (childProps.onClick || noop)(e);\n\n        _this3.onClick(e);\n      },\n      onItemHover: _this3.onItemHover,\n      openTransitionName: _this3.getOpenTransitionName(),\n      openAnimation: props.openAnimation,\n      subMenuOpenDelay: props.subMenuOpenDelay,\n      subMenuCloseDelay: props.subMenuCloseDelay,\n      forceSubMenuRender: props.forceSubMenuRender,\n      onOpenChange: _this3.onOpenChange,\n      onDeselect: _this3.onDeselect,\n      onSelect: _this3.onSelect,\n      builtinPlacements: props.builtinPlacements,\n      itemIcon: childProps.itemIcon || _this3.props.itemIcon,\n      expandIcon: childProps.expandIcon || _this3.props.expandIcon\n    }, extraProps); // ref: https://github.com/ant-design/ant-design/issues/13943\n\n\n    if (props.mode === 'inline' || isMobileDevice()) {\n      newChildProps.triggerSubMenuAction = 'click';\n    }\n\n    return React.cloneElement(child, newChildProps);\n  };\n\n  this.renderMenuItem = function (c, i, subMenuKey) {\n    /* istanbul ignore if */\n    if (!c) {\n      return null;\n    }\n\n    var state = _this3.props.store.getState();\n\n    var extraProps = {\n      openKeys: state.openKeys,\n      selectedKeys: state.selectedKeys,\n      triggerSubMenuAction: _this3.props.triggerSubMenuAction,\n      subMenuKey: subMenuKey\n    };\n    return _this3.renderCommonMenuItem(c, i, extraProps);\n  };\n};\n\nvar connected = connect()(SubPopupMenu);\nexport default connected;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { Provider, create } from 'mini-store';\nimport { default as SubPopupMenu, getActiveKey } from './SubPopupMenu';\nimport { noop } from './util';\n\nvar Menu = function (_React$Component) {\n  _inherits(Menu, _React$Component);\n\n  function Menu(props) {\n    _classCallCheck(this, Menu);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _initialiseProps.call(_this);\n\n    _this.isRootMenu = true;\n    var selectedKeys = props.defaultSelectedKeys;\n    var openKeys = props.defaultOpenKeys;\n\n    if ('selectedKeys' in props) {\n      selectedKeys = props.selectedKeys || [];\n    }\n\n    if ('openKeys' in props) {\n      openKeys = props.openKeys || [];\n    }\n\n    _this.store = create({\n      selectedKeys: selectedKeys,\n      openKeys: openKeys,\n      activeKey: {\n        '0-menu-': getActiveKey(props, props.activeKey)\n      }\n    });\n    return _this;\n  }\n\n  Menu.prototype.componentDidMount = function componentDidMount() {\n    this.updateMiniStore();\n  };\n\n  Menu.prototype.componentDidUpdate = function componentDidUpdate() {\n    this.updateMiniStore();\n  }; // onKeyDown needs to be exposed as a instance method\n  // e.g., in rc-select, we need to navigate menu item while\n  // current active item is rc-select input box rather than the menu itself\n\n\n  Menu.prototype.updateMiniStore = function updateMiniStore() {\n    if ('selectedKeys' in this.props) {\n      this.store.setState({\n        selectedKeys: this.props.selectedKeys || []\n      });\n    }\n\n    if ('openKeys' in this.props) {\n      this.store.setState({\n        openKeys: this.props.openKeys || []\n      });\n    }\n  };\n\n  Menu.prototype.render = function render() {\n    var _this2 = this;\n\n    var props = _objectWithoutProperties(this.props, []);\n\n    props.className += ' ' + props.prefixCls + '-root';\n    props = _extends({}, props, {\n      onClick: this.onClick,\n      onOpenChange: this.onOpenChange,\n      onDeselect: this.onDeselect,\n      onSelect: this.onSelect,\n      openTransitionName: this.getOpenTransitionName(),\n      parentMenu: this\n    });\n    return React.createElement(Provider, {\n      store: this.store\n    }, React.createElement(SubPopupMenu, _extends({}, props, {\n      ref: function ref(c) {\n        return _this2.innerMenu = c;\n      }\n    }), this.props.children));\n  };\n\n  return Menu;\n}(React.Component);\n\nMenu.propTypes = {\n  defaultSelectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultActiveFirst: PropTypes.bool,\n  selectedKeys: PropTypes.arrayOf(PropTypes.string),\n  defaultOpenKeys: PropTypes.arrayOf(PropTypes.string),\n  openKeys: PropTypes.arrayOf(PropTypes.string),\n  mode: PropTypes.oneOf(['horizontal', 'vertical', 'vertical-left', 'vertical-right', 'inline']),\n  getPopupContainer: PropTypes.func,\n  onClick: PropTypes.func,\n  onSelect: PropTypes.func,\n  onDeselect: PropTypes.func,\n  onDestroy: PropTypes.func,\n  openTransitionName: PropTypes.string,\n  openAnimation: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  subMenuOpenDelay: PropTypes.number,\n  subMenuCloseDelay: PropTypes.number,\n  forceSubMenuRender: PropTypes.bool,\n  triggerSubMenuAction: PropTypes.string,\n  level: PropTypes.number,\n  selectable: PropTypes.bool,\n  multiple: PropTypes.bool,\n  children: PropTypes.any,\n  className: PropTypes.string,\n  style: PropTypes.object,\n  activeKey: PropTypes.string,\n  prefixCls: PropTypes.string,\n  builtinPlacements: PropTypes.object,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  expandIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node]),\n  overflowedIndicator: PropTypes.node\n};\nMenu.defaultProps = {\n  selectable: true,\n  onClick: noop,\n  onSelect: noop,\n  onOpenChange: noop,\n  onDeselect: noop,\n  defaultSelectedKeys: [],\n  defaultOpenKeys: [],\n  subMenuOpenDelay: 0.1,\n  subMenuCloseDelay: 0.1,\n  triggerSubMenuAction: 'hover',\n  prefixCls: 'rc-menu',\n  className: '',\n  mode: 'vertical',\n  style: {},\n  builtinPlacements: {},\n  overflowedIndicator: React.createElement('span', null, '\\xB7\\xB7\\xB7')\n};\n\nvar _initialiseProps = function _initialiseProps() {\n  var _this3 = this;\n\n  this.onSelect = function (selectInfo) {\n    var props = _this3.props;\n\n    if (props.selectable) {\n      // root menu\n      var selectedKeys = _this3.store.getState().selectedKeys;\n\n      var selectedKey = selectInfo.key;\n\n      if (props.multiple) {\n        selectedKeys = selectedKeys.concat([selectedKey]);\n      } else {\n        selectedKeys = [selectedKey];\n      }\n\n      if (!('selectedKeys' in props)) {\n        _this3.store.setState({\n          selectedKeys: selectedKeys\n        });\n      }\n\n      props.onSelect(_extends({}, selectInfo, {\n        selectedKeys: selectedKeys\n      }));\n    }\n  };\n\n  this.onClick = function (e) {\n    _this3.props.onClick(e);\n  };\n\n  this.onKeyDown = function (e, callback) {\n    _this3.innerMenu.getWrappedInstance().onKeyDown(e, callback);\n  };\n\n  this.onOpenChange = function (event) {\n    var props = _this3.props;\n\n    var openKeys = _this3.store.getState().openKeys.concat();\n\n    var changed = false;\n\n    var processSingle = function processSingle(e) {\n      var oneChanged = false;\n\n      if (e.open) {\n        oneChanged = openKeys.indexOf(e.key) === -1;\n\n        if (oneChanged) {\n          openKeys.push(e.key);\n        }\n      } else {\n        var index = openKeys.indexOf(e.key);\n        oneChanged = index !== -1;\n\n        if (oneChanged) {\n          openKeys.splice(index, 1);\n        }\n      }\n\n      changed = changed || oneChanged;\n    };\n\n    if (Array.isArray(event)) {\n      // batch change call\n      event.forEach(processSingle);\n    } else {\n      processSingle(event);\n    }\n\n    if (changed) {\n      if (!('openKeys' in _this3.props)) {\n        _this3.store.setState({\n          openKeys: openKeys\n        });\n      }\n\n      props.onOpenChange(openKeys);\n    }\n  };\n\n  this.onDeselect = function (selectInfo) {\n    var props = _this3.props;\n\n    if (props.selectable) {\n      var selectedKeys = _this3.store.getState().selectedKeys.concat();\n\n      var selectedKey = selectInfo.key;\n      var index = selectedKeys.indexOf(selectedKey);\n\n      if (index !== -1) {\n        selectedKeys.splice(index, 1);\n      }\n\n      if (!('selectedKeys' in props)) {\n        _this3.store.setState({\n          selectedKeys: selectedKeys\n        });\n      }\n\n      props.onDeselect(_extends({}, selectInfo, {\n        selectedKeys: selectedKeys\n      }));\n    }\n  };\n\n  this.getOpenTransitionName = function () {\n    var props = _this3.props;\n    var transitionName = props.openTransitionName;\n    var animationName = props.openAnimation;\n\n    if (!transitionName && typeof animationName === 'string') {\n      transitionName = props.prefixCls + '-open-' + animationName;\n    }\n\n    return transitionName;\n  };\n};\n\nexport default Menu;","import _extends from 'babel-runtime/helpers/extends';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\nimport KeyCode from 'rc-util/es/KeyCode';\nimport classNames from 'classnames';\nimport scrollIntoView from 'dom-scroll-into-view';\nimport { connect } from 'mini-store';\nimport { noop, menuAllProps } from './util';\n/* eslint react/no-is-mounted:0 */\n\nexport var MenuItem = function (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem(props) {\n    _classCallCheck(this, MenuItem);\n\n    var _this = _possibleConstructorReturn(this, _React$Component.call(this, props));\n\n    _this.onKeyDown = function (e) {\n      var keyCode = e.keyCode;\n\n      if (keyCode === KeyCode.ENTER) {\n        _this.onClick(e);\n\n        return true;\n      }\n    };\n\n    _this.onMouseLeave = function (e) {\n      var _this$props = _this.props,\n          eventKey = _this$props.eventKey,\n          onItemHover = _this$props.onItemHover,\n          onMouseLeave = _this$props.onMouseLeave;\n      onItemHover({\n        key: eventKey,\n        hover: false\n      });\n      onMouseLeave({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onMouseEnter = function (e) {\n      var _this$props2 = _this.props,\n          eventKey = _this$props2.eventKey,\n          onItemHover = _this$props2.onItemHover,\n          onMouseEnter = _this$props2.onMouseEnter;\n      onItemHover({\n        key: eventKey,\n        hover: true\n      });\n      onMouseEnter({\n        key: eventKey,\n        domEvent: e\n      });\n    };\n\n    _this.onClick = function (e) {\n      var _this$props3 = _this.props,\n          eventKey = _this$props3.eventKey,\n          multiple = _this$props3.multiple,\n          onClick = _this$props3.onClick,\n          onSelect = _this$props3.onSelect,\n          onDeselect = _this$props3.onDeselect,\n          isSelected = _this$props3.isSelected;\n      var info = {\n        key: eventKey,\n        keyPath: [eventKey],\n        item: _this,\n        domEvent: e\n      };\n      onClick(info);\n\n      if (multiple) {\n        if (isSelected) {\n          onDeselect(info);\n        } else {\n          onSelect(info);\n        }\n      } else if (!isSelected) {\n        onSelect(info);\n      }\n    };\n\n    _this.saveNode = function (node) {\n      _this.node = node;\n    };\n\n    return _this;\n  }\n\n  MenuItem.prototype.componentDidMount = function componentDidMount() {\n    // invoke customized ref to expose component to mixin\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentDidUpdate = function componentDidUpdate(prevProps) {\n    var _props = this.props,\n        active = _props.active,\n        parentMenu = _props.parentMenu,\n        eventKey = _props.eventKey; //  parentMenu  MenuItem key \n    // https://github.com/ant-design/ant-design/issues/16181\n\n    if (!prevProps.active && active && (!parentMenu || !parentMenu['scrolled-' + eventKey])) {\n      if (this.node) {\n        scrollIntoView(this.node, ReactDOM.findDOMNode(parentMenu), {\n          onlyScrollIfNeeded: true\n        });\n        parentMenu['scrolled-' + eventKey] = true;\n      }\n    } else if (parentMenu && parentMenu['scrolled-' + eventKey]) {\n      delete parentMenu['scrolled-' + eventKey];\n    }\n\n    this.callRef();\n  };\n\n  MenuItem.prototype.componentWillUnmount = function componentWillUnmount() {\n    var props = this.props;\n\n    if (props.onDestroy) {\n      props.onDestroy(props.eventKey);\n    }\n  };\n\n  MenuItem.prototype.getPrefixCls = function getPrefixCls() {\n    return this.props.rootPrefixCls + '-item';\n  };\n\n  MenuItem.prototype.getActiveClassName = function getActiveClassName() {\n    return this.getPrefixCls() + '-active';\n  };\n\n  MenuItem.prototype.getSelectedClassName = function getSelectedClassName() {\n    return this.getPrefixCls() + '-selected';\n  };\n\n  MenuItem.prototype.getDisabledClassName = function getDisabledClassName() {\n    return this.getPrefixCls() + '-disabled';\n  };\n\n  MenuItem.prototype.callRef = function callRef() {\n    if (this.props.manualRef) {\n      this.props.manualRef(this);\n    }\n  };\n\n  MenuItem.prototype.render = function render() {\n    var _classNames;\n\n    var props = _extends({}, this.props);\n\n    var className = classNames(this.getPrefixCls(), props.className, (_classNames = {}, _classNames[this.getActiveClassName()] = !props.disabled && props.active, _classNames[this.getSelectedClassName()] = props.isSelected, _classNames[this.getDisabledClassName()] = props.disabled, _classNames));\n\n    var attrs = _extends({}, props.attribute, {\n      title: props.title,\n      className: className,\n      // set to menuitem by default\n      role: props.role || 'menuitem',\n      'aria-disabled': props.disabled\n    });\n\n    if (props.role === 'option') {\n      // overwrite to option\n      attrs = _extends({}, attrs, {\n        role: 'option',\n        'aria-selected': props.isSelected\n      });\n    } else if (props.role === null || props.role === 'none') {\n      // sometimes we want to specify role inside <li/> element\n      // <li><a role='menuitem'>Link</a></li> would be a good example\n      // in this case the role on <li/> should be \"none\" to\n      // remove the implied listitem role.\n      // https://www.w3.org/TR/wai-aria-practices-1.1/examples/menubar/menubar-1/menubar-1.html\n      attrs.role = 'none';\n    } // In case that onClick/onMouseLeave/onMouseEnter is passed down from owner\n\n\n    var mouseEvent = {\n      onClick: props.disabled ? null : this.onClick,\n      onMouseLeave: props.disabled ? null : this.onMouseLeave,\n      onMouseEnter: props.disabled ? null : this.onMouseEnter\n    };\n\n    var style = _extends({}, props.style);\n\n    if (props.mode === 'inline') {\n      style.paddingLeft = props.inlineIndent * props.level;\n    }\n\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    });\n    var icon = this.props.itemIcon;\n\n    if (typeof this.props.itemIcon === 'function') {\n      icon = React.createElement(this.props.itemIcon, this.props);\n    }\n\n    return React.createElement('li', _extends({}, props, attrs, mouseEvent, {\n      style: style,\n      ref: this.saveNode\n    }), props.children, icon);\n  };\n\n  return MenuItem;\n}(React.Component);\nMenuItem.propTypes = {\n  attribute: PropTypes.object,\n  rootPrefixCls: PropTypes.string,\n  eventKey: PropTypes.string,\n  active: PropTypes.bool,\n  children: PropTypes.any,\n  selectedKeys: PropTypes.array,\n  disabled: PropTypes.bool,\n  title: PropTypes.string,\n  onItemHover: PropTypes.func,\n  onSelect: PropTypes.func,\n  onClick: PropTypes.func,\n  onDeselect: PropTypes.func,\n  parentMenu: PropTypes.object,\n  onDestroy: PropTypes.func,\n  onMouseEnter: PropTypes.func,\n  onMouseLeave: PropTypes.func,\n  multiple: PropTypes.bool,\n  isSelected: PropTypes.bool,\n  manualRef: PropTypes.func,\n  itemIcon: PropTypes.oneOfType([PropTypes.func, PropTypes.node])\n};\nMenuItem.defaultProps = {\n  onSelect: noop,\n  onMouseEnter: noop,\n  onMouseLeave: noop,\n  manualRef: noop\n};\nMenuItem.isMenuItem = true;\nvar connected = connect(function (_ref, _ref2) {\n  var activeKey = _ref.activeKey,\n      selectedKeys = _ref.selectedKeys;\n  var eventKey = _ref2.eventKey,\n      subMenuKey = _ref2.subMenuKey;\n  return {\n    active: activeKey[subMenuKey] === eventKey,\n    isSelected: selectedKeys.indexOf(eventKey) !== -1\n  };\n})(MenuItem);\nexport default connected;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\nimport { menuAllProps } from './util';\n\nvar MenuItemGroup = function (_React$Component) {\n  _inherits(MenuItemGroup, _React$Component);\n\n  function MenuItemGroup() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, MenuItemGroup);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _React$Component.call.apply(_React$Component, [this].concat(args))), _this), _this.renderInnerMenuItem = function (item) {\n      var _this$props = _this.props,\n          renderMenuItem = _this$props.renderMenuItem,\n          index = _this$props.index;\n      return renderMenuItem(item, index, _this.props.subMenuKey);\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  MenuItemGroup.prototype.render = function render() {\n    var props = _objectWithoutProperties(this.props, []);\n\n    var _props$className = props.className,\n        className = _props$className === undefined ? '' : _props$className,\n        rootPrefixCls = props.rootPrefixCls;\n    var titleClassName = rootPrefixCls + '-item-group-title';\n    var listClassName = rootPrefixCls + '-item-group-list';\n    var title = props.title,\n        children = props.children;\n    menuAllProps.forEach(function (key) {\n      return delete props[key];\n    }); // Set onClick to null, to ignore propagated onClick event\n\n    delete props.onClick;\n    return React.createElement('li', _extends({}, props, {\n      className: className + ' ' + rootPrefixCls + '-item-group'\n    }), React.createElement('div', {\n      className: titleClassName,\n      title: typeof title === 'string' ? title : undefined\n    }, title), React.createElement('ul', {\n      className: listClassName\n    }, React.Children.map(children, this.renderInnerMenuItem)));\n  };\n\n  return MenuItemGroup;\n}(React.Component);\n\nMenuItemGroup.propTypes = {\n  renderMenuItem: PropTypes.func,\n  index: PropTypes.number,\n  className: PropTypes.string,\n  subMenuKey: PropTypes.string,\n  rootPrefixCls: PropTypes.string\n};\nMenuItemGroup.defaultProps = {\n  disabled: true\n};\nMenuItemGroup.isMenuItemGroup = true;\nexport default MenuItemGroup;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Divider = function (_React$Component) {\n  _inherits(Divider, _React$Component);\n\n  function Divider() {\n    _classCallCheck(this, Divider);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Divider.prototype.render = function render() {\n    var _props = this.props,\n        className = _props.className,\n        rootPrefixCls = _props.rootPrefixCls,\n        style = _props.style;\n    return React.createElement('li', {\n      className: className + ' ' + rootPrefixCls + '-item-divider',\n      style: style\n    });\n  };\n\n  return Divider;\n}(React.Component);\n\nDivider.propTypes = {\n  className: PropTypes.string,\n  rootPrefixCls: PropTypes.string,\n  style: PropTypes.object\n};\nDivider.defaultProps = {\n  // To fix keyboard UX.\n  disabled: true,\n  className: '',\n  style: {}\n};\nexport default Divider;","import Menu from './Menu';\nimport SubMenu from './SubMenu';\nimport MenuItem from './MenuItem';\nimport MenuItemGroup from './MenuItemGroup';\nimport Divider from './Divider';\nexport { SubMenu, MenuItem as Item, MenuItem, MenuItemGroup, MenuItemGroup as ItemGroup, Divider };\nexport default Menu;","var autoAdjustOverflow = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar targetOffset = [0, 0];\nexport var placements = {\n  left: {\n    points: ['cr', 'cl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  },\n  right: {\n    points: ['cl', 'cr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  top: {\n    points: ['bc', 'tc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  bottom: {\n    points: ['tc', 'bc'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  topLeft: {\n    points: ['bl', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  leftTop: {\n    points: ['tr', 'tl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  },\n  topRight: {\n    points: ['br', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [0, -4],\n    targetOffset: targetOffset\n  },\n  rightTop: {\n    points: ['tl', 'tr'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  bottomRight: {\n    points: ['tr', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  rightBottom: {\n    points: ['bl', 'br'],\n    overflow: autoAdjustOverflow,\n    offset: [4, 0],\n    targetOffset: targetOffset\n  },\n  bottomLeft: {\n    points: ['tl', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [0, 4],\n    targetOffset: targetOffset\n  },\n  leftBottom: {\n    points: ['br', 'bl'],\n    overflow: autoAdjustOverflow,\n    offset: [-4, 0],\n    targetOffset: targetOffset\n  }\n};\nexport default placements;","import _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React from 'react';\nimport PropTypes from 'prop-types';\n\nvar Content = function (_React$Component) {\n  _inherits(Content, _React$Component);\n\n  function Content() {\n    _classCallCheck(this, Content);\n\n    return _possibleConstructorReturn(this, _React$Component.apply(this, arguments));\n  }\n\n  Content.prototype.componentDidUpdate = function componentDidUpdate() {\n    var trigger = this.props.trigger;\n\n    if (trigger) {\n      trigger.forcePopupAlign();\n    }\n  };\n\n  Content.prototype.render = function render() {\n    var _props = this.props,\n        overlay = _props.overlay,\n        prefixCls = _props.prefixCls,\n        id = _props.id;\n    return React.createElement('div', {\n      className: prefixCls + '-inner',\n      id: id,\n      role: 'tooltip'\n    }, typeof overlay === 'function' ? overlay() : overlay);\n  };\n\n  return Content;\n}(React.Component);\n\nContent.propTypes = {\n  prefixCls: PropTypes.string,\n  overlay: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  id: PropTypes.string,\n  trigger: PropTypes.any\n};\nexport default Content;","import _extends from 'babel-runtime/helpers/extends';\nimport _objectWithoutProperties from 'babel-runtime/helpers/objectWithoutProperties';\nimport _classCallCheck from 'babel-runtime/helpers/classCallCheck';\nimport _possibleConstructorReturn from 'babel-runtime/helpers/possibleConstructorReturn';\nimport _inherits from 'babel-runtime/helpers/inherits';\nimport React, { Component } from 'react';\nimport PropTypes from 'prop-types';\nimport Trigger from 'rc-trigger';\nimport { placements } from './placements';\nimport Content from './Content';\n\nvar Tooltip = function (_Component) {\n  _inherits(Tooltip, _Component);\n\n  function Tooltip() {\n    var _temp, _this, _ret;\n\n    _classCallCheck(this, Tooltip);\n\n    for (var _len = arguments.length, args = Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    return _ret = (_temp = (_this = _possibleConstructorReturn(this, _Component.call.apply(_Component, [this].concat(args))), _this), _this.getPopupElement = function () {\n      var _this$props = _this.props,\n          arrowContent = _this$props.arrowContent,\n          overlay = _this$props.overlay,\n          prefixCls = _this$props.prefixCls,\n          id = _this$props.id;\n      return [React.createElement('div', {\n        className: prefixCls + '-arrow',\n        key: 'arrow'\n      }, arrowContent), React.createElement(Content, {\n        key: 'content',\n        trigger: _this.trigger,\n        prefixCls: prefixCls,\n        id: id,\n        overlay: overlay\n      })];\n    }, _this.saveTrigger = function (node) {\n      _this.trigger = node;\n    }, _temp), _possibleConstructorReturn(_this, _ret);\n  }\n\n  Tooltip.prototype.getPopupDomNode = function getPopupDomNode() {\n    return this.trigger.getPopupDomNode();\n  };\n\n  Tooltip.prototype.render = function render() {\n    var _props = this.props,\n        overlayClassName = _props.overlayClassName,\n        trigger = _props.trigger,\n        mouseEnterDelay = _props.mouseEnterDelay,\n        mouseLeaveDelay = _props.mouseLeaveDelay,\n        overlayStyle = _props.overlayStyle,\n        prefixCls = _props.prefixCls,\n        children = _props.children,\n        onVisibleChange = _props.onVisibleChange,\n        afterVisibleChange = _props.afterVisibleChange,\n        transitionName = _props.transitionName,\n        animation = _props.animation,\n        placement = _props.placement,\n        align = _props.align,\n        destroyTooltipOnHide = _props.destroyTooltipOnHide,\n        defaultVisible = _props.defaultVisible,\n        getTooltipContainer = _props.getTooltipContainer,\n        restProps = _objectWithoutProperties(_props, ['overlayClassName', 'trigger', 'mouseEnterDelay', 'mouseLeaveDelay', 'overlayStyle', 'prefixCls', 'children', 'onVisibleChange', 'afterVisibleChange', 'transitionName', 'animation', 'placement', 'align', 'destroyTooltipOnHide', 'defaultVisible', 'getTooltipContainer']);\n\n    var extraProps = _extends({}, restProps);\n\n    if ('visible' in this.props) {\n      extraProps.popupVisible = this.props.visible;\n    }\n\n    return React.createElement(Trigger, _extends({\n      popupClassName: overlayClassName,\n      ref: this.saveTrigger,\n      prefixCls: prefixCls,\n      popup: this.getPopupElement,\n      action: trigger,\n      builtinPlacements: placements,\n      popupPlacement: placement,\n      popupAlign: align,\n      getPopupContainer: getTooltipContainer,\n      onPopupVisibleChange: onVisibleChange,\n      afterPopupVisibleChange: afterVisibleChange,\n      popupTransitionName: transitionName,\n      popupAnimation: animation,\n      defaultPopupVisible: defaultVisible,\n      destroyPopupOnHide: destroyTooltipOnHide,\n      mouseLeaveDelay: mouseLeaveDelay,\n      popupStyle: overlayStyle,\n      mouseEnterDelay: mouseEnterDelay\n    }, extraProps), children);\n  };\n\n  return Tooltip;\n}(Component);\n\nTooltip.propTypes = {\n  trigger: PropTypes.any,\n  children: PropTypes.any,\n  defaultVisible: PropTypes.bool,\n  visible: PropTypes.bool,\n  placement: PropTypes.string,\n  transitionName: PropTypes.oneOfType([PropTypes.string, PropTypes.object]),\n  animation: PropTypes.any,\n  onVisibleChange: PropTypes.func,\n  afterVisibleChange: PropTypes.func,\n  overlay: PropTypes.oneOfType([PropTypes.node, PropTypes.func]).isRequired,\n  overlayStyle: PropTypes.object,\n  overlayClassName: PropTypes.string,\n  prefixCls: PropTypes.string,\n  mouseEnterDelay: PropTypes.number,\n  mouseLeaveDelay: PropTypes.number,\n  getTooltipContainer: PropTypes.func,\n  destroyTooltipOnHide: PropTypes.bool,\n  align: PropTypes.object,\n  arrowContent: PropTypes.any,\n  id: PropTypes.string\n};\nTooltip.defaultProps = {\n  prefixCls: 'rc-tooltip',\n  mouseEnterDelay: 0,\n  destroyTooltipOnHide: false,\n  mouseLeaveDelay: 0.1,\n  align: {},\n  placement: 'right',\n  trigger: ['hover'],\n  arrowContent: null\n};\nexport default Tooltip;","import Tooltip from './Tooltip';\nexport default Tooltip;","function _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport { placements as rcPlacements } from \"rc-tooltip/es/placements\";\nvar autoAdjustOverflowEnabled = {\n  adjustX: 1,\n  adjustY: 1\n};\nvar autoAdjustOverflowDisabled = {\n  adjustX: 0,\n  adjustY: 0\n};\nvar targetOffset = [0, 0];\nexport function getOverflowOptions(autoAdjustOverflow) {\n  if (typeof autoAdjustOverflow === 'boolean') {\n    return autoAdjustOverflow ? autoAdjustOverflowEnabled : autoAdjustOverflowDisabled;\n  }\n\n  return _extends(_extends({}, autoAdjustOverflowDisabled), autoAdjustOverflow);\n}\nexport default function getPlacements() {\n  var config = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};\n  var _config$arrowWidth = config.arrowWidth,\n      arrowWidth = _config$arrowWidth === void 0 ? 5 : _config$arrowWidth,\n      _config$horizontalArr = config.horizontalArrowShift,\n      horizontalArrowShift = _config$horizontalArr === void 0 ? 16 : _config$horizontalArr,\n      _config$verticalArrow = config.verticalArrowShift,\n      verticalArrowShift = _config$verticalArrow === void 0 ? 12 : _config$verticalArrow,\n      _config$autoAdjustOve = config.autoAdjustOverflow,\n      autoAdjustOverflow = _config$autoAdjustOve === void 0 ? true : _config$autoAdjustOve;\n  var placementMap = {\n    left: {\n      points: ['cr', 'cl'],\n      offset: [-4, 0]\n    },\n    right: {\n      points: ['cl', 'cr'],\n      offset: [4, 0]\n    },\n    top: {\n      points: ['bc', 'tc'],\n      offset: [0, -4]\n    },\n    bottom: {\n      points: ['tc', 'bc'],\n      offset: [0, 4]\n    },\n    topLeft: {\n      points: ['bl', 'tc'],\n      offset: [-(horizontalArrowShift + arrowWidth), -4]\n    },\n    leftTop: {\n      points: ['tr', 'cl'],\n      offset: [-4, -(verticalArrowShift + arrowWidth)]\n    },\n    topRight: {\n      points: ['br', 'tc'],\n      offset: [horizontalArrowShift + arrowWidth, -4]\n    },\n    rightTop: {\n      points: ['tl', 'cr'],\n      offset: [4, -(verticalArrowShift + arrowWidth)]\n    },\n    bottomRight: {\n      points: ['tr', 'bc'],\n      offset: [horizontalArrowShift + arrowWidth, 4]\n    },\n    rightBottom: {\n      points: ['bl', 'cr'],\n      offset: [4, verticalArrowShift + arrowWidth]\n    },\n    bottomLeft: {\n      points: ['tl', 'bc'],\n      offset: [-(horizontalArrowShift + arrowWidth), 4]\n    },\n    leftBottom: {\n      points: ['br', 'cl'],\n      offset: [-4, verticalArrowShift + arrowWidth]\n    }\n  };\n  Object.keys(placementMap).forEach(function (key) {\n    placementMap[key] = config.arrowPointAtCenter ? _extends(_extends({}, placementMap[key]), {\n      overflow: getOverflowOptions(autoAdjustOverflow),\n      targetOffset: targetOffset\n    }) : _extends(_extends({}, rcPlacements[key]), {\n      overflow: getOverflowOptions(autoAdjustOverflow)\n    });\n    placementMap[key].ignoreShake = true;\n  });\n  return placementMap;\n}","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nimport * as React from 'react';\nimport { polyfill } from 'react-lifecycles-compat';\nimport RcTooltip from 'rc-tooltip';\nimport classNames from 'classnames';\nimport _getPlacements from './placements';\nimport { ConfigConsumer } from '../config-provider';\n\nvar splitObject = function splitObject(obj, keys) {\n  var picked = {};\n\n  var omitted = _extends({}, obj);\n\n  keys.forEach(function (key) {\n    if (obj && key in obj) {\n      picked[key] = obj[key];\n      delete omitted[key];\n    }\n  });\n  return {\n    picked: picked,\n    omitted: omitted\n  };\n}; // Fix Tooltip won't hide at disabled button\n// mouse events don't trigger at disabled button in Chrome\n// https://github.com/react-component/tooltip/issues/18\n\n\nfunction getDisabledCompatibleChildren(element) {\n  var elementType = element.type;\n\n  if ((elementType.__ANT_BUTTON || elementType.__ANT_SWITCH || elementType.__ANT_CHECKBOX || element.type === 'button') && element.props.disabled) {\n    // Pick some layout related style properties up to span\n    // Prevent layout bugs like https://github.com/ant-design/ant-design/issues/5254\n    var _splitObject = splitObject(element.props.style, ['position', 'left', 'right', 'top', 'bottom', 'float', 'display', 'zIndex']),\n        picked = _splitObject.picked,\n        omitted = _splitObject.omitted;\n\n    var spanStyle = _extends(_extends({\n      display: 'inline-block'\n    }, picked), {\n      cursor: 'not-allowed',\n      width: element.props.block ? '100%' : null\n    });\n\n    var buttonStyle = _extends(_extends({}, omitted), {\n      pointerEvents: 'none'\n    });\n\n    var child = React.cloneElement(element, {\n      style: buttonStyle,\n      className: null\n    });\n    return React.createElement(\"span\", {\n      style: spanStyle,\n      className: element.props.className\n    }, child);\n  }\n\n  return element;\n}\n\nvar Tooltip =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Tooltip, _React$Component);\n\n  function Tooltip(props) {\n    var _this;\n\n    _classCallCheck(this, Tooltip);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Tooltip).call(this, props));\n\n    _this.onVisibleChange = function (visible) {\n      var onVisibleChange = _this.props.onVisibleChange;\n\n      if (!('visible' in _this.props)) {\n        _this.setState({\n          visible: _this.isNoTitle() ? false : visible\n        });\n      }\n\n      if (onVisibleChange && !_this.isNoTitle()) {\n        onVisibleChange(visible);\n      }\n    };\n\n    _this.saveTooltip = function (node) {\n      _this.tooltip = node;\n    }; // \n\n\n    _this.onPopupAlign = function (domNode, align) {\n      var placements = _this.getPlacements(); // \n\n\n      var placement = Object.keys(placements).filter(function (key) {\n        return placements[key].points[0] === align.points[0] && placements[key].points[1] === align.points[1];\n      })[0];\n\n      if (!placement) {\n        return;\n      } // \n\n\n      var rect = domNode.getBoundingClientRect();\n      var transformOrigin = {\n        top: '50%',\n        left: '50%'\n      };\n\n      if (placement.indexOf('top') >= 0 || placement.indexOf('Bottom') >= 0) {\n        transformOrigin.top = \"\".concat(rect.height - align.offset[1], \"px\");\n      } else if (placement.indexOf('Top') >= 0 || placement.indexOf('bottom') >= 0) {\n        transformOrigin.top = \"\".concat(-align.offset[1], \"px\");\n      }\n\n      if (placement.indexOf('left') >= 0 || placement.indexOf('Right') >= 0) {\n        transformOrigin.left = \"\".concat(rect.width - align.offset[0], \"px\");\n      } else if (placement.indexOf('right') >= 0 || placement.indexOf('Left') >= 0) {\n        transformOrigin.left = \"\".concat(-align.offset[0], \"px\");\n      }\n\n      domNode.style.transformOrigin = \"\".concat(transformOrigin.left, \" \").concat(transformOrigin.top);\n    };\n\n    _this.renderTooltip = function (_ref) {\n      var getContextPopupContainer = _ref.getPopupContainer,\n          getPrefixCls = _ref.getPrefixCls;\n\n      var _assertThisInitialize = _assertThisInitialized(_this),\n          props = _assertThisInitialize.props,\n          state = _assertThisInitialize.state;\n\n      var customizePrefixCls = props.prefixCls,\n          title = props.title,\n          overlay = props.overlay,\n          openClassName = props.openClassName,\n          getPopupContainer = props.getPopupContainer,\n          getTooltipContainer = props.getTooltipContainer;\n      var children = props.children;\n      var prefixCls = getPrefixCls('tooltip', customizePrefixCls);\n      var visible = state.visible; // Hide tooltip when there is no title\n\n      if (!('visible' in props) && _this.isNoTitle()) {\n        visible = false;\n      }\n\n      var child = getDisabledCompatibleChildren(React.isValidElement(children) ? children : React.createElement(\"span\", null, children));\n      var childProps = child.props;\n      var childCls = classNames(childProps.className, _defineProperty({}, openClassName || \"\".concat(prefixCls, \"-open\"), true));\n      return React.createElement(RcTooltip, _extends({}, _this.props, {\n        prefixCls: prefixCls,\n        getTooltipContainer: getPopupContainer || getTooltipContainer || getContextPopupContainer,\n        ref: _this.saveTooltip,\n        builtinPlacements: _this.getPlacements(),\n        overlay: overlay || title || '',\n        visible: visible,\n        onVisibleChange: _this.onVisibleChange,\n        onPopupAlign: _this.onPopupAlign\n      }), visible ? React.cloneElement(child, {\n        className: childCls\n      }) : child);\n    };\n\n    _this.state = {\n      visible: !!props.visible || !!props.defaultVisible\n    };\n    return _this;\n  }\n\n  _createClass(Tooltip, [{\n    key: \"getPopupDomNode\",\n    value: function getPopupDomNode() {\n      return this.tooltip.getPopupDomNode();\n    }\n  }, {\n    key: \"getPlacements\",\n    value: function getPlacements() {\n      var _this$props = this.props,\n          builtinPlacements = _this$props.builtinPlacements,\n          arrowPointAtCenter = _this$props.arrowPointAtCenter,\n          autoAdjustOverflow = _this$props.autoAdjustOverflow;\n      return builtinPlacements || _getPlacements({\n        arrowPointAtCenter: arrowPointAtCenter,\n        verticalArrowShift: 8,\n        autoAdjustOverflow: autoAdjustOverflow\n      });\n    }\n  }, {\n    key: \"isNoTitle\",\n    value: function isNoTitle() {\n      var _this$props2 = this.props,\n          title = _this$props2.title,\n          overlay = _this$props2.overlay;\n      return !title && !overlay; // overlay for old version compatibility\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderTooltip);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps) {\n      if ('visible' in nextProps) {\n        return {\n          visible: nextProps.visible\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return Tooltip;\n}(React.Component);\n\nTooltip.defaultProps = {\n  placement: 'top',\n  transitionName: 'zoom-big-fast',\n  mouseEnterDelay: 0.1,\n  mouseLeaveDelay: 0.1,\n  arrowPointAtCenter: false,\n  autoAdjustOverflow: true\n};\npolyfill(Tooltip);\nexport default Tooltip;","/**\n * Event Mixin\n * @module zrender/mixin/Eventful\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n *         pissang (https://www.github.com/pissang)\n */\nvar arrySlice = Array.prototype.slice;\n/**\n * Event dispatcher.\n *\n * @alias module:zrender/mixin/Eventful\n * @constructor\n * @param {Object} [eventProcessor] The object eventProcessor is the scope when\n *        `eventProcessor.xxx` called.\n * @param {Function} [eventProcessor.normalizeQuery]\n *        param: {string|Object} Raw query.\n *        return: {string|Object} Normalized query.\n * @param {Function} [eventProcessor.filter] Event will be dispatched only\n *        if it returns `true`.\n *        param: {string} eventType\n *        param: {string|Object} query\n *        return: {boolean}\n * @param {Function} [eventProcessor.afterTrigger] Call after all handlers called.\n *        param: {string} eventType\n */\n\nvar Eventful = function Eventful(eventProcessor) {\n  this._$handlers = {};\n  this._$eventProcessor = eventProcessor;\n};\n\nEventful.prototype = {\n  constructor: Eventful,\n\n  /**\n   * The handler can only be triggered once, then removed.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} context\n   */\n  one: function one(event, query, handler, context) {\n    return _on(this, event, query, handler, context, true);\n  },\n\n  /**\n   * Bind a handler.\n   *\n   * @param {string} event The event name.\n   * @param {string|Object} [query] Condition used on event filter.\n   * @param {Function} handler The event handler.\n   * @param {Object} [context]\n   */\n  on: function on(event, query, handler, context) {\n    return _on(this, event, query, handler, context, false);\n  },\n\n  /**\n   * Whether any handler has bound.\n   *\n   * @param  {string}  event\n   * @return {boolean}\n   */\n  isSilent: function isSilent(event) {\n    var _h = this._$handlers;\n    return !_h[event] || !_h[event].length;\n  },\n\n  /**\n   * Unbind a event.\n   *\n   * @param {string} event The event name.\n   * @param {Function} [handler] The event handler.\n   */\n  off: function off(event, handler) {\n    var _h = this._$handlers;\n\n    if (!event) {\n      this._$handlers = {};\n      return this;\n    }\n\n    if (handler) {\n      if (_h[event]) {\n        var newList = [];\n\n        for (var i = 0, l = _h[event].length; i < l; i++) {\n          if (_h[event][i].h !== handler) {\n            newList.push(_h[event][i]);\n          }\n        }\n\n        _h[event] = newList;\n      }\n\n      if (_h[event] && _h[event].length === 0) {\n        delete _h[event];\n      }\n    } else {\n      delete _h[event];\n    }\n\n    return this;\n  },\n\n  /**\n   * Dispatch a event.\n   *\n   * @param {string} type The event name.\n   */\n  trigger: function trigger(type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 3) {\n        args = arrySlice.call(args, 1);\n      }\n\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(hItem.ctx);\n            break;\n\n          case 2:\n            hItem.h.call(hItem.ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(hItem.ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(hItem.ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  },\n\n  /**\n   * Dispatch a event with context, which is specified at the last parameter.\n   *\n   * @param {string} type The event name.\n   */\n  triggerWithContext: function triggerWithContext(type) {\n    var _h = this._$handlers[type];\n    var eventProcessor = this._$eventProcessor;\n\n    if (_h) {\n      var args = arguments;\n      var argLen = args.length;\n\n      if (argLen > 4) {\n        args = arrySlice.call(args, 1, args.length - 1);\n      }\n\n      var ctx = args[args.length - 1];\n      var len = _h.length;\n\n      for (var i = 0; i < len;) {\n        var hItem = _h[i];\n\n        if (eventProcessor && eventProcessor.filter && hItem.query != null && !eventProcessor.filter(type, hItem.query)) {\n          i++;\n          continue;\n        } // Optimize advise from backbone\n\n\n        switch (argLen) {\n          case 1:\n            hItem.h.call(ctx);\n            break;\n\n          case 2:\n            hItem.h.call(ctx, args[1]);\n            break;\n\n          case 3:\n            hItem.h.call(ctx, args[1], args[2]);\n            break;\n\n          default:\n            // have more than 2 given arguments\n            hItem.h.apply(ctx, args);\n            break;\n        }\n\n        if (hItem.one) {\n          _h.splice(i, 1);\n\n          len--;\n        } else {\n          i++;\n        }\n      }\n    }\n\n    eventProcessor && eventProcessor.afterTrigger && eventProcessor.afterTrigger(type);\n    return this;\n  }\n};\n\nfunction normalizeQuery(host, query) {\n  var eventProcessor = host._$eventProcessor;\n\n  if (query != null && eventProcessor && eventProcessor.normalizeQuery) {\n    query = eventProcessor.normalizeQuery(query);\n  }\n\n  return query;\n}\n\nfunction _on(eventful, event, query, handler, context, isOnce) {\n  var _h = eventful._$handlers;\n\n  if (typeof query === 'function') {\n    context = handler;\n    handler = query;\n    query = null;\n  }\n\n  if (!handler || !event) {\n    return eventful;\n  }\n\n  query = normalizeQuery(eventful, query);\n\n  if (!_h[event]) {\n    _h[event] = [];\n  }\n\n  for (var i = 0; i < _h[event].length; i++) {\n    if (_h[event][i].h === handler) {\n      return eventful;\n    }\n  }\n\n  var wrap = {\n    h: handler,\n    one: isOnce,\n    query: query,\n    ctx: context || eventful,\n    // FIXME\n    // Do not publish this feature util it is proved that it makes sense.\n    callAtLast: handler.zrEventfulCallAtLast\n  };\n  var lastIndex = _h[event].length - 1;\n  var lastWrap = _h[event][lastIndex];\n  lastWrap && lastWrap.callAtLast ? _h[event].splice(lastIndex, 0, wrap) : _h[event].push(wrap);\n  return eventful;\n} // ----------------------\n// The events in zrender\n// ----------------------\n\n/**\n * @event module:zrender/mixin/Eventful#onclick\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseout\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousemove\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousewheel\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmousedown\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#onmouseup\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrag\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragstart\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragend\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragenter\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragleave\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondragover\n * @type {Function}\n * @default null\n */\n\n/**\n * @event module:zrender/mixin/Eventful#ondrop\n * @type {Function}\n * @default null\n */\n\n\nvar _default = Eventful;\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Element = require(\"../Element\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n/**\n * GroupGroup\n * @module zrender/graphic/Group\n * @example\n *     var Group = require('zrender/container/Group');\n *     var Circle = require('zrender/graphic/shape/Circle');\n *     var g = new Group();\n *     g.position[0] = 100;\n *     g.position[1] = 100;\n *     g.add(new Circle({\n *         style: {\n *             x: 100,\n *             y: 100,\n *             r: 20,\n *         }\n *     }));\n *     zr.add(g);\n */\n\n/**\n * @alias module:zrender/graphic/Group\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @extends module:zrender/mixin/Eventful\n */\n\n\nvar Group = function Group(opts) {\n  opts = opts || {};\n  Element.call(this, opts);\n\n  for (var key in opts) {\n    if (opts.hasOwnProperty(key)) {\n      this[key] = opts[key];\n    }\n  }\n\n  this._children = [];\n  this.__storage = null;\n  this.__dirty = true;\n};\n\nGroup.prototype = {\n  constructor: Group,\n  isGroup: true,\n\n  /**\n   * @type {string}\n   */\n  type: 'group',\n\n  /**\n   * \n   * @name module:/zrender/container/Group#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * @return {Array.<module:zrender/Element>}\n   */\n  children: function children() {\n    return this._children.slice();\n  },\n\n  /**\n   *  index \n   * @param  {number} idx\n   * @return {module:zrender/Element}\n   */\n  childAt: function childAt(idx) {\n    return this._children[idx];\n  },\n\n  /**\n   * \n   * @param  {string} name\n   * @return {module:zrender/Element}\n   */\n  childOfName: function childOfName(name) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      if (children[i].name === name) {\n        return children[i];\n      }\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  childCount: function childCount() {\n    return this._children.length;\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  add: function add(child) {\n    if (child && child !== this && child.parent !== this) {\n      this._children.push(child);\n\n      this._doAdd(child);\n    }\n\n    return this;\n  },\n\n  /**\n   *  nextSibling \n   * @param {module:zrender/Element} child\n   * @param {module:zrender/Element} nextSibling\n   */\n  addBefore: function addBefore(child, nextSibling) {\n    if (child && child !== this && child.parent !== this && nextSibling && nextSibling.parent === this) {\n      var children = this._children;\n      var idx = children.indexOf(nextSibling);\n\n      if (idx >= 0) {\n        children.splice(idx, 0, child);\n\n        this._doAdd(child);\n      }\n    }\n\n    return this;\n  },\n  _doAdd: function _doAdd(child) {\n    if (child.parent) {\n      child.parent.remove(child);\n    }\n\n    child.parent = this;\n    var storage = this.__storage;\n    var zr = this.__zr;\n\n    if (storage && storage !== child.__storage) {\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n  },\n\n  /**\n   * \n   * @param {module:zrender/Element} child\n   */\n  remove: function remove(child) {\n    var zr = this.__zr;\n    var storage = this.__storage;\n    var children = this._children;\n    var idx = zrUtil.indexOf(children, child);\n\n    if (idx < 0) {\n      return this;\n    }\n\n    children.splice(idx, 1);\n    child.parent = null;\n\n    if (storage) {\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n\n    zr && zr.refresh();\n    return this;\n  },\n\n  /**\n   * \n   */\n  removeAll: function removeAll() {\n    var children = this._children;\n    var storage = this.__storage;\n    var child;\n    var i;\n\n    for (i = 0; i < children.length; i++) {\n      child = children[i];\n\n      if (storage) {\n        storage.delFromStorage(child);\n\n        if (child instanceof Group) {\n          child.delChildrenFromStorage(storage);\n        }\n      }\n\n      child.parent = null;\n    }\n\n    children.length = 0;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  eachChild: function eachChild(cb, context) {\n    var children = this._children;\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n      cb.call(context, child, i);\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function traverse(cb, context) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      cb.call(context, child);\n\n      if (child.type === 'group') {\n        child.traverse(cb, context);\n      }\n    }\n\n    return this;\n  },\n  addChildrenToStorage: function addChildrenToStorage(storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.addToStorage(child);\n\n      if (child instanceof Group) {\n        child.addChildrenToStorage(storage);\n      }\n    }\n  },\n  delChildrenFromStorage: function delChildrenFromStorage(storage) {\n    for (var i = 0; i < this._children.length; i++) {\n      var child = this._children[i];\n      storage.delFromStorage(child);\n\n      if (child instanceof Group) {\n        child.delChildrenFromStorage(storage);\n      }\n    }\n  },\n  dirty: function dirty() {\n    this.__dirty = true;\n    this.__zr && this.__zr.refresh();\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function getBoundingRect(includeChildren) {\n    // TODO Caching\n    var rect = null;\n    var tmpRect = new BoundingRect(0, 0, 0, 0);\n    var children = includeChildren || this._children;\n    var tmpMat = [];\n\n    for (var i = 0; i < children.length; i++) {\n      var child = children[i];\n\n      if (child.ignore || child.invisible) {\n        continue;\n      }\n\n      var childRect = child.getBoundingRect();\n      var transform = child.getLocalTransform(tmpMat); // TODO\n      // The boundingRect cacluated by transforming original\n      // rect may be bigger than the actual bundingRect when rotation\n      // is used. (Consider a circle rotated aginst its center, where\n      // the actual boundingRect should be the same as that not be\n      // rotated.) But we can not find better approach to calculate\n      // actual boundingRect yet, considering performance.\n\n      if (transform) {\n        tmpRect.copy(childRect);\n        tmpRect.applyTransform(transform);\n        rect = rect || tmpRect.clone();\n        rect.union(tmpRect);\n      } else {\n        rect = rect || childRect.clone();\n        rect.union(childRect);\n      }\n    }\n\n    return rect || tmpRect;\n  }\n};\nzrUtil.inherits(Group, Element);\nvar _default = Group;\nmodule.exports = _default;","var LRU = require(\"../core/LRU\");\n\nvar kCSSColorTable = {\n  'transparent': [0, 0, 0, 0],\n  'aliceblue': [240, 248, 255, 1],\n  'antiquewhite': [250, 235, 215, 1],\n  'aqua': [0, 255, 255, 1],\n  'aquamarine': [127, 255, 212, 1],\n  'azure': [240, 255, 255, 1],\n  'beige': [245, 245, 220, 1],\n  'bisque': [255, 228, 196, 1],\n  'black': [0, 0, 0, 1],\n  'blanchedalmond': [255, 235, 205, 1],\n  'blue': [0, 0, 255, 1],\n  'blueviolet': [138, 43, 226, 1],\n  'brown': [165, 42, 42, 1],\n  'burlywood': [222, 184, 135, 1],\n  'cadetblue': [95, 158, 160, 1],\n  'chartreuse': [127, 255, 0, 1],\n  'chocolate': [210, 105, 30, 1],\n  'coral': [255, 127, 80, 1],\n  'cornflowerblue': [100, 149, 237, 1],\n  'cornsilk': [255, 248, 220, 1],\n  'crimson': [220, 20, 60, 1],\n  'cyan': [0, 255, 255, 1],\n  'darkblue': [0, 0, 139, 1],\n  'darkcyan': [0, 139, 139, 1],\n  'darkgoldenrod': [184, 134, 11, 1],\n  'darkgray': [169, 169, 169, 1],\n  'darkgreen': [0, 100, 0, 1],\n  'darkgrey': [169, 169, 169, 1],\n  'darkkhaki': [189, 183, 107, 1],\n  'darkmagenta': [139, 0, 139, 1],\n  'darkolivegreen': [85, 107, 47, 1],\n  'darkorange': [255, 140, 0, 1],\n  'darkorchid': [153, 50, 204, 1],\n  'darkred': [139, 0, 0, 1],\n  'darksalmon': [233, 150, 122, 1],\n  'darkseagreen': [143, 188, 143, 1],\n  'darkslateblue': [72, 61, 139, 1],\n  'darkslategray': [47, 79, 79, 1],\n  'darkslategrey': [47, 79, 79, 1],\n  'darkturquoise': [0, 206, 209, 1],\n  'darkviolet': [148, 0, 211, 1],\n  'deeppink': [255, 20, 147, 1],\n  'deepskyblue': [0, 191, 255, 1],\n  'dimgray': [105, 105, 105, 1],\n  'dimgrey': [105, 105, 105, 1],\n  'dodgerblue': [30, 144, 255, 1],\n  'firebrick': [178, 34, 34, 1],\n  'floralwhite': [255, 250, 240, 1],\n  'forestgreen': [34, 139, 34, 1],\n  'fuchsia': [255, 0, 255, 1],\n  'gainsboro': [220, 220, 220, 1],\n  'ghostwhite': [248, 248, 255, 1],\n  'gold': [255, 215, 0, 1],\n  'goldenrod': [218, 165, 32, 1],\n  'gray': [128, 128, 128, 1],\n  'green': [0, 128, 0, 1],\n  'greenyellow': [173, 255, 47, 1],\n  'grey': [128, 128, 128, 1],\n  'honeydew': [240, 255, 240, 1],\n  'hotpink': [255, 105, 180, 1],\n  'indianred': [205, 92, 92, 1],\n  'indigo': [75, 0, 130, 1],\n  'ivory': [255, 255, 240, 1],\n  'khaki': [240, 230, 140, 1],\n  'lavender': [230, 230, 250, 1],\n  'lavenderblush': [255, 240, 245, 1],\n  'lawngreen': [124, 252, 0, 1],\n  'lemonchiffon': [255, 250, 205, 1],\n  'lightblue': [173, 216, 230, 1],\n  'lightcoral': [240, 128, 128, 1],\n  'lightcyan': [224, 255, 255, 1],\n  'lightgoldenrodyellow': [250, 250, 210, 1],\n  'lightgray': [211, 211, 211, 1],\n  'lightgreen': [144, 238, 144, 1],\n  'lightgrey': [211, 211, 211, 1],\n  'lightpink': [255, 182, 193, 1],\n  'lightsalmon': [255, 160, 122, 1],\n  'lightseagreen': [32, 178, 170, 1],\n  'lightskyblue': [135, 206, 250, 1],\n  'lightslategray': [119, 136, 153, 1],\n  'lightslategrey': [119, 136, 153, 1],\n  'lightsteelblue': [176, 196, 222, 1],\n  'lightyellow': [255, 255, 224, 1],\n  'lime': [0, 255, 0, 1],\n  'limegreen': [50, 205, 50, 1],\n  'linen': [250, 240, 230, 1],\n  'magenta': [255, 0, 255, 1],\n  'maroon': [128, 0, 0, 1],\n  'mediumaquamarine': [102, 205, 170, 1],\n  'mediumblue': [0, 0, 205, 1],\n  'mediumorchid': [186, 85, 211, 1],\n  'mediumpurple': [147, 112, 219, 1],\n  'mediumseagreen': [60, 179, 113, 1],\n  'mediumslateblue': [123, 104, 238, 1],\n  'mediumspringgreen': [0, 250, 154, 1],\n  'mediumturquoise': [72, 209, 204, 1],\n  'mediumvioletred': [199, 21, 133, 1],\n  'midnightblue': [25, 25, 112, 1],\n  'mintcream': [245, 255, 250, 1],\n  'mistyrose': [255, 228, 225, 1],\n  'moccasin': [255, 228, 181, 1],\n  'navajowhite': [255, 222, 173, 1],\n  'navy': [0, 0, 128, 1],\n  'oldlace': [253, 245, 230, 1],\n  'olive': [128, 128, 0, 1],\n  'olivedrab': [107, 142, 35, 1],\n  'orange': [255, 165, 0, 1],\n  'orangered': [255, 69, 0, 1],\n  'orchid': [218, 112, 214, 1],\n  'palegoldenrod': [238, 232, 170, 1],\n  'palegreen': [152, 251, 152, 1],\n  'paleturquoise': [175, 238, 238, 1],\n  'palevioletred': [219, 112, 147, 1],\n  'papayawhip': [255, 239, 213, 1],\n  'peachpuff': [255, 218, 185, 1],\n  'peru': [205, 133, 63, 1],\n  'pink': [255, 192, 203, 1],\n  'plum': [221, 160, 221, 1],\n  'powderblue': [176, 224, 230, 1],\n  'purple': [128, 0, 128, 1],\n  'red': [255, 0, 0, 1],\n  'rosybrown': [188, 143, 143, 1],\n  'royalblue': [65, 105, 225, 1],\n  'saddlebrown': [139, 69, 19, 1],\n  'salmon': [250, 128, 114, 1],\n  'sandybrown': [244, 164, 96, 1],\n  'seagreen': [46, 139, 87, 1],\n  'seashell': [255, 245, 238, 1],\n  'sienna': [160, 82, 45, 1],\n  'silver': [192, 192, 192, 1],\n  'skyblue': [135, 206, 235, 1],\n  'slateblue': [106, 90, 205, 1],\n  'slategray': [112, 128, 144, 1],\n  'slategrey': [112, 128, 144, 1],\n  'snow': [255, 250, 250, 1],\n  'springgreen': [0, 255, 127, 1],\n  'steelblue': [70, 130, 180, 1],\n  'tan': [210, 180, 140, 1],\n  'teal': [0, 128, 128, 1],\n  'thistle': [216, 191, 216, 1],\n  'tomato': [255, 99, 71, 1],\n  'turquoise': [64, 224, 208, 1],\n  'violet': [238, 130, 238, 1],\n  'wheat': [245, 222, 179, 1],\n  'white': [255, 255, 255, 1],\n  'whitesmoke': [245, 245, 245, 1],\n  'yellow': [255, 255, 0, 1],\n  'yellowgreen': [154, 205, 50, 1]\n};\n\nfunction clampCssByte(i) {\n  // Clamp to integer 0 .. 255.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 255 ? 255 : i;\n}\n\nfunction clampCssAngle(i) {\n  // Clamp to integer 0 .. 360.\n  i = Math.round(i); // Seems to be what Chrome does (vs truncation).\n\n  return i < 0 ? 0 : i > 360 ? 360 : i;\n}\n\nfunction clampCssFloat(f) {\n  // Clamp to float 0.0 .. 1.0.\n  return f < 0 ? 0 : f > 1 ? 1 : f;\n}\n\nfunction parseCssInt(str) {\n  // int or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssByte(parseFloat(str) / 100 * 255);\n  }\n\n  return clampCssByte(parseInt(str, 10));\n}\n\nfunction parseCssFloat(str) {\n  // float or percentage.\n  if (str.length && str.charAt(str.length - 1) === '%') {\n    return clampCssFloat(parseFloat(str) / 100);\n  }\n\n  return clampCssFloat(parseFloat(str));\n}\n\nfunction cssHueToRgb(m1, m2, h) {\n  if (h < 0) {\n    h += 1;\n  } else if (h > 1) {\n    h -= 1;\n  }\n\n  if (h * 6 < 1) {\n    return m1 + (m2 - m1) * h * 6;\n  }\n\n  if (h * 2 < 1) {\n    return m2;\n  }\n\n  if (h * 3 < 2) {\n    return m1 + (m2 - m1) * (2 / 3 - h) * 6;\n  }\n\n  return m1;\n}\n\nfunction lerpNumber(a, b, p) {\n  return a + (b - a) * p;\n}\n\nfunction setRgba(out, r, g, b, a) {\n  out[0] = r;\n  out[1] = g;\n  out[2] = b;\n  out[3] = a;\n  return out;\n}\n\nfunction copyRgba(out, a) {\n  out[0] = a[0];\n  out[1] = a[1];\n  out[2] = a[2];\n  out[3] = a[3];\n  return out;\n}\n\nvar colorCache = new LRU(20);\nvar lastRemovedArr = null;\n\nfunction putToCache(colorStr, rgbaArr) {\n  // Reuse removed array\n  if (lastRemovedArr) {\n    copyRgba(lastRemovedArr, rgbaArr);\n  }\n\n  lastRemovedArr = colorCache.put(colorStr, lastRemovedArr || rgbaArr.slice());\n}\n/**\n * @param {string} colorStr\n * @param {Array.<number>} out\n * @return {Array.<number>}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction parse(colorStr, rgbaArr) {\n  if (!colorStr) {\n    return;\n  }\n\n  rgbaArr = rgbaArr || [];\n  var cached = colorCache.get(colorStr);\n\n  if (cached) {\n    return copyRgba(rgbaArr, cached);\n  } // colorStr may be not string\n\n\n  colorStr = colorStr + ''; // Remove all whitespace, not compliant, but should just be more accepting.\n\n  var str = colorStr.replace(/ /g, '').toLowerCase(); // Color keywords (and transparent) lookup.\n\n  if (str in kCSSColorTable) {\n    copyRgba(rgbaArr, kCSSColorTable[str]);\n    putToCache(colorStr, rgbaArr);\n    return rgbaArr;\n  } // #abc and #abc123 syntax.\n\n\n  if (str.charAt(0) === '#') {\n    if (str.length === 4) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xfff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xf00) >> 4 | (iv & 0xf00) >> 8, iv & 0xf0 | (iv & 0xf0) >> 4, iv & 0xf | (iv & 0xf) << 4, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    } else if (str.length === 7) {\n      var iv = parseInt(str.substr(1), 16); // TODO(deanm): Stricter parsing.\n\n      if (!(iv >= 0 && iv <= 0xffffff)) {\n        setRgba(rgbaArr, 0, 0, 0, 1);\n        return; // Covers NaN.\n      }\n\n      setRgba(rgbaArr, (iv & 0xff0000) >> 16, (iv & 0xff00) >> 8, iv & 0xff, 1);\n      putToCache(colorStr, rgbaArr);\n      return rgbaArr;\n    }\n\n    return;\n  }\n\n  var op = str.indexOf('(');\n  var ep = str.indexOf(')');\n\n  if (op !== -1 && ep + 1 === str.length) {\n    var fname = str.substr(0, op);\n    var params = str.substr(op + 1, ep - (op + 1)).split(',');\n    var alpha = 1; // To allow case fallthrough.\n\n    switch (fname) {\n      case 'rgba':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        alpha = parseCssFloat(params.pop());\n      // jshint ignore:line\n      // Fall through.\n\n      case 'rgb':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        setRgba(rgbaArr, parseCssInt(params[0]), parseCssInt(params[1]), parseCssInt(params[2]), alpha);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsla':\n        if (params.length !== 4) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        params[3] = parseCssFloat(params[3]);\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      case 'hsl':\n        if (params.length !== 3) {\n          setRgba(rgbaArr, 0, 0, 0, 1);\n          return;\n        }\n\n        hsla2rgba(params, rgbaArr);\n        putToCache(colorStr, rgbaArr);\n        return rgbaArr;\n\n      default:\n        return;\n    }\n  }\n\n  setRgba(rgbaArr, 0, 0, 0, 1);\n  return;\n}\n/**\n * @param {Array.<number>} hsla\n * @param {Array.<number>} rgba\n * @return {Array.<number>} rgba\n */\n\n\nfunction hsla2rgba(hsla, rgba) {\n  var h = (parseFloat(hsla[0]) % 360 + 360) % 360 / 360; // 0 .. 1\n  // NOTE(deanm): According to the CSS spec s/l should only be\n  // percentages, but we don't bother and let float or percentage.\n\n  var s = parseCssFloat(hsla[1]);\n  var l = parseCssFloat(hsla[2]);\n  var m2 = l <= 0.5 ? l * (s + 1) : l + s - l * s;\n  var m1 = l * 2 - m2;\n  rgba = rgba || [];\n  setRgba(rgba, clampCssByte(cssHueToRgb(m1, m2, h + 1 / 3) * 255), clampCssByte(cssHueToRgb(m1, m2, h) * 255), clampCssByte(cssHueToRgb(m1, m2, h - 1 / 3) * 255), 1);\n\n  if (hsla.length === 4) {\n    rgba[3] = hsla[3];\n  }\n\n  return rgba;\n}\n/**\n * @param {Array.<number>} rgba\n * @return {Array.<number>} hsla\n */\n\n\nfunction rgba2hsla(rgba) {\n  if (!rgba) {\n    return;\n  } // RGB from 0 to 255\n\n\n  var R = rgba[0] / 255;\n  var G = rgba[1] / 255;\n  var B = rgba[2] / 255;\n  var vMin = Math.min(R, G, B); // Min. value of RGB\n\n  var vMax = Math.max(R, G, B); // Max. value of RGB\n\n  var delta = vMax - vMin; // Delta RGB value\n\n  var L = (vMax + vMin) / 2;\n  var H;\n  var S; // HSL results from 0 to 1\n\n  if (delta === 0) {\n    H = 0;\n    S = 0;\n  } else {\n    if (L < 0.5) {\n      S = delta / (vMax + vMin);\n    } else {\n      S = delta / (2 - vMax - vMin);\n    }\n\n    var deltaR = ((vMax - R) / 6 + delta / 2) / delta;\n    var deltaG = ((vMax - G) / 6 + delta / 2) / delta;\n    var deltaB = ((vMax - B) / 6 + delta / 2) / delta;\n\n    if (R === vMax) {\n      H = deltaB - deltaG;\n    } else if (G === vMax) {\n      H = 1 / 3 + deltaR - deltaB;\n    } else if (B === vMax) {\n      H = 2 / 3 + deltaG - deltaR;\n    }\n\n    if (H < 0) {\n      H += 1;\n    }\n\n    if (H > 1) {\n      H -= 1;\n    }\n  }\n\n  var hsla = [H * 360, S, L];\n\n  if (rgba[3] != null) {\n    hsla.push(rgba[3]);\n  }\n\n  return hsla;\n}\n/**\n * @param {string} color\n * @param {number} level\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction lift(color, level) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    for (var i = 0; i < 3; i++) {\n      if (level < 0) {\n        colorArr[i] = colorArr[i] * (1 - level) | 0;\n      } else {\n        colorArr[i] = (255 - colorArr[i]) * level + colorArr[i] | 0;\n      }\n\n      if (colorArr[i] > 255) {\n        colorArr[i] = 255;\n      } else if (color[i] < 0) {\n        colorArr[i] = 0;\n      }\n    }\n\n    return stringify(colorArr, colorArr.length === 4 ? 'rgba' : 'rgb');\n  }\n}\n/**\n * @param {string} color\n * @return {string}\n * @memberOf module:zrender/util/color\n */\n\n\nfunction toHex(color) {\n  var colorArr = parse(color);\n\n  if (colorArr) {\n    return ((1 << 24) + (colorArr[0] << 16) + (colorArr[1] << 8) + +colorArr[2]).toString(16).slice(1);\n  }\n}\n/**\n * Map value to color. Faster than lerp methods because color is represented by rgba array.\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<Array.<number>>} colors List of rgba color array\n * @param {Array.<number>} [out] Mapped gba color array\n * @return {Array.<number>} will be null/undefined if input illegal.\n */\n\n\nfunction fastLerp(normalizedValue, colors, out) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  out = out || [];\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = colors[leftIndex];\n  var rightColor = colors[rightIndex];\n  var dv = value - leftIndex;\n  out[0] = clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv));\n  out[1] = clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv));\n  out[2] = clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv));\n  out[3] = clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv));\n  return out;\n}\n/**\n * @deprecated\n */\n\n\nvar fastMapToColor = fastLerp;\n/**\n * @param {number} normalizedValue A float between 0 and 1.\n * @param {Array.<string>} colors Color list.\n * @param {boolean=} fullOutput Default false.\n * @return {(string|Object)} Result color. If fullOutput,\n *                           return {color: ..., leftIndex: ..., rightIndex: ..., value: ...},\n * @memberOf module:zrender/util/color\n */\n\nfunction lerp(normalizedValue, colors, fullOutput) {\n  if (!(colors && colors.length) || !(normalizedValue >= 0 && normalizedValue <= 1)) {\n    return;\n  }\n\n  var value = normalizedValue * (colors.length - 1);\n  var leftIndex = Math.floor(value);\n  var rightIndex = Math.ceil(value);\n  var leftColor = parse(colors[leftIndex]);\n  var rightColor = parse(colors[rightIndex]);\n  var dv = value - leftIndex;\n  var color = stringify([clampCssByte(lerpNumber(leftColor[0], rightColor[0], dv)), clampCssByte(lerpNumber(leftColor[1], rightColor[1], dv)), clampCssByte(lerpNumber(leftColor[2], rightColor[2], dv)), clampCssFloat(lerpNumber(leftColor[3], rightColor[3], dv))], 'rgba');\n  return fullOutput ? {\n    color: color,\n    leftIndex: leftIndex,\n    rightIndex: rightIndex,\n    value: value\n  } : color;\n}\n/**\n * @deprecated\n */\n\n\nvar mapToColor = lerp;\n/**\n * @param {string} color\n * @param {number=} h 0 ~ 360, ignore when null.\n * @param {number=} s 0 ~ 1, ignore when null.\n * @param {number=} l 0 ~ 1, ignore when null.\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\nfunction modifyHSL(color, h, s, l) {\n  color = parse(color);\n\n  if (color) {\n    color = rgba2hsla(color);\n    h != null && (color[0] = clampCssAngle(h));\n    s != null && (color[1] = parseCssFloat(s));\n    l != null && (color[2] = parseCssFloat(l));\n    return stringify(hsla2rgba(color), 'rgba');\n  }\n}\n/**\n * @param {string} color\n * @param {number=} alpha 0 ~ 1\n * @return {string} Color string in rgba format.\n * @memberOf module:zrender/util/color\n */\n\n\nfunction modifyAlpha(color, alpha) {\n  color = parse(color);\n\n  if (color && alpha != null) {\n    color[3] = clampCssFloat(alpha);\n    return stringify(color, 'rgba');\n  }\n}\n/**\n * @param {Array.<number>} arrColor like [12,33,44,0.4]\n * @param {string} type 'rgba', 'hsva', ...\n * @return {string} Result color. (If input illegal, return undefined).\n */\n\n\nfunction stringify(arrColor, type) {\n  if (!arrColor || !arrColor.length) {\n    return;\n  }\n\n  var colorStr = arrColor[0] + ',' + arrColor[1] + ',' + arrColor[2];\n\n  if (type === 'rgba' || type === 'hsva' || type === 'hsla') {\n    colorStr += ',' + arrColor[3];\n  }\n\n  return type + '(' + colorStr + ')';\n}\n\nexports.parse = parse;\nexports.lift = lift;\nexports.toHex = toHex;\nexports.fastLerp = fastLerp;\nexports.fastMapToColor = fastMapToColor;\nexports.lerp = lerp;\nexports.mapToColor = mapToColor;\nexports.modifyHSL = modifyHSL;\nexports.modifyAlpha = modifyAlpha;\nexports.stringify = stringify;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar isTypedArray = _util.isTypedArray;\n\nvar _clazz = require(\"../util/clazz\");\n\nvar enableClassCheck = _clazz.enableClassCheck;\n\nvar _sourceType = require(\"./helper/sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\nvar SERIES_LAYOUT_BY_COLUMN = _sourceType.SERIES_LAYOUT_BY_COLUMN;\nvar SOURCE_FORMAT_UNKNOWN = _sourceType.SOURCE_FORMAT_UNKNOWN;\nvar SOURCE_FORMAT_TYPED_ARRAY = _sourceType.SOURCE_FORMAT_TYPED_ARRAY;\nvar SOURCE_FORMAT_KEYED_COLUMNS = _sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * [sourceFormat]\n *\n * + \"original\":\n * This format is only used in series.data, where\n * itemStyle can be specified in data item.\n *\n * + \"arrayRows\":\n * [\n *     ['product', 'score', 'amount'],\n *     ['Matcha Latte', 89.3, 95.8],\n *     ['Milk Tea', 92.1, 89.4],\n *     ['Cheese Cocoa', 94.4, 91.2],\n *     ['Walnut Brownie', 85.4, 76.9]\n * ]\n *\n * + \"objectRows\":\n * [\n *     {product: 'Matcha Latte', score: 89.3, amount: 95.8},\n *     {product: 'Milk Tea', score: 92.1, amount: 89.4},\n *     {product: 'Cheese Cocoa', score: 94.4, amount: 91.2},\n *     {product: 'Walnut Brownie', score: 85.4, amount: 76.9}\n * ]\n *\n * + \"keyedColumns\":\n * {\n *     'product': ['Matcha Latte', 'Milk Tea', 'Cheese Cocoa', 'Walnut Brownie'],\n *     'count': [823, 235, 1042, 988],\n *     'score': [95.8, 81.4, 91.2, 76.9]\n * }\n *\n * + \"typedArray\"\n *\n * + \"unknown\"\n */\n\n/**\n * @constructor\n * @param {Object} fields\n * @param {string} fields.sourceFormat\n * @param {Array|Object} fields.fromDataset\n * @param {Array|Object} [fields.data]\n * @param {string} [seriesLayoutBy='column']\n * @param {Array.<Object|string>} [dimensionsDefine]\n * @param {Objet|HashMap} [encodeDefine]\n * @param {number} [startIndex=0]\n * @param {number} [dimensionsDetectCount]\n */\n\nfunction Source(fields) {\n  /**\n   * @type {boolean}\n   */\n  this.fromDataset = fields.fromDataset;\n  /**\n   * Not null/undefined.\n   * @type {Array|Object}\n   */\n\n  this.data = fields.data || (fields.sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS ? {} : []);\n  /**\n   * See also \"detectSourceFormat\".\n   * Not null/undefined.\n   * @type {string}\n   */\n\n  this.sourceFormat = fields.sourceFormat || SOURCE_FORMAT_UNKNOWN;\n  /**\n   * 'row' or 'column'\n   * Not null/undefined.\n   * @type {string} seriesLayoutBy\n   */\n\n  this.seriesLayoutBy = fields.seriesLayoutBy || SERIES_LAYOUT_BY_COLUMN;\n  /**\n   * dimensions definition in option.\n   * can be null/undefined.\n   * @type {Array.<Object|string>}\n   */\n\n  this.dimensionsDefine = fields.dimensionsDefine;\n  /**\n   * encode definition in option.\n   * can be null/undefined.\n   * @type {Objet|HashMap}\n   */\n\n  this.encodeDefine = fields.encodeDefine && createHashMap(fields.encodeDefine);\n  /**\n   * Not null/undefined, uint.\n   * @type {number}\n   */\n\n  this.startIndex = fields.startIndex || 0;\n  /**\n   * Can be null/undefined (when unknown), uint.\n   * @type {number}\n   */\n\n  this.dimensionsDetectCount = fields.dimensionsDetectCount;\n}\n/**\n * Wrap original series data for some compatibility cases.\n */\n\n\nSource.seriesDataToSource = function (data) {\n  return new Source({\n    data: data,\n    sourceFormat: isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL,\n    fromDataset: false\n  });\n};\n\nenableClassCheck(Source);\nvar _default = Source;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Avoid typo.\nvar SOURCE_FORMAT_ORIGINAL = 'original';\nvar SOURCE_FORMAT_ARRAY_ROWS = 'arrayRows';\nvar SOURCE_FORMAT_OBJECT_ROWS = 'objectRows';\nvar SOURCE_FORMAT_KEYED_COLUMNS = 'keyedColumns';\nvar SOURCE_FORMAT_UNKNOWN = 'unknown'; // ??? CHANGE A NAME\n\nvar SOURCE_FORMAT_TYPED_ARRAY = 'typedArray';\nvar SERIES_LAYOUT_BY_COLUMN = 'column';\nvar SERIES_LAYOUT_BY_ROW = 'row';\nexports.SOURCE_FORMAT_ORIGINAL = SOURCE_FORMAT_ORIGINAL;\nexports.SOURCE_FORMAT_ARRAY_ROWS = SOURCE_FORMAT_ARRAY_ROWS;\nexports.SOURCE_FORMAT_OBJECT_ROWS = SOURCE_FORMAT_OBJECT_ROWS;\nexports.SOURCE_FORMAT_KEYED_COLUMNS = SOURCE_FORMAT_KEYED_COLUMNS;\nexports.SOURCE_FORMAT_UNKNOWN = SOURCE_FORMAT_UNKNOWN;\nexports.SOURCE_FORMAT_TYPED_ARRAY = SOURCE_FORMAT_TYPED_ARRAY;\nexports.SERIES_LAYOUT_BY_COLUMN = SERIES_LAYOUT_BY_COLUMN;\nexports.SERIES_LAYOUT_BY_ROW = SERIES_LAYOUT_BY_ROW;","var dpr = 1; // If in browser environment\n\nif (typeof window !== 'undefined') {\n  dpr = Math.max(window.devicePixelRatio || 1, 1);\n}\n/**\n * config\n * @exports zrender/config\n * @author Kener (@Kener-, kener.linfeng@gmail.com)\n */\n\n/**\n * Debug log mode:\n * 0: Do nothing, for release.\n * 1: console.error, for debug.\n */\n\n\nvar debugMode = 0; // retina \n\nvar devicePixelRatio = dpr;\nexports.debugMode = debugMode;\nexports.devicePixelRatio = devicePixelRatio;","var ContextCachedBy = {\n  NONE: 0,\n  STYLE_BIND: 1,\n  PLAIN_TEXT: 2\n}; // Avoid confused with 0/false.\n\nvar WILL_BE_RESTORED = 9;\nexports.ContextCachedBy = ContextCachedBy;\nexports.WILL_BE_RESTORED = WILL_BE_RESTORED;","var zrUtil = require(\"../core/util\");\n\nvar Style = require(\"./Style\");\n\nvar Element = require(\"../Element\");\n\nvar RectText = require(\"./mixin/RectText\");\n/**\n * \n * Base class of all displayable graphic objects\n * @module zrender/graphic/Displayable\n */\n\n/**\n * @alias module:zrender/graphic/Displayable\n * @extends module:zrender/Element\n * @extends module:zrender/graphic/mixin/RectText\n */\n\n\nfunction Displayable(opts) {\n  opts = opts || {};\n  Element.call(this, opts); // Extend properties\n\n  for (var name in opts) {\n    if (opts.hasOwnProperty(name) && name !== 'style') {\n      this[name] = opts[name];\n    }\n  }\n  /**\n   * @type {module:zrender/graphic/Style}\n   */\n\n\n  this.style = new Style(opts.style, this);\n  this._rect = null; // Shapes for cascade clipping.\n  // Can only be `null`/`undefined` or an non-empty array, MUST NOT be an empty array.\n  // because it is easy to only using null to check whether clipPaths changed.\n\n  this.__clipPaths = null; // FIXME Stateful must be mixined after style is setted\n  // Stateful.call(this, opts);\n}\n\nDisplayable.prototype = {\n  constructor: Displayable,\n  type: 'displayable',\n\n  /**\n   * Displayable Painter \n   * Dirty flag. From which painter will determine if this displayable object needs brush\n   * @name module:zrender/graphic/Displayable#__dirty\n   * @type {boolean}\n   */\n  __dirty: true,\n\n  /**\n   * true\n   * If ignore drawing of the displayable object. Mouse event will still be triggered\n   * @name module:/zrender/graphic/Displayable#invisible\n   * @type {boolean}\n   * @default false\n   */\n  invisible: false,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z: 0,\n\n  /**\n   * @name module:/zrender/graphic/Displayable#z\n   * @type {number}\n   * @default 0\n   */\n  z2: 0,\n\n  /**\n   * zlevelcanvas\n   * @name module:/zrender/graphic/Displayable#zlevel\n   * @type {number}\n   * @default 0\n   */\n  zlevel: 0,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  draggable: false,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#draggable\n   * @type {boolean}\n   * @default false\n   */\n  dragging: false,\n\n  /**\n   * \n   * @name module:/zrender/graphic/Displayable#silent\n   * @type {boolean}\n   * @default false\n   */\n  silent: false,\n\n  /**\n   * If enable culling\n   * @type {boolean}\n   * @default false\n   */\n  culling: false,\n\n  /**\n   * Mouse cursor when hovered\n   * @name module:/zrender/graphic/Displayable#cursor\n   * @type {string}\n   */\n  cursor: 'pointer',\n\n  /**\n   * If hover area is bounding rect\n   * @name module:/zrender/graphic/Displayable#rectHover\n   * @type {string}\n   */\n  rectHover: false,\n\n  /**\n   * Render the element progressively when the value >= 0,\n   * usefull for large data.\n   * @type {boolean}\n   */\n  progressive: false,\n\n  /**\n   * @type {boolean}\n   */\n  incremental: false,\n\n  /**\n   * Scale ratio for global scale.\n   * @type {boolean}\n   */\n  globalScaleRatio: 1,\n  beforeBrush: function beforeBrush(ctx) {},\n  afterBrush: function afterBrush(ctx) {},\n\n  /**\n   * \n   * @param {CanvasRenderingContext2D} ctx\n   */\n  // Interface\n  brush: function brush(ctx, prevEl) {},\n\n  /**\n   * \n   * @return {module:zrender/core/BoundingRect}\n   */\n  // Interface\n  getBoundingRect: function getBoundingRect() {},\n\n  /**\n   *  x, y \n   * If displayable element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  contain: function contain(x, y) {\n    return this.rectContain(x, y);\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function traverse(cb, context) {\n    cb.call(context, this);\n  },\n\n  /**\n   *  x, y \n   * If bounding rect of element contain coord x, y\n   * @param  {number} x\n   * @param  {number} y\n   * @return {boolean}\n   */\n  rectContain: function rectContain(x, y) {\n    var coord = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    return rect.contain(coord[0], coord[1]);\n  },\n\n  /**\n   * \n   * Mark displayable element dirty and refresh next frame\n   */\n  dirty: function dirty() {\n    this.__dirty = this.__dirtyText = true;\n    this._rect = null;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * \n   * If displayable object binded any event\n   * @return {boolean}\n   */\n  // TODO,  bind \n  // isSilent: function () {\n  //     return !(\n  //         this.hoverable || this.draggable\n  //         || this.onmousemove || this.onmouseover || this.onmouseout\n  //         || this.onmousedown || this.onmouseup || this.onclick\n  //         || this.ondragenter || this.ondragover || this.ondragleave\n  //         || this.ondrop\n  //     );\n  // },\n\n  /**\n   * Alias for animate('style')\n   * @param {boolean} loop\n   */\n  animateStyle: function animateStyle(loop) {\n    return this.animate('style', loop);\n  },\n  attrKV: function attrKV(key, value) {\n    if (key !== 'style') {\n      Element.prototype.attrKV.call(this, key, value);\n    } else {\n      this.style.set(value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setStyle: function setStyle(key, value) {\n    this.style.set(key, value);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * Use given style object\n   * @param  {Object} obj\n   */\n  useStyle: function useStyle(obj) {\n    this.style = new Style(obj, this);\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * The string value of `textPosition` needs to be calculated to a real postion.\n   * For example, `'inside'` is calculated to `[rect.width/2, rect.height/2]`\n   * by default. See `contain/text.js#calculateTextPosition` for more details.\n   * But some coutom shapes like \"pin\", \"flag\" have center that is not exactly\n   * `[width/2, height/2]`. So we provide this hook to customize the calculation\n   * for those shapes. It will be called if the `style.textPosition` is a string.\n   * @param {Obejct} [out] Prepared out object. If not provided, this method should\n   *        be responsible for creating one.\n   * @param {module:zrender/graphic/Style} style\n   * @param {Object} rect {x, y, width, height}\n   * @return {Obejct} out The same as the input out.\n   *         {\n   *             x: number. mandatory.\n   *             y: number. mandatory.\n   *             textAlign: string. optional. use style.textAlign by default.\n   *             textVerticalAlign: string. optional. use style.textVerticalAlign by default.\n   *         }\n   */\n  calculateTextPosition: null\n};\nzrUtil.inherits(Displayable, Element);\nzrUtil.mixin(Displayable, RectText); // zrUtil.mixin(Displayable, Stateful);\n\nvar _default = Displayable;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// TODO Parse shadow style\n// TODO Only shallow path support\n\n\nfunction _default(properties) {\n  // Normalize\n  for (var i = 0; i < properties.length; i++) {\n    if (!properties[i][1]) {\n      properties[i][1] = properties[i][0];\n    }\n  }\n\n  return function (model, excludes, includes) {\n    var style = {};\n\n    for (var i = 0; i < properties.length; i++) {\n      var propName = properties[i][1];\n\n      if (excludes && zrUtil.indexOf(excludes, propName) >= 0 || includes && zrUtil.indexOf(includes, propName) < 0) {\n        continue;\n      }\n\n      var val = model.getShallow(propName);\n\n      if (val != null) {\n        style[properties[i][0]] = val;\n      }\n    }\n\n    return style;\n  };\n}\n\nmodule.exports = _default;","var curve = require(\"./curve\");\n\nvar vec2 = require(\"./vector\");\n\nvar bbox = require(\"./bbox\");\n\nvar BoundingRect = require(\"./BoundingRect\");\n\nvar _config = require(\"../config\");\n\nvar dpr = _config.devicePixelRatio;\n/**\n * Path `buildPath``ctx`, pathpathCommands\n *  isInsidePath boundingRect\n *\n * @module zrender/core/PathProxy\n * @author Yi Shen (http://www.github.com/pissang)\n */\n// TODO getTotalLength, getPointAtLength\n\n/* global Float32Array */\n\nvar CMD = {\n  M: 1,\n  L: 2,\n  C: 3,\n  Q: 4,\n  A: 5,\n  Z: 6,\n  // Rect\n  R: 7\n}; // var CMD_MEM_SIZE = {\n//     M: 3,\n//     L: 3,\n//     C: 7,\n//     Q: 5,\n//     A: 9,\n//     R: 5,\n//     Z: 1\n// };\n\nvar min = [];\nvar max = [];\nvar min2 = [];\nvar max2 = [];\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathCos = Math.cos;\nvar mathSin = Math.sin;\nvar mathSqrt = Math.sqrt;\nvar mathAbs = Math.abs;\nvar hasTypedArray = typeof Float32Array !== 'undefined';\n/**\n * @alias module:zrender/core/PathProxy\n * @constructor\n */\n\nvar PathProxy = function PathProxy(notSaveData) {\n  this._saveData = !(notSaveData || false);\n\n  if (this._saveData) {\n    /**\n     * Path data. Stored as flat array\n     * @type {Array.<Object>}\n     */\n    this.data = [];\n  }\n\n  this._ctx = null;\n};\n/**\n * Path\n * @return {Object}\n */\n\n\nPathProxy.prototype = {\n  constructor: PathProxy,\n  _xi: 0,\n  _yi: 0,\n  _x0: 0,\n  _y0: 0,\n  // Unit x, Unit y. Provide for avoiding drawing that too short line segment\n  _ux: 0,\n  _uy: 0,\n  _len: 0,\n  _lineDash: null,\n  _dashOffset: 0,\n  _dashIdx: 0,\n  _dashSum: 0,\n\n  /**\n   * @readOnly\n   */\n  setScale: function setScale(sx, sy, segmentIgnoreThreshold) {\n    // Compat. Previously there is no segmentIgnoreThreshold.\n    segmentIgnoreThreshold = segmentIgnoreThreshold || 0;\n    this._ux = mathAbs(segmentIgnoreThreshold / dpr / sx) || 0;\n    this._uy = mathAbs(segmentIgnoreThreshold / dpr / sy) || 0;\n  },\n  getContext: function getContext() {\n    return this._ctx;\n  },\n\n  /**\n   * @param  {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  beginPath: function beginPath(ctx) {\n    this._ctx = ctx;\n    ctx && ctx.beginPath();\n    ctx && (this.dpr = ctx.dpr); // Reset\n\n    if (this._saveData) {\n      this._len = 0;\n    }\n\n    if (this._lineDash) {\n      this._lineDash = null;\n      this._dashOffset = 0;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  moveTo: function moveTo(x, y) {\n    this.addData(CMD.M, x, y);\n    this._ctx && this._ctx.moveTo(x, y); // x0, y0, xi, yi  _dashedXXXXTo \n    // xi, yi , x0, y0  closePath \n    //  beginPath  lineTo x0, y0 \n    //  lineTo dashed line  IE10- \n\n    this._x0 = x;\n    this._y0 = y;\n    this._xi = x;\n    this._yi = y;\n    return this;\n  },\n\n  /**\n   * @param  {number} x\n   * @param  {number} y\n   * @return {module:zrender/core/PathProxy}\n   */\n  lineTo: function lineTo(x, y) {\n    var exceedUnit = mathAbs(x - this._xi) > this._ux || mathAbs(y - this._yi) > this._uy // Force draw the first segment\n    || this._len < 5;\n    this.addData(CMD.L, x, y);\n\n    if (this._ctx && exceedUnit) {\n      this._needsDash() ? this._dashedLineTo(x, y) : this._ctx.lineTo(x, y);\n    }\n\n    if (exceedUnit) {\n      this._xi = x;\n      this._yi = y;\n    }\n\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @param  {number} x3\n   * @param  {number} y3\n   * @return {module:zrender/core/PathProxy}\n   */\n  bezierCurveTo: function bezierCurveTo(x1, y1, x2, y2, x3, y3) {\n    this.addData(CMD.C, x1, y1, x2, y2, x3, y3);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedBezierTo(x1, y1, x2, y2, x3, y3) : this._ctx.bezierCurveTo(x1, y1, x2, y2, x3, y3);\n    }\n\n    this._xi = x3;\n    this._yi = y3;\n    return this;\n  },\n\n  /**\n   * @param  {number} x1\n   * @param  {number} y1\n   * @param  {number} x2\n   * @param  {number} y2\n   * @return {module:zrender/core/PathProxy}\n   */\n  quadraticCurveTo: function quadraticCurveTo(x1, y1, x2, y2) {\n    this.addData(CMD.Q, x1, y1, x2, y2);\n\n    if (this._ctx) {\n      this._needsDash() ? this._dashedQuadraticTo(x1, y1, x2, y2) : this._ctx.quadraticCurveTo(x1, y1, x2, y2);\n    }\n\n    this._xi = x2;\n    this._yi = y2;\n    return this;\n  },\n\n  /**\n   * @param  {number} cx\n   * @param  {number} cy\n   * @param  {number} r\n   * @param  {number} startAngle\n   * @param  {number} endAngle\n   * @param  {boolean} anticlockwise\n   * @return {module:zrender/core/PathProxy}\n   */\n  arc: function arc(cx, cy, r, startAngle, endAngle, anticlockwise) {\n    this.addData(CMD.A, cx, cy, r, r, startAngle, endAngle - startAngle, 0, anticlockwise ? 0 : 1);\n    this._ctx && this._ctx.arc(cx, cy, r, startAngle, endAngle, anticlockwise);\n    this._xi = mathCos(endAngle) * r + cx;\n    this._yi = mathSin(endAngle) * r + cy;\n    return this;\n  },\n  // TODO\n  arcTo: function arcTo(x1, y1, x2, y2, radius) {\n    if (this._ctx) {\n      this._ctx.arcTo(x1, y1, x2, y2, radius);\n    }\n\n    return this;\n  },\n  // TODO\n  rect: function rect(x, y, w, h) {\n    this._ctx && this._ctx.rect(x, y, w, h);\n    this.addData(CMD.R, x, y, w, h);\n    return this;\n  },\n\n  /**\n   * @return {module:zrender/core/PathProxy}\n   */\n  closePath: function closePath() {\n    this.addData(CMD.Z);\n    var ctx = this._ctx;\n    var x0 = this._x0;\n    var y0 = this._y0;\n\n    if (ctx) {\n      this._needsDash() && this._dashedLineTo(x0, y0);\n      ctx.closePath();\n    }\n\n    this._xi = x0;\n    this._yi = y0;\n    return this;\n  },\n\n  /**\n   * Context  rebuildPath  fill\n   * stroke \n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  fill: function fill(ctx) {\n    ctx && ctx.fill();\n    this.toStatic();\n  },\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   * @return {module:zrender/core/PathProxy}\n   */\n  stroke: function stroke(ctx) {\n    ctx && ctx.stroke();\n    this.toStatic();\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDash: function setLineDash(lineDash) {\n    if (lineDash instanceof Array) {\n      this._lineDash = lineDash;\n      this._dashIdx = 0;\n      var lineDashSum = 0;\n\n      for (var i = 0; i < lineDash.length; i++) {\n        lineDashSum += lineDash[i];\n      }\n\n      this._dashSum = lineDashSum;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * Must be invoked before all other path drawing methods\n   * @return {module:zrender/core/PathProxy}\n   */\n  setLineDashOffset: function setLineDashOffset(offset) {\n    this._dashOffset = offset;\n    return this;\n  },\n\n  /**\n   *\n   * @return {boolean}\n   */\n  len: function len() {\n    return this._len;\n  },\n\n  /**\n   *  Path \n   */\n  setData: function setData(data) {\n    var len = data.length;\n\n    if (!(this.data && this.data.length === len) && hasTypedArray) {\n      this.data = new Float32Array(len);\n    }\n\n    for (var i = 0; i < len; i++) {\n      this.data[i] = data[i];\n    }\n\n    this._len = len;\n  },\n\n  /**\n   * \n   * @param {module:zrender/core/PathProxy|Array.<module:zrender/core/PathProxy>} path\n   */\n  appendPath: function appendPath(path) {\n    if (!(path instanceof Array)) {\n      path = [path];\n    }\n\n    var len = path.length;\n    var appendSize = 0;\n    var offset = this._len;\n\n    for (var i = 0; i < len; i++) {\n      appendSize += path[i].len();\n    }\n\n    if (hasTypedArray && this.data instanceof Float32Array) {\n      this.data = new Float32Array(offset + appendSize);\n    }\n\n    for (var i = 0; i < len; i++) {\n      var appendPathData = path[i].data;\n\n      for (var k = 0; k < appendPathData.length; k++) {\n        this.data[offset++] = appendPathData[k];\n      }\n    }\n\n    this._len = offset;\n  },\n\n  /**\n   *  Path \n   * \n   */\n  addData: function addData(cmd) {\n    if (!this._saveData) {\n      return;\n    }\n\n    var data = this.data;\n\n    if (this._len + arguments.length > data.length) {\n      //  Float32Array\n      // \n      this._expandData();\n\n      data = this.data;\n    }\n\n    for (var i = 0; i < arguments.length; i++) {\n      data[this._len++] = arguments[i];\n    }\n\n    this._prevCmd = cmd;\n  },\n  _expandData: function _expandData() {\n    // Only if data is Float32Array\n    if (!(this.data instanceof Array)) {\n      var newData = [];\n\n      for (var i = 0; i < this._len; i++) {\n        newData[i] = this.data[i];\n      }\n\n      this.data = newData;\n    }\n  },\n\n  /**\n   * If needs js implemented dashed line\n   * @return {boolean}\n   * @private\n   */\n  _needsDash: function _needsDash() {\n    return this._lineDash;\n  },\n  _dashedLineTo: function _dashedLineTo(x1, y1) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var dx = x1 - x0;\n    var dy = y1 - y0;\n    var dist = mathSqrt(dx * dx + dy * dy);\n    var x = x0;\n    var y = y0;\n    var dash;\n    var nDash = lineDash.length;\n    var idx;\n    dx /= dist;\n    dy /= dist;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum;\n    x -= offset * dx;\n    y -= offset * dy;\n\n    while (dx > 0 && x <= x1 || dx < 0 && x >= x1 || dx === 0 && (dy > 0 && y <= y1 || dy < 0 && y >= y1)) {\n      idx = this._dashIdx;\n      dash = lineDash[idx];\n      x += dx * dash;\n      y += dy * dash;\n      this._dashIdx = (idx + 1) % nDash; // Skip positive offset\n\n      if (dx > 0 && x < x0 || dx < 0 && x > x0 || dy > 0 && y < y0 || dy < 0 && y > y0) {\n        continue;\n      }\n\n      ctx[idx % 2 ? 'moveTo' : 'lineTo'](dx >= 0 ? mathMin(x, x1) : mathMax(x, x1), dy >= 0 ? mathMin(y, y1) : mathMax(y, y1));\n    } // Offset for next lineTo\n\n\n    dx = x - x1;\n    dy = y - y1;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  // Not accurate dashed line to\n  _dashedBezierTo: function _dashedBezierTo(x1, y1, x2, y2, x3, y3) {\n    var dashSum = this._dashSum;\n    var offset = this._dashOffset;\n    var lineDash = this._lineDash;\n    var ctx = this._ctx;\n    var x0 = this._xi;\n    var y0 = this._yi;\n    var t;\n    var dx;\n    var dy;\n    var cubicAt = curve.cubicAt;\n    var bezierLen = 0;\n    var idx = this._dashIdx;\n    var nDash = lineDash.length;\n    var x;\n    var y;\n    var tmpLen = 0;\n\n    if (offset < 0) {\n      // Convert to positive offset\n      offset = dashSum + offset;\n    }\n\n    offset %= dashSum; // Bezier approx length\n\n    for (t = 0; t < 1; t += 0.1) {\n      dx = cubicAt(x0, x1, x2, x3, t + 0.1) - cubicAt(x0, x1, x2, x3, t);\n      dy = cubicAt(y0, y1, y2, y3, t + 0.1) - cubicAt(y0, y1, y2, y3, t);\n      bezierLen += mathSqrt(dx * dx + dy * dy);\n    } // Find idx after add offset\n\n\n    for (; idx < nDash; idx++) {\n      tmpLen += lineDash[idx];\n\n      if (tmpLen > offset) {\n        break;\n      }\n    }\n\n    t = (tmpLen - offset) / bezierLen;\n\n    while (t <= 1) {\n      x = cubicAt(x0, x1, x2, x3, t);\n      y = cubicAt(y0, y1, y2, y3, t); // Use line to approximate dashed bezier\n      // Bad result if dash is long\n\n      idx % 2 ? ctx.moveTo(x, y) : ctx.lineTo(x, y);\n      t += lineDash[idx] / bezierLen;\n      idx = (idx + 1) % nDash;\n    } // Finish the last segment and calculate the new offset\n\n\n    idx % 2 !== 0 && ctx.lineTo(x3, y3);\n    dx = x3 - x;\n    dy = y3 - y;\n    this._dashOffset = -mathSqrt(dx * dx + dy * dy);\n  },\n  _dashedQuadraticTo: function _dashedQuadraticTo(x1, y1, x2, y2) {\n    // Convert quadratic to cubic using degree elevation\n    var x3 = x2;\n    var y3 = y2;\n    x2 = (x2 + 2 * x1) / 3;\n    y2 = (y2 + 2 * y1) / 3;\n    x1 = (this._xi + 2 * x1) / 3;\n    y1 = (this._yi + 2 * y1) / 3;\n\n    this._dashedBezierTo(x1, y1, x2, y2, x3, y3);\n  },\n\n  /**\n   *  Float32Array \n   * Convert dynamic array to static Float32Array\n   */\n  toStatic: function toStatic() {\n    var data = this.data;\n\n    if (data instanceof Array) {\n      data.length = this._len;\n\n      if (hasTypedArray) {\n        this.data = new Float32Array(data);\n      }\n    }\n  },\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function getBoundingRect() {\n    min[0] = min[1] = min2[0] = min2[1] = Number.MAX_VALUE;\n    max[0] = max[1] = max2[0] = max2[1] = -Number.MAX_VALUE;\n    var data = this.data;\n    var xi = 0;\n    var yi = 0;\n    var x0 = 0;\n    var y0 = 0;\n\n    for (var i = 0; i < data.length;) {\n      var cmd = data[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = data[i];\n        yi = data[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          // moveTo  subpath, \n          //  closePath \n          x0 = data[i++];\n          y0 = data[i++];\n          xi = x0;\n          yi = y0;\n          min2[0] = x0;\n          min2[1] = y0;\n          max2[0] = x0;\n          max2[1] = y0;\n          break;\n\n        case CMD.L:\n          bbox.fromLine(xi, yi, data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.C:\n          bbox.fromCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.Q:\n          bbox.fromQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], min2, max2);\n          xi = data[i++];\n          yi = data[i++];\n          break;\n\n        case CMD.A:\n          // TODO Arc \n          var cx = data[i++];\n          var cy = data[i++];\n          var rx = data[i++];\n          var ry = data[i++];\n          var startAngle = data[i++];\n          var endAngle = data[i++] + startAngle; // TODO Arc \n\n          i += 1;\n          var anticlockwise = 1 - data[i++];\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(startAngle) * rx + cx;\n            y0 = mathSin(startAngle) * ry + cy;\n          }\n\n          bbox.fromArc(cx, cy, rx, ry, startAngle, endAngle, anticlockwise, min2, max2);\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = data[i++];\n          y0 = yi = data[i++];\n          var width = data[i++];\n          var height = data[i++]; // Use fromLine\n\n          bbox.fromLine(x0, y0, x0 + width, y0 + height, min2, max2);\n          break;\n\n        case CMD.Z:\n          xi = x0;\n          yi = y0;\n          break;\n      } // Union\n\n\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * Rebuild path from current data\n   * Rebuild path will not consider javascript implemented line dash.\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  rebuildPath: function rebuildPath(ctx) {\n    var d = this.data;\n    var x0;\n    var y0;\n    var xi;\n    var yi;\n    var x;\n    var y;\n    var ux = this._ux;\n    var uy = this._uy;\n    var len = this._len;\n\n    for (var i = 0; i < len;) {\n      var cmd = d[i++];\n\n      if (i === 1) {\n        //  L, C, Q\n        //  previous point  point\n        //\n        //  Arc \n        xi = d[i];\n        yi = d[i + 1];\n        x0 = xi;\n        y0 = yi;\n      }\n\n      switch (cmd) {\n        case CMD.M:\n          x0 = xi = d[i++];\n          y0 = yi = d[i++];\n          ctx.moveTo(xi, yi);\n          break;\n\n        case CMD.L:\n          x = d[i++];\n          y = d[i++]; // Not draw too small seg between\n\n          if (mathAbs(x - xi) > ux || mathAbs(y - yi) > uy || i === len - 1) {\n            ctx.lineTo(x, y);\n            xi = x;\n            yi = y;\n          }\n\n          break;\n\n        case CMD.C:\n          ctx.bezierCurveTo(d[i++], d[i++], d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.Q:\n          ctx.quadraticCurveTo(d[i++], d[i++], d[i++], d[i++]);\n          xi = d[i - 2];\n          yi = d[i - 1];\n          break;\n\n        case CMD.A:\n          var cx = d[i++];\n          var cy = d[i++];\n          var rx = d[i++];\n          var ry = d[i++];\n          var theta = d[i++];\n          var dTheta = d[i++];\n          var psi = d[i++];\n          var fs = d[i++];\n          var r = rx > ry ? rx : ry;\n          var scaleX = rx > ry ? 1 : rx / ry;\n          var scaleY = rx > ry ? ry / rx : 1;\n          var isEllipse = Math.abs(rx - ry) > 1e-3;\n          var endAngle = theta + dTheta;\n\n          if (isEllipse) {\n            ctx.translate(cx, cy);\n            ctx.rotate(psi);\n            ctx.scale(scaleX, scaleY);\n            ctx.arc(0, 0, r, theta, endAngle, 1 - fs);\n            ctx.scale(1 / scaleX, 1 / scaleY);\n            ctx.rotate(-psi);\n            ctx.translate(-cx, -cy);\n          } else {\n            ctx.arc(cx, cy, r, theta, endAngle, 1 - fs);\n          }\n\n          if (i === 1) {\n            //  arc \n            // \n            x0 = mathCos(theta) * rx + cx;\n            y0 = mathSin(theta) * ry + cy;\n          }\n\n          xi = mathCos(endAngle) * rx + cx;\n          yi = mathSin(endAngle) * ry + cy;\n          break;\n\n        case CMD.R:\n          x0 = xi = d[i];\n          y0 = yi = d[i + 1];\n          ctx.rect(d[i++], d[i++], d[i++], d[i++]);\n          break;\n\n        case CMD.Z:\n          ctx.closePath();\n          xi = x0;\n          yi = y0;\n      }\n    }\n  }\n};\nPathProxy.CMD = CMD;\nvar _default = PathProxy;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _clazz = require(\"./clazz\");\n\nvar parseClassType = _clazz.parseClassType;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar base = 0;\n/**\n * @public\n * @param {string} type\n * @return {string}\n */\n\nfunction getUID(type) {\n  // Considering the case of crossing js context,\n  // use Math.random to make id as unique as possible.\n  return [type || '', base++, Math.random().toFixed(5)].join('_');\n}\n/**\n * @inner\n */\n\n\nfunction enableSubTypeDefaulter(entity) {\n  var subTypeDefaulters = {};\n\n  entity.registerSubTypeDefaulter = function (componentType, defaulter) {\n    componentType = parseClassType(componentType);\n    subTypeDefaulters[componentType.main] = defaulter;\n  };\n\n  entity.determineSubType = function (componentType, option) {\n    var type = option.type;\n\n    if (!type) {\n      var componentTypeMain = parseClassType(componentType).main;\n\n      if (entity.hasSubTypes(componentType) && subTypeDefaulters[componentTypeMain]) {\n        type = subTypeDefaulters[componentTypeMain](option);\n      }\n    }\n\n    return type;\n  };\n\n  return entity;\n}\n/**\n * Topological travel on Activity Network (Activity On Vertices).\n * Dependencies is defined in Model.prototype.dependencies, like ['xAxis', 'yAxis'].\n *\n * If 'xAxis' or 'yAxis' is absent in componentTypeList, just ignore it in topology.\n *\n * If there is circle dependencey, Error will be thrown.\n *\n */\n\n\nfunction enableTopologicalTravel(entity, dependencyGetter) {\n  /**\n   * @public\n   * @param {Array.<string>} targetNameList Target Component type list.\n   *                                           Can be ['aa', 'bb', 'aa.xx']\n   * @param {Array.<string>} fullNameList By which we can build dependency graph.\n   * @param {Function} callback Params: componentType, dependencies.\n   * @param {Object} context Scope of callback.\n   */\n  entity.topologicalTravel = function (targetNameList, fullNameList, callback, context) {\n    if (!targetNameList.length) {\n      return;\n    }\n\n    var result = makeDepndencyGraph(fullNameList);\n    var graph = result.graph;\n    var stack = result.noEntryList;\n    var targetNameSet = {};\n    zrUtil.each(targetNameList, function (name) {\n      targetNameSet[name] = true;\n    });\n\n    while (stack.length) {\n      var currComponentType = stack.pop();\n      var currVertex = graph[currComponentType];\n      var isInTargetNameSet = !!targetNameSet[currComponentType];\n\n      if (isInTargetNameSet) {\n        callback.call(context, currComponentType, currVertex.originalDeps.slice());\n        delete targetNameSet[currComponentType];\n      }\n\n      zrUtil.each(currVertex.successor, isInTargetNameSet ? removeEdgeAndAdd : removeEdge);\n    }\n\n    zrUtil.each(targetNameSet, function () {\n      throw new Error('Circle dependency may exists');\n    });\n\n    function removeEdge(succComponentType) {\n      graph[succComponentType].entryCount--;\n\n      if (graph[succComponentType].entryCount === 0) {\n        stack.push(succComponentType);\n      }\n    } // Consider this case: legend depends on series, and we call\n    // chart.setOption({series: [...]}), where only series is in option.\n    // If we do not have 'removeEdgeAndAdd', legendModel.mergeOption will\n    // not be called, but only sereis.mergeOption is called. Thus legend\n    // have no chance to update its local record about series (like which\n    // name of series is available in legend).\n\n\n    function removeEdgeAndAdd(succComponentType) {\n      targetNameSet[succComponentType] = true;\n      removeEdge(succComponentType);\n    }\n  };\n  /**\n   * DepndencyGraph: {Object}\n   * key: conponentType,\n   * value: {\n   *     successor: [conponentTypes...],\n   *     originalDeps: [conponentTypes...],\n   *     entryCount: {number}\n   * }\n   */\n\n\n  function makeDepndencyGraph(fullNameList) {\n    var graph = {};\n    var noEntryList = [];\n    zrUtil.each(fullNameList, function (name) {\n      var thisItem = createDependencyGraphItem(graph, name);\n      var originalDeps = thisItem.originalDeps = dependencyGetter(name);\n      var availableDeps = getAvailableDependencies(originalDeps, fullNameList);\n      thisItem.entryCount = availableDeps.length;\n\n      if (thisItem.entryCount === 0) {\n        noEntryList.push(name);\n      }\n\n      zrUtil.each(availableDeps, function (dependentName) {\n        if (zrUtil.indexOf(thisItem.predecessor, dependentName) < 0) {\n          thisItem.predecessor.push(dependentName);\n        }\n\n        var thatItem = createDependencyGraphItem(graph, dependentName);\n\n        if (zrUtil.indexOf(thatItem.successor, dependentName) < 0) {\n          thatItem.successor.push(name);\n        }\n      });\n    });\n    return {\n      graph: graph,\n      noEntryList: noEntryList\n    };\n  }\n\n  function createDependencyGraphItem(graph, name) {\n    if (!graph[name]) {\n      graph[name] = {\n        predecessor: [],\n        successor: []\n      };\n    }\n\n    return graph[name];\n  }\n\n  function getAvailableDependencies(originalDeps, fullNameList) {\n    var availableDeps = [];\n    zrUtil.each(originalDeps, function (dep) {\n      zrUtil.indexOf(fullNameList, dep) >= 0 && availableDeps.push(dep);\n    });\n    return availableDeps;\n  }\n}\n\nexports.getUID = getUID;\nexports.enableSubTypeDefaulter = enableSubTypeDefaulter;\nexports.enableTopologicalTravel = enableTopologicalTravel;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\nvar getDataItemValue = _model.getDataItemValue;\n\nvar _referHelper = require(\"../../model/referHelper\");\n\nvar getCoordSysDefineBySeries = _referHelper.getCoordSysDefineBySeries;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\nvar map = _util.map;\nvar isArray = _util.isArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\nvar isTypedArray = _util.isTypedArray;\nvar isArrayLike = _util.isArrayLike;\nvar extend = _util.extend;\nvar assert = _util.assert;\n\nvar Source = require(\"../Source\");\n\nvar _sourceType = require(\"./sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\nvar SOURCE_FORMAT_ARRAY_ROWS = _sourceType.SOURCE_FORMAT_ARRAY_ROWS;\nvar SOURCE_FORMAT_OBJECT_ROWS = _sourceType.SOURCE_FORMAT_OBJECT_ROWS;\nvar SOURCE_FORMAT_KEYED_COLUMNS = _sourceType.SOURCE_FORMAT_KEYED_COLUMNS;\nvar SOURCE_FORMAT_UNKNOWN = _sourceType.SOURCE_FORMAT_UNKNOWN;\nvar SOURCE_FORMAT_TYPED_ARRAY = _sourceType.SOURCE_FORMAT_TYPED_ARRAY;\nvar SERIES_LAYOUT_BY_ROW = _sourceType.SERIES_LAYOUT_BY_ROW;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar inner = makeInner();\n/**\n * @see {module:echarts/data/Source}\n * @param {module:echarts/component/dataset/DatasetModel} datasetModel\n * @return {string} sourceFormat\n */\n\nfunction detectSourceFormat(datasetModel) {\n  var data = datasetModel.option.source;\n  var sourceFormat = SOURCE_FORMAT_UNKNOWN;\n\n  if (isTypedArray(data)) {\n    sourceFormat = SOURCE_FORMAT_TYPED_ARRAY;\n  } else if (isArray(data)) {\n    // FIXME Whether tolerate null in top level array?\n    if (data.length === 0) {\n      sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n    }\n\n    for (var i = 0, len = data.length; i < len; i++) {\n      var item = data[i];\n\n      if (item == null) {\n        continue;\n      } else if (isArray(item)) {\n        sourceFormat = SOURCE_FORMAT_ARRAY_ROWS;\n        break;\n      } else if (isObject(item)) {\n        sourceFormat = SOURCE_FORMAT_OBJECT_ROWS;\n        break;\n      }\n    }\n  } else if (isObject(data)) {\n    for (var key in data) {\n      if (data.hasOwnProperty(key) && isArrayLike(data[key])) {\n        sourceFormat = SOURCE_FORMAT_KEYED_COLUMNS;\n        break;\n      }\n    }\n  } else if (data != null) {\n    throw new Error('Invalid data');\n  }\n\n  inner(datasetModel).sourceFormat = sourceFormat;\n}\n/**\n * [Scenarios]:\n * (1) Provide source data directly:\n *     series: {\n *         encode: {...},\n *         dimensions: [...]\n *         seriesLayoutBy: 'row',\n *         data: [[...]]\n *     }\n * (2) Refer to datasetModel.\n *     series: [{\n *         encode: {...}\n *         // Ignore datasetIndex means `datasetIndex: 0`\n *         // and the dimensions defination in dataset is used\n *     }, {\n *         encode: {...},\n *         seriesLayoutBy: 'column',\n *         datasetIndex: 1\n *     }]\n *\n * Get data from series itself or datset.\n * @return {module:echarts/data/Source} source\n */\n\n\nfunction getSource(seriesModel) {\n  return inner(seriesModel).source;\n}\n/**\n * MUST be called before mergeOption of all series.\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction resetSourceDefaulter(ecModel) {\n  // `datasetMap` is used to make default encode.\n  inner(ecModel).datasetMap = createHashMap();\n}\n/**\n * [Caution]:\n * MUST be called after series option merged and\n * before \"series.getInitailData()\" called.\n *\n * [The rule of making default encode]:\n * Category axis (if exists) alway map to the first dimension.\n * Each other axis occupies a subsequent dimension.\n *\n * [Why make default encode]:\n * Simplify the typing of encode in option, avoiding the case like that:\n * series: [{encode: {x: 0, y: 1}}, {encode: {x: 0, y: 2}}, {encode: {x: 0, y: 3}}],\n * where the \"y\" have to be manually typed as \"1, 2, 3, ...\".\n *\n * @param {module:echarts/model/Series} seriesModel\n */\n\n\nfunction prepareSource(seriesModel) {\n  var seriesOption = seriesModel.option;\n  var data = seriesOption.data;\n  var sourceFormat = isTypedArray(data) ? SOURCE_FORMAT_TYPED_ARRAY : SOURCE_FORMAT_ORIGINAL;\n  var fromDataset = false;\n  var seriesLayoutBy = seriesOption.seriesLayoutBy;\n  var sourceHeader = seriesOption.sourceHeader;\n  var dimensionsDefine = seriesOption.dimensions;\n  var datasetModel = getDatasetModel(seriesModel);\n\n  if (datasetModel) {\n    var datasetOption = datasetModel.option;\n    data = datasetOption.source;\n    sourceFormat = inner(datasetModel).sourceFormat;\n    fromDataset = true; // These settings from series has higher priority.\n\n    seriesLayoutBy = seriesLayoutBy || datasetOption.seriesLayoutBy;\n    sourceHeader == null && (sourceHeader = datasetOption.sourceHeader);\n    dimensionsDefine = dimensionsDefine || datasetOption.dimensions;\n  }\n\n  var completeResult = completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine); // Note: dataset option does not have `encode`.\n\n  var encodeDefine = seriesOption.encode;\n\n  if (!encodeDefine && datasetModel) {\n    encodeDefine = makeDefaultEncode(seriesModel, datasetModel, data, sourceFormat, seriesLayoutBy, completeResult);\n  }\n\n  inner(seriesModel).source = new Source({\n    data: data,\n    fromDataset: fromDataset,\n    seriesLayoutBy: seriesLayoutBy,\n    sourceFormat: sourceFormat,\n    dimensionsDefine: completeResult.dimensionsDefine,\n    startIndex: completeResult.startIndex,\n    dimensionsDetectCount: completeResult.dimensionsDetectCount,\n    encodeDefine: encodeDefine\n  });\n} // return {startIndex, dimensionsDefine, dimensionsCount}\n\n\nfunction completeBySourceData(data, sourceFormat, seriesLayoutBy, sourceHeader, dimensionsDefine) {\n  if (!data) {\n    return {\n      dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine)\n    };\n  }\n\n  var dimensionsDetectCount;\n  var startIndex;\n  var findPotentialName;\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    // Rule: Most of the first line are string: it is header.\n    // Caution: consider a line with 5 string and 1 number,\n    // it still can not be sure it is a head, because the\n    // 5 string may be 5 values of category columns.\n    if (sourceHeader === 'auto' || sourceHeader == null) {\n      arrayRowsTravelFirst(function (val) {\n        // '-' is regarded as null/undefined.\n        if (val != null && val !== '-') {\n          if (isString(val)) {\n            startIndex == null && (startIndex = 1);\n          } else {\n            startIndex = 0;\n          }\n        } // 10 is an experience number, avoid long loop.\n\n      }, seriesLayoutBy, data, 10);\n    } else {\n      startIndex = sourceHeader ? 1 : 0;\n    }\n\n    if (!dimensionsDefine && startIndex === 1) {\n      dimensionsDefine = [];\n      arrayRowsTravelFirst(function (val, index) {\n        dimensionsDefine[index] = val != null ? val : '';\n      }, seriesLayoutBy, data);\n    }\n\n    dimensionsDetectCount = dimensionsDefine ? dimensionsDefine.length : seriesLayoutBy === SERIES_LAYOUT_BY_ROW ? data.length : data[0] ? data[0].length : null;\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = objectRowsCollectDimensions(data);\n      findPotentialName = true;\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimensionsDefine) {\n      dimensionsDefine = [];\n      findPotentialName = true;\n      each(data, function (colArr, key) {\n        dimensionsDefine.push(key);\n      });\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var value0 = getDataItemValue(data[0]);\n    dimensionsDetectCount = isArray(value0) && value0.length || 1;\n  } else if (sourceFormat === SOURCE_FORMAT_TYPED_ARRAY) {}\n\n  var potentialNameDimIndex;\n\n  if (findPotentialName) {\n    each(dimensionsDefine, function (dim, idx) {\n      if ((isObject(dim) ? dim.name : dim) === 'name') {\n        potentialNameDimIndex = idx;\n      }\n    });\n  }\n\n  return {\n    startIndex: startIndex,\n    dimensionsDefine: normalizeDimensionsDefine(dimensionsDefine),\n    dimensionsDetectCount: dimensionsDetectCount,\n    potentialNameDimIndex: potentialNameDimIndex // TODO: potentialIdDimIdx\n\n  };\n} // Consider dimensions defined like ['A', 'price', 'B', 'price', 'C', 'price'],\n// which is reasonable. But dimension name is duplicated.\n// Returns undefined or an array contains only object without null/undefiend or string.\n\n\nfunction normalizeDimensionsDefine(dimensionsDefine) {\n  if (!dimensionsDefine) {\n    // The meaning of null/undefined is different from empty array.\n    return;\n  }\n\n  var nameMap = createHashMap();\n  return map(dimensionsDefine, function (item, index) {\n    item = extend({}, isObject(item) ? item : {\n      name: item\n    }); // User can set null in dimensions.\n    // We dont auto specify name, othewise a given name may\n    // cause it be refered unexpectedly.\n\n    if (item.name == null) {\n      return item;\n    } // Also consider number form like 2012.\n\n\n    item.name += ''; // User may also specify displayName.\n    // displayName will always exists except user not\n    // specified or dim name is not specified or detected.\n    // (A auto generated dim name will not be used as\n    // displayName).\n\n    if (item.displayName == null) {\n      item.displayName = item.name;\n    }\n\n    var exist = nameMap.get(item.name);\n\n    if (!exist) {\n      nameMap.set(item.name, {\n        count: 1\n      });\n    } else {\n      item.name += '-' + exist.count++;\n    }\n\n    return item;\n  });\n}\n\nfunction arrayRowsTravelFirst(cb, seriesLayoutBy, data, maxLoop) {\n  maxLoop == null && (maxLoop = Infinity);\n\n  if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      cb(data[i] ? data[i][0] : null, i);\n    }\n  } else {\n    var value0 = data[0] || [];\n\n    for (var i = 0; i < value0.length && i < maxLoop; i++) {\n      cb(value0[i], i);\n    }\n  }\n}\n\nfunction objectRowsCollectDimensions(data) {\n  var firstIndex = 0;\n  var obj;\n\n  while (firstIndex < data.length && !(obj = data[firstIndex++])) {} // jshint ignore: line\n\n\n  if (obj) {\n    var dimensions = [];\n    each(obj, function (value, key) {\n      dimensions.push(key);\n    });\n    return dimensions;\n  }\n} // ??? TODO merge to completedimensions, where also has\n// default encode making logic. And the default rule\n// should depends on series? consider 'map'.\n\n\nfunction makeDefaultEncode(seriesModel, datasetModel, data, sourceFormat, seriesLayoutBy, completeResult) {\n  var coordSysDefine = getCoordSysDefineBySeries(seriesModel);\n  var encode = {}; // var encodeTooltip = [];\n  // var encodeLabel = [];\n\n  var encodeItemName = [];\n  var encodeSeriesName = [];\n  var seriesType = seriesModel.subType; // ??? TODO refactor: provide by series itself.\n  // Consider the case: 'map' series is based on geo coordSys,\n  // 'graph', 'heatmap' can be based on cartesian. But can not\n  // give default rule simply here.\n\n  var nSeriesMap = createHashMap(['pie', 'map', 'funnel']);\n  var cSeriesMap = createHashMap(['line', 'bar', 'pictorialBar', 'scatter', 'effectScatter', 'candlestick', 'boxplot']); // Usually in this case series will use the first data\n  // dimension as the \"value\" dimension, or other default\n  // processes respectively.\n\n  if (coordSysDefine && cSeriesMap.get(seriesType) != null) {\n    var ecModel = seriesModel.ecModel;\n    var datasetMap = inner(ecModel).datasetMap;\n    var key = datasetModel.uid + '_' + seriesLayoutBy;\n    var datasetRecord = datasetMap.get(key) || datasetMap.set(key, {\n      categoryWayDim: 1,\n      valueWayDim: 0\n    }); // TODO\n    // Auto detect first time axis and do arrangement.\n\n    each(coordSysDefine.coordSysDims, function (coordDim) {\n      // In value way.\n      if (coordSysDefine.firstCategoryDimIndex == null) {\n        var dataDim = datasetRecord.valueWayDim++;\n        encode[coordDim] = dataDim; // ??? TODO give a better default series name rule?\n        // especially when encode x y specified.\n        // consider: when mutiple series share one dimension\n        // category axis, series name should better use\n        // the other dimsion name. On the other hand, use\n        // both dimensions name.\n\n        encodeSeriesName.push(dataDim); // encodeTooltip.push(dataDim);\n        // encodeLabel.push(dataDim);\n      } // In category way, category axis.\n      else if (coordSysDefine.categoryAxisMap.get(coordDim)) {\n          encode[coordDim] = 0;\n          encodeItemName.push(0);\n        } // In category way, non-category axis.\n        else {\n            var dataDim = datasetRecord.categoryWayDim++;\n            encode[coordDim] = dataDim; // encodeTooltip.push(dataDim);\n            // encodeLabel.push(dataDim);\n\n            encodeSeriesName.push(dataDim);\n          }\n    });\n  } // Do not make a complex rule! Hard to code maintain and not necessary.\n  // ??? TODO refactor: provide by series itself.\n  // [{name: ..., value: ...}, ...] like:\n  else if (nSeriesMap.get(seriesType) != null) {\n      // Find the first not ordinal. (5 is an experience value)\n      var firstNotOrdinal;\n\n      for (var i = 0; i < 5 && firstNotOrdinal == null; i++) {\n        if (!doGuessOrdinal(data, sourceFormat, seriesLayoutBy, completeResult.dimensionsDefine, completeResult.startIndex, i)) {\n          firstNotOrdinal = i;\n        }\n      }\n\n      if (firstNotOrdinal != null) {\n        encode.value = firstNotOrdinal;\n        var nameDimIndex = completeResult.potentialNameDimIndex || Math.max(firstNotOrdinal - 1, 0); // By default, label use itemName in charts.\n        // So we dont set encodeLabel here.\n\n        encodeSeriesName.push(nameDimIndex);\n        encodeItemName.push(nameDimIndex); // encodeTooltip.push(firstNotOrdinal);\n      }\n    } // encodeTooltip.length && (encode.tooltip = encodeTooltip);\n  // encodeLabel.length && (encode.label = encodeLabel);\n\n\n  encodeItemName.length && (encode.itemName = encodeItemName);\n  encodeSeriesName.length && (encode.seriesName = encodeSeriesName);\n  return encode;\n}\n/**\n * If return null/undefined, indicate that should not use datasetModel.\n */\n\n\nfunction getDatasetModel(seriesModel) {\n  var option = seriesModel.option; // Caution: consider the scenario:\n  // A dataset is declared and a series is not expected to use the dataset,\n  // and at the beginning `setOption({series: { noData })` (just prepare other\n  // option but no data), then `setOption({series: {data: [...]}); In this case,\n  // the user should set an empty array to avoid that dataset is used by default.\n\n  var thisData = option.data;\n\n  if (!thisData) {\n    return seriesModel.ecModel.getComponent('dataset', option.datasetIndex || 0);\n  }\n}\n/**\n * The rule should not be complex, otherwise user might not\n * be able to known where the data is wrong.\n * The code is ugly, but how to make it neat?\n *\n * @param {module:echars/data/Source} source\n * @param {number} dimIndex\n * @return {boolean} Whether ordinal.\n */\n\n\nfunction guessOrdinal(source, dimIndex) {\n  return doGuessOrdinal(source.data, source.sourceFormat, source.seriesLayoutBy, source.dimensionsDefine, source.startIndex, dimIndex);\n} // dimIndex may be overflow source data.\n\n\nfunction doGuessOrdinal(data, sourceFormat, seriesLayoutBy, dimensionsDefine, startIndex, dimIndex) {\n  var result; // Experience value.\n\n  var maxLoop = 5;\n\n  if (isTypedArray(data)) {\n    return false;\n  } // When sourceType is 'objectRows' or 'keyedColumns', dimensionsDefine\n  // always exists in source.\n\n\n  var dimName;\n\n  if (dimensionsDefine) {\n    dimName = dimensionsDefine[dimIndex];\n    dimName = isObject(dimName) ? dimName.name : dimName;\n  }\n\n  if (sourceFormat === SOURCE_FORMAT_ARRAY_ROWS) {\n    if (seriesLayoutBy === SERIES_LAYOUT_BY_ROW) {\n      var sample = data[dimIndex];\n\n      for (var i = 0; i < (sample || []).length && i < maxLoop; i++) {\n        if ((result = detectValue(sample[startIndex + i])) != null) {\n          return result;\n        }\n      }\n    } else {\n      for (var i = 0; i < data.length && i < maxLoop; i++) {\n        var row = data[startIndex + i];\n\n        if (row && (result = detectValue(row[dimIndex])) != null) {\n          return result;\n        }\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_OBJECT_ROWS) {\n    if (!dimName) {\n      return;\n    }\n\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      var item = data[i];\n\n      if (item && (result = detectValue(item[dimName])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_KEYED_COLUMNS) {\n    if (!dimName) {\n      return;\n    }\n\n    var sample = data[dimName];\n\n    if (!sample || isTypedArray(sample)) {\n      return false;\n    }\n\n    for (var i = 0; i < sample.length && i < maxLoop; i++) {\n      if ((result = detectValue(sample[i])) != null) {\n        return result;\n      }\n    }\n  } else if (sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    for (var i = 0; i < data.length && i < maxLoop; i++) {\n      var item = data[i];\n      var val = getDataItemValue(item);\n\n      if (!isArray(val)) {\n        return false;\n      }\n\n      if ((result = detectValue(val[dimIndex])) != null) {\n        return result;\n      }\n    }\n  }\n\n  function detectValue(val) {\n    // Consider usage convenience, '1', '2' will be treated as \"number\".\n    // `isFinit('')` get `true`.\n    if (val != null && isFinite(val) && val !== '') {\n      return false;\n    } else if (isString(val) && val !== '-') {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nexports.detectSourceFormat = detectSourceFormat;\nexports.getSource = getSource;\nexports.resetSourceDefaulter = resetSourceDefaulter;\nexports.prepareSource = prepareSource;\nexports.guessOrdinal = guessOrdinal;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar _format = require(\"../util/format\");\n\nvar formatTime = _format.formatTime;\nvar encodeHTML = _format.encodeHTML;\nvar addCommas = _format.addCommas;\nvar getTooltipMarker = _format.getTooltipMarker;\n\nvar modelUtil = require(\"../util/model\");\n\nvar ComponentModel = require(\"./Component\");\n\nvar colorPaletteMixin = require(\"./mixin/colorPalette\");\n\nvar dataFormatMixin = require(\"../model/mixin/dataFormat\");\n\nvar _layout = require(\"../util/layout\");\n\nvar getLayoutParams = _layout.getLayoutParams;\nvar mergeLayoutParam = _layout.mergeLayoutParam;\n\nvar _task = require(\"../stream/task\");\n\nvar createTask = _task.createTask;\n\nvar _sourceHelper = require(\"../data/helper/sourceHelper\");\n\nvar prepareSource = _sourceHelper.prepareSource;\nvar _getSource = _sourceHelper.getSource;\n\nvar _dataProvider = require(\"../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar inner = modelUtil.makeInner();\nvar SeriesModel = ComponentModel.extend({\n  type: 'series.__base__',\n\n  /**\n   * @readOnly\n   */\n  seriesIndex: 0,\n  // coodinateSystem will be injected in the echarts/CoordinateSystem\n  coordinateSystem: null,\n\n  /**\n   * @type {Object}\n   * @protected\n   */\n  defaultOption: null,\n\n  /**\n   * Data provided for legend\n   * @type {Function}\n   */\n  // PENDING\n  legendDataProvider: null,\n\n  /**\n   * Access path of color for visual\n   */\n  visualColorAccessPath: 'itemStyle.color',\n\n  /**\n   * Access path of borderColor for visual\n   */\n  visualBorderColorAccessPath: 'itemStyle.borderColor',\n\n  /**\n   * Support merge layout params.\n   * Only support 'box' now (left/right/top/bottom/width/height).\n   * @type {string|Object} Object can be {ignoreSize: true}\n   * @readOnly\n   */\n  layoutMode: null,\n  init: function init(option, parentModel, ecModel, extraOpt) {\n    /**\n     * @type {number}\n     * @readOnly\n     */\n    this.seriesIndex = this.componentIndex;\n    this.dataTask = createTask({\n      count: dataTaskCount,\n      reset: dataTaskReset\n    });\n    this.dataTask.context = {\n      model: this\n    };\n    this.mergeDefaultAndTheme(option, ecModel);\n    prepareSource(this);\n    var data = this.getInitialData(option, ecModel);\n    wrapData(data, this);\n    this.dataTask.context.data = data;\n    /**\n     * @type {module:echarts/data/List|module:echarts/data/Tree|module:echarts/data/Graph}\n     * @private\n     */\n\n    inner(this).dataBeforeProcessed = data; // If we reverse the order (make data firstly, and then make\n    // dataBeforeProcessed by cloneShallow), cloneShallow will\n    // cause data.graph.data !== data when using\n    // module:echarts/data/Graph or module:echarts/data/Tree.\n    // See module:echarts/data/helper/linkList\n    // Theoretically, it is unreasonable to call `seriesModel.getData()` in the model\n    // init or merge stage, because the data can be restored. So we do not `restoreData`\n    // and `setData` here, which forbids calling `seriesModel.getData()` in this stage.\n    // Call `seriesModel.getRawData()` instead.\n    // this.restoreData();\n\n    autoSeriesName(this);\n  },\n\n  /**\n   * Util for merge default and theme to option\n   * @param  {Object} option\n   * @param  {module:echarts/model/Global} ecModel\n   */\n  mergeDefaultAndTheme: function mergeDefaultAndTheme(option, ecModel) {\n    var layoutMode = this.layoutMode;\n    var inputPositionParams = layoutMode ? getLayoutParams(option) : {}; // Backward compat: using subType on theme.\n    // But if name duplicate between series subType\n    // (for example: parallel) add component mainType,\n    // add suffix 'Series'.\n\n    var themeSubType = this.subType;\n\n    if (ComponentModel.hasClass(themeSubType)) {\n      themeSubType += 'Series';\n    }\n\n    zrUtil.merge(option, ecModel.getTheme().get(this.subType));\n    zrUtil.merge(option, this.getDefaultOption()); // Default label emphasis `show`\n\n    modelUtil.defaultEmphasis(option, 'label', ['show']);\n    this.fillDataTextStyle(option.data);\n\n    if (layoutMode) {\n      mergeLayoutParam(option, inputPositionParams, layoutMode);\n    }\n  },\n  mergeOption: function mergeOption(newSeriesOption, ecModel) {\n    // this.settingTask.dirty();\n    newSeriesOption = zrUtil.merge(this.option, newSeriesOption, true);\n    this.fillDataTextStyle(newSeriesOption.data);\n    var layoutMode = this.layoutMode;\n\n    if (layoutMode) {\n      mergeLayoutParam(this.option, newSeriesOption, layoutMode);\n    }\n\n    prepareSource(this);\n    var data = this.getInitialData(newSeriesOption, ecModel);\n    wrapData(data, this);\n    this.dataTask.dirty();\n    this.dataTask.context.data = data;\n    inner(this).dataBeforeProcessed = data;\n    autoSeriesName(this);\n  },\n  fillDataTextStyle: function fillDataTextStyle(data) {\n    // Default data label emphasis `show`\n    // FIXME Tree structure data ?\n    // FIXME Performance ?\n    if (data && !zrUtil.isTypedArray(data)) {\n      var props = ['show'];\n\n      for (var i = 0; i < data.length; i++) {\n        if (data[i] && data[i].label) {\n          modelUtil.defaultEmphasis(data[i], 'label', props);\n        }\n      }\n    }\n  },\n\n  /**\n   * Init a data structure from data related option in series\n   * Must be overwritten\n   */\n  getInitialData: function getInitialData() {},\n\n  /**\n   * Append data to list\n   * @param {Object} params\n   * @param {Array|TypedArray} params.data\n   */\n  appendData: function appendData(params) {\n    // FIXME ???\n    // (1) If data from dataset, forbidden append.\n    // (2) support append data of dataset.\n    var data = this.getRawData();\n    data.appendData(params.data);\n  },\n\n  /**\n   * Consider some method like `filter`, `map` need make new data,\n   * We should make sure that `seriesModel.getData()` get correct\n   * data in the stream procedure. So we fetch data from upstream\n   * each time `task.perform` called.\n   * @param {string} [dataType]\n   * @return {module:echarts/data/List}\n   */\n  getData: function getData(dataType) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var data = task.context.data;\n      return dataType == null ? data : data.getLinkedData(dataType);\n    } else {\n      // When series is not alive (that may happen when click toolbox\n      // restore or setOption with not merge mode), series data may\n      // be still need to judge animation or something when graphic\n      // elements want to know whether fade out.\n      return inner(this).data;\n    }\n  },\n\n  /**\n   * @param {module:echarts/data/List} data\n   */\n  setData: function setData(data) {\n    var task = getCurrentTask(this);\n\n    if (task) {\n      var context = task.context; // Consider case: filter, data sample.\n\n      if (context.data !== data && task.modifyOutputEnd) {\n        task.setOutputEnd(data.count());\n      }\n\n      context.outputData = data; // Caution: setData should update context.data,\n      // Because getData may be called multiply in a\n      // single stage and expect to get the data just\n      // set. (For example, AxisProxy, x y both call\n      // getData and setDate sequentially).\n      // So the context.data should be fetched from\n      // upstream each time when a stage starts to be\n      // performed.\n\n      if (task !== this.dataTask) {\n        context.data = data;\n      }\n    }\n\n    inner(this).data = data;\n  },\n\n  /**\n   * @see {module:echarts/data/helper/sourceHelper#getSource}\n   * @return {module:echarts/data/Source} source\n   */\n  getSource: function getSource() {\n    return _getSource(this);\n  },\n\n  /**\n   * Get data before processed\n   * @return {module:echarts/data/List}\n   */\n  getRawData: function getRawData() {\n    return inner(this).dataBeforeProcessed;\n  },\n\n  /**\n   * Get base axis if has coordinate system and has axis.\n   * By default use coordSys.getBaseAxis();\n   * Can be overrided for some chart.\n   * @return {type} description\n   */\n  getBaseAxis: function getBaseAxis() {\n    var coordSys = this.coordinateSystem;\n    return coordSys && coordSys.getBaseAxis && coordSys.getBaseAxis();\n  },\n  // FIXME\n\n  /**\n   * Default tooltip formatter\n   *\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @param {string} [renderMode='html'] valid values: 'html' and 'richText'.\n   *                                     'html' is used for rendering tooltip in extra DOM form, and the result\n   *                                     string is used as DOM HTML content.\n   *                                     'richText' is used for rendering tooltip in rich text form, for those where\n   *                                     DOM operation is not supported.\n   * @return {Object} formatted tooltip with `html` and `markers`\n   */\n  formatTooltip: function formatTooltip(dataIndex, multipleSeries, dataType, renderMode) {\n    var series = this;\n    renderMode = renderMode || 'html';\n    var newLine = renderMode === 'html' ? '<br/>' : '\\n';\n    var isRichText = renderMode === 'richText';\n    var markers = {};\n    var markerId = 0;\n\n    function formatArrayValue(value) {\n      // ??? TODO refactor these logic.\n      // check: category-no-encode-has-axis-data in dataset.html\n      var vertially = zrUtil.reduce(value, function (vertially, val, idx) {\n        var dimItem = data.getDimensionInfo(idx);\n        return vertially |= dimItem && dimItem.tooltip !== false && dimItem.displayName != null;\n      }, 0);\n      var result = [];\n      tooltipDims.length ? zrUtil.each(tooltipDims, function (dim) {\n        setEachItem(retrieveRawValue(data, dataIndex, dim), dim);\n      }) // By default, all dims is used on tooltip.\n      : zrUtil.each(value, setEachItem);\n\n      function setEachItem(val, dim) {\n        var dimInfo = data.getDimensionInfo(dim); // If `dimInfo.tooltip` is not set, show tooltip.\n\n        if (!dimInfo || dimInfo.otherDims.tooltip === false) {\n          return;\n        }\n\n        var dimType = dimInfo.type;\n        var markName = 'sub' + series.seriesIndex + 'at' + markerId;\n        var dimHead = getTooltipMarker({\n          color: color,\n          type: 'subItem',\n          renderMode: renderMode,\n          markerId: markName\n        });\n        var dimHeadStr = typeof dimHead === 'string' ? dimHead : dimHead.content;\n        var valStr = (vertially ? dimHeadStr + encodeHTML(dimInfo.displayName || '-') + ': ' : '') + // FIXME should not format time for raw data?\n        encodeHTML(dimType === 'ordinal' ? val + '' : dimType === 'time' ? multipleSeries ? '' : formatTime('yyyy/MM/dd hh:mm:ss', val) : addCommas(val));\n        valStr && result.push(valStr);\n\n        if (isRichText) {\n          markers[markName] = color;\n          ++markerId;\n        }\n      }\n\n      var newLine = vertially ? isRichText ? '\\n' : '<br/>' : '';\n      var content = newLine + result.join(newLine || ', ');\n      return {\n        renderMode: renderMode,\n        content: content,\n        style: markers\n      };\n    }\n\n    function formatSingleValue(val) {\n      // return encodeHTML(addCommas(val));\n      return {\n        renderMode: renderMode,\n        content: encodeHTML(addCommas(val)),\n        style: markers\n      };\n    }\n\n    var data = this.getData();\n    var tooltipDims = data.mapDimension('defaultedTooltip', true);\n    var tooltipDimLen = tooltipDims.length;\n    var value = this.getRawValue(dataIndex);\n    var isValueArr = zrUtil.isArray(value);\n    var color = data.getItemVisual(dataIndex, 'color');\n\n    if (zrUtil.isObject(color) && color.colorStops) {\n      color = (color.colorStops[0] || {}).color;\n    }\n\n    color = color || 'transparent'; // Complicated rule for pretty tooltip.\n\n    var formattedValue = tooltipDimLen > 1 || isValueArr && !tooltipDimLen ? formatArrayValue(value) : tooltipDimLen ? formatSingleValue(retrieveRawValue(data, dataIndex, tooltipDims[0])) : formatSingleValue(isValueArr ? value[0] : value);\n    var content = formattedValue.content;\n    var markName = series.seriesIndex + 'at' + markerId;\n    var colorEl = getTooltipMarker({\n      color: color,\n      type: 'item',\n      renderMode: renderMode,\n      markerId: markName\n    });\n    markers[markName] = color;\n    ++markerId;\n    var name = data.getName(dataIndex);\n    var seriesName = this.name;\n\n    if (!modelUtil.isNameSpecified(this)) {\n      seriesName = '';\n    }\n\n    seriesName = seriesName ? encodeHTML(seriesName) + (!multipleSeries ? newLine : ': ') : '';\n    var colorStr = typeof colorEl === 'string' ? colorEl : colorEl.content;\n    var html = !multipleSeries ? seriesName + colorStr + (name ? encodeHTML(name) + ': ' + content : content) : colorStr + seriesName + content;\n    return {\n      html: html,\n      markers: markers\n    };\n  },\n\n  /**\n   * @return {boolean}\n   */\n  isAnimationEnabled: function isAnimationEnabled() {\n    if (env.node) {\n      return false;\n    }\n\n    var animationEnabled = this.getShallow('animation');\n\n    if (animationEnabled) {\n      if (this.getData().count() > this.getShallow('animationThreshold')) {\n        animationEnabled = false;\n      }\n    }\n\n    return animationEnabled;\n  },\n  restoreData: function restoreData() {\n    this.dataTask.dirty();\n  },\n  getColorFromPalette: function getColorFromPalette(name, scope, requestColorNum) {\n    var ecModel = this.ecModel; // PENDING\n\n    var color = colorPaletteMixin.getColorFromPalette.call(this, name, scope, requestColorNum);\n\n    if (!color) {\n      color = ecModel.getColorFromPalette(name, scope, requestColorNum);\n    }\n\n    return color;\n  },\n\n  /**\n   * Use `data.mapDimension(coordDim, true)` instead.\n   * @deprecated\n   */\n  coordDimToDataDim: function coordDimToDataDim(coordDim) {\n    return this.getRawData().mapDimension(coordDim, true);\n  },\n\n  /**\n   * Get progressive rendering count each step\n   * @return {number}\n   */\n  getProgressive: function getProgressive() {\n    return this.get('progressive');\n  },\n\n  /**\n   * Get progressive rendering count each step\n   * @return {number}\n   */\n  getProgressiveThreshold: function getProgressiveThreshold() {\n    return this.get('progressiveThreshold');\n  },\n\n  /**\n   * Get data indices for show tooltip content. See tooltip.\n   * @abstract\n   * @param {Array.<string>|string} dim\n   * @param {Array.<number>} value\n   * @param {module:echarts/coord/single/SingleAxis} baseAxis\n   * @return {Object} {dataIndices, nestestValue}.\n   */\n  getAxisTooltipData: null,\n\n  /**\n   * See tooltip.\n   * @abstract\n   * @param {number} dataIndex\n   * @return {Array.<number>} Point of tooltip. null/undefined can be returned.\n   */\n  getTooltipPosition: null,\n\n  /**\n   * @see {module:echarts/stream/Scheduler}\n   */\n  pipeTask: null,\n\n  /**\n   * Convinient for override in extended class.\n   * @protected\n   * @type {Function}\n   */\n  preventIncremental: null,\n\n  /**\n   * @public\n   * @readOnly\n   * @type {Object}\n   */\n  pipelineContext: null\n});\nzrUtil.mixin(SeriesModel, dataFormatMixin);\nzrUtil.mixin(SeriesModel, colorPaletteMixin);\n/**\n * MUST be called after `prepareSource` called\n * Here we need to make auto series, especially for auto legend. But we\n * do not modify series.name in option to avoid side effects.\n */\n\nfunction autoSeriesName(seriesModel) {\n  // User specified name has higher priority, otherwise it may cause\n  // series can not be queried unexpectedly.\n  var name = seriesModel.name;\n\n  if (!modelUtil.isNameSpecified(seriesModel)) {\n    seriesModel.name = getSeriesAutoName(seriesModel) || name;\n  }\n}\n\nfunction getSeriesAutoName(seriesModel) {\n  var data = seriesModel.getRawData();\n  var dataDims = data.mapDimension('seriesName', true);\n  var nameArr = [];\n  zrUtil.each(dataDims, function (dataDim) {\n    var dimInfo = data.getDimensionInfo(dataDim);\n    dimInfo.displayName && nameArr.push(dimInfo.displayName);\n  });\n  return nameArr.join(' ');\n}\n\nfunction dataTaskCount(context) {\n  return context.model.getRawData().count();\n}\n\nfunction dataTaskReset(context) {\n  var seriesModel = context.model;\n  seriesModel.setData(seriesModel.getRawData().cloneShallow());\n  return dataTaskProgress;\n}\n\nfunction dataTaskProgress(param, context) {\n  // Avoid repead cloneShallow when data just created in reset.\n  if (param.end > context.outputData.count()) {\n    context.model.getRawData().cloneShallow(context.outputData);\n  }\n} // TODO refactor\n\n\nfunction wrapData(data, seriesModel) {\n  zrUtil.each(data.CHANGABLE_METHODS, function (methodName) {\n    data.wrapMethod(methodName, zrUtil.curry(onDataSelfChange, seriesModel));\n  });\n}\n\nfunction onDataSelfChange(seriesModel) {\n  var task = getCurrentTask(seriesModel);\n\n  if (task) {\n    // Consider case: filter, selectRange\n    task.setOutputEnd(this.count());\n  }\n}\n\nfunction getCurrentTask(seriesModel) {\n  var scheduler = (seriesModel.ecModel || {}).scheduler;\n  var pipeline = scheduler && scheduler.getPipeline(seriesModel.uid);\n\n  if (pipeline) {\n    // When pipline finished, the currrentTask keep the last\n    // task (renderTask).\n    var task = pipeline.currentTask;\n\n    if (task) {\n      var agentStubMap = task.agentStubMap;\n\n      if (agentStubMap) {\n        task = agentStubMap.get(seriesModel.uid);\n      }\n    }\n\n    return task;\n  }\n}\n\nvar _default = SeriesModel;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ORIGIN_METHOD = '\\0__throttleOriginMethod';\nvar RATE = '\\0__throttleRate';\nvar THROTTLE_TYPE = '\\0__throttleType';\n/**\n * @public\n * @param {(Function)} fn\n * @param {number} [delay=0] Unit: ms.\n * @param {boolean} [debounce=false]\n *        true: If call interval less than `delay`, only the last call works.\n *        false: If call interval less than `delay, call works on fixed rate.\n * @return {(Function)} throttled fn.\n */\n\nfunction throttle(fn, delay, debounce) {\n  var currCall;\n  var lastCall = 0;\n  var lastExec = 0;\n  var timer = null;\n  var diff;\n  var scope;\n  var args;\n  var debounceNextCall;\n  delay = delay || 0;\n\n  function exec() {\n    lastExec = new Date().getTime();\n    timer = null;\n    fn.apply(scope, args || []);\n  }\n\n  var cb = function cb() {\n    currCall = new Date().getTime();\n    scope = this;\n    args = arguments;\n    var thisDelay = debounceNextCall || delay;\n    var thisDebounce = debounceNextCall || debounce;\n    debounceNextCall = null;\n    diff = currCall - (thisDebounce ? lastCall : lastExec) - thisDelay;\n    clearTimeout(timer); // Here we should make sure that: the `exec` SHOULD NOT be called later\n    // than a new call of `cb`, that is, preserving the command order. Consider\n    // calculating \"scale rate\" when roaming as an example. When a call of `cb`\n    // happens, either the `exec` is called dierectly, or the call is delayed.\n    // But the delayed call should never be later than next call of `cb`. Under\n    // this assurance, we can simply update view state each time `dispatchAction`\n    // triggered by user roaming, but not need to add extra code to avoid the\n    // state being \"rolled-back\".\n\n    if (thisDebounce) {\n      timer = setTimeout(exec, thisDelay);\n    } else {\n      if (diff >= 0) {\n        exec();\n      } else {\n        timer = setTimeout(exec, -diff);\n      }\n    }\n\n    lastCall = currCall;\n  };\n  /**\n   * Clear throttle.\n   * @public\n   */\n\n\n  cb.clear = function () {\n    if (timer) {\n      clearTimeout(timer);\n      timer = null;\n    }\n  };\n  /**\n   * Enable debounce once.\n   */\n\n\n  cb.debounceNextCall = function (debounceDelay) {\n    debounceNextCall = debounceDelay;\n  };\n\n  return cb;\n}\n/**\n * Create throttle method or update throttle rate.\n *\n * @example\n * ComponentView.prototype.render = function () {\n *     ...\n *     throttle.createOrUpdate(\n *         this,\n *         '_dispatchAction',\n *         this.model.get('throttle'),\n *         'fixRate'\n *     );\n * };\n * ComponentView.prototype.remove = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n * ComponentView.prototype.dispose = function () {\n *     throttle.clear(this, '_dispatchAction');\n * };\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n * @param {number} [rate]\n * @param {string} [throttleType='fixRate'] 'fixRate' or 'debounce'\n * @return {Function} throttled function.\n */\n\n\nfunction createOrUpdate(obj, fnAttr, rate, throttleType) {\n  var fn = obj[fnAttr];\n\n  if (!fn) {\n    return;\n  }\n\n  var originFn = fn[ORIGIN_METHOD] || fn;\n  var lastThrottleType = fn[THROTTLE_TYPE];\n  var lastRate = fn[RATE];\n\n  if (lastRate !== rate || lastThrottleType !== throttleType) {\n    if (rate == null || !throttleType) {\n      return obj[fnAttr] = originFn;\n    }\n\n    fn = obj[fnAttr] = throttle(originFn, rate, throttleType === 'debounce');\n    fn[ORIGIN_METHOD] = originFn;\n    fn[THROTTLE_TYPE] = throttleType;\n    fn[RATE] = rate;\n  }\n\n  return fn;\n}\n/**\n * Clear throttle. Example see throttle.createOrUpdate.\n *\n * @public\n * @param {Object} obj\n * @param {string} fnAttr\n */\n\n\nfunction clear(obj, fnAttr) {\n  var fn = obj[fnAttr];\n\n  if (fn && fn[ORIGIN_METHOD]) {\n    obj[fnAttr] = fn[ORIGIN_METHOD];\n  }\n}\n\nexports.throttle = throttle;\nexports.createOrUpdate = createOrUpdate;\nexports.clear = clear;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar List = require(\"../../data/List\");\n\nvar createDimensions = require(\"../../data/helper/createDimensions\");\n\nvar _sourceType = require(\"../../data/helper/sourceType\");\n\nvar SOURCE_FORMAT_ORIGINAL = _sourceType.SOURCE_FORMAT_ORIGINAL;\n\nvar _dimensionHelper = require(\"../../data/helper/dimensionHelper\");\n\nvar getDimensionTypeByAxis = _dimensionHelper.getDimensionTypeByAxis;\n\nvar _model = require(\"../../util/model\");\n\nvar getDataItemValue = _model.getDataItemValue;\n\nvar CoordinateSystem = require(\"../../CoordinateSystem\");\n\nvar _referHelper = require(\"../../model/referHelper\");\n\nvar getCoordSysDefineBySeries = _referHelper.getCoordSysDefineBySeries;\n\nvar Source = require(\"../../data/Source\");\n\nvar _dataStackHelper = require(\"../../data/helper/dataStackHelper\");\n\nvar enableDataStack = _dataStackHelper.enableDataStack;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {module:echarts/data/Source|Array} source Or raw data.\n * @param {module:echarts/model/Series} seriesModel\n * @param {Object} [opt]\n * @param {string} [opt.generateCoord]\n */\n\nfunction createListFromArray(source, seriesModel, opt) {\n  opt = opt || {};\n\n  if (!Source.isInstance(source)) {\n    source = Source.seriesDataToSource(source);\n  }\n\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var registeredCoordSys = CoordinateSystem.get(coordSysName);\n  var coordSysDefine = getCoordSysDefineBySeries(seriesModel);\n  var coordSysDimDefs;\n\n  if (coordSysDefine) {\n    coordSysDimDefs = zrUtil.map(coordSysDefine.coordSysDims, function (dim) {\n      var dimInfo = {\n        name: dim\n      };\n      var axisModel = coordSysDefine.axisMap.get(dim);\n\n      if (axisModel) {\n        var axisType = axisModel.get('type');\n        dimInfo.type = getDimensionTypeByAxis(axisType); // dimInfo.stackable = isStackable(axisType);\n      }\n\n      return dimInfo;\n    });\n  }\n\n  if (!coordSysDimDefs) {\n    // Get dimensions from registered coordinate system\n    coordSysDimDefs = registeredCoordSys && (registeredCoordSys.getDimensionsInfo ? registeredCoordSys.getDimensionsInfo() : registeredCoordSys.dimensions.slice()) || ['x', 'y'];\n  }\n\n  var dimInfoList = createDimensions(source, {\n    coordDimensions: coordSysDimDefs,\n    generateCoord: opt.generateCoord\n  });\n  var firstCategoryDimIndex;\n  var hasNameEncode;\n  coordSysDefine && zrUtil.each(dimInfoList, function (dimInfo, dimIndex) {\n    var coordDim = dimInfo.coordDim;\n    var categoryAxisModel = coordSysDefine.categoryAxisMap.get(coordDim);\n\n    if (categoryAxisModel) {\n      if (firstCategoryDimIndex == null) {\n        firstCategoryDimIndex = dimIndex;\n      }\n\n      dimInfo.ordinalMeta = categoryAxisModel.getOrdinalMeta();\n    }\n\n    if (dimInfo.otherDims.itemName != null) {\n      hasNameEncode = true;\n    }\n  });\n\n  if (!hasNameEncode && firstCategoryDimIndex != null) {\n    dimInfoList[firstCategoryDimIndex].otherDims.itemName = 0;\n  }\n\n  var stackCalculationInfo = enableDataStack(seriesModel, dimInfoList);\n  var list = new List(dimInfoList, seriesModel);\n  list.setCalculationInfo(stackCalculationInfo);\n  var dimValueGetter = firstCategoryDimIndex != null && isNeedCompleteOrdinalData(source) ? function (itemOpt, dimName, dataIndex, dimIndex) {\n    // Use dataIndex as ordinal value in categoryAxis\n    return dimIndex === firstCategoryDimIndex ? dataIndex : this.defaultDimValueGetter(itemOpt, dimName, dataIndex, dimIndex);\n  } : null;\n  list.hasItemOption = false;\n  list.initData(source, null, dimValueGetter);\n  return list;\n}\n\nfunction isNeedCompleteOrdinalData(source) {\n  if (source.sourceFormat === SOURCE_FORMAT_ORIGINAL) {\n    var sampleItem = firstDataNotNull(source.data || []);\n    return sampleItem != null && !zrUtil.isArray(getDataItemValue(sampleItem));\n  }\n}\n\nfunction firstDataNotNull(data) {\n  var i = 0;\n\n  while (i < data.length && data[i] == null) {\n    i++;\n  }\n\n  return data[i];\n}\n\nvar _default = createListFromArray;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar clazzUtil = require(\"../util/clazz\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * // Scale class management\n * @module echarts/scale/Scale\n */\n\n/**\n * @param {Object} [setting]\n */\n\n\nfunction Scale(setting) {\n  this._setting = setting || {};\n  /**\n   * Extent\n   * @type {Array.<number>}\n   * @protected\n   */\n\n  this._extent = [Infinity, -Infinity];\n  /**\n   * Step is calculated in adjustExtent\n   * @type {Array.<number>}\n   * @protected\n   */\n\n  this._interval = 0;\n  this.init && this.init.apply(this, arguments);\n}\n/**\n * Parse input val to valid inner number.\n * @param {*} val\n * @return {number}\n */\n\n\nScale.prototype.parse = function (val) {\n  // Notice: This would be a trap here, If the implementation\n  // of this method depends on extent, and this method is used\n  // before extent set (like in dataZoom), it would be wrong.\n  // Nevertheless, parse does not depend on extent generally.\n  return val;\n};\n\nScale.prototype.getSetting = function (name) {\n  return this._setting[name];\n};\n\nScale.prototype.contain = function (val) {\n  var extent = this._extent;\n  return val >= extent[0] && val <= extent[1];\n};\n/**\n * Normalize value to linear [0, 1], return 0.5 if extent span is 0\n * @param {number} val\n * @return {number}\n */\n\n\nScale.prototype.normalize = function (val) {\n  var extent = this._extent;\n\n  if (extent[1] === extent[0]) {\n    return 0.5;\n  }\n\n  return (val - extent[0]) / (extent[1] - extent[0]);\n};\n/**\n * Scale normalized value\n * @param {number} val\n * @return {number}\n */\n\n\nScale.prototype.scale = function (val) {\n  var extent = this._extent;\n  return val * (extent[1] - extent[0]) + extent[0];\n};\n/**\n * Set extent from data\n * @param {Array.<number>} other\n */\n\n\nScale.prototype.unionExtent = function (other) {\n  var extent = this._extent;\n  other[0] < extent[0] && (extent[0] = other[0]);\n  other[1] > extent[1] && (extent[1] = other[1]); // not setExtent because in log axis it may transformed to power\n  // this.setExtent(extent[0], extent[1]);\n};\n/**\n * Set extent from data\n * @param {module:echarts/data/List} data\n * @param {string} dim\n */\n\n\nScale.prototype.unionExtentFromData = function (data, dim) {\n  this.unionExtent(data.getApproximateExtent(dim));\n};\n/**\n * Get extent\n * @return {Array.<number>}\n */\n\n\nScale.prototype.getExtent = function () {\n  return this._extent.slice();\n};\n/**\n * Set extent\n * @param {number} start\n * @param {number} end\n */\n\n\nScale.prototype.setExtent = function (start, end) {\n  var thisExtent = this._extent;\n\n  if (!isNaN(start)) {\n    thisExtent[0] = start;\n  }\n\n  if (!isNaN(end)) {\n    thisExtent[1] = end;\n  }\n};\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\n\n\nScale.prototype.isBlank = function () {\n  return this._isBlank;\n},\n/**\n * When axis extent depends on data and no data exists,\n * axis ticks should not be drawn, which is named 'blank'.\n */\nScale.prototype.setBlank = function (isBlank) {\n  this._isBlank = isBlank;\n};\n/**\n * @abstract\n * @param {*} tick\n * @return {string} label of the tick.\n */\n\nScale.prototype.getLabel = null;\nclazzUtil.enableClassExtend(Scale);\nclazzUtil.enableClassManagement(Scale, {\n  registerWhenExtend: true\n});\nvar _default = Scale;\nmodule.exports = _default;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Button from '../button';\nimport { ConfigConsumer } from '../config-provider';\nimport Dropdown from './dropdown';\nimport Icon from '../icon';\nvar ButtonGroup = Button.Group;\n\nvar DropdownButton =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(DropdownButton, _React$Component);\n\n  function DropdownButton() {\n    var _this;\n\n    _classCallCheck(this, DropdownButton);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(DropdownButton).apply(this, arguments));\n\n    _this.renderButton = function (_ref) {\n      var getContextPopupContainer = _ref.getPopupContainer,\n          getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          type = _a.type,\n          disabled = _a.disabled,\n          onClick = _a.onClick,\n          htmlType = _a.htmlType,\n          children = _a.children,\n          className = _a.className,\n          overlay = _a.overlay,\n          trigger = _a.trigger,\n          align = _a.align,\n          visible = _a.visible,\n          onVisibleChange = _a.onVisibleChange,\n          placement = _a.placement,\n          getPopupContainer = _a.getPopupContainer,\n          href = _a.href,\n          _a$icon = _a.icon,\n          icon = _a$icon === void 0 ? React.createElement(Icon, {\n        type: \"ellipsis\"\n      }) : _a$icon,\n          title = _a.title,\n          restProps = __rest(_a, [\"prefixCls\", \"type\", \"disabled\", \"onClick\", \"htmlType\", \"children\", \"className\", \"overlay\", \"trigger\", \"align\", \"visible\", \"onVisibleChange\", \"placement\", \"getPopupContainer\", \"href\", \"icon\", \"title\"]);\n\n      var prefixCls = getPrefixCls('dropdown-button', customizePrefixCls);\n      var dropdownProps = {\n        align: align,\n        overlay: overlay,\n        disabled: disabled,\n        trigger: disabled ? [] : trigger,\n        onVisibleChange: onVisibleChange,\n        placement: placement,\n        getPopupContainer: getPopupContainer || getContextPopupContainer\n      };\n\n      if ('visible' in _this.props) {\n        dropdownProps.visible = visible;\n      }\n\n      return React.createElement(ButtonGroup, _extends({}, restProps, {\n        className: classNames(prefixCls, className)\n      }), React.createElement(Button, {\n        type: type,\n        disabled: disabled,\n        onClick: onClick,\n        htmlType: htmlType,\n        href: href,\n        title: title\n      }, children), React.createElement(Dropdown, dropdownProps, React.createElement(Button, {\n        type: type\n      }, icon)));\n    };\n\n    return _this;\n  }\n\n  _createClass(DropdownButton, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderButton);\n    }\n  }]);\n\n  return DropdownButton;\n}(React.Component);\n\nexport { DropdownButton as default };\nDropdownButton.defaultProps = {\n  placement: 'bottomRight',\n  type: 'default'\n};","import Dropdown from './dropdown';\nimport DropdownButton from './dropdown-button';\nDropdown.Button = DropdownButton;\nexport default Dropdown;","// https://github.com/mziccard/node-timsort\nvar DEFAULT_MIN_MERGE = 32;\nvar DEFAULT_MIN_GALLOPING = 7;\nvar DEFAULT_TMP_STORAGE_LENGTH = 256;\n\nfunction minRunLength(n) {\n  var r = 0;\n\n  while (n >= DEFAULT_MIN_MERGE) {\n    r |= n & 1;\n    n >>= 1;\n  }\n\n  return n + r;\n}\n\nfunction makeAscendingRun(array, lo, hi, compare) {\n  var runHi = lo + 1;\n\n  if (runHi === hi) {\n    return 1;\n  }\n\n  if (compare(array[runHi++], array[lo]) < 0) {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) < 0) {\n      runHi++;\n    }\n\n    reverseRun(array, lo, runHi);\n  } else {\n    while (runHi < hi && compare(array[runHi], array[runHi - 1]) >= 0) {\n      runHi++;\n    }\n  }\n\n  return runHi - lo;\n}\n\nfunction reverseRun(array, lo, hi) {\n  hi--;\n\n  while (lo < hi) {\n    var t = array[lo];\n    array[lo++] = array[hi];\n    array[hi--] = t;\n  }\n}\n\nfunction binaryInsertionSort(array, lo, hi, start, compare) {\n  if (start === lo) {\n    start++;\n  }\n\n  for (; start < hi; start++) {\n    var pivot = array[start];\n    var left = lo;\n    var right = start;\n    var mid;\n\n    while (left < right) {\n      mid = left + right >>> 1;\n\n      if (compare(pivot, array[mid]) < 0) {\n        right = mid;\n      } else {\n        left = mid + 1;\n      }\n    }\n\n    var n = start - left;\n\n    switch (n) {\n      case 3:\n        array[left + 3] = array[left + 2];\n\n      case 2:\n        array[left + 2] = array[left + 1];\n\n      case 1:\n        array[left + 1] = array[left];\n        break;\n\n      default:\n        while (n > 0) {\n          array[left + n] = array[left + n - 1];\n          n--;\n        }\n\n    }\n\n    array[left] = pivot;\n  }\n}\n\nfunction gallopLeft(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) > 0) {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) > 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  } else {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) <= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) > 0) {\n      lastOffset = m + 1;\n    } else {\n      offset = m;\n    }\n  }\n\n  return offset;\n}\n\nfunction gallopRight(value, array, start, length, hint, compare) {\n  var lastOffset = 0;\n  var maxOffset = 0;\n  var offset = 1;\n\n  if (compare(value, array[start + hint]) < 0) {\n    maxOffset = hint + 1;\n\n    while (offset < maxOffset && compare(value, array[start + hint - offset]) < 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    var tmp = lastOffset;\n    lastOffset = hint - offset;\n    offset = hint - tmp;\n  } else {\n    maxOffset = length - hint;\n\n    while (offset < maxOffset && compare(value, array[start + hint + offset]) >= 0) {\n      lastOffset = offset;\n      offset = (offset << 1) + 1;\n\n      if (offset <= 0) {\n        offset = maxOffset;\n      }\n    }\n\n    if (offset > maxOffset) {\n      offset = maxOffset;\n    }\n\n    lastOffset += hint;\n    offset += hint;\n  }\n\n  lastOffset++;\n\n  while (lastOffset < offset) {\n    var m = lastOffset + (offset - lastOffset >>> 1);\n\n    if (compare(value, array[start + m]) < 0) {\n      offset = m;\n    } else {\n      lastOffset = m + 1;\n    }\n  }\n\n  return offset;\n}\n\nfunction TimSort(array, compare) {\n  var minGallop = DEFAULT_MIN_GALLOPING;\n  var length = 0;\n  var tmpStorageLength = DEFAULT_TMP_STORAGE_LENGTH;\n  var stackLength = 0;\n  var runStart;\n  var runLength;\n  var stackSize = 0;\n  length = array.length;\n\n  if (length < 2 * DEFAULT_TMP_STORAGE_LENGTH) {\n    tmpStorageLength = length >>> 1;\n  }\n\n  var tmp = [];\n  stackLength = length < 120 ? 5 : length < 1542 ? 10 : length < 119151 ? 19 : 40;\n  runStart = [];\n  runLength = [];\n\n  function pushRun(_runStart, _runLength) {\n    runStart[stackSize] = _runStart;\n    runLength[stackSize] = _runLength;\n    stackSize += 1;\n  }\n\n  function mergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n >= 1 && runLength[n - 1] <= runLength[n] + runLength[n + 1] || n >= 2 && runLength[n - 2] <= runLength[n] + runLength[n - 1]) {\n        if (runLength[n - 1] < runLength[n + 1]) {\n          n--;\n        }\n      } else if (runLength[n] > runLength[n + 1]) {\n        break;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function forceMergeRuns() {\n    while (stackSize > 1) {\n      var n = stackSize - 2;\n\n      if (n > 0 && runLength[n - 1] < runLength[n + 1]) {\n        n--;\n      }\n\n      mergeAt(n);\n    }\n  }\n\n  function mergeAt(i) {\n    var start1 = runStart[i];\n    var length1 = runLength[i];\n    var start2 = runStart[i + 1];\n    var length2 = runLength[i + 1];\n    runLength[i] = length1 + length2;\n\n    if (i === stackSize - 3) {\n      runStart[i + 1] = runStart[i + 2];\n      runLength[i + 1] = runLength[i + 2];\n    }\n\n    stackSize--;\n    var k = gallopRight(array[start2], array, start1, length1, 0, compare);\n    start1 += k;\n    length1 -= k;\n\n    if (length1 === 0) {\n      return;\n    }\n\n    length2 = gallopLeft(array[start1 + length1 - 1], array, start2, length2, length2 - 1, compare);\n\n    if (length2 === 0) {\n      return;\n    }\n\n    if (length1 <= length2) {\n      mergeLow(start1, length1, start2, length2);\n    } else {\n      mergeHigh(start1, length1, start2, length2);\n    }\n  }\n\n  function mergeLow(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length1; i++) {\n      tmp[i] = array[start1 + i];\n    }\n\n    var cursor1 = 0;\n    var cursor2 = start2;\n    var dest = start1;\n    array[dest++] = array[cursor2++];\n\n    if (--length2 === 0) {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n\n      return;\n    }\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n      return;\n    }\n\n    var _minGallop = minGallop;\n    var count1;\n    var count2;\n    var exit;\n\n    while (1) {\n      count1 = 0;\n      count2 = 0;\n      exit = false;\n\n      do {\n        if (compare(array[cursor2], tmp[cursor1]) < 0) {\n          array[dest++] = array[cursor2++];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest++] = tmp[cursor1++];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = gallopRight(array[cursor2], tmp, cursor1, length1, 0, compare);\n\n        if (count1 !== 0) {\n          for (i = 0; i < count1; i++) {\n            array[dest + i] = tmp[cursor1 + i];\n          }\n\n          dest += count1;\n          cursor1 += count1;\n          length1 -= count1;\n\n          if (length1 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = array[cursor2++];\n\n        if (--length2 === 0) {\n          exit = true;\n          break;\n        }\n\n        count2 = gallopLeft(tmp[cursor1], array, cursor2, length2, 0, compare);\n\n        if (count2 !== 0) {\n          for (i = 0; i < count2; i++) {\n            array[dest + i] = array[cursor2 + i];\n          }\n\n          dest += count2;\n          cursor2 += count2;\n          length2 -= count2;\n\n          if (length2 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest++] = tmp[cursor1++];\n\n        if (--length1 === 1) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n    minGallop < 1 && (minGallop = 1);\n\n    if (length1 === 1) {\n      for (i = 0; i < length2; i++) {\n        array[dest + i] = array[cursor2 + i];\n      }\n\n      array[dest + length2] = tmp[cursor1];\n    } else if (length1 === 0) {\n      throw new Error(); // throw new Error('mergeLow preconditions were not respected');\n    } else {\n      for (i = 0; i < length1; i++) {\n        array[dest + i] = tmp[cursor1 + i];\n      }\n    }\n  }\n\n  function mergeHigh(start1, length1, start2, length2) {\n    var i = 0;\n\n    for (i = 0; i < length2; i++) {\n      tmp[i] = array[start2 + i];\n    }\n\n    var cursor1 = start1 + length1 - 1;\n    var cursor2 = length2 - 1;\n    var dest = start2 + length2 - 1;\n    var customCursor = 0;\n    var customDest = 0;\n    array[dest--] = array[cursor1--];\n\n    if (--length1 === 0) {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n\n      return;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n      return;\n    }\n\n    var _minGallop = minGallop;\n\n    while (true) {\n      var count1 = 0;\n      var count2 = 0;\n      var exit = false;\n\n      do {\n        if (compare(tmp[cursor2], array[cursor1]) < 0) {\n          array[dest--] = array[cursor1--];\n          count1++;\n          count2 = 0;\n\n          if (--length1 === 0) {\n            exit = true;\n            break;\n          }\n        } else {\n          array[dest--] = tmp[cursor2--];\n          count2++;\n          count1 = 0;\n\n          if (--length2 === 1) {\n            exit = true;\n            break;\n          }\n        }\n      } while ((count1 | count2) < _minGallop);\n\n      if (exit) {\n        break;\n      }\n\n      do {\n        count1 = length1 - gallopRight(tmp[cursor2], array, start1, length1, length1 - 1, compare);\n\n        if (count1 !== 0) {\n          dest -= count1;\n          cursor1 -= count1;\n          length1 -= count1;\n          customDest = dest + 1;\n          customCursor = cursor1 + 1;\n\n          for (i = count1 - 1; i >= 0; i--) {\n            array[customDest + i] = array[customCursor + i];\n          }\n\n          if (length1 === 0) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = tmp[cursor2--];\n\n        if (--length2 === 1) {\n          exit = true;\n          break;\n        }\n\n        count2 = length2 - gallopLeft(array[cursor1], tmp, 0, length2, length2 - 1, compare);\n\n        if (count2 !== 0) {\n          dest -= count2;\n          cursor2 -= count2;\n          length2 -= count2;\n          customDest = dest + 1;\n          customCursor = cursor2 + 1;\n\n          for (i = 0; i < count2; i++) {\n            array[customDest + i] = tmp[customCursor + i];\n          }\n\n          if (length2 <= 1) {\n            exit = true;\n            break;\n          }\n        }\n\n        array[dest--] = array[cursor1--];\n\n        if (--length1 === 0) {\n          exit = true;\n          break;\n        }\n\n        _minGallop--;\n      } while (count1 >= DEFAULT_MIN_GALLOPING || count2 >= DEFAULT_MIN_GALLOPING);\n\n      if (exit) {\n        break;\n      }\n\n      if (_minGallop < 0) {\n        _minGallop = 0;\n      }\n\n      _minGallop += 2;\n    }\n\n    minGallop = _minGallop;\n\n    if (minGallop < 1) {\n      minGallop = 1;\n    }\n\n    if (length2 === 1) {\n      dest -= length1;\n      cursor1 -= length1;\n      customDest = dest + 1;\n      customCursor = cursor1 + 1;\n\n      for (i = length1 - 1; i >= 0; i--) {\n        array[customDest + i] = array[customCursor + i];\n      }\n\n      array[dest] = tmp[cursor2];\n    } else if (length2 === 0) {\n      throw new Error(); // throw new Error('mergeHigh preconditions were not respected');\n    } else {\n      customCursor = dest - (length2 - 1);\n\n      for (i = 0; i < length2; i++) {\n        array[customCursor + i] = tmp[i];\n      }\n    }\n  }\n\n  this.mergeRuns = mergeRuns;\n  this.forceMergeRuns = forceMergeRuns;\n  this.pushRun = pushRun;\n}\n\nfunction sort(array, compare, lo, hi) {\n  if (!lo) {\n    lo = 0;\n  }\n\n  if (!hi) {\n    hi = array.length;\n  }\n\n  var remaining = hi - lo;\n\n  if (remaining < 2) {\n    return;\n  }\n\n  var runLength = 0;\n\n  if (remaining < DEFAULT_MIN_MERGE) {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n    binaryInsertionSort(array, lo, hi, lo + runLength, compare);\n    return;\n  }\n\n  var ts = new TimSort(array, compare);\n  var minRun = minRunLength(remaining);\n\n  do {\n    runLength = makeAscendingRun(array, lo, hi, compare);\n\n    if (runLength < minRun) {\n      var force = remaining;\n\n      if (force > minRun) {\n        force = minRun;\n      }\n\n      binaryInsertionSort(array, lo, lo + force, lo + runLength, compare);\n      runLength = force;\n    }\n\n    ts.pushRun(lo, runLength);\n    ts.mergeRuns();\n    remaining -= runLength;\n    lo += runLength;\n  } while (remaining !== 0);\n\n  ts.forceMergeRuns();\n}\n\nmodule.exports = sort;","var fixShadow = require(\"./helper/fixShadow\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar STYLE_COMMON_PROPS = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; // var SHADOW_PROPS = STYLE_COMMON_PROPS.slice(0, 4);\n// var LINE_PROPS = STYLE_COMMON_PROPS.slice(4);\n\nvar Style = function Style(opts) {\n  this.extendFrom(opts, false);\n};\n\nfunction createLinearGradient(ctx, obj, rect) {\n  var x = obj.x == null ? 0 : obj.x;\n  var x2 = obj.x2 == null ? 1 : obj.x2;\n  var y = obj.y == null ? 0 : obj.y;\n  var y2 = obj.y2 == null ? 0 : obj.y2;\n\n  if (!obj.global) {\n    x = x * rect.width + rect.x;\n    x2 = x2 * rect.width + rect.x;\n    y = y * rect.height + rect.y;\n    y2 = y2 * rect.height + rect.y;\n  } // Fix NaN when rect is Infinity\n\n\n  x = isNaN(x) ? 0 : x;\n  x2 = isNaN(x2) ? 1 : x2;\n  y = isNaN(y) ? 0 : y;\n  y2 = isNaN(y2) ? 0 : y2;\n  var canvasGradient = ctx.createLinearGradient(x, y, x2, y2);\n  return canvasGradient;\n}\n\nfunction createRadialGradient(ctx, obj, rect) {\n  var width = rect.width;\n  var height = rect.height;\n  var min = Math.min(width, height);\n  var x = obj.x == null ? 0.5 : obj.x;\n  var y = obj.y == null ? 0.5 : obj.y;\n  var r = obj.r == null ? 0.5 : obj.r;\n\n  if (!obj.global) {\n    x = x * width + rect.x;\n    y = y * height + rect.y;\n    r = r * min;\n  }\n\n  var canvasGradient = ctx.createRadialGradient(x, y, 0, x, y, r);\n  return canvasGradient;\n}\n\nStyle.prototype = {\n  constructor: Style,\n\n  /**\n   * @type {string}\n   */\n  fill: '#000',\n\n  /**\n   * @type {string}\n   */\n  stroke: null,\n\n  /**\n   * @type {number}\n   */\n  opacity: 1,\n\n  /**\n   * @type {number}\n   */\n  fillOpacity: null,\n\n  /**\n   * @type {number}\n   */\n  strokeOpacity: null,\n\n  /**\n   * `true` is not supported.\n   * `false`/`null`/`undefined` are the same.\n   * `false` is used to remove lineDash in some\n   * case that `null`/`undefined` can not be set.\n   * (e.g., emphasis.lineStyle in echarts)\n   * @type {Array.<number>|boolean}\n   */\n  lineDash: null,\n\n  /**\n   * @type {number}\n   */\n  lineDashOffset: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  shadowOffsetY: 0,\n\n  /**\n   * @type {number}\n   */\n  lineWidth: 1,\n\n  /**\n   * If stroke ignore scale\n   * @type {Boolean}\n   */\n  strokeNoScale: false,\n  // Bounding rect text configuration\n  // Not affected by element transform\n\n  /**\n   * @type {string}\n   */\n  text: null,\n\n  /**\n   * If `fontSize` or `fontFamily` exists, `font` will be reset by\n   * `fontSize`, `fontStyle`, `fontWeight`, `fontFamily`.\n   * So do not visit it directly in upper application (like echarts),\n   * but use `contain/text#makeFont` instead.\n   * @type {string}\n   */\n  font: null,\n\n  /**\n   * The same as font. Use font please.\n   * @deprecated\n   * @type {string}\n   */\n  textFont: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontStyle: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontWeight: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * Should be 12 but not '12px'.\n   * @type {number}\n   */\n  fontSize: null,\n\n  /**\n   * It helps merging respectively, rather than parsing an entire font string.\n   * @type {string}\n   */\n  fontFamily: null,\n\n  /**\n   * Reserved for special functinality, like 'hr'.\n   * @type {string}\n   */\n  textTag: null,\n\n  /**\n   * @type {string}\n   */\n  textFill: '#000',\n\n  /**\n   * @type {string}\n   */\n  textStroke: null,\n\n  /**\n   * @type {number}\n   */\n  textWidth: null,\n\n  /**\n   * Only for textBackground.\n   * @type {number}\n   */\n  textHeight: null,\n\n  /**\n   * textStroke may be set as some color as a default\n   * value in upper applicaion, where the default value\n   * of textStrokeWidth should be 0 to make sure that\n   * user can choose to do not use text stroke.\n   * @type {number}\n   */\n  textStrokeWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textLineHeight: null,\n\n  /**\n   * 'inside', 'left', 'right', 'top', 'bottom'\n   * [x, y]\n   * Based on x, y of rect.\n   * @type {string|Array.<number>}\n   * @default 'inside'\n   */\n  textPosition: 'inside',\n\n  /**\n   * If not specified, use the boundingRect of a `displayable`.\n   * @type {Object}\n   */\n  textRect: null,\n\n  /**\n   * [x, y]\n   * @type {Array.<number>}\n   */\n  textOffset: null,\n\n  /**\n   * @type {string}\n   */\n  textAlign: null,\n\n  /**\n   * @type {string}\n   */\n  textVerticalAlign: null,\n\n  /**\n   * @type {number}\n   */\n  textDistance: 5,\n\n  /**\n   * @type {string}\n   */\n  textShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textShadowOffsetY: 0,\n\n  /**\n   * @type {string}\n   */\n  textBoxShadowColor: 'transparent',\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowBlur: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetX: 0,\n\n  /**\n   * @type {number}\n   */\n  textBoxShadowOffsetY: 0,\n\n  /**\n   * Whether transform text.\n   * Only useful in Path and Image element\n   * @type {boolean}\n   */\n  transformText: false,\n\n  /**\n   * Text rotate around position of Path or Image\n   * Only useful in Path and Image element and transformText is false.\n   */\n  textRotation: 0,\n\n  /**\n   * Text origin of text rotation, like [10, 40].\n   * Based on x, y of rect.\n   * Useful in label rotation of circular symbol.\n   * By default, this origin is textPosition.\n   * Can be 'center'.\n   * @type {string|Array.<number>}\n   */\n  textOrigin: null,\n\n  /**\n   * @type {string}\n   */\n  textBackgroundColor: null,\n\n  /**\n   * @type {string}\n   */\n  textBorderColor: null,\n\n  /**\n   * @type {number}\n   */\n  textBorderWidth: 0,\n\n  /**\n   * @type {number}\n   */\n  textBorderRadius: 0,\n\n  /**\n   * Can be `2` or `[2, 4]` or `[2, 3, 4, 5]`\n   * @type {number|Array.<number>}\n   */\n  textPadding: null,\n\n  /**\n   * Text styles for rich text.\n   * @type {Object}\n   */\n  rich: null,\n\n  /**\n   * {outerWidth, outerHeight, ellipsis, placeholder}\n   * @type {Object}\n   */\n  truncate: null,\n\n  /**\n   * https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n   * @type {string}\n   */\n  blend: null,\n\n  /**\n   * @param {CanvasRenderingContext2D} ctx\n   */\n  bind: function bind(ctx, el, prevEl) {\n    var style = this;\n    var prevStyle = prevEl && prevEl.style; // If no prevStyle, it means first draw.\n    // Only apply cache if the last time cachced by this function.\n\n    var notCheckCache = !prevStyle || ctx.__attrCachedBy !== ContextCachedBy.STYLE_BIND;\n    ctx.__attrCachedBy = ContextCachedBy.STYLE_BIND;\n\n    for (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n      var prop = STYLE_COMMON_PROPS[i];\n      var styleName = prop[0];\n\n      if (notCheckCache || style[styleName] !== prevStyle[styleName]) {\n        // FIXME Invalid property value will cause style leak from previous element.\n        ctx[styleName] = fixShadow(ctx, styleName, style[styleName] || prop[1]);\n      }\n    }\n\n    if (notCheckCache || style.fill !== prevStyle.fill) {\n      ctx.fillStyle = style.fill;\n    }\n\n    if (notCheckCache || style.stroke !== prevStyle.stroke) {\n      ctx.strokeStyle = style.stroke;\n    }\n\n    if (notCheckCache || style.opacity !== prevStyle.opacity) {\n      ctx.globalAlpha = style.opacity == null ? 1 : style.opacity;\n    }\n\n    if (notCheckCache || style.blend !== prevStyle.blend) {\n      ctx.globalCompositeOperation = style.blend || 'source-over';\n    }\n\n    if (this.hasStroke()) {\n      var lineWidth = style.lineWidth;\n      ctx.lineWidth = lineWidth / (this.strokeNoScale && el && el.getLineScale ? el.getLineScale() : 1);\n    }\n  },\n  hasFill: function hasFill() {\n    var fill = this.fill;\n    return fill != null && fill !== 'none';\n  },\n  hasStroke: function hasStroke() {\n    var stroke = this.stroke;\n    return stroke != null && stroke !== 'none' && this.lineWidth > 0;\n  },\n\n  /**\n   * Extend from other style\n   * @param {zrender/graphic/Style} otherStyle\n   * @param {boolean} overwrite true: overwrirte any way.\n   *                            false: overwrite only when !target.hasOwnProperty\n   *                            others: overwrite when property is not null/undefined.\n   */\n  extendFrom: function extendFrom(otherStyle, overwrite) {\n    if (otherStyle) {\n      for (var name in otherStyle) {\n        if (otherStyle.hasOwnProperty(name) && (overwrite === true || (overwrite === false ? !this.hasOwnProperty(name) : otherStyle[name] != null))) {\n          this[name] = otherStyle[name];\n        }\n      }\n    }\n  },\n\n  /**\n   * Batch setting style with a given object\n   * @param {Object|string} obj\n   * @param {*} [obj]\n   */\n  set: function set(obj, value) {\n    if (typeof obj === 'string') {\n      this[obj] = value;\n    } else {\n      this.extendFrom(obj, true);\n    }\n  },\n\n  /**\n   * Clone\n   * @return {zrender/graphic/Style} [description]\n   */\n  clone: function clone() {\n    var newStyle = new this.constructor();\n    newStyle.extendFrom(this, true);\n    return newStyle;\n  },\n  getGradient: function getGradient(ctx, obj, rect) {\n    var method = obj.type === 'radial' ? createRadialGradient : createLinearGradient;\n    var canvasGradient = method(ctx, obj, rect);\n    var colorStops = obj.colorStops;\n\n    for (var i = 0; i < colorStops.length; i++) {\n      canvasGradient.addColorStop(colorStops[i].offset, colorStops[i].color);\n    }\n\n    return canvasGradient;\n  }\n};\nvar styleProto = Style.prototype;\n\nfor (var i = 0; i < STYLE_COMMON_PROPS.length; i++) {\n  var prop = STYLE_COMMON_PROPS[i];\n\n  if (!(prop[0] in styleProto)) {\n    styleProto[prop[0]] = prop[1];\n  }\n} // Provide for others\n\n\nStyle.getGradient = styleProto.getGradient;\nvar _default = Style;\nmodule.exports = _default;","var Displayable = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar imageHelper = require(\"./helper/image\");\n/**\n * @alias zrender/graphic/Image\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\n\nfunction ZImage(opts) {\n  Displayable.call(this, opts);\n}\n\nZImage.prototype = {\n  constructor: ZImage,\n  type: 'image',\n  brush: function brush(ctx, prevEl) {\n    var style = this.style;\n    var src = style.image; // Must bind each time\n\n    style.bind(ctx, this, prevEl);\n    var image = this._image = imageHelper.createOrUpdateImage(src, this._image, this, this.onload);\n\n    if (!image || !imageHelper.isImageReady(image)) {\n      return;\n    } // \n    // if (image.nodeName.toUpperCase() == 'IMG') {\n    //     if (!image.complete) {\n    //         return;\n    //     }\n    // }\n    // Else is canvas\n\n\n    var x = style.x || 0;\n    var y = style.y || 0;\n    var width = style.width;\n    var height = style.height;\n    var aspect = image.width / image.height;\n\n    if (width == null && height != null) {\n      // Keep image/height ratio\n      width = height * aspect;\n    } else if (height == null && width != null) {\n      height = width / aspect;\n    } else if (width == null && height == null) {\n      width = image.width;\n      height = image.height;\n    } // transform\n\n\n    this.setTransform(ctx);\n\n    if (style.sWidth && style.sHeight) {\n      var sx = style.sx || 0;\n      var sy = style.sy || 0;\n      ctx.drawImage(image, sx, sy, style.sWidth, style.sHeight, x, y, width, height);\n    } else if (style.sx && style.sy) {\n      var sx = style.sx;\n      var sy = style.sy;\n      var sWidth = width - sx;\n      var sHeight = height - sy;\n      ctx.drawImage(image, sx, sy, sWidth, sHeight, x, y, width, height);\n    } else {\n      ctx.drawImage(image, x, y, width, height);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  getBoundingRect: function getBoundingRect() {\n    var style = this.style;\n\n    if (!this._rect) {\n      this._rect = new BoundingRect(style.x || 0, style.y || 0, style.width || 0, style.height || 0);\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(ZImage, Displayable);\nvar _default = ZImage;\nmodule.exports = _default;","var LRU = require(\"../../core/LRU\");\n\nvar globalImageCache = new LRU(50);\n/**\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\nfunction findExistImage(newImageOrSrc) {\n  if (typeof newImageOrSrc === 'string') {\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    return cachedImgObj && cachedImgObj.image;\n  } else {\n    return newImageOrSrc;\n  }\n}\n/**\n * Caution: User should cache loaded images, but not just count on LRU.\n * Consider if required images more than LRU size, will dead loop occur?\n *\n * @param {string|HTMLImageElement|HTMLCanvasElement|Canvas} newImageOrSrc\n * @param {HTMLImageElement|HTMLCanvasElement|Canvas} image Existent image.\n * @param {module:zrender/Element} [hostEl] For calling `dirty`.\n * @param {Function} [cb] params: (image, cbPayload)\n * @param {Object} [cbPayload] Payload on cb calling.\n * @return {HTMLImageElement|HTMLCanvasElement|Canvas} image\n */\n\n\nfunction createOrUpdateImage(newImageOrSrc, image, hostEl, cb, cbPayload) {\n  if (!newImageOrSrc) {\n    return image;\n  } else if (typeof newImageOrSrc === 'string') {\n    // Image should not be loaded repeatly.\n    if (image && image.__zrImageSrc === newImageOrSrc || !hostEl) {\n      return image;\n    } // Only when there is no existent image or existent image src\n    // is different, this method is responsible for load.\n\n\n    var cachedImgObj = globalImageCache.get(newImageOrSrc);\n    var pendingWrap = {\n      hostEl: hostEl,\n      cb: cb,\n      cbPayload: cbPayload\n    };\n\n    if (cachedImgObj) {\n      image = cachedImgObj.image;\n      !isImageReady(image) && cachedImgObj.pending.push(pendingWrap);\n    } else {\n      image = new Image();\n      image.onload = image.onerror = imageOnLoad;\n      globalImageCache.put(newImageOrSrc, image.__cachedImgObj = {\n        image: image,\n        pending: [pendingWrap]\n      });\n      image.src = image.__zrImageSrc = newImageOrSrc;\n    }\n\n    return image;\n  } // newImageOrSrc is an HTMLImageElement or HTMLCanvasElement or Canvas\n  else {\n      return newImageOrSrc;\n    }\n}\n\nfunction imageOnLoad() {\n  var cachedImgObj = this.__cachedImgObj;\n  this.onload = this.onerror = this.__cachedImgObj = null;\n\n  for (var i = 0; i < cachedImgObj.pending.length; i++) {\n    var pendingWrap = cachedImgObj.pending[i];\n    var cb = pendingWrap.cb;\n    cb && cb(this, pendingWrap.cbPayload);\n    pendingWrap.hostEl.dirty();\n  }\n\n  cachedImgObj.pending.length = 0;\n}\n\nfunction isImageReady(image) {\n  return image && image.width && image.height;\n}\n\nexports.findExistImage = findExistImage;\nexports.createOrUpdateImage = createOrUpdateImage;\nexports.isImageReady = isImageReady;","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar textContain = require(\"../contain/text\");\n\nvar textHelper = require(\"./helper/text\");\n\nvar _constant = require(\"./constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\n/**\n * @alias zrender/graphic/Text\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nvar Text = function Text(opts) {\n  // jshint ignore:line\n  Displayable.call(this, opts);\n};\n\nText.prototype = {\n  constructor: Text,\n  type: 'text',\n  brush: function brush(ctx, prevEl) {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true); // Use props with prefix 'text'.\n\n    style.fill = style.stroke = style.shadowBlur = style.shadowColor = style.shadowOffsetX = style.shadowOffsetY = null;\n    var text = style.text; // Convert to string\n\n    text != null && (text += ''); // Do not apply style.bind in Text node. Because the real bind job\n    // is in textHelper.renderText, and performance of text render should\n    // be considered.\n    // style.bind(ctx, this, prevEl);\n\n    if (!textHelper.needDrawText(text, style)) {\n      // The current el.style is not applied\n      // and should not be used as cache.\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n      return;\n    }\n\n    this.setTransform(ctx);\n    textHelper.renderText(this, ctx, text, style, null, prevEl);\n    this.restoreTransform(ctx);\n  },\n  getBoundingRect: function getBoundingRect() {\n    var style = this.style; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n\n    if (!this._rect) {\n      var text = style.text;\n      text != null ? text += '' : text = '';\n      var rect = textContain.getBoundingRect(style.text + '', style.font, style.textAlign, style.textVerticalAlign, style.textPadding, style.textLineHeight, style.rich);\n      rect.x += style.x || 0;\n      rect.y += style.y || 0;\n\n      if (textHelper.getStroke(style.textStroke, style.textStrokeWidth)) {\n        var w = style.textStrokeWidth;\n        rect.x -= w / 2;\n        rect.y -= w / 2;\n        rect.width += w;\n        rect.height += w;\n      }\n\n      this._rect = rect;\n    }\n\n    return this._rect;\n  }\n};\nzrUtil.inherits(Text, Displayable);\nvar _default = Text;\nmodule.exports = _default;","/**\n * Sub-pixel optimize for canvas rendering, prevent from blur\n * when rendering a thin vertical/horizontal line.\n */\nvar round = Math.round;\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x1`, `x2`, `y1`, `y2` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x1]\n * @param {number} [inputShape.y1]\n * @param {number} [inputShape.x2]\n * @param {number} [inputShape.y2]\n * @param {Object} [style]\n * @param {number} [style.lineWidth]\n */\n\nfunction subPixelOptimizeLine(outputShape, inputShape, style) {\n  var lineWidth = style && style.lineWidth;\n\n  if (!inputShape || !lineWidth) {\n    return;\n  }\n\n  var x1 = inputShape.x1;\n  var x2 = inputShape.x2;\n  var y1 = inputShape.y1;\n  var y2 = inputShape.y2;\n\n  if (round(x1 * 2) === round(x2 * 2)) {\n    outputShape.x1 = outputShape.x2 = subPixelOptimize(x1, lineWidth, true);\n  } else {\n    outputShape.x1 = x1;\n    outputShape.x2 = x2;\n  }\n\n  if (round(y1 * 2) === round(y2 * 2)) {\n    outputShape.y1 = outputShape.y2 = subPixelOptimize(y1, lineWidth, true);\n  } else {\n    outputShape.y1 = y1;\n    outputShape.y2 = y2;\n  }\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} outputShape The modification will be performed on `outputShape`.\n *                 `outputShape` and `inputShape` can be the same object.\n *                 `outputShape` object can be used repeatly, because all of\n *                 the `x`, `y`, `width`, `height` will be assigned in this method.\n * @param {Object} [inputShape]\n * @param {number} [inputShape.x]\n * @param {number} [inputShape.y]\n * @param {number} [inputShape.width]\n * @param {number} [inputShape.height]\n * @param {Object} [style]\n * @param {number} [style.lineWidth]\n */\n\n\nfunction subPixelOptimizeRect(outputShape, inputShape, style) {\n  var lineWidth = style && style.lineWidth;\n\n  if (!inputShape || !lineWidth) {\n    return;\n  }\n\n  var originX = inputShape.x;\n  var originY = inputShape.y;\n  var originWidth = inputShape.width;\n  var originHeight = inputShape.height;\n  outputShape.x = subPixelOptimize(originX, lineWidth, true);\n  outputShape.y = subPixelOptimize(originY, lineWidth, true);\n  outputShape.width = Math.max(subPixelOptimize(originX + originWidth, lineWidth, false) - outputShape.x, originWidth === 0 ? 0 : 1);\n  outputShape.height = Math.max(subPixelOptimize(originY + originHeight, lineWidth, false) - outputShape.y, originHeight === 0 ? 0 : 1);\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nfunction subPixelOptimize(position, lineWidth, positiveOrNegative) {\n  // Assure that (position + lineWidth / 2) is near integer edge,\n  // otherwise line will be fuzzy in canvas.\n  var doubledPosition = round(position * 2);\n  return (doubledPosition + round(lineWidth)) % 2 === 0 ? doubledPosition / 2 : (doubledPosition + (positiveOrNegative ? 1 : -1)) / 2;\n}\n\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;","/**\n * @param {Array.<Object>} colorStops\n */\nvar Gradient = function Gradient(colorStops) {\n  this.colorStops = colorStops || [];\n};\n\nGradient.prototype = {\n  constructor: Gradient,\n  addColorStop: function addColorStop(offset, color) {\n    this.colorStops.push({\n      offset: offset,\n      color: color\n    });\n  }\n};\nvar _default = Gradient;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar coordinateSystemCreators = {};\n\nfunction CoordinateSystemManager() {\n  this._coordinateSystems = [];\n}\n\nCoordinateSystemManager.prototype = {\n  constructor: CoordinateSystemManager,\n  create: function create(ecModel, api) {\n    var coordinateSystems = [];\n    zrUtil.each(coordinateSystemCreators, function (creater, type) {\n      var list = creater.create(ecModel, api);\n      coordinateSystems = coordinateSystems.concat(list || []);\n    });\n    this._coordinateSystems = coordinateSystems;\n  },\n  update: function update(ecModel, api) {\n    zrUtil.each(this._coordinateSystems, function (coordSys) {\n      coordSys.update && coordSys.update(ecModel, api);\n    });\n  },\n  getCoordinateSystems: function getCoordinateSystems() {\n    return this._coordinateSystems.slice();\n  }\n};\n\nCoordinateSystemManager.register = function (type, coordinateSystemCreator) {\n  coordinateSystemCreators[type] = coordinateSystemCreator;\n};\n\nCoordinateSystemManager.get = function (type) {\n  return coordinateSystemCreators[type];\n};\n\nvar _default = CoordinateSystemManager;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar assert = _util.assert;\nvar isArray = _util.isArray;\n\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @param {Object} define\n * @return See the return of `createTask`.\n */\n\nfunction createTask(define) {\n  return new Task(define);\n}\n/**\n * @constructor\n * @param {Object} define\n * @param {Function} define.reset Custom reset\n * @param {Function} [define.plan] Returns 'reset' indicate reset immediately.\n * @param {Function} [define.count] count is used to determin data task.\n * @param {Function} [define.onDirty] count is used to determin data task.\n */\n\n\nfunction Task(define) {\n  define = define || {};\n  this._reset = define.reset;\n  this._plan = define.plan;\n  this._count = define.count;\n  this._onDirty = define.onDirty;\n  this._dirty = true; // Context must be specified implicitly, to\n  // avoid miss update context when model changed.\n\n  this.context;\n}\n\nvar taskProto = Task.prototype;\n/**\n * @param {Object} performArgs\n * @param {number} [performArgs.step] Specified step.\n * @param {number} [performArgs.skip] Skip customer perform call.\n * @param {number} [performArgs.modBy] Sampling window size.\n * @param {number} [performArgs.modDataCount] Sampling count.\n */\n\ntaskProto.perform = function (performArgs) {\n  var upTask = this._upstream;\n  var skip = performArgs && performArgs.skip; // TODO some refactor.\n  // Pull data. Must pull data each time, because context.data\n  // may be updated by Series.setData.\n\n  if (this._dirty && upTask) {\n    var context = this.context;\n    context.data = context.outputData = upTask.context.outputData;\n  }\n\n  if (this.__pipeline) {\n    this.__pipeline.currentTask = this;\n  }\n\n  var planResult;\n\n  if (this._plan && !skip) {\n    planResult = this._plan(this.context);\n  } // Support sharding by mod, which changes the render sequence and makes the rendered graphic\n  // elements uniformed distributed when progress, especially when moving or zooming.\n\n\n  var lastModBy = normalizeModBy(this._modBy);\n  var lastModDataCount = this._modDataCount || 0;\n  var modBy = normalizeModBy(performArgs && performArgs.modBy);\n  var modDataCount = performArgs && performArgs.modDataCount || 0;\n\n  if (lastModBy !== modBy || lastModDataCount !== modDataCount) {\n    planResult = 'reset';\n  }\n\n  function normalizeModBy(val) {\n    !(val >= 1) && (val = 1); // jshint ignore:line\n\n    return val;\n  }\n\n  var forceFirstProgress;\n\n  if (this._dirty || planResult === 'reset') {\n    this._dirty = false;\n    forceFirstProgress = reset(this, skip);\n  }\n\n  this._modBy = modBy;\n  this._modDataCount = modDataCount;\n  var step = performArgs && performArgs.step;\n\n  if (upTask) {\n    this._dueEnd = upTask._outputDueEnd;\n  } // DataTask or overallTask\n  else {\n      this._dueEnd = this._count ? this._count(this.context) : Infinity;\n    } // Note: Stubs, that its host overall task let it has progress, has progress.\n  // If no progress, pass index from upstream to downstream each time plan called.\n\n\n  if (this._progress) {\n    var start = this._dueIndex;\n    var end = Math.min(step != null ? this._dueIndex + step : Infinity, this._dueEnd);\n\n    if (!skip && (forceFirstProgress || start < end)) {\n      var progress = this._progress;\n\n      if (isArray(progress)) {\n        for (var i = 0; i < progress.length; i++) {\n          doProgress(this, progress[i], start, end, modBy, modDataCount);\n        }\n      } else {\n        doProgress(this, progress, start, end, modBy, modDataCount);\n      }\n    }\n\n    this._dueIndex = end; // If no `outputDueEnd`, assume that output data and\n    // input data is the same, so use `dueIndex` as `outputDueEnd`.\n\n    var outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : end;\n    this._outputDueEnd = outputDueEnd;\n  } else {\n    // (1) Some overall task has no progress.\n    // (2) Stubs, that its host overall task do not let it has progress, has no progress.\n    // This should always be performed so it can be passed to downstream.\n    this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd;\n  }\n\n  return this.unfinished();\n};\n\nvar iterator = function () {\n  var end;\n  var current;\n  var modBy;\n  var modDataCount;\n  var winCount;\n  var it = {\n    reset: function reset(s, e, sStep, sCount) {\n      current = s;\n      end = e;\n      modBy = sStep;\n      modDataCount = sCount;\n      winCount = Math.ceil(modDataCount / modBy);\n      it.next = modBy > 1 && modDataCount > 0 ? modNext : sequentialNext;\n    }\n  };\n  return it;\n\n  function sequentialNext() {\n    return current < end ? current++ : null;\n  }\n\n  function modNext() {\n    var dataIndex = current % winCount * modBy + Math.ceil(current / winCount);\n    var result = current >= end ? null : dataIndex < modDataCount ? dataIndex // If modDataCount is smaller than data.count() (consider `appendData` case),\n    // Use normal linear rendering mode.\n    : current;\n    current++;\n    return result;\n  }\n}();\n\ntaskProto.dirty = function () {\n  this._dirty = true;\n  this._onDirty && this._onDirty(this.context);\n};\n\nfunction doProgress(taskIns, progress, start, end, modBy, modDataCount) {\n  iterator.reset(start, end, modBy, modDataCount);\n  taskIns._callingProgress = progress;\n\n  taskIns._callingProgress({\n    start: start,\n    end: end,\n    count: end - start,\n    next: iterator.next\n  }, taskIns.context);\n}\n\nfunction reset(taskIns, skip) {\n  taskIns._dueIndex = taskIns._outputDueEnd = taskIns._dueEnd = 0;\n  taskIns._settedOutputEnd = null;\n  var progress;\n  var forceFirstProgress;\n\n  if (!skip && taskIns._reset) {\n    progress = taskIns._reset(taskIns.context);\n\n    if (progress && progress.progress) {\n      forceFirstProgress = progress.forceFirstProgress;\n      progress = progress.progress;\n    } // To simplify no progress checking, array must has item.\n\n\n    if (isArray(progress) && !progress.length) {\n      progress = null;\n    }\n  }\n\n  taskIns._progress = progress;\n  taskIns._modBy = taskIns._modDataCount = null;\n  var downstream = taskIns._downstream;\n  downstream && downstream.dirty();\n  return forceFirstProgress;\n}\n/**\n * @return {boolean}\n */\n\n\ntaskProto.unfinished = function () {\n  return this._progress && this._dueIndex < this._dueEnd;\n};\n/**\n * @param {Object} downTask The downstream task.\n * @return {Object} The downstream task.\n */\n\n\ntaskProto.pipe = function (downTask) {\n  // If already downstream, do not dirty downTask.\n  if (this._downstream !== downTask || this._dirty) {\n    this._downstream = downTask;\n    downTask._upstream = this;\n    downTask.dirty();\n  }\n};\n\ntaskProto.dispose = function () {\n  if (this._disposed) {\n    return;\n  }\n\n  this._upstream && (this._upstream._downstream = null);\n  this._downstream && (this._downstream._upstream = null);\n  this._dirty = false;\n  this._disposed = true;\n};\n\ntaskProto.getUpstream = function () {\n  return this._upstream;\n};\n\ntaskProto.getDownstream = function () {\n  return this._downstream;\n};\n\ntaskProto.setOutputEnd = function (end) {\n  // This only happend in dataTask, dataZoom, map, currently.\n  // where dataZoom do not set end each time, but only set\n  // when reset. So we should record the setted end, in case\n  // that the stub of dataZoom perform again and earse the\n  // setted end by upstream.\n  this._outputDueEnd = this._settedOutputEnd = end;\n}; ///////////////////////////////////////////////////////////\n// For stream debug (Should be commented out after used!)\n// Usage: printTask(this, 'begin');\n// Usage: printTask(this, null, {someExtraProp});\n// function printTask(task, prefix, extra) {\n//     window.ecTaskUID == null && (window.ecTaskUID = 0);\n//     task.uidDebug == null && (task.uidDebug = `task_${window.ecTaskUID++}`);\n//     task.agent && task.agent.uidDebug == null && (task.agent.uidDebug = `task_${window.ecTaskUID++}`);\n//     var props = [];\n//     if (task.__pipeline) {\n//         var val = `${task.__idxInPipeline}/${task.__pipeline.tail.__idxInPipeline} ${task.agent ? '(stub)' : ''}`;\n//         props.push({text: 'idx', value: val});\n//     } else {\n//         var stubCount = 0;\n//         task.agentStubMap.each(() => stubCount++);\n//         props.push({text: 'idx', value: `overall (stubs: ${stubCount})`});\n//     }\n//     props.push({text: 'uid', value: task.uidDebug});\n//     if (task.__pipeline) {\n//         props.push({text: 'pid', value: task.__pipeline.id});\n//         task.agent && props.push(\n//             {text: 'stubFor', value: task.agent.uidDebug}\n//         );\n//     }\n//     props.push(\n//         {text: 'dirty', value: task._dirty},\n//         {text: 'dueIndex', value: task._dueIndex},\n//         {text: 'dueEnd', value: task._dueEnd},\n//         {text: 'outputDueEnd', value: task._outputDueEnd}\n//     );\n//     if (extra) {\n//         Object.keys(extra).forEach(key => {\n//             props.push({text: key, value: extra[key]});\n//         });\n//     }\n//     var args = ['color: blue'];\n//     var msg = `%c[${prefix || 'T'}] %c` + props.map(item => (\n//         args.push('color: black', 'color: red'),\n//         `${item.text}: %c${item.value}`\n//     )).join('%c, ');\n//     console.log.apply(console, [msg].concat(args));\n//     // console.log(this);\n// }\n\n\nexports.createTask = createTask;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar componentUtil = require(\"../util/component\");\n\nvar clazzUtil = require(\"../util/clazz\");\n\nvar modelUtil = require(\"../util/model\");\n\nvar graphicUtil = require(\"../util/graphic\");\n\nvar _task = require(\"../stream/task\");\n\nvar createTask = _task.createTask;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar inner = modelUtil.makeInner();\nvar renderPlanner = createRenderPlanner();\n\nfunction Chart() {\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n  this.group = new Group();\n  /**\n   * @type {string}\n   * @readOnly\n   */\n\n  this.uid = componentUtil.getUID('viewChart');\n  this.renderTask = createTask({\n    plan: renderTaskPlan,\n    reset: renderTaskReset\n  });\n  this.renderTask.context = {\n    view: this\n  };\n}\n\nChart.prototype = {\n  type: 'chart',\n\n  /**\n   * Init the chart.\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  init: function init(ecModel, api) {},\n\n  /**\n   * Render the chart.\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  render: function render(seriesModel, ecModel, api, payload) {},\n\n  /**\n   * Highlight series or specified data item.\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  highlight: function highlight(seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'emphasis');\n  },\n\n  /**\n   * Downplay series or specified data item.\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  downplay: function downplay(seriesModel, ecModel, api, payload) {\n    toggleHighlight(seriesModel.getData(), payload, 'normal');\n  },\n\n  /**\n   * Remove self.\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  remove: function remove(ecModel, api) {\n    this.group.removeAll();\n  },\n\n  /**\n   * Dispose self.\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   */\n  dispose: function dispose() {},\n\n  /**\n   * Rendering preparation in progressive mode.\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  incrementalPrepareRender: null,\n\n  /**\n   * Render in progressive mode.\n   * @param  {Object} params See taskParams in `stream/task.js`\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   */\n  incrementalRender: null,\n\n  /**\n   * Update transform directly.\n   * @param  {module:echarts/model/Series} seriesModel\n   * @param  {module:echarts/model/Global} ecModel\n   * @param  {module:echarts/ExtensionAPI} api\n   * @param  {Object} payload\n   * @return {Object} {update: true}\n   */\n  updateTransform: null,\n\n  /**\n   * The view contains the given point.\n   * @interface\n   * @param {Array.<number>} point\n   * @return {boolean}\n   */\n  // containPoint: function () {}\n\n  /**\n   * @param {string} eventType\n   * @param {Object} query\n   * @param {module:zrender/Element} targetEl\n   * @param {Object} packedEvent\n   * @return {boolen} Pass only when return `true`.\n   */\n  filterForExposedEvent: null\n};\nvar chartProto = Chart.prototype;\n\nchartProto.updateView = chartProto.updateLayout = chartProto.updateVisual = function (seriesModel, ecModel, api, payload) {\n  this.render(seriesModel, ecModel, api, payload);\n};\n/**\n * Set state of single element\n * @param {module:zrender/Element} el\n * @param {string} state 'normal'|'emphasis'\n * @param {number} highlightDigit\n */\n\n\nfunction elSetState(el, state, highlightDigit) {\n  if (el) {\n    el.trigger(state, highlightDigit);\n\n    if (el.isGroup // Simple optimize.\n    && !graphicUtil.isHighDownDispatcher(el)) {\n      for (var i = 0, len = el.childCount(); i < len; i++) {\n        elSetState(el.childAt(i), state, highlightDigit);\n      }\n    }\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload\n * @param {string} state 'normal'|'emphasis'\n */\n\n\nfunction toggleHighlight(data, payload, state) {\n  var dataIndex = modelUtil.queryDataIndex(data, payload);\n  var highlightDigit = payload && payload.highlightKey != null ? graphicUtil.getHighlightDigit(payload.highlightKey) : null;\n\n  if (dataIndex != null) {\n    each(modelUtil.normalizeToArray(dataIndex), function (dataIdx) {\n      elSetState(data.getItemGraphicEl(dataIdx), state, highlightDigit);\n    });\n  } else {\n    data.eachItemGraphicEl(function (el) {\n      elSetState(el, state, highlightDigit);\n    });\n  }\n} // Enable Chart.extend.\n\n\nclazzUtil.enableClassExtend(Chart, ['dispose']); // Add capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nclazzUtil.enableClassManagement(Chart, {\n  registerWhenExtend: true\n});\n\nChart.markUpdateMethod = function (payload, methodName) {\n  inner(payload).updateMethod = methodName;\n};\n\nfunction renderTaskPlan(context) {\n  return renderPlanner(context.model);\n}\n\nfunction renderTaskReset(context) {\n  var seriesModel = context.model;\n  var ecModel = context.ecModel;\n  var api = context.api;\n  var payload = context.payload; // ???! remove updateView updateVisual\n\n  var progressiveRender = seriesModel.pipelineContext.progressiveRender;\n  var view = context.view;\n  var updateMethod = payload && inner(payload).updateMethod;\n  var methodName = progressiveRender ? 'incrementalPrepareRender' : updateMethod && view[updateMethod] ? updateMethod // `appendData` is also supported when data amount\n  // is less than progressive threshold.\n  : 'render';\n\n  if (methodName !== 'render') {\n    view[methodName](seriesModel, ecModel, api, payload);\n  }\n\n  return progressMethodMap[methodName];\n}\n\nvar progressMethodMap = {\n  incrementalPrepareRender: {\n    progress: function progress(params, context) {\n      context.view.incrementalRender(params, context.model, context.ecModel, context.api, context.payload);\n    }\n  },\n  render: {\n    // Put view.render in `progress` to support appendData. But in this case\n    // view.render should not be called in reset, otherwise it will be called\n    // twise. Use `forceFirstProgress` to make sure that view.render is called\n    // in any cases.\n    forceFirstProgress: true,\n    progress: function progress(params, context) {\n      context.view.render(context.model, context.ecModel, context.api, context.payload);\n    }\n  }\n};\nvar _default = Chart;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @return {string} If large mode changed, return string 'reset';\n */\n\nfunction _default() {\n  var inner = makeInner();\n  return function (seriesModel) {\n    var fields = inner(seriesModel);\n    var pipelineContext = seriesModel.pipelineContext;\n    var originalLarge = fields.large;\n    var originalProgressive = fields.progressiveRender;\n    var large = fields.large = pipelineContext.large;\n    var progressive = fields.progressiveRender = pipelineContext.progressiveRender;\n    return !!(originalLarge ^ large || originalProgressive ^ progressive) && 'reset';\n  };\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Model = require(\"../model/Model\");\n\nvar DataDiffer = require(\"./DataDiffer\");\n\nvar Source = require(\"./Source\");\n\nvar _dataProvider = require(\"./helper/dataProvider\");\n\nvar defaultDimValueGetters = _dataProvider.defaultDimValueGetters;\nvar DefaultDataProvider = _dataProvider.DefaultDataProvider;\n\nvar _dimensionHelper = require(\"./helper/dimensionHelper\");\n\nvar summarizeDimensions = _dimensionHelper.summarizeDimensions;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float64Array, Int32Array, Uint32Array, Uint16Array */\n\n/**\n * List for data storage\n * @module echarts/data/List\n */\n\nvar isObject = zrUtil.isObject;\nvar UNDEFINED = 'undefined';\nvar INDEX_NOT_FOUND = -1; // Use prefix to avoid index to be the same as otherIdList[idx],\n// which will cause weird udpate animation.\n\nvar ID_PREFIX = 'e\\0\\0';\nvar dataCtors = {\n  'float': typeof Float64Array === UNDEFINED ? Array : Float64Array,\n  'int': typeof Int32Array === UNDEFINED ? Array : Int32Array,\n  // Ordinal data type can be string or int\n  'ordinal': Array,\n  'number': Array,\n  'time': Array\n}; // Caution: MUST not use `new CtorUint32Array(arr, 0, len)`, because the Ctor of array is\n// different from the Ctor of typed array.\n\nvar CtorUint32Array = typeof Uint32Array === UNDEFINED ? Array : Uint32Array;\nvar CtorInt32Array = typeof Int32Array === UNDEFINED ? Array : Int32Array;\nvar CtorUint16Array = typeof Uint16Array === UNDEFINED ? Array : Uint16Array;\n\nfunction getIndicesCtor(list) {\n  // The possible max value in this._indicies is always this._rawCount despite of filtering.\n  return list._rawCount > 65535 ? CtorUint32Array : CtorUint16Array;\n}\n\nfunction cloneChunk(originalChunk) {\n  var Ctor = originalChunk.constructor; // Only shallow clone is enough when Array.\n\n  return Ctor === Array ? originalChunk.slice() : new Ctor(originalChunk);\n}\n\nvar TRANSFERABLE_PROPERTIES = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_chunkSize', '_chunkCount', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx'];\nvar CLONE_PROPERTIES = ['_extent', '_approximateExtent', '_rawExtent'];\n\nfunction transferProperties(target, source) {\n  zrUtil.each(TRANSFERABLE_PROPERTIES.concat(source.__wrappedMethods || []), function (propName) {\n    if (source.hasOwnProperty(propName)) {\n      target[propName] = source[propName];\n    }\n  });\n  target.__wrappedMethods = source.__wrappedMethods;\n  zrUtil.each(CLONE_PROPERTIES, function (propName) {\n    target[propName] = zrUtil.clone(source[propName]);\n  });\n  target._calculationInfo = zrUtil.extend(source._calculationInfo);\n}\n/**\n * @constructor\n * @alias module:echarts/data/List\n *\n * @param {Array.<string|Object>} dimensions\n *      For example, ['someDimName', {name: 'someDimName', type: 'someDimType'}, ...].\n *      Dimensions should be concrete names like x, y, z, lng, lat, angle, radius\n *      Spetial fields: {\n *          ordinalMeta: <module:echarts/data/OrdinalMeta>\n *          createInvertedIndices: <boolean>\n *      }\n * @param {module:echarts/model/Model} hostModel\n */\n\n\nvar List = function List(dimensions, hostModel) {\n  dimensions = dimensions || ['x', 'y'];\n  var dimensionInfos = {};\n  var dimensionNames = [];\n  var invertedIndicesMap = {};\n\n  for (var i = 0; i < dimensions.length; i++) {\n    // Use the original dimensions[i], where other flag props may exists.\n    var dimensionInfo = dimensions[i];\n\n    if (zrUtil.isString(dimensionInfo)) {\n      dimensionInfo = {\n        name: dimensionInfo\n      };\n    }\n\n    var dimensionName = dimensionInfo.name;\n    dimensionInfo.type = dimensionInfo.type || 'float';\n\n    if (!dimensionInfo.coordDim) {\n      dimensionInfo.coordDim = dimensionName;\n      dimensionInfo.coordDimIndex = 0;\n    }\n\n    dimensionInfo.otherDims = dimensionInfo.otherDims || {};\n    dimensionNames.push(dimensionName);\n    dimensionInfos[dimensionName] = dimensionInfo;\n    dimensionInfo.index = i;\n\n    if (dimensionInfo.createInvertedIndices) {\n      invertedIndicesMap[dimensionName] = [];\n    }\n  }\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n\n\n  this.dimensions = dimensionNames;\n  /**\n   * Infomation of each data dimension, like data type.\n   * @type {Object}\n   */\n\n  this._dimensionInfos = dimensionInfos;\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.hostModel = hostModel;\n  /**\n   * @type {module:echarts/model/Model}\n   */\n\n  this.dataType;\n  /**\n   * Indices stores the indices of data subset after filtered.\n   * This data subset will be used in chart.\n   * @type {Array.<number>}\n   * @readOnly\n   */\n\n  this._indices = null;\n  this._count = 0;\n  this._rawCount = 0;\n  /**\n   * Data storage\n   * @type {Object.<key, Array.<TypedArray|Array>>}\n   * @private\n   */\n\n  this._storage = {};\n  /**\n   * @type {Array.<string>}\n   */\n\n  this._nameList = [];\n  /**\n   * @type {Array.<string>}\n   */\n\n  this._idList = [];\n  /**\n   * Models of data option is stored sparse for optimizing memory cost\n   * @type {Array.<module:echarts/model/Model>}\n   * @private\n   */\n\n  this._optionModels = [];\n  /**\n   * Global visual properties after visual coding\n   * @type {Object}\n   * @private\n   */\n\n  this._visual = {};\n  /**\n   * Globel layout properties.\n   * @type {Object}\n   * @private\n   */\n\n  this._layout = {};\n  /**\n   * Item visual properties after visual coding\n   * @type {Array.<Object>}\n   * @private\n   */\n\n  this._itemVisuals = [];\n  /**\n   * Key: visual type, Value: boolean\n   * @type {Object}\n   * @readOnly\n   */\n\n  this.hasItemVisual = {};\n  /**\n   * Item layout properties after layout\n   * @type {Array.<Object>}\n   * @private\n   */\n\n  this._itemLayouts = [];\n  /**\n   * Graphic elemnents\n   * @type {Array.<module:zrender/Element>}\n   * @private\n   */\n\n  this._graphicEls = [];\n  /**\n   * Max size of each chunk.\n   * @type {number}\n   * @private\n   */\n\n  this._chunkSize = 1e5;\n  /**\n   * @type {number}\n   * @private\n   */\n\n  this._chunkCount = 0;\n  /**\n   * @type {Array.<Array|Object>}\n   * @private\n   */\n\n  this._rawData;\n  /**\n   * Raw extent will not be cloned, but only transfered.\n   * It will not be calculated util needed.\n   * key: dim,\n   * value: {end: number, extent: Array.<number>}\n   * @type {Object}\n   * @private\n   */\n\n  this._rawExtent = {};\n  /**\n   * @type {Object}\n   * @private\n   */\n\n  this._extent = {};\n  /**\n   * key: dim\n   * value: extent\n   * @type {Object}\n   * @private\n   */\n\n  this._approximateExtent = {};\n  /**\n   * Cache summary info for fast visit. See \"dimensionHelper\".\n   * @type {Object}\n   * @private\n   */\n\n  this._dimensionsSummary = summarizeDimensions(this);\n  /**\n   * @type {Object.<Array|TypedArray>}\n   * @private\n   */\n\n  this._invertedIndicesMap = invertedIndicesMap;\n  /**\n   * @type {Object}\n   * @private\n   */\n\n  this._calculationInfo = {};\n  /**\n   * User output info of this data.\n   * DO NOT use it in other places!\n   *\n   * When preparing user params for user callbacks, we have\n   * to clone these inner data structures to prevent users\n   * from modifying them to effect built-in logic. And for\n   * performance consideration we make this `userOutput` to\n   * avoid clone them too many times.\n   *\n   * @type {Object}\n   * @readOnly\n   */\n\n  this.userOutput = this._dimensionsSummary.userOutput;\n};\n\nvar listProto = List.prototype;\nlistProto.type = 'list';\n/**\n * If each data item has it's own option\n * @type {boolean}\n */\n\nlistProto.hasItemOption = true;\n/**\n * The meanings of the input parameter `dim`:\n *\n * + If dim is a number (e.g., `1`), it means the index of the dimension.\n *   For example, `getDimension(0)` will return 'x' or 'lng' or 'radius'.\n * + If dim is a number-like string (e.g., `\"1\"`):\n *     + If there is the same concrete dim name defined in `this.dimensions`, it means that concrete name.\n *     + If not, it will be converted to a number, which means the index of the dimension.\n *        (why? because of the backward compatbility. We have been tolerating number-like string in\n *        dimension setting, although now it seems that it is not a good idea.)\n *     For example, `visualMap[i].dimension: \"1\"` is the same meaning as `visualMap[i].dimension: 1`,\n *     if no dimension name is defined as `\"1\"`.\n * + If dim is a not-number-like string, it means the concrete dim name.\n *   For example, it can be be default name `\"x\"`, `\"y\"`, `\"z\"`, `\"lng\"`, `\"lat\"`, `\"angle\"`, `\"radius\"`,\n *   or customized in `dimensions` property of option like `\"age\"`.\n *\n * Get dimension name\n * @param {string|number} dim See above.\n * @return {string} Concrete dim name.\n */\n\nlistProto.getDimension = function (dim) {\n  if (typeof dim === 'number' // If being a number-like string but not being defined a dimension name.\n  || !isNaN(dim) && !this._dimensionInfos.hasOwnProperty(dim)) {\n    dim = this.dimensions[dim];\n  }\n\n  return dim;\n};\n/**\n * Get type and calculation info of particular dimension\n * @param {string|number} dim\n *        Dimension can be concrete names like x, y, z, lng, lat, angle, radius\n *        Or a ordinal number. For example getDimensionInfo(0) will return 'x' or 'lng' or 'radius'\n */\n\n\nlistProto.getDimensionInfo = function (dim) {\n  // Do not clone, because there may be categories in dimInfo.\n  return this._dimensionInfos[this.getDimension(dim)];\n};\n/**\n * @return {Array.<string>} concrete dimension name list on coord.\n */\n\n\nlistProto.getDimensionsOnCoord = function () {\n  return this._dimensionsSummary.dataDimsOnCoord.slice();\n};\n/**\n * @param {string} coordDim\n * @param {number} [idx] A coordDim may map to more than one data dim.\n *        If idx is `true`, return a array of all mapped dims.\n *        If idx is not specified, return the first dim not extra.\n * @return {string|Array.<string>} concrete data dim.\n *        If idx is number, and not found, return null/undefined.\n *        If idx is `true`, and not found, return empty array (always return array).\n */\n\n\nlistProto.mapDimension = function (coordDim, idx) {\n  var dimensionsSummary = this._dimensionsSummary;\n\n  if (idx == null) {\n    return dimensionsSummary.encodeFirstDimNotExtra[coordDim];\n  }\n\n  var dims = dimensionsSummary.encode[coordDim];\n  return idx === true // always return array if idx is `true`\n  ? (dims || []).slice() : dims && dims[idx];\n};\n/**\n * Initialize from data\n * @param {Array.<Object|number|Array>} data source or data or data provider.\n * @param {Array.<string>} [nameLIst] The name of a datum is used on data diff and\n *        defualt label/tooltip.\n *        A name can be specified in encode.itemName,\n *        or dataItem.name (only for series option data),\n *        or provided in nameList from outside.\n * @param {Function} [dimValueGetter] (dataItem, dimName, dataIndex, dimIndex) => number\n */\n\n\nlistProto.initData = function (data, nameList, dimValueGetter) {\n  var notProvider = Source.isInstance(data) || zrUtil.isArrayLike(data);\n\n  if (notProvider) {\n    data = new DefaultDataProvider(data, this.dimensions.length);\n  }\n\n  this._rawData = data; // Clear\n\n  this._storage = {};\n  this._indices = null;\n  this._nameList = nameList || [];\n  this._idList = [];\n  this._nameRepeatCount = {};\n\n  if (!dimValueGetter) {\n    this.hasItemOption = false;\n  }\n  /**\n   * @readOnly\n   */\n\n\n  this.defaultDimValueGetter = defaultDimValueGetters[this._rawData.getSource().sourceFormat]; // Default dim value getter\n\n  this._dimValueGetter = dimValueGetter = dimValueGetter || this.defaultDimValueGetter;\n  this._dimValueGetterArrayRows = defaultDimValueGetters.arrayRows; // Reset raw extent.\n\n  this._rawExtent = {};\n\n  this._initDataFromProvider(0, data.count()); // If data has no item option.\n\n\n  if (data.pure) {\n    this.hasItemOption = false;\n  }\n};\n\nlistProto.getProvider = function () {\n  return this._rawData;\n};\n/**\n * Caution: Can be only called on raw data (before `this._indices` created).\n */\n\n\nlistProto.appendData = function (data) {\n  var rawData = this._rawData;\n  var start = this.count();\n  rawData.appendData(data);\n  var end = rawData.count();\n\n  if (!rawData.persistent) {\n    end += start;\n  }\n\n  this._initDataFromProvider(start, end);\n};\n/**\n * Caution: Can be only called on raw data (before `this._indices` created).\n * This method does not modify `rawData` (`dataProvider`), but only\n * add values to storage.\n *\n * The final count will be increased by `Math.max(values.length, names.length)`.\n *\n * @param {Array.<Array.<*>>} values That is the SourceType: 'arrayRows', like\n *        [\n *            [12, 33, 44],\n *            [NaN, 43, 1],\n *            ['-', 'asdf', 0]\n *        ]\n *        Each item is exaclty cooresponding to a dimension.\n * @param {Array.<string>} [names]\n */\n\n\nlistProto.appendValues = function (values, names) {\n  var chunkSize = this._chunkSize;\n  var storage = this._storage;\n  var dimensions = this.dimensions;\n  var dimLen = dimensions.length;\n  var rawExtent = this._rawExtent;\n  var start = this.count();\n  var end = start + Math.max(values.length, names ? names.length : 0);\n  var originalChunkCount = this._chunkCount;\n\n  for (var i = 0; i < dimLen; i++) {\n    var dim = dimensions[i];\n\n    if (!rawExtent[dim]) {\n      rawExtent[dim] = getInitialExtent();\n    }\n\n    if (!storage[dim]) {\n      storage[dim] = [];\n    }\n\n    prepareChunks(storage, this._dimensionInfos[dim], chunkSize, originalChunkCount, end);\n    this._chunkCount = storage[dim].length;\n  }\n\n  var emptyDataItem = new Array(dimLen);\n\n  for (var idx = start; idx < end; idx++) {\n    var sourceIdx = idx - start;\n    var chunkIndex = Math.floor(idx / chunkSize);\n    var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n    for (var k = 0; k < dimLen; k++) {\n      var dim = dimensions[k];\n\n      var val = this._dimValueGetterArrayRows(values[sourceIdx] || emptyDataItem, dim, sourceIdx, k);\n\n      storage[dim][chunkIndex][chunkOffset] = val;\n      var dimRawExtent = rawExtent[dim];\n      val < dimRawExtent[0] && (dimRawExtent[0] = val);\n      val > dimRawExtent[1] && (dimRawExtent[1] = val);\n    }\n\n    if (names) {\n      this._nameList[idx] = names[sourceIdx];\n    }\n  }\n\n  this._rawCount = this._count = end; // Reset data extent\n\n  this._extent = {};\n  prepareInvertedIndex(this);\n};\n\nlistProto._initDataFromProvider = function (start, end) {\n  // Optimize.\n  if (start >= end) {\n    return;\n  }\n\n  var chunkSize = this._chunkSize;\n  var rawData = this._rawData;\n  var storage = this._storage;\n  var dimensions = this.dimensions;\n  var dimLen = dimensions.length;\n  var dimensionInfoMap = this._dimensionInfos;\n  var nameList = this._nameList;\n  var idList = this._idList;\n  var rawExtent = this._rawExtent;\n  var nameRepeatCount = this._nameRepeatCount = {};\n  var nameDimIdx;\n  var originalChunkCount = this._chunkCount;\n\n  for (var i = 0; i < dimLen; i++) {\n    var dim = dimensions[i];\n\n    if (!rawExtent[dim]) {\n      rawExtent[dim] = getInitialExtent();\n    }\n\n    var dimInfo = dimensionInfoMap[dim];\n\n    if (dimInfo.otherDims.itemName === 0) {\n      nameDimIdx = this._nameDimIdx = i;\n    }\n\n    if (dimInfo.otherDims.itemId === 0) {\n      this._idDimIdx = i;\n    }\n\n    if (!storage[dim]) {\n      storage[dim] = [];\n    }\n\n    prepareChunks(storage, dimInfo, chunkSize, originalChunkCount, end);\n    this._chunkCount = storage[dim].length;\n  }\n\n  var dataItem = new Array(dimLen);\n\n  for (var idx = start; idx < end; idx++) {\n    // NOTICE: Try not to write things into dataItem\n    dataItem = rawData.getItem(idx, dataItem); // Each data item is value\n    // [1, 2]\n    // 2\n    // Bar chart, line chart which uses category axis\n    // only gives the 'y' value. 'x' value is the indices of category\n    // Use a tempValue to normalize the value to be a (x, y) value\n\n    var chunkIndex = Math.floor(idx / chunkSize);\n    var chunkOffset = idx % chunkSize; // Store the data by dimensions\n\n    for (var k = 0; k < dimLen; k++) {\n      var dim = dimensions[k];\n      var dimStorage = storage[dim][chunkIndex]; // PENDING NULL is empty or zero\n\n      var val = this._dimValueGetter(dataItem, dim, idx, k);\n\n      dimStorage[chunkOffset] = val;\n      var dimRawExtent = rawExtent[dim];\n      val < dimRawExtent[0] && (dimRawExtent[0] = val);\n      val > dimRawExtent[1] && (dimRawExtent[1] = val);\n    } // ??? FIXME not check by pure but sourceFormat?\n    // TODO refactor these logic.\n\n\n    if (!rawData.pure) {\n      var name = nameList[idx];\n\n      if (dataItem && name == null) {\n        // If dataItem is {name: ...}, it has highest priority.\n        // That is appropriate for many common cases.\n        if (dataItem.name != null) {\n          // There is no other place to persistent dataItem.name,\n          // so save it to nameList.\n          nameList[idx] = name = dataItem.name;\n        } else if (nameDimIdx != null) {\n          var nameDim = dimensions[nameDimIdx];\n          var nameDimChunk = storage[nameDim][chunkIndex];\n\n          if (nameDimChunk) {\n            name = nameDimChunk[chunkOffset];\n            var ordinalMeta = dimensionInfoMap[nameDim].ordinalMeta;\n\n            if (ordinalMeta && ordinalMeta.categories.length) {\n              name = ordinalMeta.categories[name];\n            }\n          }\n        }\n      } // Try using the id in option\n      // id or name is used on dynamical data, mapping old and new items.\n\n\n      var id = dataItem == null ? null : dataItem.id;\n\n      if (id == null && name != null) {\n        // Use name as id and add counter to avoid same name\n        nameRepeatCount[name] = nameRepeatCount[name] || 0;\n        id = name;\n\n        if (nameRepeatCount[name] > 0) {\n          id += '__ec__' + nameRepeatCount[name];\n        }\n\n        nameRepeatCount[name]++;\n      }\n\n      id != null && (idList[idx] = id);\n    }\n  }\n\n  if (!rawData.persistent && rawData.clean) {\n    // Clean unused data if data source is typed array.\n    rawData.clean();\n  }\n\n  this._rawCount = this._count = end; // Reset data extent\n\n  this._extent = {};\n  prepareInvertedIndex(this);\n};\n\nfunction prepareChunks(storage, dimInfo, chunkSize, chunkCount, end) {\n  var DataCtor = dataCtors[dimInfo.type];\n  var lastChunkIndex = chunkCount - 1;\n  var dim = dimInfo.name;\n  var resizeChunkArray = storage[dim][lastChunkIndex];\n\n  if (resizeChunkArray && resizeChunkArray.length < chunkSize) {\n    var newStore = new DataCtor(Math.min(end - lastChunkIndex * chunkSize, chunkSize)); // The cost of the copy is probably inconsiderable\n    // within the initial chunkSize.\n\n    for (var j = 0; j < resizeChunkArray.length; j++) {\n      newStore[j] = resizeChunkArray[j];\n    }\n\n    storage[dim][lastChunkIndex] = newStore;\n  } // Create new chunks.\n\n\n  for (var k = chunkCount * chunkSize; k < end; k += chunkSize) {\n    storage[dim].push(new DataCtor(Math.min(end - k, chunkSize)));\n  }\n}\n\nfunction prepareInvertedIndex(list) {\n  var invertedIndicesMap = list._invertedIndicesMap;\n  zrUtil.each(invertedIndicesMap, function (invertedIndices, dim) {\n    var dimInfo = list._dimensionInfos[dim]; // Currently, only dimensions that has ordinalMeta can create inverted indices.\n\n    var ordinalMeta = dimInfo.ordinalMeta;\n\n    if (ordinalMeta) {\n      invertedIndices = invertedIndicesMap[dim] = new CtorInt32Array(ordinalMeta.categories.length); // The default value of TypedArray is 0. To avoid miss\n      // mapping to 0, we should set it as INDEX_NOT_FOUND.\n\n      for (var i = 0; i < invertedIndices.length; i++) {\n        invertedIndices[i] = INDEX_NOT_FOUND;\n      }\n\n      for (var i = 0; i < list._count; i++) {\n        // Only support the case that all values are distinct.\n        invertedIndices[list.get(dim, i)] = i;\n      }\n    }\n  });\n}\n\nfunction getRawValueFromStore(list, dimIndex, rawIndex) {\n  var val;\n\n  if (dimIndex != null) {\n    var chunkSize = list._chunkSize;\n    var chunkIndex = Math.floor(rawIndex / chunkSize);\n    var chunkOffset = rawIndex % chunkSize;\n    var dim = list.dimensions[dimIndex];\n    var chunk = list._storage[dim][chunkIndex];\n\n    if (chunk) {\n      val = chunk[chunkOffset];\n      var ordinalMeta = list._dimensionInfos[dim].ordinalMeta;\n\n      if (ordinalMeta && ordinalMeta.categories.length) {\n        val = ordinalMeta.categories[val];\n      }\n    }\n  }\n\n  return val;\n}\n/**\n * @return {number}\n */\n\n\nlistProto.count = function () {\n  return this._count;\n};\n\nlistProto.getIndices = function () {\n  var newIndices;\n  var indices = this._indices;\n\n  if (indices) {\n    var Ctor = indices.constructor;\n    var thisCount = this._count; // `new Array(a, b, c)` is different from `new Uint32Array(a, b, c)`.\n\n    if (Ctor === Array) {\n      newIndices = new Ctor(thisCount);\n\n      for (var i = 0; i < thisCount; i++) {\n        newIndices[i] = indices[i];\n      }\n    } else {\n      newIndices = new Ctor(indices.buffer, 0, thisCount);\n    }\n  } else {\n    var Ctor = getIndicesCtor(this);\n    var newIndices = new Ctor(this.count());\n\n    for (var i = 0; i < newIndices.length; i++) {\n      newIndices[i] = i;\n    }\n  }\n\n  return newIndices;\n};\n/**\n * Get value. Return NaN if idx is out of range.\n * @param {string} dim Dim must be concrete name.\n * @param {number} idx\n * @param {boolean} stack\n * @return {number}\n */\n\n\nlistProto.get = function (dim, idx\n/*, stack */\n) {\n  if (!(idx >= 0 && idx < this._count)) {\n    return NaN;\n  }\n\n  var storage = this._storage;\n\n  if (!storage[dim]) {\n    // TODO Warn ?\n    return NaN;\n  }\n\n  idx = this.getRawIndex(idx);\n  var chunkIndex = Math.floor(idx / this._chunkSize);\n  var chunkOffset = idx % this._chunkSize;\n  var chunkStore = storage[dim][chunkIndex];\n  var value = chunkStore[chunkOffset]; // FIXME ordinal data type is not stackable\n  // if (stack) {\n  //     var dimensionInfo = this._dimensionInfos[dim];\n  //     if (dimensionInfo && dimensionInfo.stackable) {\n  //         var stackedOn = this.stackedOn;\n  //         while (stackedOn) {\n  //             // Get no stacked data of stacked on\n  //             var stackedValue = stackedOn.get(dim, idx);\n  //             // Considering positive stack, negative stack and empty data\n  //             if ((value >= 0 && stackedValue > 0)  // Positive stack\n  //                 || (value <= 0 && stackedValue < 0) // Negative stack\n  //             ) {\n  //                 value += stackedValue;\n  //             }\n  //             stackedOn = stackedOn.stackedOn;\n  //         }\n  //     }\n  // }\n\n  return value;\n};\n/**\n * @param {string} dim concrete dim\n * @param {number} rawIndex\n * @return {number|string}\n */\n\n\nlistProto.getByRawIndex = function (dim, rawIdx) {\n  if (!(rawIdx >= 0 && rawIdx < this._rawCount)) {\n    return NaN;\n  }\n\n  var dimStore = this._storage[dim];\n\n  if (!dimStore) {\n    // TODO Warn ?\n    return NaN;\n  }\n\n  var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n  var chunkOffset = rawIdx % this._chunkSize;\n  var chunkStore = dimStore[chunkIndex];\n  return chunkStore[chunkOffset];\n};\n/**\n * FIXME Use `get` on chrome maybe slow(in filterSelf and selectRange).\n * Hack a much simpler _getFast\n * @private\n */\n\n\nlistProto._getFast = function (dim, rawIdx) {\n  var chunkIndex = Math.floor(rawIdx / this._chunkSize);\n  var chunkOffset = rawIdx % this._chunkSize;\n  var chunkStore = this._storage[dim][chunkIndex];\n  return chunkStore[chunkOffset];\n};\n/**\n * Get value for multi dimensions.\n * @param {Array.<string>} [dimensions] If ignored, using all dimensions.\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.getValues = function (dimensions, idx\n/*, stack */\n) {\n  var values = [];\n\n  if (!zrUtil.isArray(dimensions)) {\n    // stack = idx;\n    idx = dimensions;\n    dimensions = this.dimensions;\n  }\n\n  for (var i = 0, len = dimensions.length; i < len; i++) {\n    values.push(this.get(dimensions[i], idx\n    /*, stack */\n    ));\n  }\n\n  return values;\n};\n/**\n * If value is NaN. Inlcuding '-'\n * Only check the coord dimensions.\n * @param {string} dim\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.hasValue = function (idx) {\n  var dataDimsOnCoord = this._dimensionsSummary.dataDimsOnCoord;\n\n  for (var i = 0, len = dataDimsOnCoord.length; i < len; i++) {\n    // Ordinal type originally can be string or number.\n    // But when an ordinal type is used on coord, it can\n    // not be string but only number. So we can also use isNaN.\n    if (isNaN(this.get(dataDimsOnCoord[i], idx))) {\n      return false;\n    }\n  }\n\n  return true;\n};\n/**\n * Get extent of data in one dimension\n * @param {string} dim\n * @param {boolean} stack\n */\n\n\nlistProto.getDataExtent = function (dim\n/*, stack */\n) {\n  // Make sure use concrete dim as cache name.\n  dim = this.getDimension(dim);\n  var dimData = this._storage[dim];\n  var initialExtent = getInitialExtent(); // stack = !!((stack || false) && this.getCalculationInfo(dim));\n\n  if (!dimData) {\n    return initialExtent;\n  } // Make more strict checkings to ensure hitting cache.\n\n\n  var currEnd = this.count(); // var cacheName = [dim, !!stack].join('_');\n  // var cacheName = dim;\n  // Consider the most cases when using data zoom, `getDataExtent`\n  // happened before filtering. We cache raw extent, which is not\n  // necessary to be cleared and recalculated when restore data.\n\n  var useRaw = !this._indices; // && !stack;\n\n  var dimExtent;\n\n  if (useRaw) {\n    return this._rawExtent[dim].slice();\n  }\n\n  dimExtent = this._extent[dim];\n\n  if (dimExtent) {\n    return dimExtent.slice();\n  }\n\n  dimExtent = initialExtent;\n  var min = dimExtent[0];\n  var max = dimExtent[1];\n\n  for (var i = 0; i < currEnd; i++) {\n    // var value = stack ? this.get(dim, i, true) : this._getFast(dim, this.getRawIndex(i));\n    var value = this._getFast(dim, this.getRawIndex(i));\n\n    value < min && (min = value);\n    value > max && (max = value);\n  }\n\n  dimExtent = [min, max];\n  this._extent[dim] = dimExtent;\n  return dimExtent;\n};\n/**\n * Optimize for the scenario that data is filtered by a given extent.\n * Consider that if data amount is more than hundreds of thousand,\n * extent calculation will cost more than 10ms and the cache will\n * be erased because of the filtering.\n */\n\n\nlistProto.getApproximateExtent = function (dim\n/*, stack */\n) {\n  dim = this.getDimension(dim);\n  return this._approximateExtent[dim] || this.getDataExtent(dim\n  /*, stack */\n  );\n};\n\nlistProto.setApproximateExtent = function (extent, dim\n/*, stack */\n) {\n  dim = this.getDimension(dim);\n  this._approximateExtent[dim] = extent.slice();\n};\n/**\n * @param {string} key\n * @return {*}\n */\n\n\nlistProto.getCalculationInfo = function (key) {\n  return this._calculationInfo[key];\n};\n/**\n * @param {string|Object} key or k-v object\n * @param {*} [value]\n */\n\n\nlistProto.setCalculationInfo = function (key, value) {\n  isObject(key) ? zrUtil.extend(this._calculationInfo, key) : this._calculationInfo[key] = value;\n};\n/**\n * Get sum of data in one dimension\n * @param {string} dim\n */\n\n\nlistProto.getSum = function (dim\n/*, stack */\n) {\n  var dimData = this._storage[dim];\n  var sum = 0;\n\n  if (dimData) {\n    for (var i = 0, len = this.count(); i < len; i++) {\n      var value = this.get(dim, i\n      /*, stack */\n      );\n\n      if (!isNaN(value)) {\n        sum += value;\n      }\n    }\n  }\n\n  return sum;\n};\n/**\n * Get median of data in one dimension\n * @param {string} dim\n */\n\n\nlistProto.getMedian = function (dim\n/*, stack */\n) {\n  var dimDataArray = []; // map all data of one dimension\n\n  this.each(dim, function (val, idx) {\n    if (!isNaN(val)) {\n      dimDataArray.push(val);\n    }\n  }); // TODO\n  // Use quick select?\n  // immutability & sort\n\n  var sortedDimDataArray = [].concat(dimDataArray).sort(function (a, b) {\n    return a - b;\n  });\n  var len = this.count(); // calculate median\n\n  return len === 0 ? 0 : len % 2 === 1 ? sortedDimDataArray[(len - 1) / 2] : (sortedDimDataArray[len / 2] + sortedDimDataArray[len / 2 - 1]) / 2;\n}; // /**\n//  * Retreive the index with given value\n//  * @param {string} dim Concrete dimension.\n//  * @param {number} value\n//  * @return {number}\n//  */\n// Currently incorrect: should return dataIndex but not rawIndex.\n// Do not fix it until this method is to be used somewhere.\n// FIXME Precision of float value\n// listProto.indexOf = function (dim, value) {\n//     var storage = this._storage;\n//     var dimData = storage[dim];\n//     var chunkSize = this._chunkSize;\n//     if (dimData) {\n//         for (var i = 0, len = this.count(); i < len; i++) {\n//             var chunkIndex = Math.floor(i / chunkSize);\n//             var chunkOffset = i % chunkSize;\n//             if (dimData[chunkIndex][chunkOffset] === value) {\n//                 return i;\n//             }\n//         }\n//     }\n//     return -1;\n// };\n\n/**\n * Only support the dimension which inverted index created.\n * Do not support other cases until required.\n * @param {string} concrete dim\n * @param {number|string} value\n * @return {number} rawIndex\n */\n\n\nlistProto.rawIndexOf = function (dim, value) {\n  var invertedIndices = dim && this._invertedIndicesMap[dim];\n  var rawIndex = invertedIndices[value];\n\n  if (rawIndex == null || isNaN(rawIndex)) {\n    return INDEX_NOT_FOUND;\n  }\n\n  return rawIndex;\n};\n/**\n * Retreive the index with given name\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\n\n\nlistProto.indexOfName = function (name) {\n  for (var i = 0, len = this.count(); i < len; i++) {\n    if (this.getName(i) === name) {\n      return i;\n    }\n  }\n\n  return -1;\n};\n/**\n * Retreive the index with given raw data index\n * @param {number} idx\n * @param {number} name\n * @return {number}\n */\n\n\nlistProto.indexOfRawIndex = function (rawIndex) {\n  if (!this._indices) {\n    return rawIndex;\n  }\n\n  if (rawIndex >= this._rawCount || rawIndex < 0) {\n    return -1;\n  } // Indices are ascending\n\n\n  var indices = this._indices; // If rawIndex === dataIndex\n\n  var rawDataIndex = indices[rawIndex];\n\n  if (rawDataIndex != null && rawDataIndex < this._count && rawDataIndex === rawIndex) {\n    return rawIndex;\n  }\n\n  var left = 0;\n  var right = this._count - 1;\n\n  while (left <= right) {\n    var mid = (left + right) / 2 | 0;\n\n    if (indices[mid] < rawIndex) {\n      left = mid + 1;\n    } else if (indices[mid] > rawIndex) {\n      right = mid - 1;\n    } else {\n      return mid;\n    }\n  }\n\n  return -1;\n};\n/**\n * Retreive the index of nearest value\n * @param {string} dim\n * @param {number} value\n * @param {number} [maxDistance=Infinity]\n * @return {Array.<number>} Considere multiple points has the same value.\n */\n\n\nlistProto.indicesOfNearest = function (dim, value, maxDistance) {\n  var storage = this._storage;\n  var dimData = storage[dim];\n  var nearestIndices = [];\n\n  if (!dimData) {\n    return nearestIndices;\n  }\n\n  if (maxDistance == null) {\n    maxDistance = Infinity;\n  }\n\n  var minDist = Number.MAX_VALUE;\n  var minDiff = -1;\n\n  for (var i = 0, len = this.count(); i < len; i++) {\n    var diff = value - this.get(dim, i\n    /*, stack */\n    );\n    var dist = Math.abs(diff);\n\n    if (diff <= maxDistance && dist <= minDist) {\n      // For the case of two data are same on xAxis, which has sequence data.\n      // Show the nearest index\n      // https://github.com/ecomfe/echarts/issues/2869\n      if (dist < minDist || diff >= 0 && minDiff < 0) {\n        minDist = dist;\n        minDiff = diff;\n        nearestIndices.length = 0;\n      }\n\n      nearestIndices.push(i);\n    }\n  }\n\n  return nearestIndices;\n};\n/**\n * Get raw data index\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.getRawIndex = getRawIndexWithoutIndices;\n\nfunction getRawIndexWithoutIndices(idx) {\n  return idx;\n}\n\nfunction getRawIndexWithIndices(idx) {\n  if (idx < this._count && idx >= 0) {\n    return this._indices[idx];\n  }\n\n  return -1;\n}\n/**\n * Get raw data item\n * @param {number} idx\n * @return {number}\n */\n\n\nlistProto.getRawDataItem = function (idx) {\n  if (!this._rawData.persistent) {\n    var val = [];\n\n    for (var i = 0; i < this.dimensions.length; i++) {\n      var dim = this.dimensions[i];\n      val.push(this.get(dim, idx));\n    }\n\n    return val;\n  } else {\n    return this._rawData.getItem(this.getRawIndex(idx));\n  }\n};\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\n\n\nlistProto.getName = function (idx) {\n  var rawIndex = this.getRawIndex(idx);\n  return this._nameList[rawIndex] || getRawValueFromStore(this, this._nameDimIdx, rawIndex) || '';\n};\n/**\n * @param {number} idx\n * @param {boolean} [notDefaultIdx=false]\n * @return {string}\n */\n\n\nlistProto.getId = function (idx) {\n  return getId(this, this.getRawIndex(idx));\n};\n\nfunction getId(list, rawIndex) {\n  var id = list._idList[rawIndex];\n\n  if (id == null) {\n    id = getRawValueFromStore(list, list._idDimIdx, rawIndex);\n  }\n\n  if (id == null) {\n    // FIXME Check the usage in graph, should not use prefix.\n    id = ID_PREFIX + rawIndex;\n  }\n\n  return id;\n}\n\nfunction normalizeDimensions(dimensions) {\n  if (!zrUtil.isArray(dimensions)) {\n    dimensions = [dimensions];\n  }\n\n  return dimensions;\n}\n\nfunction validateDimensions(list, dims) {\n  for (var i = 0; i < dims.length; i++) {\n    // stroage may be empty when no data, so use\n    // dimensionInfos to check.\n    if (!list._dimensionInfos[dims[i]]) {\n      console.error('Unkown dimension ' + dims[i]);\n    }\n  }\n}\n/**\n * Data iteration\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {*} [context=this]\n *\n * @example\n *  list.each('x', function (x, idx) {});\n *  list.each(['x', 'y'], function (x, y, idx) {});\n *  list.each(function (idx) {})\n */\n\n\nlistProto.each = function (dims, cb, context, contextCompat) {\n  'use strict';\n\n  if (!this._count) {\n    return;\n  }\n\n  if (typeof dims === 'function') {\n    contextCompat = context;\n    context = cb;\n    cb = dims;\n    dims = [];\n  } // contextCompat just for compat echarts3\n\n\n  context = context || contextCompat || this;\n  dims = zrUtil.map(normalizeDimensions(dims), this.getDimension, this);\n  var dimSize = dims.length;\n\n  for (var i = 0; i < this.count(); i++) {\n    // Simple optimization\n    switch (dimSize) {\n      case 0:\n        cb.call(context, i);\n        break;\n\n      case 1:\n        cb.call(context, this.get(dims[0], i), i);\n        break;\n\n      case 2:\n        cb.call(context, this.get(dims[0], i), this.get(dims[1], i), i);\n        break;\n\n      default:\n        var k = 0;\n        var value = [];\n\n        for (; k < dimSize; k++) {\n          value[k] = this.get(dims[k], i);\n        } // Index\n\n\n        value[k] = i;\n        cb.apply(context, value);\n    }\n  }\n};\n/**\n * Data filter\n * @param {string|Array.<string>}\n * @param {Function} cb\n * @param {*} [context=this]\n */\n\n\nlistProto.filterSelf = function (dimensions, cb, context, contextCompat) {\n  'use strict';\n\n  if (!this._count) {\n    return;\n  }\n\n  if (typeof dimensions === 'function') {\n    contextCompat = context;\n    context = cb;\n    cb = dimensions;\n    dimensions = [];\n  } // contextCompat just for compat echarts3\n\n\n  context = context || contextCompat || this;\n  dimensions = zrUtil.map(normalizeDimensions(dimensions), this.getDimension, this);\n  var count = this.count();\n  var Ctor = getIndicesCtor(this);\n  var newIndices = new Ctor(count);\n  var value = [];\n  var dimSize = dimensions.length;\n  var offset = 0;\n  var dim0 = dimensions[0];\n\n  for (var i = 0; i < count; i++) {\n    var keep;\n    var rawIdx = this.getRawIndex(i); // Simple optimization\n\n    if (dimSize === 0) {\n      keep = cb.call(context, i);\n    } else if (dimSize === 1) {\n      var val = this._getFast(dim0, rawIdx);\n\n      keep = cb.call(context, val, i);\n    } else {\n      for (var k = 0; k < dimSize; k++) {\n        value[k] = this._getFast(dim0, rawIdx);\n      }\n\n      value[k] = i;\n      keep = cb.apply(context, value);\n    }\n\n    if (keep) {\n      newIndices[offset++] = rawIdx;\n    }\n  } // Set indices after filtered.\n\n\n  if (offset < count) {\n    this._indices = newIndices;\n  }\n\n  this._count = offset; // Reset data extent\n\n  this._extent = {};\n  this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n  return this;\n};\n/**\n * Select data in range. (For optimization of filter)\n * (Manually inline code, support 5 million data filtering in data zoom.)\n */\n\n\nlistProto.selectRange = function (range) {\n  'use strict';\n\n  if (!this._count) {\n    return;\n  }\n\n  var dimensions = [];\n\n  for (var dim in range) {\n    if (range.hasOwnProperty(dim)) {\n      dimensions.push(dim);\n    }\n  }\n\n  var dimSize = dimensions.length;\n\n  if (!dimSize) {\n    return;\n  }\n\n  var originalCount = this.count();\n  var Ctor = getIndicesCtor(this);\n  var newIndices = new Ctor(originalCount);\n  var offset = 0;\n  var dim0 = dimensions[0];\n  var min = range[dim0][0];\n  var max = range[dim0][1];\n  var quickFinished = false;\n\n  if (!this._indices) {\n    // Extreme optimization for common case. About 2x faster in chrome.\n    var idx = 0;\n\n    if (dimSize === 1) {\n      var dimStorage = this._storage[dimensions[0]];\n\n      for (var k = 0; k < this._chunkCount; k++) {\n        var chunkStorage = dimStorage[k];\n        var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n        for (var i = 0; i < len; i++) {\n          var val = chunkStorage[i]; // NaN will not be filtered. Consider the case, in line chart, empty\n          // value indicates the line should be broken. But for the case like\n          // scatter plot, a data item with empty value will not be rendered,\n          // but the axis extent may be effected if some other dim of the data\n          // item has value. Fortunately it is not a significant negative effect.\n\n          if (val >= min && val <= max || isNaN(val)) {\n            newIndices[offset++] = idx;\n          }\n\n          idx++;\n        }\n      }\n\n      quickFinished = true;\n    } else if (dimSize === 2) {\n      var dimStorage = this._storage[dim0];\n      var dimStorage2 = this._storage[dimensions[1]];\n      var min2 = range[dimensions[1]][0];\n      var max2 = range[dimensions[1]][1];\n\n      for (var k = 0; k < this._chunkCount; k++) {\n        var chunkStorage = dimStorage[k];\n        var chunkStorage2 = dimStorage2[k];\n        var len = Math.min(this._count - k * this._chunkSize, this._chunkSize);\n\n        for (var i = 0; i < len; i++) {\n          var val = chunkStorage[i];\n          var val2 = chunkStorage2[i]; // Do not filter NaN, see comment above.\n\n          if ((val >= min && val <= max || isNaN(val)) && (val2 >= min2 && val2 <= max2 || isNaN(val2))) {\n            newIndices[offset++] = idx;\n          }\n\n          idx++;\n        }\n      }\n\n      quickFinished = true;\n    }\n  }\n\n  if (!quickFinished) {\n    if (dimSize === 1) {\n      for (var i = 0; i < originalCount; i++) {\n        var rawIndex = this.getRawIndex(i);\n\n        var val = this._getFast(dim0, rawIndex); // Do not filter NaN, see comment above.\n\n\n        if (val >= min && val <= max || isNaN(val)) {\n          newIndices[offset++] = rawIndex;\n        }\n      }\n    } else {\n      for (var i = 0; i < originalCount; i++) {\n        var keep = true;\n        var rawIndex = this.getRawIndex(i);\n\n        for (var k = 0; k < dimSize; k++) {\n          var dimk = dimensions[k];\n\n          var val = this._getFast(dim, rawIndex); // Do not filter NaN, see comment above.\n\n\n          if (val < range[dimk][0] || val > range[dimk][1]) {\n            keep = false;\n          }\n        }\n\n        if (keep) {\n          newIndices[offset++] = this.getRawIndex(i);\n        }\n      }\n    }\n  } // Set indices after filtered.\n\n\n  if (offset < originalCount) {\n    this._indices = newIndices;\n  }\n\n  this._count = offset; // Reset data extent\n\n  this._extent = {};\n  this.getRawIndex = this._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n  return this;\n};\n/**\n * Data mapping to a plain array\n * @param {string|Array.<string>} [dimensions]\n * @param {Function} cb\n * @param {*} [context=this]\n * @return {Array}\n */\n\n\nlistProto.mapArray = function (dimensions, cb, context, contextCompat) {\n  'use strict';\n\n  if (typeof dimensions === 'function') {\n    contextCompat = context;\n    context = cb;\n    cb = dimensions;\n    dimensions = [];\n  } // contextCompat just for compat echarts3\n\n\n  context = context || contextCompat || this;\n  var result = [];\n  this.each(dimensions, function () {\n    result.push(cb && cb.apply(this, arguments));\n  }, context);\n  return result;\n}; // Data in excludeDimensions is copied, otherwise transfered.\n\n\nfunction cloneListForMapAndSample(original, excludeDimensions) {\n  var allDimensions = original.dimensions;\n  var list = new List(zrUtil.map(allDimensions, original.getDimensionInfo, original), original.hostModel); // FIXME If needs stackedOn, value may already been stacked\n\n  transferProperties(list, original);\n  var storage = list._storage = {};\n  var originalStorage = original._storage; // Init storage\n\n  for (var i = 0; i < allDimensions.length; i++) {\n    var dim = allDimensions[i];\n\n    if (originalStorage[dim]) {\n      // Notice that we do not reset invertedIndicesMap here, becuase\n      // there is no scenario of mapping or sampling ordinal dimension.\n      if (zrUtil.indexOf(excludeDimensions, dim) >= 0) {\n        storage[dim] = cloneDimStore(originalStorage[dim]);\n        list._rawExtent[dim] = getInitialExtent();\n        list._extent[dim] = null;\n      } else {\n        // Direct reference for other dimensions\n        storage[dim] = originalStorage[dim];\n      }\n    }\n  }\n\n  return list;\n}\n\nfunction cloneDimStore(originalDimStore) {\n  var newDimStore = new Array(originalDimStore.length);\n\n  for (var j = 0; j < originalDimStore.length; j++) {\n    newDimStore[j] = cloneChunk(originalDimStore[j]);\n  }\n\n  return newDimStore;\n}\n\nfunction getInitialExtent() {\n  return [Infinity, -Infinity];\n}\n/**\n * Data mapping to a new List with given dimensions\n * @param {string|Array.<string>} dimensions\n * @param {Function} cb\n * @param {*} [context=this]\n * @return {Array}\n */\n\n\nlistProto.map = function (dimensions, cb, context, contextCompat) {\n  'use strict'; // contextCompat just for compat echarts3\n\n  context = context || contextCompat || this;\n  dimensions = zrUtil.map(normalizeDimensions(dimensions), this.getDimension, this);\n  var list = cloneListForMapAndSample(this, dimensions); // Following properties are all immutable.\n  // So we can reference to the same value\n\n  list._indices = this._indices;\n  list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n  var storage = list._storage;\n  var tmpRetValue = [];\n  var chunkSize = this._chunkSize;\n  var dimSize = dimensions.length;\n  var dataCount = this.count();\n  var values = [];\n  var rawExtent = list._rawExtent;\n\n  for (var dataIndex = 0; dataIndex < dataCount; dataIndex++) {\n    for (var dimIndex = 0; dimIndex < dimSize; dimIndex++) {\n      values[dimIndex] = this.get(dimensions[dimIndex], dataIndex\n      /*, stack */\n      );\n    }\n\n    values[dimSize] = dataIndex;\n    var retValue = cb && cb.apply(context, values);\n\n    if (retValue != null) {\n      // a number or string (in oridinal dimension)?\n      if (typeof retValue !== 'object') {\n        tmpRetValue[0] = retValue;\n        retValue = tmpRetValue;\n      }\n\n      var rawIndex = this.getRawIndex(dataIndex);\n      var chunkIndex = Math.floor(rawIndex / chunkSize);\n      var chunkOffset = rawIndex % chunkSize;\n\n      for (var i = 0; i < retValue.length; i++) {\n        var dim = dimensions[i];\n        var val = retValue[i];\n        var rawExtentOnDim = rawExtent[dim];\n        var dimStore = storage[dim];\n\n        if (dimStore) {\n          dimStore[chunkIndex][chunkOffset] = val;\n        }\n\n        if (val < rawExtentOnDim[0]) {\n          rawExtentOnDim[0] = val;\n        }\n\n        if (val > rawExtentOnDim[1]) {\n          rawExtentOnDim[1] = val;\n        }\n      }\n    }\n  }\n\n  return list;\n};\n/**\n * Large data down sampling on given dimension\n * @param {string} dimension\n * @param {number} rate\n * @param {Function} sampleValue\n * @param {Function} sampleIndex Sample index for name and id\n */\n\n\nlistProto.downSample = function (dimension, rate, sampleValue, sampleIndex) {\n  var list = cloneListForMapAndSample(this, [dimension]);\n  var targetStorage = list._storage;\n  var frameValues = [];\n  var frameSize = Math.floor(1 / rate);\n  var dimStore = targetStorage[dimension];\n  var len = this.count();\n  var chunkSize = this._chunkSize;\n  var rawExtentOnDim = list._rawExtent[dimension];\n  var newIndices = new (getIndicesCtor(this))(len);\n  var offset = 0;\n\n  for (var i = 0; i < len; i += frameSize) {\n    // Last frame\n    if (frameSize > len - i) {\n      frameSize = len - i;\n      frameValues.length = frameSize;\n    }\n\n    for (var k = 0; k < frameSize; k++) {\n      var dataIdx = this.getRawIndex(i + k);\n      var originalChunkIndex = Math.floor(dataIdx / chunkSize);\n      var originalChunkOffset = dataIdx % chunkSize;\n      frameValues[k] = dimStore[originalChunkIndex][originalChunkOffset];\n    }\n\n    var value = sampleValue(frameValues);\n    var sampleFrameIdx = this.getRawIndex(Math.min(i + sampleIndex(frameValues, value) || 0, len - 1));\n    var sampleChunkIndex = Math.floor(sampleFrameIdx / chunkSize);\n    var sampleChunkOffset = sampleFrameIdx % chunkSize; // Only write value on the filtered data\n\n    dimStore[sampleChunkIndex][sampleChunkOffset] = value;\n\n    if (value < rawExtentOnDim[0]) {\n      rawExtentOnDim[0] = value;\n    }\n\n    if (value > rawExtentOnDim[1]) {\n      rawExtentOnDim[1] = value;\n    }\n\n    newIndices[offset++] = sampleFrameIdx;\n  }\n\n  list._count = offset;\n  list._indices = newIndices;\n  list.getRawIndex = getRawIndexWithIndices;\n  return list;\n};\n/**\n * Get model of one data item.\n *\n * @param {number} idx\n */\n// FIXME Model proxy ?\n\n\nlistProto.getItemModel = function (idx) {\n  var hostModel = this.hostModel;\n  return new Model(this.getRawDataItem(idx), hostModel, hostModel && hostModel.ecModel);\n};\n/**\n * Create a data differ\n * @param {module:echarts/data/List} otherList\n * @return {module:echarts/data/DataDiffer}\n */\n\n\nlistProto.diff = function (otherList) {\n  var thisList = this;\n  return new DataDiffer(otherList ? otherList.getIndices() : [], this.getIndices(), function (idx) {\n    return getId(otherList, idx);\n  }, function (idx) {\n    return getId(thisList, idx);\n  });\n};\n/**\n * Get visual property.\n * @param {string} key\n */\n\n\nlistProto.getVisual = function (key) {\n  var visual = this._visual;\n  return visual && visual[key];\n};\n/**\n * Set visual property\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setVisual('color', color);\n *  setVisual({\n *      'color': color\n *  });\n */\n\n\nlistProto.setVisual = function (key, val) {\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        this.setVisual(name, key[name]);\n      }\n    }\n\n    return;\n  }\n\n  this._visual = this._visual || {};\n  this._visual[key] = val;\n};\n/**\n * Set layout property.\n * @param {string|Object} key\n * @param {*} [val]\n */\n\n\nlistProto.setLayout = function (key, val) {\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        this.setLayout(name, key[name]);\n      }\n    }\n\n    return;\n  }\n\n  this._layout[key] = val;\n};\n/**\n * Get layout property.\n * @param  {string} key.\n * @return {*}\n */\n\n\nlistProto.getLayout = function (key) {\n  return this._layout[key];\n};\n/**\n * Get layout of single data item\n * @param {number} idx\n */\n\n\nlistProto.getItemLayout = function (idx) {\n  return this._itemLayouts[idx];\n};\n/**\n * Set layout of single data item\n * @param {number} idx\n * @param {Object} layout\n * @param {boolean=} [merge=false]\n */\n\n\nlistProto.setItemLayout = function (idx, layout, merge) {\n  this._itemLayouts[idx] = merge ? zrUtil.extend(this._itemLayouts[idx] || {}, layout) : layout;\n};\n/**\n * Clear all layout of single data item\n */\n\n\nlistProto.clearItemLayouts = function () {\n  this._itemLayouts.length = 0;\n};\n/**\n * Get visual property of single data item\n * @param {number} idx\n * @param {string} key\n * @param {boolean} [ignoreParent=false]\n */\n\n\nlistProto.getItemVisual = function (idx, key, ignoreParent) {\n  var itemVisual = this._itemVisuals[idx];\n  var val = itemVisual && itemVisual[key];\n\n  if (val == null && !ignoreParent) {\n    // Use global visual property\n    return this.getVisual(key);\n  }\n\n  return val;\n};\n/**\n * Set visual property of single data item\n *\n * @param {number} idx\n * @param {string|Object} key\n * @param {*} [value]\n *\n * @example\n *  setItemVisual(0, 'color', color);\n *  setItemVisual(0, {\n *      'color': color\n *  });\n */\n\n\nlistProto.setItemVisual = function (idx, key, value) {\n  var itemVisual = this._itemVisuals[idx] || {};\n  var hasItemVisual = this.hasItemVisual;\n  this._itemVisuals[idx] = itemVisual;\n\n  if (isObject(key)) {\n    for (var name in key) {\n      if (key.hasOwnProperty(name)) {\n        itemVisual[name] = key[name];\n        hasItemVisual[name] = true;\n      }\n    }\n\n    return;\n  }\n\n  itemVisual[key] = value;\n  hasItemVisual[key] = true;\n};\n/**\n * Clear itemVisuals and list visual.\n */\n\n\nlistProto.clearAllVisual = function () {\n  this._visual = {};\n  this._itemVisuals = [];\n  this.hasItemVisual = {};\n};\n\nvar setItemDataAndSeriesIndex = function setItemDataAndSeriesIndex(child) {\n  child.seriesIndex = this.seriesIndex;\n  child.dataIndex = this.dataIndex;\n  child.dataType = this.dataType;\n};\n/**\n * Set graphic element relative to data. It can be set as null\n * @param {number} idx\n * @param {module:zrender/Element} [el]\n */\n\n\nlistProto.setItemGraphicEl = function (idx, el) {\n  var hostModel = this.hostModel;\n\n  if (el) {\n    // Add data index and series index for indexing the data by element\n    // Useful in tooltip\n    el.dataIndex = idx;\n    el.dataType = this.dataType;\n    el.seriesIndex = hostModel && hostModel.seriesIndex;\n\n    if (el.type === 'group') {\n      el.traverse(setItemDataAndSeriesIndex, el);\n    }\n  }\n\n  this._graphicEls[idx] = el;\n};\n/**\n * @param {number} idx\n * @return {module:zrender/Element}\n */\n\n\nlistProto.getItemGraphicEl = function (idx) {\n  return this._graphicEls[idx];\n};\n/**\n * @param {Function} cb\n * @param {*} context\n */\n\n\nlistProto.eachItemGraphicEl = function (cb, context) {\n  zrUtil.each(this._graphicEls, function (el, idx) {\n    if (el) {\n      cb && cb.call(context, el, idx);\n    }\n  });\n};\n/**\n * Shallow clone a new list except visual and layout properties, and graph elements.\n * New list only change the indices.\n */\n\n\nlistProto.cloneShallow = function (list) {\n  if (!list) {\n    var dimensionInfoList = zrUtil.map(this.dimensions, this.getDimensionInfo, this);\n    list = new List(dimensionInfoList, this.hostModel);\n  } // FIXME\n\n\n  list._storage = this._storage;\n  transferProperties(list, this); // Clone will not change the data extent and indices\n\n  if (this._indices) {\n    var Ctor = this._indices.constructor;\n    list._indices = new Ctor(this._indices);\n  } else {\n    list._indices = null;\n  }\n\n  list.getRawIndex = list._indices ? getRawIndexWithIndices : getRawIndexWithoutIndices;\n  return list;\n};\n/**\n * Wrap some method to add more feature\n * @param {string} methodName\n * @param {Function} injectFunction\n */\n\n\nlistProto.wrapMethod = function (methodName, injectFunction) {\n  var originalMethod = this[methodName];\n\n  if (typeof originalMethod !== 'function') {\n    return;\n  }\n\n  this.__wrappedMethods = this.__wrappedMethods || [];\n\n  this.__wrappedMethods.push(methodName);\n\n  this[methodName] = function () {\n    var res = originalMethod.apply(this, arguments);\n    return injectFunction.apply(this, [res].concat(zrUtil.slice(arguments)));\n  };\n}; // Methods that create a new list based on this list should be listed here.\n// Notice that those method should `RETURN` the new list.\n\n\nlistProto.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map']; // Methods that change indices of this list should be listed here.\n\nlistProto.CHANGABLE_METHODS = ['filterSelf', 'selectRange'];\nvar _default = List;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\n\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar OTHER_DIMENSIONS = createHashMap(['tooltip', 'label', 'itemName', 'itemId', 'seriesName']);\n\nfunction summarizeDimensions(data) {\n  var summary = {};\n  var encode = summary.encode = {};\n  var notExtraCoordDimMap = createHashMap();\n  var defaultedLabel = [];\n  var defaultedTooltip = []; // See the comment of `List.js#userOutput`.\n\n  var userOutput = summary.userOutput = {\n    dimensionNames: data.dimensions.slice(),\n    encode: {}\n  };\n  each(data.dimensions, function (dimName) {\n    var dimItem = data.getDimensionInfo(dimName);\n    var coordDim = dimItem.coordDim;\n\n    if (coordDim) {\n      var coordDimIndex = dimItem.coordDimIndex;\n      getOrCreateEncodeArr(encode, coordDim)[coordDimIndex] = dimName;\n\n      if (!dimItem.isExtraCoord) {\n        notExtraCoordDimMap.set(coordDim, 1); // Use the last coord dim (and label friendly) as default label,\n        // because when dataset is used, it is hard to guess which dimension\n        // can be value dimension. If both show x, y on label is not look good,\n        // and conventionally y axis is focused more.\n\n        if (mayLabelDimType(dimItem.type)) {\n          defaultedLabel[0] = dimName;\n        } // User output encode do not contain generated coords.\n        // And it only has index. User can use index to retrieve value from the raw item array.\n\n\n        getOrCreateEncodeArr(userOutput.encode, coordDim)[coordDimIndex] = dimItem.index;\n      }\n\n      if (dimItem.defaultTooltip) {\n        defaultedTooltip.push(dimName);\n      }\n    }\n\n    OTHER_DIMENSIONS.each(function (v, otherDim) {\n      var encodeArr = getOrCreateEncodeArr(encode, otherDim);\n      var dimIndex = dimItem.otherDims[otherDim];\n\n      if (dimIndex != null && dimIndex !== false) {\n        encodeArr[dimIndex] = dimItem.name;\n      }\n    });\n  });\n  var dataDimsOnCoord = [];\n  var encodeFirstDimNotExtra = {};\n  notExtraCoordDimMap.each(function (v, coordDim) {\n    var dimArr = encode[coordDim]; // ??? FIXME extra coord should not be set in dataDimsOnCoord.\n    // But should fix the case that radar axes: simplify the logic\n    // of `completeDimension`, remove `extraPrefix`.\n\n    encodeFirstDimNotExtra[coordDim] = dimArr[0]; // Not necessary to remove duplicate, because a data\n    // dim canot on more than one coordDim.\n\n    dataDimsOnCoord = dataDimsOnCoord.concat(dimArr);\n  });\n  summary.dataDimsOnCoord = dataDimsOnCoord;\n  summary.encodeFirstDimNotExtra = encodeFirstDimNotExtra;\n  var encodeLabel = encode.label; // FIXME `encode.label` is not recommanded, because formatter can not be set\n  // in this way. Use label.formatter instead. May be remove this approach someday.\n\n  if (encodeLabel && encodeLabel.length) {\n    defaultedLabel = encodeLabel.slice();\n  }\n\n  var encodeTooltip = encode.tooltip;\n\n  if (encodeTooltip && encodeTooltip.length) {\n    defaultedTooltip = encodeTooltip.slice();\n  } else if (!defaultedTooltip.length) {\n    defaultedTooltip = defaultedLabel.slice();\n  }\n\n  encode.defaultedLabel = defaultedLabel;\n  encode.defaultedTooltip = defaultedTooltip;\n  return summary;\n}\n\nfunction getOrCreateEncodeArr(encode, dim) {\n  if (!encode.hasOwnProperty(dim)) {\n    encode[dim] = [];\n  }\n\n  return encode[dim];\n}\n\nfunction getDimensionTypeByAxis(axisType) {\n  return axisType === 'category' ? 'ordinal' : axisType === 'time' ? 'time' : 'float';\n}\n\nfunction mayLabelDimType(dimType) {\n  // In most cases, ordinal and time do not suitable for label.\n  // Ordinal info can be displayed on axis. Time is too long.\n  return !(dimType === 'ordinal' || dimType === 'time');\n} // function findTheLastDimMayLabel(data) {\n//     // Get last value dim\n//     var dimensions = data.dimensions.slice();\n//     var valueType;\n//     var valueDim;\n//     while (dimensions.length && (\n//         valueDim = dimensions.pop(),\n//         valueType = data.getDimensionInfo(valueDim).type,\n//         valueType === 'ordinal' || valueType === 'time'\n//     )) {} // jshint ignore:line\n//     return valueDim;\n// }\n\n\nexports.OTHER_DIMENSIONS = OTHER_DIMENSIONS;\nexports.summarizeDimensions = summarizeDimensions;\nexports.getDimensionTypeByAxis = getDimensionTypeByAxis;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar completeDimensions = require(\"./completeDimensions\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Substitute `completeDimensions`.\n * `completeDimensions` is to be deprecated.\n */\n\n/**\n * @param {module:echarts/data/Source|module:echarts/data/List} source or data.\n * @param {Object|Array} [opt]\n * @param {Array.<string|Object>} [opt.coordDimensions=[]]\n * @param {number} [opt.dimensionsCount]\n * @param {string} [opt.generateCoord]\n * @param {string} [opt.generateCoordCount]\n * @param {Array.<string|Object>} [opt.dimensionsDefine=source.dimensionsDefine] Overwrite source define.\n * @param {Object|HashMap} [opt.encodeDefine=source.encodeDefine] Overwrite source define.\n * @return {Array.<Object>} dimensionsInfo\n */\n\n\nfunction _default(source, opt) {\n  opt = opt || {};\n  return completeDimensions(opt.coordDimensions || [], source, {\n    dimsDef: opt.dimensionsDefine || source.dimensionsDefine,\n    encodeDef: opt.encodeDefine || source.encodeDefine,\n    dimCount: opt.dimensionsCount,\n    generateCoord: opt.generateCoord,\n    generateCoordCount: opt.generateCoordCount\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar numberUtil = require(\"../util/number\");\n\nvar formatUtil = require(\"../util/format\");\n\nvar Scale = require(\"./Scale\");\n\nvar helper = require(\"./helper\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Interval scale\n * @module echarts/scale/Interval\n */\n\n\nvar roundNumber = numberUtil.round;\n/**\n * @alias module:echarts/coord/scale/Interval\n * @constructor\n */\n\nvar IntervalScale = Scale.extend({\n  type: 'interval',\n  _interval: 0,\n  _intervalPrecision: 2,\n  setExtent: function setExtent(start, end) {\n    var thisExtent = this._extent; //start,end may be a Number like '25',so...\n\n    if (!isNaN(start)) {\n      thisExtent[0] = parseFloat(start);\n    }\n\n    if (!isNaN(end)) {\n      thisExtent[1] = parseFloat(end);\n    }\n  },\n  unionExtent: function unionExtent(other) {\n    var extent = this._extent;\n    other[0] < extent[0] && (extent[0] = other[0]);\n    other[1] > extent[1] && (extent[1] = other[1]); // unionExtent may called by it's sub classes\n\n    IntervalScale.prototype.setExtent.call(this, extent[0], extent[1]);\n  },\n\n  /**\n   * Get interval\n   */\n  getInterval: function getInterval() {\n    return this._interval;\n  },\n\n  /**\n   * Set interval\n   */\n  setInterval: function setInterval(interval) {\n    this._interval = interval; // Dropped auto calculated niceExtent and use user setted extent\n    // We assume user wan't to set both interval, min, max to get a better result\n\n    this._niceExtent = this._extent.slice();\n    this._intervalPrecision = helper.getIntervalPrecision(interval);\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getTicks: function getTicks() {\n    return helper.intervalScaleGetTicks(this._interval, this._extent, this._niceExtent, this._intervalPrecision);\n  },\n\n  /**\n   * @param {number} data\n   * @param {Object} [opt]\n   * @param {number|string} [opt.precision] If 'auto', use nice presision.\n   * @param {boolean} [opt.pad] returns 1.50 but not 1.5 if precision is 2.\n   * @return {string}\n   */\n  getLabel: function getLabel(data, opt) {\n    if (data == null) {\n      return '';\n    }\n\n    var precision = opt && opt.precision;\n\n    if (precision == null) {\n      precision = numberUtil.getPrecisionSafe(data) || 0;\n    } else if (precision === 'auto') {\n      // Should be more precise then tick.\n      precision = this._intervalPrecision;\n    } // (1) If `precision` is set, 12.005 should be display as '12.00500'.\n    // (2) Use roundNumber (toFixed) to avoid scientific notation like '3.5e-7'.\n\n\n    data = roundNumber(data, precision, true);\n    return formatUtil.addCommas(data);\n  },\n\n  /**\n   * Update interval and extent of intervals for nice ticks\n   *\n   * @param {number} [splitNumber = 5] Desired number of ticks\n   * @param {number} [minInterval]\n   * @param {number} [maxInterval]\n   */\n  niceTicks: function niceTicks(splitNumber, minInterval, maxInterval) {\n    splitNumber = splitNumber || 5;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (!isFinite(span)) {\n      return;\n    } // User may set axis min 0 and data are all negative\n    // FIXME If it needs to reverse ?\n\n\n    if (span < 0) {\n      span = -span;\n      extent.reverse();\n    }\n\n    var result = helper.intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval);\n    this._intervalPrecision = result.intervalPrecision;\n    this._interval = result.interval;\n    this._niceExtent = result.niceTickExtent;\n  },\n\n  /**\n   * Nice extent.\n   * @param {Object} opt\n   * @param {number} [opt.splitNumber = 5] Given approx tick number\n   * @param {boolean} [opt.fixMin=false]\n   * @param {boolean} [opt.fixMax=false]\n   * @param {boolean} [opt.minInterval]\n   * @param {boolean} [opt.maxInterval]\n   */\n  niceExtent: function niceExtent(opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      if (extent[0] !== 0) {\n        // Expand extent\n        var expandSize = extent[0]; // In the fowllowing case\n        //      Axis has been fixed max 100\n        //      Plus data are all 100 and axis extent are [100, 100].\n        // Extend to the both side will cause expanded max is larger than fixed max.\n        // So only expand to the smaller side.\n\n        if (!opt.fixMax) {\n          extent[1] += expandSize / 2;\n          extent[0] -= expandSize / 2;\n        } else {\n          extent[0] -= expandSize / 2;\n        }\n      } else {\n        extent[1] = 1;\n      }\n    }\n\n    var span = extent[1] - extent[0]; // If there are no data and extent are [Infinity, -Infinity]\n\n    if (!isFinite(span)) {\n      extent[0] = 0;\n      extent[1] = 1;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = roundNumber(Math.floor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = roundNumber(Math.ceil(extent[1] / interval) * interval);\n    }\n  }\n});\n/**\n * @return {module:echarts/scale/Time}\n */\n\nIntervalScale.create = function () {\n  return new IntervalScale();\n};\n\nvar _default = IntervalScale;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar _number = require(\"../util/number\");\n\nvar parsePercent = _number.parsePercent;\n\nvar _dataStackHelper = require(\"../data/helper/dataStackHelper\");\n\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\n\nvar createRenderPlanner = require(\"../chart/helper/createRenderPlanner\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/* global Float32Array */\n\n\nvar STACK_PREFIX = '__ec_stack_';\nvar LARGE_BAR_MIN_WIDTH = 0.5;\nvar LargeArr = typeof Float32Array !== 'undefined' ? Float32Array : Array;\n\nfunction getSeriesStackId(seriesModel) {\n  return seriesModel.get('stack') || STACK_PREFIX + seriesModel.seriesIndex;\n}\n\nfunction getAxisKey(axis) {\n  return axis.dim + axis.index;\n}\n/**\n * @param {Object} opt\n * @param {module:echarts/coord/Axis} opt.axis Only support category axis currently.\n * @param {number} opt.count Positive interger.\n * @param {number} [opt.barWidth]\n * @param {number} [opt.barMaxWidth]\n * @param {number} [opt.barGap]\n * @param {number} [opt.barCategoryGap]\n * @return {Object} {width, offset, offsetCenter} If axis.type is not 'category', return undefined.\n */\n\n\nfunction getLayoutOnAxis(opt) {\n  var params = [];\n  var baseAxis = opt.axis;\n  var axisKey = 'axis0';\n\n  if (baseAxis.type !== 'category') {\n    return;\n  }\n\n  var bandWidth = baseAxis.getBandWidth();\n\n  for (var i = 0; i < opt.count || 0; i++) {\n    params.push(zrUtil.defaults({\n      bandWidth: bandWidth,\n      axisKey: axisKey,\n      stackId: STACK_PREFIX + i\n    }, opt));\n  }\n\n  var widthAndOffsets = doCalBarWidthAndOffset(params);\n  var result = [];\n\n  for (var i = 0; i < opt.count; i++) {\n    var item = widthAndOffsets[axisKey][STACK_PREFIX + i];\n    item.offsetCenter = item.offset + item.width / 2;\n    result.push(item);\n  }\n\n  return result;\n}\n\nfunction prepareLayoutBarSeries(seriesType, ecModel) {\n  var seriesModels = [];\n  ecModel.eachSeriesByType(seriesType, function (seriesModel) {\n    // Check series coordinate, do layout for cartesian2d only\n    if (isOnCartesian(seriesModel) && !isInLargeMode(seriesModel)) {\n      seriesModels.push(seriesModel);\n    }\n  });\n  return seriesModels;\n}\n\nfunction makeColumnLayout(barSeries) {\n  var seriesInfoList = [];\n  zrUtil.each(barSeries, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var axisExtent = baseAxis.getExtent();\n    var bandWidth = baseAxis.type === 'category' ? baseAxis.getBandWidth() : Math.abs(axisExtent[1] - axisExtent[0]) / data.count();\n    var barWidth = parsePercent(seriesModel.get('barWidth'), bandWidth);\n    var barMaxWidth = parsePercent(seriesModel.get('barMaxWidth'), bandWidth);\n    var barGap = seriesModel.get('barGap');\n    var barCategoryGap = seriesModel.get('barCategoryGap');\n    seriesInfoList.push({\n      bandWidth: bandWidth,\n      barWidth: barWidth,\n      barMaxWidth: barMaxWidth,\n      barGap: barGap,\n      barCategoryGap: barCategoryGap,\n      axisKey: getAxisKey(baseAxis),\n      stackId: getSeriesStackId(seriesModel)\n    });\n  });\n  return doCalBarWidthAndOffset(seriesInfoList);\n}\n\nfunction doCalBarWidthAndOffset(seriesInfoList) {\n  // Columns info on each category axis. Key is cartesian name\n  var columnsMap = {};\n  zrUtil.each(seriesInfoList, function (seriesInfo, idx) {\n    var axisKey = seriesInfo.axisKey;\n    var bandWidth = seriesInfo.bandWidth;\n    var columnsOnAxis = columnsMap[axisKey] || {\n      bandWidth: bandWidth,\n      remainedWidth: bandWidth,\n      autoWidthCount: 0,\n      categoryGap: '20%',\n      gap: '30%',\n      stacks: {}\n    };\n    var stacks = columnsOnAxis.stacks;\n    columnsMap[axisKey] = columnsOnAxis;\n    var stackId = seriesInfo.stackId;\n\n    if (!stacks[stackId]) {\n      columnsOnAxis.autoWidthCount++;\n    }\n\n    stacks[stackId] = stacks[stackId] || {\n      width: 0,\n      maxWidth: 0\n    }; // Caution: In a single coordinate system, these barGrid attributes\n    // will be shared by series. Consider that they have default values,\n    // only the attributes set on the last series will work.\n    // Do not change this fact unless there will be a break change.\n    // TODO\n\n    var barWidth = seriesInfo.barWidth;\n\n    if (barWidth && !stacks[stackId].width) {\n      // See #6312, do not restrict width.\n      stacks[stackId].width = barWidth;\n      barWidth = Math.min(columnsOnAxis.remainedWidth, barWidth);\n      columnsOnAxis.remainedWidth -= barWidth;\n    }\n\n    var barMaxWidth = seriesInfo.barMaxWidth;\n    barMaxWidth && (stacks[stackId].maxWidth = barMaxWidth);\n    var barGap = seriesInfo.barGap;\n    barGap != null && (columnsOnAxis.gap = barGap);\n    var barCategoryGap = seriesInfo.barCategoryGap;\n    barCategoryGap != null && (columnsOnAxis.categoryGap = barCategoryGap);\n  });\n  var result = {};\n  zrUtil.each(columnsMap, function (columnsOnAxis, coordSysName) {\n    result[coordSysName] = {};\n    var stacks = columnsOnAxis.stacks;\n    var bandWidth = columnsOnAxis.bandWidth;\n    var categoryGap = parsePercent(columnsOnAxis.categoryGap, bandWidth);\n    var barGapPercent = parsePercent(columnsOnAxis.gap, 1);\n    var remainedWidth = columnsOnAxis.remainedWidth;\n    var autoWidthCount = columnsOnAxis.autoWidthCount;\n    var autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0); // Find if any auto calculated bar exceeded maxBarWidth\n\n    zrUtil.each(stacks, function (column, stack) {\n      var maxWidth = column.maxWidth;\n\n      if (maxWidth && maxWidth < autoWidth) {\n        maxWidth = Math.min(maxWidth, remainedWidth);\n\n        if (column.width) {\n          maxWidth = Math.min(maxWidth, column.width);\n        }\n\n        remainedWidth -= maxWidth;\n        column.width = maxWidth;\n        autoWidthCount--;\n      }\n    }); // Recalculate width again\n\n    autoWidth = (remainedWidth - categoryGap) / (autoWidthCount + (autoWidthCount - 1) * barGapPercent);\n    autoWidth = Math.max(autoWidth, 0);\n    var widthSum = 0;\n    var lastColumn;\n    zrUtil.each(stacks, function (column, idx) {\n      if (!column.width) {\n        column.width = autoWidth;\n      }\n\n      lastColumn = column;\n      widthSum += column.width * (1 + barGapPercent);\n    });\n\n    if (lastColumn) {\n      widthSum -= lastColumn.width * barGapPercent;\n    }\n\n    var offset = -widthSum / 2;\n    zrUtil.each(stacks, function (column, stackId) {\n      result[coordSysName][stackId] = result[coordSysName][stackId] || {\n        bandWidth: bandWidth,\n        offset: offset,\n        width: column.width\n      };\n      offset += column.width * (1 + barGapPercent);\n    });\n  });\n  return result;\n}\n/**\n * @param {Object} barWidthAndOffset The result of makeColumnLayout\n * @param {module:echarts/coord/Axis} axis\n * @param {module:echarts/model/Series} [seriesModel] If not provided, return all.\n * @return {Object} {stackId: {offset, width}} or {offset, width} if seriesModel provided.\n */\n\n\nfunction retrieveColumnLayout(barWidthAndOffset, axis, seriesModel) {\n  if (barWidthAndOffset && axis) {\n    var result = barWidthAndOffset[getAxisKey(axis)];\n\n    if (result != null && seriesModel != null) {\n      result = result[getSeriesStackId(seriesModel)];\n    }\n\n    return result;\n  }\n}\n/**\n * @param {string} seriesType\n * @param {module:echarts/model/Global} ecModel\n */\n\n\nfunction layout(seriesType, ecModel) {\n  var seriesModels = prepareLayoutBarSeries(seriesType, ecModel);\n  var barWidthAndOffset = makeColumnLayout(seriesModels);\n  var lastStackCoords = {};\n  var lastStackCoordsOrigin = {};\n  zrUtil.each(seriesModels, function (seriesModel) {\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var stackId = getSeriesStackId(seriesModel);\n    var columnLayoutInfo = barWidthAndOffset[getAxisKey(baseAxis)][stackId];\n    var columnOffset = columnLayoutInfo.offset;\n    var columnWidth = columnLayoutInfo.width;\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var barMinHeight = seriesModel.get('barMinHeight') || 0;\n    lastStackCoords[stackId] = lastStackCoords[stackId] || [];\n    lastStackCoordsOrigin[stackId] = lastStackCoordsOrigin[stackId] || []; // Fix #4243\n\n    data.setLayout({\n      bandWidth: columnLayoutInfo.bandWidth,\n      offset: columnOffset,\n      size: columnWidth\n    });\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var stacked = isDimensionStacked(data, valueDim\n    /*, baseDim*/\n    );\n    var isValueAxisH = valueAxis.isHorizontal();\n    var valueAxisStart = getValueAxisStart(baseAxis, valueAxis, stacked);\n\n    for (var idx = 0, len = data.count(); idx < len; idx++) {\n      var value = data.get(valueDim, idx);\n      var baseValue = data.get(baseDim, idx); // If dataZoom in filteMode: 'empty', the baseValue can be set as NaN in \"axisProxy\".\n\n      if (isNaN(value) || isNaN(baseValue)) {\n        continue;\n      }\n\n      var sign = value >= 0 ? 'p' : 'n';\n      var baseCoord = valueAxisStart; // Because of the barMinHeight, we can not use the value in\n      // stackResultDimension directly.\n\n      if (stacked) {\n        // Only ordinal axis can be stacked.\n        if (!lastStackCoords[stackId][baseValue]) {\n          lastStackCoords[stackId][baseValue] = {\n            p: valueAxisStart,\n            // Positive stack\n            n: valueAxisStart // Negative stack\n\n          };\n        } // Should also consider #4243\n\n\n        baseCoord = lastStackCoords[stackId][baseValue][sign];\n      }\n\n      var x;\n      var y;\n      var width;\n      var height;\n\n      if (isValueAxisH) {\n        var coord = cartesian.dataToPoint([value, baseValue]);\n        x = baseCoord;\n        y = coord[1] + columnOffset;\n        width = coord[0] - valueAxisStart;\n        height = columnWidth;\n\n        if (Math.abs(width) < barMinHeight) {\n          width = (width < 0 ? -1 : 1) * barMinHeight;\n        }\n\n        stacked && (lastStackCoords[stackId][baseValue][sign] += width);\n      } else {\n        var coord = cartesian.dataToPoint([baseValue, value]);\n        x = coord[0] + columnOffset;\n        y = baseCoord;\n        width = columnWidth;\n        height = coord[1] - valueAxisStart;\n\n        if (Math.abs(height) < barMinHeight) {\n          // Include zero to has a positive bar\n          height = (height <= 0 ? -1 : 1) * barMinHeight;\n        }\n\n        stacked && (lastStackCoords[stackId][baseValue][sign] += height);\n      }\n\n      data.setItemLayout(idx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height\n      });\n    }\n  }, this);\n} // TODO: Do not support stack in large mode yet.\n\n\nvar largeLayout = {\n  seriesType: 'bar',\n  plan: createRenderPlanner(),\n  reset: function reset(seriesModel) {\n    if (!isOnCartesian(seriesModel) || !isInLargeMode(seriesModel)) {\n      return;\n    }\n\n    var data = seriesModel.getData();\n    var cartesian = seriesModel.coordinateSystem;\n    var baseAxis = cartesian.getBaseAxis();\n    var valueAxis = cartesian.getOtherAxis(baseAxis);\n    var valueDim = data.mapDimension(valueAxis.dim);\n    var baseDim = data.mapDimension(baseAxis.dim);\n    var valueAxisHorizontal = valueAxis.isHorizontal();\n    var valueDimIdx = valueAxisHorizontal ? 0 : 1;\n    var barWidth = retrieveColumnLayout(makeColumnLayout([seriesModel]), baseAxis, seriesModel).width;\n\n    if (!(barWidth > LARGE_BAR_MIN_WIDTH)) {\n      // jshint ignore:line\n      barWidth = LARGE_BAR_MIN_WIDTH;\n    }\n\n    return {\n      progress: progress\n    };\n\n    function progress(params, data) {\n      var count = params.count;\n      var largePoints = new LargeArr(count * 2);\n      var largeDataIndices = new LargeArr(count);\n      var dataIndex;\n      var coord = [];\n      var valuePair = [];\n      var pointsOffset = 0;\n      var idxOffset = 0;\n\n      while ((dataIndex = params.next()) != null) {\n        valuePair[valueDimIdx] = data.get(valueDim, dataIndex);\n        valuePair[1 - valueDimIdx] = data.get(baseDim, dataIndex);\n        coord = cartesian.dataToPoint(valuePair, null, coord); // Data index might not be in order, depends on `progressiveChunkMode`.\n\n        largePoints[pointsOffset++] = coord[0];\n        largePoints[pointsOffset++] = coord[1];\n        largeDataIndices[idxOffset++] = dataIndex;\n      }\n\n      data.setLayout({\n        largePoints: largePoints,\n        largeDataIndices: largeDataIndices,\n        barWidth: barWidth,\n        valueAxisStart: getValueAxisStart(baseAxis, valueAxis, false),\n        valueAxisHorizontal: valueAxisHorizontal\n      });\n    }\n  }\n};\n\nfunction isOnCartesian(seriesModel) {\n  return seriesModel.coordinateSystem && seriesModel.coordinateSystem.type === 'cartesian2d';\n}\n\nfunction isInLargeMode(seriesModel) {\n  return seriesModel.pipelineContext && seriesModel.pipelineContext.large;\n} // See cases in `test/bar-start.html` and `#7412`, `#8747`.\n\n\nfunction getValueAxisStart(baseAxis, valueAxis, stacked) {\n  return valueAxis.toGlobalCoord(valueAxis.dataToCoord(0));\n}\n\nexports.getLayoutOnAxis = getLayoutOnAxis;\nexports.prepareLayoutBarSeries = prepareLayoutBarSeries;\nexports.makeColumnLayout = makeColumnLayout;\nexports.retrieveColumnLayout = retrieveColumnLayout;\nexports.layout = layout;\nexports.largeLayout = largeLayout;","export default function contains(root, n) {\n  var node = n;\n\n  while (node) {\n    if (node === root) {\n      return true;\n    }\n\n    node = node.parentNode;\n  }\n\n  return false;\n}","import { tuple } from './type'; // eslint-disable-next-line import/prefer-default-export\n\nexport var PresetColorTypes = tuple('pink', 'red', 'yellow', 'orange', 'cyan', 'green', 'blue', 'purple', 'geekblue', 'magenta', 'volcano', 'gold', 'lime');","export default function getScroll(target, top) {\n  if (typeof window === 'undefined') {\n    return 0;\n  }\n\n  var prop = top ? 'pageYOffset' : 'pageXOffset';\n  var method = top ? 'scrollTop' : 'scrollLeft';\n  var isWindow = target === window;\n  var ret = isWindow ? target[prop] : target[method]; // ie6,7,8 standard mode\n\n  if (isWindow && typeof ret !== 'number') {\n    ret = document.documentElement[method];\n  }\n\n  return ret;\n}","var guid = require(\"./core/guid\");\n\nvar env = require(\"./core/env\");\n\nvar zrUtil = require(\"./core/util\");\n\nvar Handler = require(\"./Handler\");\n\nvar Storage = require(\"./Storage\");\n\nvar Painter = require(\"./Painter\");\n\nvar Animation = require(\"./animation/Animation\");\n\nvar HandlerProxy = require(\"./dom/HandlerProxy\");\n/*!\n* ZRender, a high performance 2d drawing library.\n*\n* Copyright (c) 2013, Baidu Inc.\n* All rights reserved.\n*\n* LICENSE\n* https://github.com/ecomfe/zrender/blob/master/LICENSE.txt\n*/\n\n\nvar useVML = !env.canvasSupported;\nvar painterCtors = {\n  canvas: Painter\n};\nvar instances = {}; // ZRendermap\n\n/**\n * @type {string}\n */\n\nvar version = '4.1.1';\n/**\n * Initializing a zrender instance\n * @param {HTMLElement} dom\n * @param {Object} [opts]\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n * @return {module:zrender/ZRender}\n */\n\nfunction init(dom, opts) {\n  var zr = new ZRender(guid(), dom, opts);\n  instances[zr.id] = zr;\n  return zr;\n}\n/**\n * Dispose zrender instance\n * @param {module:zrender/ZRender} zr\n */\n\n\nfunction dispose(zr) {\n  if (zr) {\n    zr.dispose();\n  } else {\n    for (var key in instances) {\n      if (instances.hasOwnProperty(key)) {\n        instances[key].dispose();\n      }\n    }\n\n    instances = {};\n  }\n\n  return this;\n}\n/**\n * Get zrender instance by id\n * @param {string} id zrender instance id\n * @return {module:zrender/ZRender}\n */\n\n\nfunction getInstance(id) {\n  return instances[id];\n}\n\nfunction registerPainter(name, Ctor) {\n  painterCtors[name] = Ctor;\n}\n\nfunction delInstance(id) {\n  delete instances[id];\n}\n/**\n * @module zrender/ZRender\n */\n\n/**\n * @constructor\n * @alias module:zrender/ZRender\n * @param {string} id\n * @param {HTMLElement} dom\n * @param {Object} opts\n * @param {string} [opts.renderer='canvas'] 'canvas' or 'svg'\n * @param {number} [opts.devicePixelRatio]\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n */\n\n\nvar ZRender = function ZRender(id, dom, opts) {\n  opts = opts || {};\n  /**\n   * @type {HTMLDomElement}\n   */\n\n  this.dom = dom;\n  /**\n   * @type {string}\n   */\n\n  this.id = id;\n  var self = this;\n  var storage = new Storage();\n  var rendererType = opts.renderer; // TODO WebGL\n\n  if (useVML) {\n    if (!painterCtors.vml) {\n      throw new Error('You need to require \\'zrender/vml/vml\\' to support IE8');\n    }\n\n    rendererType = 'vml';\n  } else if (!rendererType || !painterCtors[rendererType]) {\n    rendererType = 'canvas';\n  }\n\n  var painter = new painterCtors[rendererType](dom, storage, opts, id);\n  this.storage = storage;\n  this.painter = painter;\n  var handerProxy = !env.node && !env.worker ? new HandlerProxy(painter.getViewportRoot()) : null;\n  this.handler = new Handler(storage, painter, handerProxy, painter.root);\n  /**\n   * @type {module:zrender/animation/Animation}\n   */\n\n  this.animation = new Animation({\n    stage: {\n      update: zrUtil.bind(this.flush, this)\n    }\n  });\n  this.animation.start();\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._needsRefresh; //  storage.delFromStorage, \n  // FIXME ugly\n\n  var oldDelFromStorage = storage.delFromStorage;\n  var oldAddToStorage = storage.addToStorage;\n\n  storage.delFromStorage = function (el) {\n    oldDelFromStorage.call(storage, el);\n    el && el.removeSelfFromZr(self);\n  };\n\n  storage.addToStorage = function (el) {\n    oldAddToStorage.call(storage, el);\n    el.addSelfToZr(self);\n  };\n};\n\nZRender.prototype = {\n  constructor: ZRender,\n\n  /**\n   * \n   * @return {string}\n   */\n  getId: function getId() {\n    return this.id;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  add: function add(el) {\n    this.storage.addRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * \n   * @param  {module:zrender/Element} el\n   */\n  remove: function remove(el) {\n    this.storage.delRoot(el);\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Change configuration of layer\n   * @param {string} zLevel\n   * @param {Object} config\n   * @param {string} [config.clearColor=0] Clear color\n   * @param {string} [config.motionBlur=false] If enable motion blur\n   * @param {number} [config.lastFrameAlpha=0.7] Motion blur factor. Larger value cause longer trailer\n  */\n  configLayer: function configLayer(zLevel, config) {\n    if (this.painter.configLayer) {\n      this.painter.configLayer(zLevel, config);\n    }\n\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Set background color\n   * @param {string} backgroundColor\n   */\n  setBackgroundColor: function setBackgroundColor(backgroundColor) {\n    if (this.painter.setBackgroundColor) {\n      this.painter.setBackgroundColor(backgroundColor);\n    }\n\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Repaint the canvas immediately\n   */\n  refreshImmediately: function refreshImmediately() {\n    // var start = new Date();\n    // Clear needsRefresh ahead to avoid something wrong happens in refresh\n    // Or it will cause zrender refreshes again and again.\n    this._needsRefresh = this._needsRefreshHover = false;\n    this.painter.refresh(); // Avoid trigger zr.refresh in Element#beforeUpdate hook\n\n    this._needsRefresh = this._needsRefreshHover = false; // var end = new Date();\n    // var log = document.getElementById('log');\n    // if (log) {\n    //     log.innerHTML = log.innerHTML + '<br>' + (end - start);\n    // }\n  },\n\n  /**\n   * Mark and repaint the canvas in the next frame of browser\n   */\n  refresh: function refresh() {\n    this._needsRefresh = true;\n  },\n\n  /**\n   * Perform all refresh\n   */\n  flush: function flush() {\n    var triggerRendered;\n\n    if (this._needsRefresh) {\n      triggerRendered = true;\n      this.refreshImmediately();\n    }\n\n    if (this._needsRefreshHover) {\n      triggerRendered = true;\n      this.refreshHoverImmediately();\n    }\n\n    triggerRendered && this.trigger('rendered');\n  },\n\n  /**\n   * Add element to hover layer\n   * @param  {module:zrender/Element} el\n   * @param {Object} style\n   */\n  addHover: function addHover(el, style) {\n    if (this.painter.addHover) {\n      var elMirror = this.painter.addHover(el, style);\n      this.refreshHover();\n      return elMirror;\n    }\n  },\n\n  /**\n   * Add element from hover layer\n   * @param  {module:zrender/Element} el\n   */\n  removeHover: function removeHover(el) {\n    if (this.painter.removeHover) {\n      this.painter.removeHover(el);\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Clear all hover elements in hover layer\n   * @param  {module:zrender/Element} el\n   */\n  clearHover: function clearHover() {\n    if (this.painter.clearHover) {\n      this.painter.clearHover();\n      this.refreshHover();\n    }\n  },\n\n  /**\n   * Refresh hover in next frame\n   */\n  refreshHover: function refreshHover() {\n    this._needsRefreshHover = true;\n  },\n\n  /**\n   * Refresh hover immediately\n   */\n  refreshHoverImmediately: function refreshHoverImmediately() {\n    this._needsRefreshHover = false;\n    this.painter.refreshHover && this.painter.refreshHover();\n  },\n\n  /**\n   * Resize the canvas.\n   * Should be invoked when container size is changed\n   * @param {Object} [opts]\n   * @param {number|string} [opts.width] Can be 'auto' (the same as null/undefined)\n   * @param {number|string} [opts.height] Can be 'auto' (the same as null/undefined)\n   */\n  resize: function resize(opts) {\n    opts = opts || {};\n    this.painter.resize(opts.width, opts.height);\n    this.handler.resize();\n  },\n\n  /**\n   * Stop and clear all animation immediately\n   */\n  clearAnimation: function clearAnimation() {\n    this.animation.clear();\n  },\n\n  /**\n   * Get container width\n   */\n  getWidth: function getWidth() {\n    return this.painter.getWidth();\n  },\n\n  /**\n   * Get container height\n   */\n  getHeight: function getHeight() {\n    return this.painter.getHeight();\n  },\n\n  /**\n   * Export the canvas as Base64 URL\n   * @param {string} type\n   * @param {string} [backgroundColor='#fff']\n   * @return {string} Base64 URL\n   */\n  // toDataURL: function(type, backgroundColor) {\n  //     return this.painter.getRenderedCanvas({\n  //         backgroundColor: backgroundColor\n  //     }).toDataURL(type);\n  // },\n\n  /**\n   * Converting a path to image.\n   * It has much better performance of drawing image rather than drawing a vector path.\n   * @param {module:zrender/graphic/Path} e\n   * @param {number} width\n   * @param {number} height\n   */\n  pathToImage: function pathToImage(e, dpr) {\n    return this.painter.pathToImage(e, dpr);\n  },\n\n  /**\n   * Set default cursor\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function setCursorStyle(cursorStyle) {\n    this.handler.setCursorStyle(cursorStyle);\n  },\n\n  /**\n   * Find hovered element\n   * @param {number} x\n   * @param {number} y\n   * @return {Object} {target, topTarget}\n   */\n  findHover: function findHover(x, y) {\n    return this.handler.findHover(x, y);\n  },\n\n  /**\n   * Bind event\n   *\n   * @param {string} eventName Event name\n   * @param {Function} eventHandler Handler function\n   * @param {Object} [context] Context object\n   */\n  on: function on(eventName, eventHandler, context) {\n    this.handler.on(eventName, eventHandler, context);\n  },\n\n  /**\n   * Unbind event\n   * @param {string} eventName Event name\n   * @param {Function} [eventHandler] Handler function\n   */\n  off: function off(eventName, eventHandler) {\n    this.handler.off(eventName, eventHandler);\n  },\n\n  /**\n   * Trigger event manually\n   *\n   * @param {string} eventName Event name\n   * @param {event=} event Event object\n   */\n  trigger: function trigger(eventName, event) {\n    this.handler.trigger(eventName, event);\n  },\n\n  /**\n   * Clear all objects and the canvas.\n   */\n  clear: function clear() {\n    this.storage.delRoot();\n    this.painter.clear();\n  },\n\n  /**\n   * Dispose self.\n   */\n  dispose: function dispose() {\n    this.animation.stop();\n    this.clear();\n    this.storage.dispose();\n    this.painter.dispose();\n    this.handler.dispose();\n    this.animation = this.storage = this.painter = this.handler = null;\n    delInstance(this.id);\n  }\n};\nexports.version = version;\nexports.init = init;\nexports.dispose = dispose;\nexports.getInstance = getInstance;\nexports.registerPainter = registerPainter;","/**\n * zrender: id\n *\n * @author errorrik (errorrik@gmail.com)\n */\nvar idStart = 0x0907;\n\nfunction _default() {\n  return idStart++;\n}\n\nmodule.exports = _default;","var guid = require(\"./core/guid\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar Transformable = require(\"./mixin/Transformable\");\n\nvar Animatable = require(\"./mixin/Animatable\");\n\nvar zrUtil = require(\"./core/util\");\n/**\n * @alias module:zrender/Element\n * @constructor\n * @extends {module:zrender/mixin/Animatable}\n * @extends {module:zrender/mixin/Transformable}\n * @extends {module:zrender/mixin/Eventful}\n */\n\n\nvar Element = function Element(opts) {\n  // jshint ignore:line\n  Transformable.call(this, opts);\n  Eventful.call(this, opts);\n  Animatable.call(this, opts);\n  /**\n   * ID\n   * @type {string}\n   */\n\n  this.id = opts.id || guid();\n};\n\nElement.prototype = {\n  /**\n   * \n   * Element type\n   * @type {string}\n   */\n  type: 'element',\n\n  /**\n   * \n   * Element name\n   * @type {string}\n   */\n  name: '',\n\n  /**\n   * ZRender  element  zrender \n   * ZRender instance will be assigned when element is associated with zrender\n   * @name module:/zrender/Element#__zr\n   * @type {module:zrender/ZRender}\n   */\n  __zr: null,\n\n  /**\n   * true\n   * If ignore drawing and events of the element object\n   * @name module:/zrender/Element#ignore\n   * @type {boolean}\n   * @default false\n   */\n  ignore: false,\n\n  /**\n   * (shape) Group \n   * \n   * @type {module:zrender/graphic/Path}\n   * @see http://www.w3.org/TR/2dcontext/#clipping-region\n   * @readOnly\n   */\n  clipPath: null,\n\n  /**\n   *  Group\n   * @type {boolean}\n   */\n  isGroup: false,\n\n  /**\n   * Drift element\n   * @param  {number} dx dx on the global space\n   * @param  {number} dy dy on the global space\n   */\n  drift: function drift(dx, dy) {\n    switch (this.draggable) {\n      case 'horizontal':\n        dy = 0;\n        break;\n\n      case 'vertical':\n        dx = 0;\n        break;\n    }\n\n    var m = this.transform;\n\n    if (!m) {\n      m = this.transform = [1, 0, 0, 1, 0, 0];\n    }\n\n    m[4] += dx;\n    m[5] += dy;\n    this.decomposeTransform();\n    this.dirty(false);\n  },\n\n  /**\n   * Hook before update\n   */\n  beforeUpdate: function beforeUpdate() {},\n\n  /**\n   * Hook after update\n   */\n  afterUpdate: function afterUpdate() {},\n\n  /**\n   * Update each frame\n   */\n  update: function update() {\n    this.updateTransform();\n  },\n\n  /**\n   * @param  {Function} cb\n   * @param  {}   context\n   */\n  traverse: function traverse(cb, context) {},\n\n  /**\n   * @protected\n   */\n  attrKV: function attrKV(key, value) {\n    if (key === 'position' || key === 'scale' || key === 'origin') {\n      // Copy the array\n      if (value) {\n        var target = this[key];\n\n        if (!target) {\n          target = this[key] = [];\n        }\n\n        target[0] = value[0];\n        target[1] = value[1];\n      }\n    } else {\n      this[key] = value;\n    }\n  },\n\n  /**\n   * Hide the element\n   */\n  hide: function hide() {\n    this.ignore = true;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * Show the element\n   */\n  show: function show() {\n    this.ignore = false;\n    this.__zr && this.__zr.refresh();\n  },\n\n  /**\n   * @param {string|Object} key\n   * @param {*} value\n   */\n  attr: function attr(key, value) {\n    if (typeof key === 'string') {\n      this.attrKV(key, value);\n    } else if (zrUtil.isObject(key)) {\n      for (var name in key) {\n        if (key.hasOwnProperty(name)) {\n          this.attrKV(name, key[name]);\n        }\n      }\n    }\n\n    this.dirty(false);\n    return this;\n  },\n\n  /**\n   * @param {module:zrender/graphic/Path} clipPath\n   */\n  setClipPath: function setClipPath(clipPath) {\n    var zr = this.__zr;\n\n    if (zr) {\n      clipPath.addSelfToZr(zr);\n    } // Remove previous clip path\n\n\n    if (this.clipPath && this.clipPath !== clipPath) {\n      this.removeClipPath();\n    }\n\n    this.clipPath = clipPath;\n    clipPath.__zr = zr;\n    clipPath.__clipTarget = this;\n    this.dirty(false);\n  },\n\n  /**\n   */\n  removeClipPath: function removeClipPath() {\n    var clipPath = this.clipPath;\n\n    if (clipPath) {\n      if (clipPath.__zr) {\n        clipPath.removeSelfFromZr(clipPath.__zr);\n      }\n\n      clipPath.__zr = null;\n      clipPath.__clipTarget = null;\n      this.clipPath = null;\n      this.dirty(false);\n    }\n  },\n\n  /**\n   * Add self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  addSelfToZr: function addSelfToZr(zr) {\n    this.__zr = zr; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.addAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.addSelfToZr(zr);\n    }\n  },\n\n  /**\n   * Remove self from zrender instance.\n   * Not recursively because it will be invoked when element added to storage.\n   * @param {module:zrender/ZRender} zr\n   */\n  removeSelfFromZr: function removeSelfFromZr(zr) {\n    this.__zr = null; // \n\n    var animators = this.animators;\n\n    if (animators) {\n      for (var i = 0; i < animators.length; i++) {\n        zr.animation.removeAnimator(animators[i]);\n      }\n    }\n\n    if (this.clipPath) {\n      this.clipPath.removeSelfFromZr(zr);\n    }\n  }\n};\nzrUtil.mixin(Element, Animatable);\nzrUtil.mixin(Element, Transformable);\nzrUtil.mixin(Element, Eventful);\nvar _default = Element;\nmodule.exports = _default;","var matrix = require(\"../core/matrix\");\n\nvar vector = require(\"../core/vector\");\n/**\n * \n * @module zrender/mixin/Transformable\n * @author pissang (https://www.github.com/pissang)\n */\n\n\nvar mIdentity = matrix.identity;\nvar EPSILON = 5e-5;\n\nfunction isNotAroundZero(val) {\n  return val > EPSILON || val < -EPSILON;\n}\n/**\n * @alias module:zrender/mixin/Transformable\n * @constructor\n */\n\n\nvar Transformable = function Transformable(opts) {\n  opts = opts || {}; // If there are no given position, rotation, scale\n\n  if (!opts.position) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [0, 0]\n     */\n    this.position = [0, 0];\n  }\n\n  if (opts.rotation == null) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default 0\n     */\n    this.rotation = 0;\n  }\n\n  if (!opts.scale) {\n    /**\n     * \n     * @type {Array.<number>}\n     * @default [1, 1]\n     */\n    this.scale = [1, 1];\n  }\n  /**\n   * \n   * @type {Array.<number>}\n   * @default null\n   */\n\n\n  this.origin = this.origin || null;\n};\n\nvar transformableProto = Transformable.prototype;\ntransformableProto.transform = null;\n/**\n * \n * , position, rotation, scaletransformtransform\n */\n\ntransformableProto.needLocalTransform = function () {\n  return isNotAroundZero(this.rotation) || isNotAroundZero(this.position[0]) || isNotAroundZero(this.position[1]) || isNotAroundZero(this.scale[0] - 1) || isNotAroundZero(this.scale[1] - 1);\n};\n\nvar scaleTmp = [];\n\ntransformableProto.updateTransform = function () {\n  var parent = this.parent;\n  var parentHasTransform = parent && parent.transform;\n  var needLocalTransform = this.needLocalTransform();\n  var m = this.transform;\n\n  if (!(needLocalTransform || parentHasTransform)) {\n    m && mIdentity(m);\n    return;\n  }\n\n  m = m || matrix.create();\n\n  if (needLocalTransform) {\n    this.getLocalTransform(m);\n  } else {\n    mIdentity(m);\n  } // \n\n\n  if (parentHasTransform) {\n    if (needLocalTransform) {\n      matrix.mul(m, parent.transform, m);\n    } else {\n      matrix.copy(m, parent.transform);\n    }\n  } // \n\n\n  this.transform = m;\n  var globalScaleRatio = this.globalScaleRatio;\n\n  if (globalScaleRatio != null && globalScaleRatio !== 1) {\n    this.getGlobalScale(scaleTmp);\n    var relX = scaleTmp[0] < 0 ? -1 : 1;\n    var relY = scaleTmp[1] < 0 ? -1 : 1;\n    var sx = ((scaleTmp[0] - relX) * globalScaleRatio + relX) / scaleTmp[0] || 0;\n    var sy = ((scaleTmp[1] - relY) * globalScaleRatio + relY) / scaleTmp[1] || 0;\n    m[0] *= sx;\n    m[1] *= sx;\n    m[2] *= sy;\n    m[3] *= sy;\n  }\n\n  this.invTransform = this.invTransform || matrix.create();\n  matrix.invert(this.invTransform, m);\n};\n\ntransformableProto.getLocalTransform = function (m) {\n  return Transformable.getLocalTransform(this, m);\n};\n/**\n * transformcontext\n * @param {CanvasRenderingContext2D} ctx\n */\n\n\ntransformableProto.setTransform = function (ctx) {\n  var m = this.transform;\n  var dpr = ctx.dpr || 1;\n\n  if (m) {\n    ctx.setTransform(dpr * m[0], dpr * m[1], dpr * m[2], dpr * m[3], dpr * m[4], dpr * m[5]);\n  } else {\n    ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n  }\n};\n\ntransformableProto.restoreTransform = function (ctx) {\n  var dpr = ctx.dpr || 1;\n  ctx.setTransform(dpr, 0, 0, dpr, 0, 0);\n};\n\nvar tmpTransform = [];\nvar originTransform = matrix.create();\n\ntransformableProto.setLocalTransform = function (m) {\n  if (!m) {\n    // TODO return or set identity?\n    return;\n  }\n\n  var sx = m[0] * m[0] + m[1] * m[1];\n  var sy = m[2] * m[2] + m[3] * m[3];\n  var position = this.position;\n  var scale = this.scale;\n\n  if (isNotAroundZero(sx - 1)) {\n    sx = Math.sqrt(sx);\n  }\n\n  if (isNotAroundZero(sy - 1)) {\n    sy = Math.sqrt(sy);\n  }\n\n  if (m[0] < 0) {\n    sx = -sx;\n  }\n\n  if (m[3] < 0) {\n    sy = -sy;\n  }\n\n  position[0] = m[4];\n  position[1] = m[5];\n  scale[0] = sx;\n  scale[1] = sy;\n  this.rotation = Math.atan2(-m[1] / sy, m[0] / sx);\n};\n/**\n * `transform``position`, `rotation`, `scale`\n */\n\n\ntransformableProto.decomposeTransform = function () {\n  if (!this.transform) {\n    return;\n  }\n\n  var parent = this.parent;\n  var m = this.transform;\n\n  if (parent && parent.transform) {\n    // Get local transform and decompose them to position, scale, rotation\n    matrix.mul(tmpTransform, parent.invTransform, m);\n    m = tmpTransform;\n  }\n\n  var origin = this.origin;\n\n  if (origin && (origin[0] || origin[1])) {\n    originTransform[4] = origin[0];\n    originTransform[5] = origin[1];\n    matrix.mul(tmpTransform, m, originTransform);\n    tmpTransform[4] -= origin[0];\n    tmpTransform[5] -= origin[1];\n    m = tmpTransform;\n  }\n\n  this.setLocalTransform(m);\n};\n/**\n * Get global scale\n * @return {Array.<number>}\n */\n\n\ntransformableProto.getGlobalScale = function (out) {\n  var m = this.transform;\n  out = out || [];\n\n  if (!m) {\n    out[0] = 1;\n    out[1] = 1;\n    return out;\n  }\n\n  out[0] = Math.sqrt(m[0] * m[0] + m[1] * m[1]);\n  out[1] = Math.sqrt(m[2] * m[2] + m[3] * m[3]);\n\n  if (m[0] < 0) {\n    out[0] = -out[0];\n  }\n\n  if (m[3] < 0) {\n    out[1] = -out[1];\n  }\n\n  return out;\n};\n/**\n *  shape \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToLocal = function (x, y) {\n  var v2 = [x, y];\n  var invTransform = this.invTransform;\n\n  if (invTransform) {\n    vector.applyTransform(v2, v2, invTransform);\n  }\n\n  return v2;\n};\n/**\n * \n * @method\n * @param {number} x\n * @param {number} y\n * @return {Array.<number>}\n */\n\n\ntransformableProto.transformCoordToGlobal = function (x, y) {\n  var v2 = [x, y];\n  var transform = this.transform;\n\n  if (transform) {\n    vector.applyTransform(v2, v2, transform);\n  }\n\n  return v2;\n};\n/**\n * @static\n * @param {Object} target\n * @param {Array.<number>} target.origin\n * @param {number} target.rotation\n * @param {Array.<number>} target.position\n * @param {Array.<number>} [m]\n */\n\n\nTransformable.getLocalTransform = function (target, m) {\n  m = m || [];\n  mIdentity(m);\n  var origin = target.origin;\n  var scale = target.scale || [1, 1];\n  var rotation = target.rotation || 0;\n  var position = target.position || [0, 0];\n\n  if (origin) {\n    // Translate to origin\n    m[4] -= origin[0];\n    m[5] -= origin[1];\n  }\n\n  matrix.scale(m, m, scale);\n\n  if (rotation) {\n    matrix.rotate(m, m, rotation);\n  }\n\n  if (origin) {\n    // Translate back from origin\n    m[4] += origin[0];\n    m[5] += origin[1];\n  }\n\n  m[4] += position[0];\n  m[5] += position[1];\n  return m;\n};\n\nvar _default = Transformable;\nmodule.exports = _default;","var Clip = require(\"./Clip\");\n\nvar color = require(\"../tool/color\");\n\nvar _util = require(\"../core/util\");\n\nvar isArrayLike = _util.isArrayLike;\n/**\n * @module echarts/animation/Animator\n */\n\nvar arraySlice = Array.prototype.slice;\n\nfunction defaultGetter(target, key) {\n  return target[key];\n}\n\nfunction defaultSetter(target, key, value) {\n  target[key] = value;\n}\n/**\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} percent\n * @return {number}\n */\n\n\nfunction interpolateNumber(p0, p1, percent) {\n  return (p1 - p0) * percent + p0;\n}\n/**\n * @param  {string} p0\n * @param  {string} p1\n * @param  {number} percent\n * @return {string}\n */\n\n\nfunction interpolateString(p0, p1, percent) {\n  return percent > 0.5 ? p1 : p0;\n}\n/**\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {number} percent\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction interpolateArray(p0, p1, percent, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = interpolateNumber(p0[i], p1[i], percent);\n    }\n  } else {\n    var len2 = len && p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = interpolateNumber(p0[i][j], p1[i][j], percent);\n      }\n    }\n  }\n} // arr0 is source array, arr1 is target array.\n// Do some preprocess to avoid error happened when interpolating from arr0 to arr1\n\n\nfunction fillArr(arr0, arr1, arrDim) {\n  var arr0Len = arr0.length;\n  var arr1Len = arr1.length;\n\n  if (arr0Len !== arr1Len) {\n    // FIXME Not work for TypedArray\n    var isPreviousLarger = arr0Len > arr1Len;\n\n    if (isPreviousLarger) {\n      // Cut the previous\n      arr0.length = arr1Len;\n    } else {\n      // Fill the previous\n      for (var i = arr0Len; i < arr1Len; i++) {\n        arr0.push(arrDim === 1 ? arr1[i] : arraySlice.call(arr1[i]));\n      }\n    }\n  } // Handling NaN value\n\n\n  var len2 = arr0[0] && arr0[0].length;\n\n  for (var i = 0; i < arr0.length; i++) {\n    if (arrDim === 1) {\n      if (isNaN(arr0[i])) {\n        arr0[i] = arr1[i];\n      }\n    } else {\n      for (var j = 0; j < len2; j++) {\n        if (isNaN(arr0[i][j])) {\n          arr0[i][j] = arr1[i][j];\n        }\n      }\n    }\n  }\n}\n/**\n * @param  {Array} arr0\n * @param  {Array} arr1\n * @param  {number} arrDim\n * @return {boolean}\n */\n\n\nfunction isArraySame(arr0, arr1, arrDim) {\n  if (arr0 === arr1) {\n    return true;\n  }\n\n  var len = arr0.length;\n\n  if (len !== arr1.length) {\n    return false;\n  }\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      if (arr0[i] !== arr1[i]) {\n        return false;\n      }\n    }\n  } else {\n    var len2 = arr0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        if (arr0[i][j] !== arr1[i][j]) {\n          return false;\n        }\n      }\n    }\n  }\n\n  return true;\n}\n/**\n * Catmull Rom interpolate array\n * @param  {Array} p0\n * @param  {Array} p1\n * @param  {Array} p2\n * @param  {Array} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @param  {Array} out\n * @param  {number} arrDim\n */\n\n\nfunction catmullRomInterpolateArray(p0, p1, p2, p3, t, t2, t3, out, arrDim) {\n  var len = p0.length;\n\n  if (arrDim === 1) {\n    for (var i = 0; i < len; i++) {\n      out[i] = catmullRomInterpolate(p0[i], p1[i], p2[i], p3[i], t, t2, t3);\n    }\n  } else {\n    var len2 = p0[0].length;\n\n    for (var i = 0; i < len; i++) {\n      for (var j = 0; j < len2; j++) {\n        out[i][j] = catmullRomInterpolate(p0[i][j], p1[i][j], p2[i][j], p3[i][j], t, t2, t3);\n      }\n    }\n  }\n}\n/**\n * Catmull Rom interpolate number\n * @param  {number} p0\n * @param  {number} p1\n * @param  {number} p2\n * @param  {number} p3\n * @param  {number} t\n * @param  {number} t2\n * @param  {number} t3\n * @return {number}\n */\n\n\nfunction catmullRomInterpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n\nfunction cloneValue(value) {\n  if (isArrayLike(value)) {\n    var len = value.length;\n\n    if (isArrayLike(value[0])) {\n      var ret = [];\n\n      for (var i = 0; i < len; i++) {\n        ret.push(arraySlice.call(value[i]));\n      }\n\n      return ret;\n    }\n\n    return arraySlice.call(value);\n  }\n\n  return value;\n}\n\nfunction rgba2String(rgba) {\n  rgba[0] = Math.floor(rgba[0]);\n  rgba[1] = Math.floor(rgba[1]);\n  rgba[2] = Math.floor(rgba[2]);\n  return 'rgba(' + rgba.join(',') + ')';\n}\n\nfunction getArrayDim(keyframes) {\n  var lastValue = keyframes[keyframes.length - 1].value;\n  return isArrayLike(lastValue && lastValue[0]) ? 2 : 1;\n}\n\nfunction createTrackClip(animator, easing, oneTrackDone, keyframes, propName, forceAnimate) {\n  var getter = animator._getter;\n  var setter = animator._setter;\n  var useSpline = easing === 'spline';\n  var trackLen = keyframes.length;\n\n  if (!trackLen) {\n    return;\n  } // Guess data type\n\n\n  var firstVal = keyframes[0].value;\n  var isValueArray = isArrayLike(firstVal);\n  var isValueColor = false;\n  var isValueString = false; // For vertices morphing\n\n  var arrDim = isValueArray ? getArrayDim(keyframes) : 0;\n  var trackMaxTime; // Sort keyframe as ascending\n\n  keyframes.sort(function (a, b) {\n    return a.time - b.time;\n  });\n  trackMaxTime = keyframes[trackLen - 1].time; // Percents of each keyframe\n\n  var kfPercents = []; // Value of each keyframe\n\n  var kfValues = [];\n  var prevValue = keyframes[0].value;\n  var isAllValueEqual = true;\n\n  for (var i = 0; i < trackLen; i++) {\n    kfPercents.push(keyframes[i].time / trackMaxTime); // Assume value is a color when it is a string\n\n    var value = keyframes[i].value; // Check if value is equal, deep check if value is array\n\n    if (!(isValueArray && isArraySame(value, prevValue, arrDim) || !isValueArray && value === prevValue)) {\n      isAllValueEqual = false;\n    }\n\n    prevValue = value; // Try converting a string to a color array\n\n    if (typeof value === 'string') {\n      var colorArray = color.parse(value);\n\n      if (colorArray) {\n        value = colorArray;\n        isValueColor = true;\n      } else {\n        isValueString = true;\n      }\n    }\n\n    kfValues.push(value);\n  }\n\n  if (!forceAnimate && isAllValueEqual) {\n    return;\n  }\n\n  var lastValue = kfValues[trackLen - 1]; // Polyfill array and NaN value\n\n  for (var i = 0; i < trackLen - 1; i++) {\n    if (isValueArray) {\n      fillArr(kfValues[i], lastValue, arrDim);\n    } else {\n      if (isNaN(kfValues[i]) && !isNaN(lastValue) && !isValueString && !isValueColor) {\n        kfValues[i] = lastValue;\n      }\n    }\n  }\n\n  isValueArray && fillArr(getter(animator._target, propName), lastValue, arrDim); // Cache the key of last frame to speed up when\n  // animation playback is sequency\n\n  var lastFrame = 0;\n  var lastFramePercent = 0;\n  var start;\n  var w;\n  var p0;\n  var p1;\n  var p2;\n  var p3;\n\n  if (isValueColor) {\n    var rgba = [0, 0, 0, 0];\n  }\n\n  var onframe = function onframe(target, percent) {\n    // Find the range keyframes\n    // kf1-----kf2---------current--------kf3\n    // find kf2 and kf3 and do interpolation\n    var frame; // In the easing function like elasticOut, percent may less than 0\n\n    if (percent < 0) {\n      frame = 0;\n    } else if (percent < lastFramePercent) {\n      // Start from next key\n      // PENDING start from lastFrame ?\n      start = Math.min(lastFrame + 1, trackLen - 1);\n\n      for (frame = start; frame >= 0; frame--) {\n        if (kfPercents[frame] <= percent) {\n          break;\n        }\n      } // PENDING really need to do this ?\n\n\n      frame = Math.min(frame, trackLen - 2);\n    } else {\n      for (frame = lastFrame; frame < trackLen; frame++) {\n        if (kfPercents[frame] > percent) {\n          break;\n        }\n      }\n\n      frame = Math.min(frame - 1, trackLen - 2);\n    }\n\n    lastFrame = frame;\n    lastFramePercent = percent;\n    var range = kfPercents[frame + 1] - kfPercents[frame];\n\n    if (range === 0) {\n      return;\n    } else {\n      w = (percent - kfPercents[frame]) / range;\n    }\n\n    if (useSpline) {\n      p1 = kfValues[frame];\n      p0 = kfValues[frame === 0 ? frame : frame - 1];\n      p2 = kfValues[frame > trackLen - 2 ? trackLen - 1 : frame + 1];\n      p3 = kfValues[frame > trackLen - 3 ? trackLen - 1 : frame + 2];\n\n      if (isValueArray) {\n        catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          value = catmullRomInterpolateArray(p0, p1, p2, p3, w, w * w, w * w * w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(p1, p2, w);\n        } else {\n          value = catmullRomInterpolate(p0, p1, p2, p3, w, w * w, w * w * w);\n        }\n\n        setter(target, propName, value);\n      }\n    } else {\n      if (isValueArray) {\n        interpolateArray(kfValues[frame], kfValues[frame + 1], w, getter(target, propName), arrDim);\n      } else {\n        var value;\n\n        if (isValueColor) {\n          interpolateArray(kfValues[frame], kfValues[frame + 1], w, rgba, 1);\n          value = rgba2String(rgba);\n        } else if (isValueString) {\n          // String is step(0.5)\n          return interpolateString(kfValues[frame], kfValues[frame + 1], w);\n        } else {\n          value = interpolateNumber(kfValues[frame], kfValues[frame + 1], w);\n        }\n\n        setter(target, propName, value);\n      }\n    }\n  };\n\n  var clip = new Clip({\n    target: animator._target,\n    life: trackMaxTime,\n    loop: animator._loop,\n    delay: animator._delay,\n    onframe: onframe,\n    ondestroy: oneTrackDone\n  });\n\n  if (easing && easing !== 'spline') {\n    clip.easing = easing;\n  }\n\n  return clip;\n}\n/**\n * @alias module:zrender/animation/Animator\n * @constructor\n * @param {Object} target\n * @param {boolean} loop\n * @param {Function} getter\n * @param {Function} setter\n */\n\n\nvar Animator = function Animator(target, loop, getter, setter) {\n  this._tracks = {};\n  this._target = target;\n  this._loop = loop || false;\n  this._getter = getter || defaultGetter;\n  this._setter = setter || defaultSetter;\n  this._clipCount = 0;\n  this._delay = 0;\n  this._doneList = [];\n  this._onframeList = [];\n  this._clipList = [];\n};\n\nAnimator.prototype = {\n  /**\n   * \n   * @param  {number} time ms\n   * @param  {Object} props key-value\n   * @return {module:zrender/animation/Animator}\n   */\n  when: function when(time\n  /* ms */\n  , props) {\n    var tracks = this._tracks;\n\n    for (var propName in props) {\n      if (!props.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      if (!tracks[propName]) {\n        tracks[propName] = []; // Invalid value\n\n        var value = this._getter(this._target, propName);\n\n        if (value == null) {\n          // zrLog('Invalid property ' + propName);\n          continue;\n        } // If time is 0\n        //  Then props is given initialize value\n        // Else\n        //  Initialize value from current prop value\n\n\n        if (time !== 0) {\n          tracks[propName].push({\n            time: 0,\n            value: cloneValue(value)\n          });\n        }\n      }\n\n      tracks[propName].push({\n        time: time,\n        value: props[propName]\n      });\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} callback\n   * @return {module:zrender/animation/Animator}\n   */\n  during: function during(callback) {\n    this._onframeList.push(callback);\n\n    return this;\n  },\n  pause: function pause() {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].pause();\n    }\n\n    this._paused = true;\n  },\n  resume: function resume() {\n    for (var i = 0; i < this._clipList.length; i++) {\n      this._clipList[i].resume();\n    }\n\n    this._paused = false;\n  },\n  isPaused: function isPaused() {\n    return !!this._paused;\n  },\n  _doneCallback: function _doneCallback() {\n    // Clear all tracks\n    this._tracks = {}; // Clear all clips\n\n    this._clipList.length = 0;\n    var doneList = this._doneList;\n    var len = doneList.length;\n\n    for (var i = 0; i < len; i++) {\n      doneList[i].call(this);\n    }\n  },\n\n  /**\n   * \n   * @param  {string|Function} [easing]\n   *         {@link module:zrender/animation/easing}\n   * @param  {boolean} forceAnimate\n   * @return {module:zrender/animation/Animator}\n   */\n  start: function start(easing, forceAnimate) {\n    var self = this;\n    var clipCount = 0;\n\n    var oneTrackDone = function oneTrackDone() {\n      clipCount--;\n\n      if (!clipCount) {\n        self._doneCallback();\n      }\n    };\n\n    var lastClip;\n\n    for (var propName in this._tracks) {\n      if (!this._tracks.hasOwnProperty(propName)) {\n        continue;\n      }\n\n      var clip = createTrackClip(this, easing, oneTrackDone, this._tracks[propName], propName, forceAnimate);\n\n      if (clip) {\n        this._clipList.push(clip);\n\n        clipCount++; // If start after added to animation\n\n        if (this.animation) {\n          this.animation.addClip(clip);\n        }\n\n        lastClip = clip;\n      }\n    } // Add during callback on the last clip\n\n\n    if (lastClip) {\n      var oldOnFrame = lastClip.onframe;\n\n      lastClip.onframe = function (target, percent) {\n        oldOnFrame(target, percent);\n\n        for (var i = 0; i < self._onframeList.length; i++) {\n          self._onframeList[i](target, percent);\n        }\n      };\n    } // This optimization will help the case that in the upper application\n    // the view may be refreshed frequently, where animation will be\n    // called repeatly but nothing changed.\n\n\n    if (!clipCount) {\n      this._doneCallback();\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stop: function stop(forwardToLast) {\n    var clipList = this._clipList;\n    var animation = this.animation;\n\n    for (var i = 0; i < clipList.length; i++) {\n      var clip = clipList[i];\n\n      if (forwardToLast) {\n        // Move to last frame before stop\n        clip.onframe(this._target, 1);\n      }\n\n      animation && animation.removeClip(clip);\n    }\n\n    clipList.length = 0;\n  },\n\n  /**\n   * \n   * @param  {number} time ms\n   * @return {module:zrender/animation/Animator}\n   */\n  delay: function delay(time) {\n    this._delay = time;\n    return this;\n  },\n\n  /**\n   * \n   * @param  {Function} cb\n   * @return {module:zrender/animation/Animator}\n   */\n  done: function done(cb) {\n    if (cb) {\n      this._doneList.push(cb);\n    }\n\n    return this;\n  },\n\n  /**\n   * @return {Array.<module:zrender/animation/Clip>}\n   */\n  getClips: function getClips() {\n    return this._clipList;\n  }\n};\nvar _default = Animator;\nmodule.exports = _default;","// Simple LRU cache use doubly linked list\n// @module zrender/core/LRU\n\n/**\n * Simple double linked list. Compared with array, it has O(1) remove operation.\n * @constructor\n */\nvar LinkedList = function LinkedList() {\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n  this.head = null;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.tail = null;\n  this._len = 0;\n};\n\nvar linkedListProto = LinkedList.prototype;\n/**\n * Insert a new value at the tail\n * @param  {} val\n * @return {module:zrender/core/LRU~Entry}\n */\n\nlinkedListProto.insert = function (val) {\n  var entry = new Entry(val);\n  this.insertEntry(entry);\n  return entry;\n};\n/**\n * Insert an entry at the tail\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.insertEntry = function (entry) {\n  if (!this.head) {\n    this.head = this.tail = entry;\n  } else {\n    this.tail.next = entry;\n    entry.prev = this.tail;\n    entry.next = null;\n    this.tail = entry;\n  }\n\n  this._len++;\n};\n/**\n * Remove entry.\n * @param  {module:zrender/core/LRU~Entry} entry\n */\n\n\nlinkedListProto.remove = function (entry) {\n  var prev = entry.prev;\n  var next = entry.next;\n\n  if (prev) {\n    prev.next = next;\n  } else {\n    // Is head\n    this.head = next;\n  }\n\n  if (next) {\n    next.prev = prev;\n  } else {\n    // Is tail\n    this.tail = prev;\n  }\n\n  entry.next = entry.prev = null;\n  this._len--;\n};\n/**\n * @return {number}\n */\n\n\nlinkedListProto.len = function () {\n  return this._len;\n};\n/**\n * Clear list\n */\n\n\nlinkedListProto.clear = function () {\n  this.head = this.tail = null;\n  this._len = 0;\n};\n/**\n * @constructor\n * @param {} val\n */\n\n\nvar Entry = function Entry(val) {\n  /**\n   * @type {}\n   */\n  this.value = val;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.next;\n  /**\n   * @type {module:zrender/core/LRU~Entry}\n   */\n\n  this.prev;\n};\n/**\n * LRU Cache\n * @constructor\n * @alias module:zrender/core/LRU\n */\n\n\nvar LRU = function LRU(maxSize) {\n  this._list = new LinkedList();\n  this._map = {};\n  this._maxSize = maxSize || 10;\n  this._lastRemovedEntry = null;\n};\n\nvar LRUProto = LRU.prototype;\n/**\n * @param  {string} key\n * @param  {} value\n * @return {} Removed value\n */\n\nLRUProto.put = function (key, value) {\n  var list = this._list;\n  var map = this._map;\n  var removed = null;\n\n  if (map[key] == null) {\n    var len = list.len(); // Reuse last removed entry\n\n    var entry = this._lastRemovedEntry;\n\n    if (len >= this._maxSize && len > 0) {\n      // Remove the least recently used\n      var leastUsedEntry = list.head;\n      list.remove(leastUsedEntry);\n      delete map[leastUsedEntry.key];\n      removed = leastUsedEntry.value;\n      this._lastRemovedEntry = leastUsedEntry;\n    }\n\n    if (entry) {\n      entry.value = value;\n    } else {\n      entry = new Entry(value);\n    }\n\n    entry.key = key;\n    list.insertEntry(entry);\n    map[key] = entry;\n  }\n\n  return removed;\n};\n/**\n * @param  {string} key\n * @return {}\n */\n\n\nLRUProto.get = function (key) {\n  var entry = this._map[key];\n  var list = this._list;\n\n  if (entry != null) {\n    // Put the latest used entry in the tail\n    if (entry !== list.tail) {\n      list.remove(entry);\n      list.insertEntry(entry);\n    }\n\n    return entry.value;\n  }\n};\n/**\n * Clear the cache\n */\n\n\nLRUProto.clear = function () {\n  this._list.clear();\n\n  this._map = {};\n};\n\nvar _default = LRU;\nmodule.exports = _default;","var _config = require(\"../config\");\n\nvar debugMode = _config.debugMode;\n\nvar logError = function logError() {};\n\nif (debugMode === 1) {\n  logError = console.error;\n}\n\nvar _default = logError;\nmodule.exports = _default;","var SHADOW_PROPS = {\n  'shadowBlur': 1,\n  'shadowOffsetX': 1,\n  'shadowOffsetY': 1,\n  'textShadowBlur': 1,\n  'textShadowOffsetX': 1,\n  'textShadowOffsetY': 1,\n  'textBoxShadowBlur': 1,\n  'textBoxShadowOffsetX': 1,\n  'textBoxShadowOffsetY': 1\n};\n\nfunction _default(ctx, propName, value) {\n  if (SHADOW_PROPS.hasOwnProperty(propName)) {\n    return value *= ctx.dpr;\n  }\n\n  return value;\n}\n\nmodule.exports = _default;","var Pattern = function Pattern(image, repeat) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {image: ...}`, where this constructor will not be called.\n  this.image = image;\n  this.repeat = repeat; // Can be cloned\n\n  this.type = 'pattern';\n};\n\nPattern.prototype.getCanvasPattern = function (ctx) {\n  return ctx.createPattern(this.image, this.repeat || 'repeat');\n};\n\nvar _default = Pattern;\nmodule.exports = _default;","var _default = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || // https://github.com/ecomfe/zrender/issues/189#issuecomment-224919809\nwindow.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (func) {\n  setTimeout(func, 16);\n};\n\nmodule.exports = _default;","var _util = require(\"../../core/util\");\n\nvar retrieve2 = _util.retrieve2;\nvar retrieve3 = _util.retrieve3;\nvar each = _util.each;\nvar normalizeCssArray = _util.normalizeCssArray;\nvar isString = _util.isString;\nvar isObject = _util.isObject;\n\nvar textContain = require(\"../../contain/text\");\n\nvar roundRectHelper = require(\"./roundRect\");\n\nvar imageHelper = require(\"./image\");\n\nvar fixShadow = require(\"./fixShadow\");\n\nvar _constant = require(\"../constant\");\n\nvar ContextCachedBy = _constant.ContextCachedBy;\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\nvar DEFAULT_FONT = textContain.DEFAULT_FONT; // TODO: Have not support 'start', 'end' yet.\n\nvar VALID_TEXT_ALIGN = {\n  left: 1,\n  right: 1,\n  center: 1\n};\nvar VALID_TEXT_VERTICAL_ALIGN = {\n  top: 1,\n  bottom: 1,\n  middle: 1\n}; // Different from `STYLE_COMMON_PROPS` of `graphic/Style`,\n// the default value of shadowColor is `'transparent'`.\n\nvar SHADOW_STYLE_COMMON_PROPS = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']];\nvar _tmpTextPositionResult = {};\nvar _tmpBoxPositionResult = {};\n/**\n * @param {module:zrender/graphic/Style} style\n * @return {module:zrender/graphic/Style} The input style.\n */\n\nfunction normalizeTextStyle(style) {\n  normalizeStyle(style);\n  each(style.rich, normalizeStyle);\n  return style;\n}\n\nfunction normalizeStyle(style) {\n  if (style) {\n    style.font = textContain.makeFont(style);\n    var textAlign = style.textAlign;\n    textAlign === 'middle' && (textAlign = 'center');\n    style.textAlign = textAlign == null || VALID_TEXT_ALIGN[textAlign] ? textAlign : 'left'; // Compatible with textBaseline.\n\n    var textVerticalAlign = style.textVerticalAlign || style.textBaseline;\n    textVerticalAlign === 'center' && (textVerticalAlign = 'middle');\n    style.textVerticalAlign = textVerticalAlign == null || VALID_TEXT_VERTICAL_ALIGN[textVerticalAlign] ? textVerticalAlign : 'top';\n    var textPadding = style.textPadding;\n\n    if (textPadding) {\n      style.textPadding = normalizeCssArray(style.textPadding);\n    }\n  }\n}\n/**\n * @param {CanvasRenderingContext2D} ctx\n * @param {string} text\n * @param {module:zrender/graphic/Style} style\n * @param {Object|boolean} [rect] {x, y, width, height}\n *                  If set false, rect text is not used.\n * @param {Element|module:zrender/graphic/helper/constant.WILL_BE_RESTORED} [prevEl] For ctx prop cache.\n */\n\n\nfunction renderText(hostEl, ctx, text, style, rect, prevEl) {\n  style.rich ? renderRichText(hostEl, ctx, text, style, rect, prevEl) : renderPlainText(hostEl, ctx, text, style, rect, prevEl);\n} // Avoid setting to ctx according to prevEl if possible for\n// performance in scenarios of large amount text.\n\n\nfunction renderPlainText(hostEl, ctx, text, style, rect, prevEl) {\n  'use strict';\n\n  var needDrawBg = needDrawBackground(style);\n  var prevStyle;\n  var checkCache = false;\n  var cachedByMe = ctx.__attrCachedBy === ContextCachedBy.PLAIN_TEXT; // Only take and check cache for `Text` el, but not RectText.\n\n  if (prevEl !== WILL_BE_RESTORED) {\n    if (prevEl) {\n      prevStyle = prevEl.style;\n      checkCache = !needDrawBg && cachedByMe && prevStyle;\n    } // Prevent from using cache in `Style::bind`, because of the case:\n    // ctx property is modified by other properties than `Style::bind`\n    // used, and Style::bind is called next.\n\n\n    ctx.__attrCachedBy = needDrawBg ? ContextCachedBy.NONE : ContextCachedBy.PLAIN_TEXT;\n  } // Since this will be restored, prevent from using these props to check cache in the next\n  // entering of this method. But do not need to clear other cache like `Style::bind`.\n  else if (cachedByMe) {\n      ctx.__attrCachedBy = ContextCachedBy.NONE;\n    }\n\n  var styleFont = style.font || DEFAULT_FONT; // PENDING\n  // Only `Text` el set `font` and keep it (`RectText` will restore). So theoretically\n  // we can make font cache on ctx, which can cache for text el that are discontinuous.\n  // But layer save/restore needed to be considered.\n  // if (styleFont !== ctx.__fontCache) {\n  //     ctx.font = styleFont;\n  //     if (prevEl !== WILL_BE_RESTORED) {\n  //         ctx.__fontCache = styleFont;\n  //     }\n  // }\n\n  if (!checkCache || styleFont !== (prevStyle.font || DEFAULT_FONT)) {\n    ctx.font = styleFont;\n  } // Use the final font from context-2d, because the final\n  // font might not be the style.font when it is illegal.\n  // But get `ctx.font` might be time consuming.\n\n\n  var computedFont = hostEl.__computedFont;\n\n  if (hostEl.__styleFont !== styleFont) {\n    hostEl.__styleFont = styleFont;\n    computedFont = hostEl.__computedFont = ctx.font;\n  }\n\n  var textPadding = style.textPadding;\n  var textLineHeight = style.textLineHeight;\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parsePlainText(text, computedFont, textPadding, textLineHeight, style.truncate);\n  }\n\n  var outerHeight = contentBlock.outerHeight;\n  var textLines = contentBlock.lines;\n  var lineHeight = contentBlock.lineHeight;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign || 'left';\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var textX = baseX;\n  var textY = boxY;\n\n  if (needDrawBg || textPadding) {\n    // Consider performance, do not call getTextWidth util necessary.\n    var textWidth = textContain.getWidth(text, computedFont);\n    var outerWidth = textWidth;\n    textPadding && (outerWidth += textPadding[1] + textPadding[3]);\n    var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n    needDrawBg && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n    if (textPadding) {\n      textX = getTextXForPadding(baseX, textAlign, textPadding);\n      textY += textPadding[0];\n    }\n  } // Always set textAlign and textBase line, because it is difficute to calculate\n  // textAlign from prevEl, and we dont sure whether textAlign will be reset if\n  // font set happened.\n\n\n  ctx.textAlign = textAlign; // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  ctx.textBaseline = 'middle'; // Set text opacity\n\n  ctx.globalAlpha = style.opacity || 1; // Always set shadowBlur and shadowOffset to avoid leak from displayable.\n\n  for (var i = 0; i < SHADOW_STYLE_COMMON_PROPS.length; i++) {\n    var propItem = SHADOW_STYLE_COMMON_PROPS[i];\n    var styleProp = propItem[0];\n    var ctxProp = propItem[1];\n    var val = style[styleProp];\n\n    if (!checkCache || val !== prevStyle[styleProp]) {\n      ctx[ctxProp] = fixShadow(ctx, ctxProp, val || propItem[2]);\n    }\n  } // `textBaseline` is set as 'middle'.\n\n\n  textY += lineHeight / 2;\n  var textStrokeWidth = style.textStrokeWidth;\n  var textStrokeWidthPrev = checkCache ? prevStyle.textStrokeWidth : null;\n  var strokeWidthChanged = !checkCache || textStrokeWidth !== textStrokeWidthPrev;\n  var strokeChanged = !checkCache || strokeWidthChanged || style.textStroke !== prevStyle.textStroke;\n  var textStroke = getStroke(style.textStroke, textStrokeWidth);\n  var textFill = getFill(style.textFill);\n\n  if (textStroke) {\n    if (strokeWidthChanged) {\n      ctx.lineWidth = textStrokeWidth;\n    }\n\n    if (strokeChanged) {\n      ctx.strokeStyle = textStroke;\n    }\n  }\n\n  if (textFill) {\n    if (!checkCache || style.textFill !== prevStyle.textFill) {\n      ctx.fillStyle = textFill;\n    }\n  } // Optimize simply, in most cases only one line exists.\n\n\n  if (textLines.length === 1) {\n    // Fill after stroke so the outline will not cover the main part.\n    textStroke && ctx.strokeText(textLines[0], textX, textY);\n    textFill && ctx.fillText(textLines[0], textX, textY);\n  } else {\n    for (var i = 0; i < textLines.length; i++) {\n      // Fill after stroke so the outline will not cover the main part.\n      textStroke && ctx.strokeText(textLines[i], textX, textY);\n      textFill && ctx.fillText(textLines[i], textX, textY);\n      textY += lineHeight;\n    }\n  }\n}\n\nfunction renderRichText(hostEl, ctx, text, style, rect, prevEl) {\n  // Do not do cache for rich text because of the complexity.\n  // But `RectText` this will be restored, do not need to clear other cache like `Style::bind`.\n  if (prevEl !== WILL_BE_RESTORED) {\n    ctx.__attrCachedBy = ContextCachedBy.NONE;\n  }\n\n  var contentBlock = hostEl.__textCotentBlock;\n\n  if (!contentBlock || hostEl.__dirtyText) {\n    contentBlock = hostEl.__textCotentBlock = textContain.parseRichText(text, style);\n  }\n\n  drawRichText(hostEl, ctx, contentBlock, style, rect);\n}\n\nfunction drawRichText(hostEl, ctx, contentBlock, style, rect) {\n  var contentWidth = contentBlock.width;\n  var outerWidth = contentBlock.outerWidth;\n  var outerHeight = contentBlock.outerHeight;\n  var textPadding = style.textPadding;\n  var boxPos = getBoxPosition(_tmpBoxPositionResult, hostEl, style, rect);\n  var baseX = boxPos.baseX;\n  var baseY = boxPos.baseY;\n  var textAlign = boxPos.textAlign;\n  var textVerticalAlign = boxPos.textVerticalAlign; // Origin of textRotation should be the base point of text drawing.\n\n  applyTextRotation(ctx, style, rect, baseX, baseY);\n  var boxX = textContain.adjustTextX(baseX, outerWidth, textAlign);\n  var boxY = textContain.adjustTextY(baseY, outerHeight, textVerticalAlign);\n  var xLeft = boxX;\n  var lineTop = boxY;\n\n  if (textPadding) {\n    xLeft += textPadding[3];\n    lineTop += textPadding[0];\n  }\n\n  var xRight = xLeft + contentWidth;\n  needDrawBackground(style) && drawBackground(hostEl, ctx, style, boxX, boxY, outerWidth, outerHeight);\n\n  for (var i = 0; i < contentBlock.lines.length; i++) {\n    var line = contentBlock.lines[i];\n    var tokens = line.tokens;\n    var tokenCount = tokens.length;\n    var lineHeight = line.lineHeight;\n    var usedWidth = line.width;\n    var leftIndex = 0;\n    var lineXLeft = xLeft;\n    var lineXRight = xRight;\n    var rightIndex = tokenCount - 1;\n    var token;\n\n    while (leftIndex < tokenCount && (token = tokens[leftIndex], !token.textAlign || token.textAlign === 'left')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft, 'left');\n      usedWidth -= token.width;\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    while (rightIndex >= 0 && (token = tokens[rightIndex], token.textAlign === 'right')) {\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXRight, 'right');\n      usedWidth -= token.width;\n      lineXRight -= token.width;\n      rightIndex--;\n    } // The other tokens are placed as textAlign 'center' if there is enough space.\n\n\n    lineXLeft += (contentWidth - (lineXLeft - xLeft) - (xRight - lineXRight) - usedWidth) / 2;\n\n    while (leftIndex <= rightIndex) {\n      token = tokens[leftIndex]; // Consider width specified by user, use 'center' rather than 'left'.\n\n      placeToken(hostEl, ctx, token, style, lineHeight, lineTop, lineXLeft + token.width / 2, 'center');\n      lineXLeft += token.width;\n      leftIndex++;\n    }\n\n    lineTop += lineHeight;\n  }\n}\n\nfunction applyTextRotation(ctx, style, rect, x, y) {\n  // textRotation only apply in RectText.\n  if (rect && style.textRotation) {\n    var origin = style.textOrigin;\n\n    if (origin === 'center') {\n      x = rect.width / 2 + rect.x;\n      y = rect.height / 2 + rect.y;\n    } else if (origin) {\n      x = origin[0] + rect.x;\n      y = origin[1] + rect.y;\n    }\n\n    ctx.translate(x, y); // Positive: anticlockwise\n\n    ctx.rotate(-style.textRotation);\n    ctx.translate(-x, -y);\n  }\n}\n\nfunction placeToken(hostEl, ctx, token, style, lineHeight, lineTop, x, textAlign) {\n  var tokenStyle = style.rich[token.styleName] || {};\n  tokenStyle.text = token.text; // 'ctx.textBaseline' is always set as 'middle', for sake of\n  // the bias of \"Microsoft YaHei\".\n\n  var textVerticalAlign = token.textVerticalAlign;\n  var y = lineTop + lineHeight / 2;\n\n  if (textVerticalAlign === 'top') {\n    y = lineTop + token.height / 2;\n  } else if (textVerticalAlign === 'bottom') {\n    y = lineTop + lineHeight - token.height / 2;\n  }\n\n  !token.isLineHolder && needDrawBackground(tokenStyle) && drawBackground(hostEl, ctx, tokenStyle, textAlign === 'right' ? x - token.width : textAlign === 'center' ? x - token.width / 2 : x, y - token.height / 2, token.width, token.height);\n  var textPadding = token.textPadding;\n\n  if (textPadding) {\n    x = getTextXForPadding(x, textAlign, textPadding);\n    y -= token.height / 2 - textPadding[2] - token.textHeight / 2;\n  }\n\n  setCtx(ctx, 'shadowBlur', retrieve3(tokenStyle.textShadowBlur, style.textShadowBlur, 0));\n  setCtx(ctx, 'shadowColor', tokenStyle.textShadowColor || style.textShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', retrieve3(tokenStyle.textShadowOffsetX, style.textShadowOffsetX, 0));\n  setCtx(ctx, 'shadowOffsetY', retrieve3(tokenStyle.textShadowOffsetY, style.textShadowOffsetY, 0));\n  setCtx(ctx, 'textAlign', textAlign); // Force baseline to be \"middle\". Otherwise, if using \"top\", the\n  // text will offset downward a little bit in font \"Microsoft YaHei\".\n\n  setCtx(ctx, 'textBaseline', 'middle');\n  setCtx(ctx, 'font', token.font || DEFAULT_FONT);\n  var textStroke = getStroke(tokenStyle.textStroke || style.textStroke, textStrokeWidth);\n  var textFill = getFill(tokenStyle.textFill || style.textFill);\n  var textStrokeWidth = retrieve2(tokenStyle.textStrokeWidth, style.textStrokeWidth); // Fill after stroke so the outline will not cover the main part.\n\n  if (textStroke) {\n    setCtx(ctx, 'lineWidth', textStrokeWidth);\n    setCtx(ctx, 'strokeStyle', textStroke);\n    ctx.strokeText(token.text, x, y);\n  }\n\n  if (textFill) {\n    setCtx(ctx, 'fillStyle', textFill);\n    ctx.fillText(token.text, x, y);\n  }\n}\n\nfunction needDrawBackground(style) {\n  return !!(style.textBackgroundColor || style.textBorderWidth && style.textBorderColor);\n} // style: {textBackgroundColor, textBorderWidth, textBorderColor, textBorderRadius, text}\n// shape: {x, y, width, height}\n\n\nfunction drawBackground(hostEl, ctx, style, x, y, width, height) {\n  var textBackgroundColor = style.textBackgroundColor;\n  var textBorderWidth = style.textBorderWidth;\n  var textBorderColor = style.textBorderColor;\n  var isPlainBg = isString(textBackgroundColor);\n  setCtx(ctx, 'shadowBlur', style.textBoxShadowBlur || 0);\n  setCtx(ctx, 'shadowColor', style.textBoxShadowColor || 'transparent');\n  setCtx(ctx, 'shadowOffsetX', style.textBoxShadowOffsetX || 0);\n  setCtx(ctx, 'shadowOffsetY', style.textBoxShadowOffsetY || 0);\n\n  if (isPlainBg || textBorderWidth && textBorderColor) {\n    ctx.beginPath();\n    var textBorderRadius = style.textBorderRadius;\n\n    if (!textBorderRadius) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, {\n        x: x,\n        y: y,\n        width: width,\n        height: height,\n        r: textBorderRadius\n      });\n    }\n\n    ctx.closePath();\n  }\n\n  if (isPlainBg) {\n    setCtx(ctx, 'fillStyle', textBackgroundColor);\n\n    if (style.fillOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.fillOpacity * style.opacity;\n      ctx.fill();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.fill();\n    }\n  } else if (isObject(textBackgroundColor)) {\n    var image = textBackgroundColor.image;\n    image = imageHelper.createOrUpdateImage(image, null, hostEl, onBgImageLoaded, textBackgroundColor);\n\n    if (image && imageHelper.isImageReady(image)) {\n      ctx.drawImage(image, x, y, width, height);\n    }\n  }\n\n  if (textBorderWidth && textBorderColor) {\n    setCtx(ctx, 'lineWidth', textBorderWidth);\n    setCtx(ctx, 'strokeStyle', textBorderColor);\n\n    if (style.strokeOpacity != null) {\n      var originalGlobalAlpha = ctx.globalAlpha;\n      ctx.globalAlpha = style.strokeOpacity * style.opacity;\n      ctx.stroke();\n      ctx.globalAlpha = originalGlobalAlpha;\n    } else {\n      ctx.stroke();\n    }\n  }\n}\n\nfunction onBgImageLoaded(image, textBackgroundColor) {\n  // Replace image, so that `contain/text.js#parseRichText`\n  // will get correct result in next tick.\n  textBackgroundColor.image = image;\n}\n\nfunction getBoxPosition(out, hostEl, style, rect) {\n  var baseX = style.x || 0;\n  var baseY = style.y || 0;\n  var textAlign = style.textAlign;\n  var textVerticalAlign = style.textVerticalAlign; // Text position represented by coord\n\n  if (rect) {\n    var textPosition = style.textPosition;\n\n    if (textPosition instanceof Array) {\n      // Percent\n      baseX = rect.x + parsePercent(textPosition[0], rect.width);\n      baseY = rect.y + parsePercent(textPosition[1], rect.height);\n    } else {\n      var res = hostEl && hostEl.calculateTextPosition ? hostEl.calculateTextPosition(_tmpTextPositionResult, style, rect) : textContain.calculateTextPosition(_tmpTextPositionResult, style, rect);\n      baseX = res.x;\n      baseY = res.y; // Default align and baseline when has textPosition\n\n      textAlign = textAlign || res.textAlign;\n      textVerticalAlign = textVerticalAlign || res.textVerticalAlign;\n    } // textOffset is only support in RectText, otherwise\n    // we have to adjust boundingRect for textOffset.\n\n\n    var textOffset = style.textOffset;\n\n    if (textOffset) {\n      baseX += textOffset[0];\n      baseY += textOffset[1];\n    }\n  }\n\n  out = out || {};\n  out.baseX = baseX;\n  out.baseY = baseY;\n  out.textAlign = textAlign;\n  out.textVerticalAlign = textVerticalAlign;\n  return out;\n}\n\nfunction setCtx(ctx, prop, value) {\n  ctx[prop] = fixShadow(ctx, prop, value);\n  return ctx[prop];\n}\n/**\n * @param {string} [stroke] If specified, do not check style.textStroke.\n * @param {string} [lineWidth] If specified, do not check style.textStroke.\n * @param {number} style\n */\n\n\nfunction getStroke(stroke, lineWidth) {\n  return stroke == null || lineWidth <= 0 || stroke === 'transparent' || stroke === 'none' ? null // TODO pattern and gradient?\n  : stroke.image || stroke.colorStops ? '#000' : stroke;\n}\n\nfunction getFill(fill) {\n  return fill == null || fill === 'none' ? null // TODO pattern and gradient?\n  : fill.image || fill.colorStops ? '#000' : fill;\n}\n\nfunction parsePercent(value, maxValue) {\n  if (typeof value === 'string') {\n    if (value.lastIndexOf('%') >= 0) {\n      return parseFloat(value) / 100 * maxValue;\n    }\n\n    return parseFloat(value);\n  }\n\n  return value;\n}\n\nfunction getTextXForPadding(x, textAlign, textPadding) {\n  return textAlign === 'right' ? x - textPadding[1] : textAlign === 'center' ? x + textPadding[3] / 2 - textPadding[1] / 2 : x + textPadding[3];\n}\n/**\n * @param {string} text\n * @param {module:zrender/Style} style\n * @return {boolean}\n */\n\n\nfunction needDrawText(text, style) {\n  return text != null && (text || style.textBackgroundColor || style.textBorderWidth && style.textBorderColor || style.textPadding);\n}\n\nexports.normalizeTextStyle = normalizeTextStyle;\nexports.renderText = renderText;\nexports.getStroke = getStroke;\nexports.getFill = getFill;\nexports.parsePercent = parsePercent;\nexports.needDrawText = needDrawText;","/**\n * @param {Object} ctx\n * @param {Object} shape\n * @param {number} shape.x\n * @param {number} shape.y\n * @param {number} shape.width\n * @param {number} shape.height\n * @param {number} shape.r\n */\nfunction buildPath(ctx, shape) {\n  var x = shape.x;\n  var y = shape.y;\n  var width = shape.width;\n  var height = shape.height;\n  var r = shape.r;\n  var r1;\n  var r2;\n  var r3;\n  var r4; // Convert width and height to positive for better borderRadius\n\n  if (width < 0) {\n    x = x + width;\n    width = -width;\n  }\n\n  if (height < 0) {\n    y = y + height;\n    height = -height;\n  }\n\n  if (typeof r === 'number') {\n    r1 = r2 = r3 = r4 = r;\n  } else if (r instanceof Array) {\n    if (r.length === 1) {\n      r1 = r2 = r3 = r4 = r[0];\n    } else if (r.length === 2) {\n      r1 = r3 = r[0];\n      r2 = r4 = r[1];\n    } else if (r.length === 3) {\n      r1 = r[0];\n      r2 = r4 = r[1];\n      r3 = r[2];\n    } else {\n      r1 = r[0];\n      r2 = r[1];\n      r3 = r[2];\n      r4 = r[3];\n    }\n  } else {\n    r1 = r2 = r3 = r4 = 0;\n  }\n\n  var total;\n\n  if (r1 + r2 > width) {\n    total = r1 + r2;\n    r1 *= width / total;\n    r2 *= width / total;\n  }\n\n  if (r3 + r4 > width) {\n    total = r3 + r4;\n    r3 *= width / total;\n    r4 *= width / total;\n  }\n\n  if (r2 + r3 > height) {\n    total = r2 + r3;\n    r2 *= height / total;\n    r3 *= height / total;\n  }\n\n  if (r1 + r4 > height) {\n    total = r1 + r4;\n    r1 *= height / total;\n    r4 *= height / total;\n  }\n\n  ctx.moveTo(x + r1, y);\n  ctx.lineTo(x + width - r2, y);\n  r2 !== 0 && ctx.arc(x + width - r2, y + r2, r2, -Math.PI / 2, 0);\n  ctx.lineTo(x + width, y + height - r3);\n  r3 !== 0 && ctx.arc(x + width - r3, y + height - r3, r3, 0, Math.PI / 2);\n  ctx.lineTo(x + r4, y + height);\n  r4 !== 0 && ctx.arc(x + r4, y + height - r4, r4, Math.PI / 2, Math.PI);\n  ctx.lineTo(x, y + r1);\n  r1 !== 0 && ctx.arc(x + r1, y + r1, r1, Math.PI, Math.PI * 1.5);\n}\n\nexports.buildPath = buildPath;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar filter = _util.filter;\nvar map = _util.map;\nvar isArray = _util.isArray;\nvar indexOf = _util.indexOf;\nvar isObject = _util.isObject;\nvar isString = _util.isString;\nvar createHashMap = _util.createHashMap;\nvar assert = _util.assert;\nvar clone = _util.clone;\nvar merge = _util.merge;\nvar extend = _util.extend;\nvar mixin = _util.mixin;\n\nvar modelUtil = require(\"../util/model\");\n\nvar Model = require(\"./Model\");\n\nvar ComponentModel = require(\"./Component\");\n\nvar globalDefault = require(\"./globalDefault\");\n\nvar colorPaletteMixin = require(\"./mixin/colorPalette\");\n\nvar _sourceHelper = require(\"../data/helper/sourceHelper\");\n\nvar resetSourceDefaulter = _sourceHelper.resetSourceDefaulter;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * ECharts global model\n *\n * @module {echarts/model/Global}\n */\n\n/**\n * Caution: If the mechanism should be changed some day, these cases\n * should be considered:\n *\n * (1) In `merge option` mode, if using the same option to call `setOption`\n * many times, the result should be the same (try our best to ensure that).\n * (2) In `merge option` mode, if a component has no id/name specified, it\n * will be merged by index, and the result sequence of the components is\n * consistent to the original sequence.\n * (3) `reset` feature (in toolbox). Find detailed info in comments about\n * `mergeOption` in module:echarts/model/OptionManager.\n */\n\nvar OPTION_INNER_KEY = '\\0_ec_inner';\n/**\n * @alias module:echarts/model/Global\n *\n * @param {Object} option\n * @param {module:echarts/model/Model} parentModel\n * @param {Object} theme\n */\n\nvar GlobalModel = Model.extend({\n  init: function init(option, parentModel, theme, optionManager) {\n    theme = theme || {};\n    this.option = null; // Mark as not initialized.\n\n    /**\n     * @type {module:echarts/model/Model}\n     * @private\n     */\n\n    this._theme = new Model(theme);\n    /**\n     * @type {module:echarts/model/OptionManager}\n     */\n\n    this._optionManager = optionManager;\n  },\n  setOption: function setOption(option, optionPreprocessorFuncs) {\n    assert(!(OPTION_INNER_KEY in option), 'please use chart.getOption()');\n\n    this._optionManager.setOption(option, optionPreprocessorFuncs);\n\n    this.resetOption(null);\n  },\n\n  /**\n   * @param {string} type null/undefined: reset all.\n   *                      'recreate': force recreate all.\n   *                      'timeline': only reset timeline option\n   *                      'media': only reset media query option\n   * @return {boolean} Whether option changed.\n   */\n  resetOption: function resetOption(type) {\n    var optionChanged = false;\n    var optionManager = this._optionManager;\n\n    if (!type || type === 'recreate') {\n      var baseOption = optionManager.mountOption(type === 'recreate');\n\n      if (!this.option || type === 'recreate') {\n        initBase.call(this, baseOption);\n      } else {\n        this.restoreData();\n        this.mergeOption(baseOption);\n      }\n\n      optionChanged = true;\n    }\n\n    if (type === 'timeline' || type === 'media') {\n      this.restoreData();\n    }\n\n    if (!type || type === 'recreate' || type === 'timeline') {\n      var timelineOption = optionManager.getTimelineOption(this);\n      timelineOption && (this.mergeOption(timelineOption), optionChanged = true);\n    }\n\n    if (!type || type === 'recreate' || type === 'media') {\n      var mediaOptions = optionManager.getMediaOption(this, this._api);\n\n      if (mediaOptions.length) {\n        each(mediaOptions, function (mediaOption) {\n          this.mergeOption(mediaOption, optionChanged = true);\n        }, this);\n      }\n    }\n\n    return optionChanged;\n  },\n\n  /**\n   * @protected\n   */\n  mergeOption: function mergeOption(newOption) {\n    var option = this.option;\n    var componentsMap = this._componentsMap;\n    var newCptTypes = [];\n    resetSourceDefaulter(this); // If no component class, merge directly.\n    // For example: color, animaiton options, etc.\n\n    each(newOption, function (componentOption, mainType) {\n      if (componentOption == null) {\n        return;\n      }\n\n      if (!ComponentModel.hasClass(mainType)) {\n        // globalSettingTask.dirty();\n        option[mainType] = option[mainType] == null ? clone(componentOption) : merge(option[mainType], componentOption, true);\n      } else if (mainType) {\n        newCptTypes.push(mainType);\n      }\n    });\n    ComponentModel.topologicalTravel(newCptTypes, ComponentModel.getAllClassMainTypes(), visitComponent, this);\n\n    function visitComponent(mainType, dependencies) {\n      var newCptOptionList = modelUtil.normalizeToArray(newOption[mainType]);\n      var mapResult = modelUtil.mappingToExists(componentsMap.get(mainType), newCptOptionList);\n      modelUtil.makeIdAndName(mapResult); // Set mainType and complete subType.\n\n      each(mapResult, function (item, index) {\n        var opt = item.option;\n\n        if (isObject(opt)) {\n          item.keyInfo.mainType = mainType;\n          item.keyInfo.subType = determineSubType(mainType, opt, item.exist);\n        }\n      });\n      var dependentModels = getComponentsByTypes(componentsMap, dependencies);\n      option[mainType] = [];\n      componentsMap.set(mainType, []);\n      each(mapResult, function (resultItem, index) {\n        var componentModel = resultItem.exist;\n        var newCptOption = resultItem.option;\n        assert(isObject(newCptOption) || componentModel, 'Empty component definition'); // Consider where is no new option and should be merged using {},\n        // see removeEdgeAndAdd in topologicalTravel and\n        // ComponentModel.getAllClassMainTypes.\n\n        if (!newCptOption) {\n          componentModel.mergeOption({}, this);\n          componentModel.optionUpdated({}, false);\n        } else {\n          var ComponentModelClass = ComponentModel.getClass(mainType, resultItem.keyInfo.subType, true);\n\n          if (componentModel && componentModel instanceof ComponentModelClass) {\n            componentModel.name = resultItem.keyInfo.name; // componentModel.settingTask && componentModel.settingTask.dirty();\n\n            componentModel.mergeOption(newCptOption, this);\n            componentModel.optionUpdated(newCptOption, false);\n          } else {\n            // PENDING Global as parent ?\n            var extraOpt = extend({\n              dependentModels: dependentModels,\n              componentIndex: index\n            }, resultItem.keyInfo);\n            componentModel = new ComponentModelClass(newCptOption, this, this, extraOpt);\n            extend(componentModel, extraOpt);\n            componentModel.init(newCptOption, this, this, extraOpt); // Call optionUpdated after init.\n            // newCptOption has been used as componentModel.option\n            // and may be merged with theme and default, so pass null\n            // to avoid confusion.\n\n            componentModel.optionUpdated(null, true);\n          }\n        }\n\n        componentsMap.get(mainType)[index] = componentModel;\n        option[mainType][index] = componentModel.option;\n      }, this); // Backup series for filtering.\n\n      if (mainType === 'series') {\n        createSeriesIndices(this, componentsMap.get('series'));\n      }\n    }\n\n    this._seriesIndicesMap = createHashMap(this._seriesIndices = this._seriesIndices || []);\n  },\n\n  /**\n   * Get option for output (cloned option and inner info removed)\n   * @public\n   * @return {Object}\n   */\n  getOption: function getOption() {\n    var option = clone(this.option);\n    each(option, function (opts, mainType) {\n      if (ComponentModel.hasClass(mainType)) {\n        var opts = modelUtil.normalizeToArray(opts);\n\n        for (var i = opts.length - 1; i >= 0; i--) {\n          // Remove options with inner id.\n          if (modelUtil.isIdInner(opts[i])) {\n            opts.splice(i, 1);\n          }\n        }\n\n        option[mainType] = opts;\n      }\n    });\n    delete option[OPTION_INNER_KEY];\n    return option;\n  },\n\n  /**\n   * @return {module:echarts/model/Model}\n   */\n  getTheme: function getTheme() {\n    return this._theme;\n  },\n\n  /**\n   * @param {string} mainType\n   * @param {number} [idx=0]\n   * @return {module:echarts/model/Component}\n   */\n  getComponent: function getComponent(mainType, idx) {\n    var list = this._componentsMap.get(mainType);\n\n    if (list) {\n      return list[idx || 0];\n    }\n  },\n\n  /**\n   * If none of index and id and name used, return all components with mainType.\n   * @param {Object} condition\n   * @param {string} condition.mainType\n   * @param {string} [condition.subType] If ignore, only query by mainType\n   * @param {number|Array.<number>} [condition.index] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.id] Either input index or id or name.\n   * @param {string|Array.<string>} [condition.name] Either input index or id or name.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  queryComponents: function queryComponents(condition) {\n    var mainType = condition.mainType;\n\n    if (!mainType) {\n      return [];\n    }\n\n    var index = condition.index;\n    var id = condition.id;\n    var name = condition.name;\n\n    var cpts = this._componentsMap.get(mainType);\n\n    if (!cpts || !cpts.length) {\n      return [];\n    }\n\n    var result;\n\n    if (index != null) {\n      if (!isArray(index)) {\n        index = [index];\n      }\n\n      result = filter(map(index, function (idx) {\n        return cpts[idx];\n      }), function (val) {\n        return !!val;\n      });\n    } else if (id != null) {\n      var isIdArray = isArray(id);\n      result = filter(cpts, function (cpt) {\n        return isIdArray && indexOf(id, cpt.id) >= 0 || !isIdArray && cpt.id === id;\n      });\n    } else if (name != null) {\n      var isNameArray = isArray(name);\n      result = filter(cpts, function (cpt) {\n        return isNameArray && indexOf(name, cpt.name) >= 0 || !isNameArray && cpt.name === name;\n      });\n    } else {\n      // Return all components with mainType\n      result = cpts.slice();\n    }\n\n    return filterBySubType(result, condition);\n  },\n\n  /**\n   * The interface is different from queryComponents,\n   * which is convenient for inner usage.\n   *\n   * @usage\n   * var result = findComponents(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}}\n   * );\n   * var result = findComponents(\n   *     {mainType: 'series',\n   *     filter: function (model, index) {...}}\n   * );\n   * // result like [component0, componnet1, ...]\n   *\n   * @param {Object} condition\n   * @param {string} condition.mainType Mandatory.\n   * @param {string} [condition.subType] Optional.\n   * @param {Object} [condition.query] like {xxxIndex, xxxId, xxxName},\n   *        where xxx is mainType.\n   *        If query attribute is null/undefined or has no index/id/name,\n   *        do not filtering by query conditions, which is convenient for\n   *        no-payload situations or when target of action is global.\n   * @param {Function} [condition.filter] parameter: component, return boolean.\n   * @return {Array.<module:echarts/model/Component>}\n   */\n  findComponents: function findComponents(condition) {\n    var query = condition.query;\n    var mainType = condition.mainType;\n    var queryCond = getQueryCond(query);\n    var result = queryCond ? this.queryComponents(queryCond) : this._componentsMap.get(mainType);\n    return doFilter(filterBySubType(result, condition));\n\n    function getQueryCond(q) {\n      var indexAttr = mainType + 'Index';\n      var idAttr = mainType + 'Id';\n      var nameAttr = mainType + 'Name';\n      return q && (q[indexAttr] != null || q[idAttr] != null || q[nameAttr] != null) ? {\n        mainType: mainType,\n        // subType will be filtered finally.\n        index: q[indexAttr],\n        id: q[idAttr],\n        name: q[nameAttr]\n      } : null;\n    }\n\n    function doFilter(res) {\n      return condition.filter ? filter(res, condition.filter) : res;\n    }\n  },\n\n  /**\n   * @usage\n   * eachComponent('legend', function (legendModel, index) {\n   *     ...\n   * });\n   * eachComponent(function (componentType, model, index) {\n   *     // componentType does not include subType\n   *     // (componentType is 'xxx' but not 'xxx.aa')\n   * });\n   * eachComponent(\n   *     {mainType: 'dataZoom', query: {dataZoomId: 'abc'}},\n   *     function (model, index) {...}\n   * );\n   * eachComponent(\n   *     {mainType: 'series', subType: 'pie', query: {seriesName: 'uio'}},\n   *     function (model, index) {...}\n   * );\n   *\n   * @param {string|Object=} mainType When mainType is object, the definition\n   *                                  is the same as the method 'findComponents'.\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachComponent: function eachComponent(mainType, cb, context) {\n    var componentsMap = this._componentsMap;\n\n    if (typeof mainType === 'function') {\n      context = cb;\n      cb = mainType;\n      componentsMap.each(function (components, componentType) {\n        each(components, function (component, index) {\n          cb.call(context, componentType, component, index);\n        });\n      });\n    } else if (isString(mainType)) {\n      each(componentsMap.get(mainType), cb, context);\n    } else if (isObject(mainType)) {\n      var queryResult = this.findComponents(mainType);\n      each(queryResult, cb, context);\n    }\n  },\n\n  /**\n   * @param {string} name\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByName: function getSeriesByName(name) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.name === name;\n    });\n  },\n\n  /**\n   * @param {number} seriesIndex\n   * @return {module:echarts/model/Series}\n   */\n  getSeriesByIndex: function getSeriesByIndex(seriesIndex) {\n    return this._componentsMap.get('series')[seriesIndex];\n  },\n\n  /**\n   * Get series list before filtered by type.\n   * FIXME: rename to getRawSeriesByType?\n   *\n   * @param {string} subType\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeriesByType: function getSeriesByType(subType) {\n    var series = this._componentsMap.get('series');\n\n    return filter(series, function (oneSeries) {\n      return oneSeries.subType === subType;\n    });\n  },\n\n  /**\n   * @return {Array.<module:echarts/model/Series>}\n   */\n  getSeries: function getSeries() {\n    return this._componentsMap.get('series').slice();\n  },\n\n  /**\n   * @return {number}\n   */\n  getSeriesCount: function getSeriesCount() {\n    return this._componentsMap.get('series').length;\n  },\n\n  /**\n   * After filtering, series may be different\n   * frome raw series.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeries: function eachSeries(cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      cb.call(context, series, rawSeriesIndex);\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered.\n   *\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeries: function eachRawSeries(cb, context) {\n    each(this._componentsMap.get('series'), cb, context);\n  },\n\n  /**\n   * After filtering, series may be different.\n   * frome raw series.\n   *\n   * @param {string} subType.\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachSeriesByType: function eachSeriesByType(subType, cb, context) {\n    assertSeriesInitialized(this);\n    each(this._seriesIndices, function (rawSeriesIndex) {\n      var series = this._componentsMap.get('series')[rawSeriesIndex];\n\n      if (series.subType === subType) {\n        cb.call(context, series, rawSeriesIndex);\n      }\n    }, this);\n  },\n\n  /**\n   * Iterate raw series before filtered of given type.\n   *\n   * @parma {string} subType\n   * @param {Function} cb\n   * @param {*} context\n   */\n  eachRawSeriesByType: function eachRawSeriesByType(subType, cb, context) {\n    return each(this.getSeriesByType(subType), cb, context);\n  },\n\n  /**\n   * @param {module:echarts/model/Series} seriesModel\n   */\n  isSeriesFiltered: function isSeriesFiltered(seriesModel) {\n    assertSeriesInitialized(this);\n    return this._seriesIndicesMap.get(seriesModel.componentIndex) == null;\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getCurrentSeriesIndices: function getCurrentSeriesIndices() {\n    return (this._seriesIndices || []).slice();\n  },\n\n  /**\n   * @param {Function} cb\n   * @param {*} context\n   */\n  filterSeries: function filterSeries(cb, context) {\n    assertSeriesInitialized(this);\n    var filteredSeries = filter(this._componentsMap.get('series'), cb, context);\n    createSeriesIndices(this, filteredSeries);\n  },\n  restoreData: function restoreData(payload) {\n    var componentsMap = this._componentsMap;\n    createSeriesIndices(this, componentsMap.get('series'));\n    var componentTypes = [];\n    componentsMap.each(function (components, componentType) {\n      componentTypes.push(componentType);\n    });\n    ComponentModel.topologicalTravel(componentTypes, ComponentModel.getAllClassMainTypes(), function (componentType, dependencies) {\n      each(componentsMap.get(componentType), function (component) {\n        (componentType !== 'series' || !isNotTargetSeries(component, payload)) && component.restoreData();\n      });\n    });\n  }\n});\n\nfunction isNotTargetSeries(seriesModel, payload) {\n  if (payload) {\n    var index = payload.seiresIndex;\n    var id = payload.seriesId;\n    var name = payload.seriesName;\n    return index != null && seriesModel.componentIndex !== index || id != null && seriesModel.id !== id || name != null && seriesModel.name !== name;\n  }\n}\n/**\n * @inner\n */\n\n\nfunction mergeTheme(option, theme) {\n  // PENDING\n  // NOT use `colorLayer` in theme if option has `color`\n  var notMergeColorLayer = option.color && !option.colorLayer;\n  each(theme, function (themeItem, name) {\n    if (name === 'colorLayer' && notMergeColorLayer) {\n      return;\n    } //  component model  merge  model \n\n\n    if (!ComponentModel.hasClass(name)) {\n      if (typeof themeItem === 'object') {\n        option[name] = !option[name] ? clone(themeItem) : merge(option[name], themeItem, false);\n      } else {\n        if (option[name] == null) {\n          option[name] = themeItem;\n        }\n      }\n    }\n  });\n}\n\nfunction initBase(baseOption) {\n  baseOption = baseOption; // Using OPTION_INNER_KEY to mark that this option can not be used outside,\n  // i.e. `chart.setOption(chart.getModel().option);` is forbiden.\n\n  this.option = {};\n  this.option[OPTION_INNER_KEY] = 1;\n  /**\n   * Init with series: [], in case of calling findSeries method\n   * before series initialized.\n   * @type {Object.<string, Array.<module:echarts/model/Model>>}\n   * @private\n   */\n\n  this._componentsMap = createHashMap({\n    series: []\n  });\n  /**\n   * Mapping between filtered series list and raw series list.\n   * key: filtered series indices, value: raw series indices.\n   * @type {Array.<nubmer>}\n   * @private\n   */\n\n  this._seriesIndices;\n  this._seriesIndicesMap;\n  mergeTheme(baseOption, this._theme.option); // TODO Needs clone when merging to the unexisted property\n\n  merge(baseOption, globalDefault, false);\n  this.mergeOption(baseOption);\n}\n/**\n * @inner\n * @param {Array.<string>|string} types model types\n * @return {Object} key: {string} type, value: {Array.<Object>} models\n */\n\n\nfunction getComponentsByTypes(componentsMap, types) {\n  if (!isArray(types)) {\n    types = types ? [types] : [];\n  }\n\n  var ret = {};\n  each(types, function (type) {\n    ret[type] = (componentsMap.get(type) || []).slice();\n  });\n  return ret;\n}\n/**\n * @inner\n */\n\n\nfunction determineSubType(mainType, newCptOption, existComponent) {\n  var subType = newCptOption.type ? newCptOption.type : existComponent ? existComponent.subType // Use determineSubType only when there is no existComponent.\n  : ComponentModel.determineSubType(mainType, newCptOption); // tooltip, markline, markpoint may always has no subType\n\n  return subType;\n}\n/**\n * @inner\n */\n\n\nfunction createSeriesIndices(ecModel, seriesModels) {\n  ecModel._seriesIndicesMap = createHashMap(ecModel._seriesIndices = map(seriesModels, function (series) {\n    return series.componentIndex;\n  }) || []);\n}\n/**\n * @inner\n */\n\n\nfunction filterBySubType(components, condition) {\n  // Using hasOwnProperty for restrict. Consider\n  // subType is undefined in user payload.\n  return condition.hasOwnProperty('subType') ? filter(components, function (cpt) {\n    return cpt.subType === condition.subType;\n  }) : components;\n}\n/**\n * @inner\n */\n\n\nfunction assertSeriesInitialized(ecModel) {}\n\nmixin(GlobalModel, colorPaletteMixin);\nvar _default = GlobalModel;\nmodule.exports = _default;","var Path = require(\"../graphic/Path\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar transformPath = require(\"./transformPath\"); // command chars\n// var cc = [\n//     'm', 'M', 'l', 'L', 'v', 'V', 'h', 'H', 'z', 'Z',\n//     'c', 'C', 'q', 'Q', 't', 'T', 's', 'S', 'a', 'A'\n// ];\n\n\nvar mathSqrt = Math.sqrt;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI = Math.PI;\n\nvar vMag = function vMag(v) {\n  return Math.sqrt(v[0] * v[0] + v[1] * v[1]);\n};\n\nvar vRatio = function vRatio(u, v) {\n  return (u[0] * v[0] + u[1] * v[1]) / (vMag(u) * vMag(v));\n};\n\nvar vAngle = function vAngle(u, v) {\n  return (u[0] * v[1] < u[1] * v[0] ? -1 : 1) * Math.acos(vRatio(u, v));\n};\n\nfunction processArc(x1, y1, x2, y2, fa, fs, rx, ry, psiDeg, cmd, path) {\n  var psi = psiDeg * (PI / 180.0);\n  var xp = mathCos(psi) * (x1 - x2) / 2.0 + mathSin(psi) * (y1 - y2) / 2.0;\n  var yp = -1 * mathSin(psi) * (x1 - x2) / 2.0 + mathCos(psi) * (y1 - y2) / 2.0;\n  var lambda = xp * xp / (rx * rx) + yp * yp / (ry * ry);\n\n  if (lambda > 1) {\n    rx *= mathSqrt(lambda);\n    ry *= mathSqrt(lambda);\n  }\n\n  var f = (fa === fs ? -1 : 1) * mathSqrt((rx * rx * (ry * ry) - rx * rx * (yp * yp) - ry * ry * (xp * xp)) / (rx * rx * (yp * yp) + ry * ry * (xp * xp))) || 0;\n  var cxp = f * rx * yp / ry;\n  var cyp = f * -ry * xp / rx;\n  var cx = (x1 + x2) / 2.0 + mathCos(psi) * cxp - mathSin(psi) * cyp;\n  var cy = (y1 + y2) / 2.0 + mathSin(psi) * cxp + mathCos(psi) * cyp;\n  var theta = vAngle([1, 0], [(xp - cxp) / rx, (yp - cyp) / ry]);\n  var u = [(xp - cxp) / rx, (yp - cyp) / ry];\n  var v = [(-1 * xp - cxp) / rx, (-1 * yp - cyp) / ry];\n  var dTheta = vAngle(u, v);\n\n  if (vRatio(u, v) <= -1) {\n    dTheta = PI;\n  }\n\n  if (vRatio(u, v) >= 1) {\n    dTheta = 0;\n  }\n\n  if (fs === 0 && dTheta > 0) {\n    dTheta = dTheta - 2 * PI;\n  }\n\n  if (fs === 1 && dTheta < 0) {\n    dTheta = dTheta + 2 * PI;\n  }\n\n  path.addData(cmd, cx, cy, rx, ry, theta, dTheta, psi, fs);\n}\n\nvar commandReg = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/ig; // Consider case:\n// (1) delimiter can be comma or space, where continuous commas\n// or spaces should be seen as one comma.\n// (2) value can be like:\n// '2e-4', 'l.5.9' (ignore 0), 'M-10-10', 'l-2.43e-1,34.9983',\n// 'l-.5E1,54', '121-23-44-11' (no delimiter)\n\nvar numberReg = /-?([0-9]*\\.)?[0-9]+([eE]-?[0-9]+)?/g; // var valueSplitReg = /[\\s,]+/;\n\nfunction createPathProxyFromString(data) {\n  if (!data) {\n    return new PathProxy();\n  } // var data = data.replace(/-/g, ' -')\n  //     .replace(/  /g, ' ')\n  //     .replace(/ /g, ',')\n  //     .replace(/,,/g, ',');\n  // var n;\n  // create pipes so that we can split the data\n  // for (n = 0; n < cc.length; n++) {\n  //     cs = cs.replace(new RegExp(cc[n], 'g'), '|' + cc[n]);\n  // }\n  // data = data.replace(/-/g, ',-');\n  // create array\n  // var arr = cs.split('|');\n  // init context point\n\n\n  var cpx = 0;\n  var cpy = 0;\n  var subpathX = cpx;\n  var subpathY = cpy;\n  var prevCmd;\n  var path = new PathProxy();\n  var CMD = PathProxy.CMD; // commandReg.lastIndex = 0;\n  // var cmdResult;\n  // while ((cmdResult = commandReg.exec(data)) != null) {\n  //     var cmdStr = cmdResult[1];\n  //     var cmdContent = cmdResult[2];\n\n  var cmdList = data.match(commandReg);\n\n  for (var l = 0; l < cmdList.length; l++) {\n    var cmdText = cmdList[l];\n    var cmdStr = cmdText.charAt(0);\n    var cmd; // String#split is faster a little bit than String#replace or RegExp#exec.\n    // var p = cmdContent.split(valueSplitReg);\n    // var pLen = 0;\n    // for (var i = 0; i < p.length; i++) {\n    //     // '' and other invalid str => NaN\n    //     var val = parseFloat(p[i]);\n    //     !isNaN(val) && (p[pLen++] = val);\n    // }\n\n    var p = cmdText.match(numberReg) || [];\n    var pLen = p.length;\n\n    for (var i = 0; i < pLen; i++) {\n      p[i] = parseFloat(p[i]);\n    }\n\n    var off = 0;\n\n    while (off < pLen) {\n      var ctlPtx;\n      var ctlPty;\n      var rx;\n      var ry;\n      var psi;\n      var fa;\n      var fs;\n      var x1 = cpx;\n      var y1 = cpy; // convert l, H, h, V, and v to L\n\n      switch (cmdStr) {\n        case 'l':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'L':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'm':\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'l';\n          break;\n\n        case 'M':\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.M;\n          path.addData(cmd, cpx, cpy);\n          subpathX = cpx;\n          subpathY = cpy;\n          cmdStr = 'L';\n          break;\n\n        case 'h':\n          cpx += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'H':\n          cpx = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'v':\n          cpy += p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'V':\n          cpy = p[off++];\n          cmd = CMD.L;\n          path.addData(cmd, cpx, cpy);\n          break;\n\n        case 'C':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++], p[off++], p[off++], p[off++], p[off++], p[off++]);\n          cpx = p[off - 2];\n          cpy = p[off - 1];\n          break;\n\n        case 'c':\n          cmd = CMD.C;\n          path.addData(cmd, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy, p[off++] + cpx, p[off++] + cpy);\n          cpx += p[off - 2];\n          cpy += p[off - 1];\n          break;\n\n        case 'S':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 's':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.C) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cmd = CMD.C;\n          x1 = cpx + p[off++];\n          y1 = cpy + p[off++];\n          cpx += p[off++];\n          cpy += p[off++];\n          path.addData(cmd, ctlPtx, ctlPty, x1, y1, cpx, cpy);\n          break;\n\n        case 'Q':\n          x1 = p[off++];\n          y1 = p[off++];\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'q':\n          x1 = p[off++] + cpx;\n          y1 = p[off++] + cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, x1, y1, cpx, cpy);\n          break;\n\n        case 'T':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 't':\n          ctlPtx = cpx;\n          ctlPty = cpy;\n          var len = path.len();\n          var pathData = path.data;\n\n          if (prevCmd === CMD.Q) {\n            ctlPtx += cpx - pathData[len - 4];\n            ctlPty += cpy - pathData[len - 3];\n          }\n\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.Q;\n          path.addData(cmd, ctlPtx, ctlPty, cpx, cpy);\n          break;\n\n        case 'A':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx = p[off++];\n          cpy = p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n\n        case 'a':\n          rx = p[off++];\n          ry = p[off++];\n          psi = p[off++];\n          fa = p[off++];\n          fs = p[off++];\n          x1 = cpx, y1 = cpy;\n          cpx += p[off++];\n          cpy += p[off++];\n          cmd = CMD.A;\n          processArc(x1, y1, cpx, cpy, fa, fs, rx, ry, psi, cmd, path);\n          break;\n      }\n    }\n\n    if (cmdStr === 'z' || cmdStr === 'Z') {\n      cmd = CMD.Z;\n      path.addData(cmd); // z may be in the middle of the path.\n\n      cpx = subpathX;\n      cpy = subpathY;\n    }\n\n    prevCmd = cmd;\n  }\n\n  path.toStatic();\n  return path;\n} // TODO Optimize double memory cost problem\n\n\nfunction createPathOptions(str, opts) {\n  var pathProxy = createPathProxyFromString(str);\n  opts = opts || {};\n\n  opts.buildPath = function (path) {\n    if (path.setData) {\n      path.setData(pathProxy.data); // Svg and vml renderer don't have context\n\n      var ctx = path.getContext();\n\n      if (ctx) {\n        path.rebuildPath(ctx);\n      }\n    } else {\n      var ctx = path;\n      pathProxy.rebuildPath(ctx);\n    }\n  };\n\n  opts.applyTransform = function (m) {\n    transformPath(pathProxy, m);\n    this.dirty(true);\n  };\n\n  return opts;\n}\n/**\n * Create a Path object from path string data\n * http://www.w3.org/TR/SVG/paths.html#PathData\n * @param  {Object} opts Other options\n */\n\n\nfunction createFromString(str, opts) {\n  return new Path(createPathOptions(str, opts));\n}\n/**\n * Create a Path class from path string data\n * @param  {string} str\n * @param  {Object} opts Other options\n */\n\n\nfunction extendFromString(str, opts) {\n  return Path.extend(createPathOptions(str, opts));\n}\n/**\n * Merge multiple paths\n */\n// TODO Apply transform\n// TODO stroke dash\n// TODO Optimize double memory cost problem\n\n\nfunction mergePath(pathEls, opts) {\n  var pathList = [];\n  var len = pathEls.length;\n\n  for (var i = 0; i < len; i++) {\n    var pathEl = pathEls[i];\n\n    if (!pathEl.path) {\n      pathEl.createPathProxy();\n    }\n\n    if (pathEl.__dirtyPath) {\n      pathEl.buildPath(pathEl.path, pathEl.shape, true);\n    }\n\n    pathList.push(pathEl.path);\n  }\n\n  var pathBundle = new Path(opts); // Need path proxy.\n\n  pathBundle.createPathProxy();\n\n  pathBundle.buildPath = function (path) {\n    path.appendPath(pathList); // Svg and vml renderer don't have context\n\n    var ctx = path.getContext();\n\n    if (ctx) {\n      path.rebuildPath(ctx);\n    }\n  };\n\n  return pathBundle;\n}\n\nexports.createFromString = createFromString;\nexports.extendFromString = extendFromString;\nexports.mergePath = mergePath;","var vec2 = require(\"./vector\");\n\nvar curve = require(\"./curve\");\n/**\n * @author Yi Shen(https://github.com/pissang)\n */\n\n\nvar mathMin = Math.min;\nvar mathMax = Math.max;\nvar mathSin = Math.sin;\nvar mathCos = Math.cos;\nvar PI2 = Math.PI * 2;\nvar start = vec2.create();\nvar end = vec2.create();\nvar extremity = vec2.create();\n/**\n * `min``max`\n * @module zrender/core/bbox\n * @param {Array<Object>} points \n * @param {number} min\n * @param {number} max\n */\n\nfunction fromPoints(points, min, max) {\n  if (points.length === 0) {\n    return;\n  }\n\n  var p = points[0];\n  var left = p[0];\n  var right = p[0];\n  var top = p[1];\n  var bottom = p[1];\n  var i;\n\n  for (i = 1; i < points.length; i++) {\n    p = points[i];\n    left = mathMin(left, p[0]);\n    right = mathMax(right, p[0]);\n    top = mathMin(top, p[1]);\n    bottom = mathMax(bottom, p[1]);\n  }\n\n  min[0] = left;\n  min[1] = top;\n  max[0] = right;\n  max[1] = bottom;\n}\n/**\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromLine(x0, y0, x1, y1, min, max) {\n  min[0] = mathMin(x0, x1);\n  min[1] = mathMin(y0, y1);\n  max[0] = mathMax(x0, x1);\n  max[1] = mathMax(y0, y1);\n}\n\nvar xDim = [];\nvar yDim = [];\n/**\n * (p0, p1, p2, p3)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {number} x3\n * @param {number} y3\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\nfunction fromCubic(x0, y0, x1, y1, x2, y2, x3, y3, min, max) {\n  var cubicExtrema = curve.cubicExtrema;\n  var cubicAt = curve.cubicAt;\n  var i;\n  var n = cubicExtrema(x0, x1, x2, x3, xDim);\n  min[0] = Infinity;\n  min[1] = Infinity;\n  max[0] = -Infinity;\n  max[1] = -Infinity;\n\n  for (i = 0; i < n; i++) {\n    var x = cubicAt(x0, x1, x2, x3, xDim[i]);\n    min[0] = mathMin(x, min[0]);\n    max[0] = mathMax(x, max[0]);\n  }\n\n  n = cubicExtrema(y0, y1, y2, y3, yDim);\n\n  for (i = 0; i < n; i++) {\n    var y = cubicAt(y0, y1, y2, y3, yDim[i]);\n    min[1] = mathMin(y, min[1]);\n    max[1] = mathMax(y, max[1]);\n  }\n\n  min[0] = mathMin(x0, min[0]);\n  max[0] = mathMax(x0, max[0]);\n  min[0] = mathMin(x3, min[0]);\n  max[0] = mathMax(x3, max[0]);\n  min[1] = mathMin(y0, min[1]);\n  max[1] = mathMax(y0, max[1]);\n  min[1] = mathMin(y3, min[1]);\n  max[1] = mathMax(y3, max[1]);\n}\n/**\n * (p0, p1, p2)`min``max`\n * @memberOf module:zrender/core/bbox\n * @param {number} x0\n * @param {number} y0\n * @param {number} x1\n * @param {number} y1\n * @param {number} x2\n * @param {number} y2\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromQuadratic(x0, y0, x1, y1, x2, y2, min, max) {\n  var quadraticExtremum = curve.quadraticExtremum;\n  var quadraticAt = curve.quadraticAt; // Find extremities, where derivative in x dim or y dim is zero\n\n  var tx = mathMax(mathMin(quadraticExtremum(x0, x1, x2), 1), 0);\n  var ty = mathMax(mathMin(quadraticExtremum(y0, y1, y2), 1), 0);\n  var x = quadraticAt(x0, x1, x2, tx);\n  var y = quadraticAt(y0, y1, y2, ty);\n  min[0] = mathMin(x0, x2, x);\n  min[1] = mathMin(y0, y2, y);\n  max[0] = mathMax(x0, x2, x);\n  max[1] = mathMax(y0, y2, y);\n}\n/**\n * `min``max`\n * @method\n * @memberOf module:zrender/core/bbox\n * @param {number} x\n * @param {number} y\n * @param {number} rx\n * @param {number} ry\n * @param {number} startAngle\n * @param {number} endAngle\n * @param {number} anticlockwise\n * @param {Array.<number>} min\n * @param {Array.<number>} max\n */\n\n\nfunction fromArc(x, y, rx, ry, startAngle, endAngle, anticlockwise, min, max) {\n  var vec2Min = vec2.min;\n  var vec2Max = vec2.max;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff % PI2 < 1e-4 && diff > 1e-4) {\n    // Is a circle\n    min[0] = x - rx;\n    min[1] = y - ry;\n    max[0] = x + rx;\n    max[1] = y + ry;\n    return;\n  }\n\n  start[0] = mathCos(startAngle) * rx + x;\n  start[1] = mathSin(startAngle) * ry + y;\n  end[0] = mathCos(endAngle) * rx + x;\n  end[1] = mathSin(endAngle) * ry + y;\n  vec2Min(min, start, end);\n  vec2Max(max, start, end); // Thresh to [0, Math.PI * 2]\n\n  startAngle = startAngle % PI2;\n\n  if (startAngle < 0) {\n    startAngle = startAngle + PI2;\n  }\n\n  endAngle = endAngle % PI2;\n\n  if (endAngle < 0) {\n    endAngle = endAngle + PI2;\n  }\n\n  if (startAngle > endAngle && !anticlockwise) {\n    endAngle += PI2;\n  } else if (startAngle < endAngle && anticlockwise) {\n    startAngle += PI2;\n  }\n\n  if (anticlockwise) {\n    var tmp = endAngle;\n    endAngle = startAngle;\n    startAngle = tmp;\n  } // var number = 0;\n  // var step = (anticlockwise ? -Math.PI : Math.PI) / 2;\n\n\n  for (var angle = 0; angle < endAngle; angle += Math.PI / 2) {\n    if (angle > startAngle) {\n      extremity[0] = mathCos(angle) * rx + x;\n      extremity[1] = mathSin(angle) * ry + y;\n      vec2Min(min, extremity, min);\n      vec2Max(max, extremity, max);\n    }\n  }\n}\n\nexports.fromPoints = fromPoints;\nexports.fromLine = fromLine;\nexports.fromCubic = fromCubic;\nexports.fromQuadratic = fromQuadratic;\nexports.fromArc = fromArc;","var PI2 = Math.PI * 2;\n\nfunction normalizeRadian(angle) {\n  angle %= PI2;\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle;\n}\n\nexports.normalizeRadian = normalizeRadian;","function windingLine(x0, y0, x1, y1, x, y) {\n  if (y > y0 && y > y1 || y < y0 && y < y1) {\n    return 0;\n  } // Ignore horizontal line\n\n\n  if (y1 === y0) {\n    return 0;\n  }\n\n  var dir = y1 < y0 ? 1 : -1;\n  var t = (y - y0) / (y1 - y0); // Avoid winding error when intersection point is the connect point of two line of polygon\n\n  if (t === 1 || t === 0) {\n    dir = y1 < y0 ? 0.5 : -0.5;\n  }\n\n  var x_ = t * (x1 - x0) + x0; // If (x, y) on the line, considered as \"contain\".\n\n  return x_ === x ? Infinity : x_ > x ? dir : 0;\n}\n\nmodule.exports = windingLine;","var Path = require(\"../Path\");\n/**\n * \n * @module zrender/shape/Circle\n */\n\n\nvar _default = Path.extend({\n  type: 'circle',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0\n  },\n  buildPath: function buildPath(ctx, shape, inBundle) {\n    // Better stroking in ShapeBundle\n    // Always do it may have performence issue ( fill may be 2x more cost)\n    if (inBundle) {\n      ctx.moveTo(shape.cx + shape.r, shape.cy);\n    } // else {\n    //     if (ctx.allocate && !ctx.data.length) {\n    //         ctx.allocate(ctx.CMD_MEM_SIZE.A);\n    //     }\n    // }\n    // Better stroking in ShapeBundle\n    // ctx.moveTo(shape.cx + shape.r, shape.cy);\n\n\n    ctx.arc(shape.cx, shape.cy, shape.r, 0, Math.PI * 2, true);\n  }\n});\n\nmodule.exports = _default;","var env = require(\"../../core/env\"); // Fix weird bug in some version of IE11 (like 11.0.9600.178**),\n// where exception \"unexpected call to method or property access\"\n// might be thrown when calling ctx.fill or ctx.stroke after a path\n// whose area size is zero is drawn and ctx.clip() is called and\n// shadowBlur is set. See #4572, #3112, #5777.\n// (e.g.,\n//  ctx.moveTo(10, 10);\n//  ctx.lineTo(20, 10);\n//  ctx.closePath();\n//  ctx.clip();\n//  ctx.shadowBlur = 10;\n//  ...\n//  ctx.fill();\n// )\n\n\nvar shadowTemp = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]];\n\nfunction _default(orignalBrush) {\n  // version string can be: '11.0'\n  return env.browser.ie && env.browser.version >= 11 ? function () {\n    var clipPaths = this.__clipPaths;\n    var style = this.style;\n    var modified;\n\n    if (clipPaths) {\n      for (var i = 0; i < clipPaths.length; i++) {\n        var clipPath = clipPaths[i];\n        var shape = clipPath && clipPath.shape;\n        var type = clipPath && clipPath.type;\n\n        if (shape && (type === 'sector' && shape.startAngle === shape.endAngle || type === 'rect' && (!shape.width || !shape.height))) {\n          for (var j = 0; j < shadowTemp.length; j++) {\n            // It is save to put shadowTemp static, because shadowTemp\n            // will be all modified each item brush called.\n            shadowTemp[j][2] = style[shadowTemp[j][0]];\n            style[shadowTemp[j][0]] = shadowTemp[j][1];\n          }\n\n          modified = true;\n          break;\n        }\n      }\n    }\n\n    orignalBrush.apply(this, arguments);\n\n    if (modified) {\n      for (var j = 0; j < shadowTemp.length; j++) {\n        style[shadowTemp[j][0]] = shadowTemp[j][2];\n      }\n    }\n  } : orignalBrush;\n}\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n/**\n * \n * @module zrender/shape/Polygon\n */\n\n\nvar _default = Path.extend({\n  type: 'polygon',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  buildPath: function buildPath(ctx, shape) {\n    polyHelper.buildPath(ctx, shape, true);\n  }\n});\n\nmodule.exports = _default;","var smoothSpline = require(\"./smoothSpline\");\n\nvar smoothBezier = require(\"./smoothBezier\");\n\nfunction buildPath(ctx, shape, closePath) {\n  var points = shape.points;\n  var smooth = shape.smooth;\n\n  if (points && points.length >= 2) {\n    if (smooth && smooth !== 'spline') {\n      var controlPoints = smoothBezier(points, smooth, closePath, shape.smoothConstraint);\n      ctx.moveTo(points[0][0], points[0][1]);\n      var len = points.length;\n\n      for (var i = 0; i < (closePath ? len : len - 1); i++) {\n        var cp1 = controlPoints[i * 2];\n        var cp2 = controlPoints[i * 2 + 1];\n        var p = points[(i + 1) % len];\n        ctx.bezierCurveTo(cp1[0], cp1[1], cp2[0], cp2[1], p[0], p[1]);\n      }\n    } else {\n      if (smooth === 'spline') {\n        points = smoothSpline(points, closePath);\n      }\n\n      ctx.moveTo(points[0][0], points[0][1]);\n\n      for (var i = 1, l = points.length; i < l; i++) {\n        ctx.lineTo(points[i][0], points[i][1]);\n      }\n    }\n\n    closePath && ctx.closePath();\n  }\n}\n\nexports.buildPath = buildPath;","var Path = require(\"../Path\");\n\nvar polyHelper = require(\"../helper/poly\");\n/**\n * @module zrender/graphic/shape/Polyline\n */\n\n\nvar _default = Path.extend({\n  type: 'polyline',\n  shape: {\n    points: null,\n    smooth: false,\n    smoothConstraint: null\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function buildPath(ctx, shape) {\n    polyHelper.buildPath(ctx, shape, false);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar roundRectHelper = require(\"../helper/roundRect\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeRect = _subPixelOptimize.subPixelOptimizeRect;\n/**\n * \n * @module zrender/graphic/shape/Rect\n */\n// Avoid create repeatly.\n\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'rect',\n  shape: {\n    // r1r2r3r4\n    // r1          [1, 1, 1, 1]\n    // r[1]        [1, 1, 1, 1]\n    // r[1, 2]     [1, 2, 1, 2]\n    // r[1, 2, 3]  [1, 2, 3, 2]\n    r: 0,\n    x: 0,\n    y: 0,\n    width: 0,\n    height: 0\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var x;\n    var y;\n    var width;\n    var height;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeRect(subPixelOptimizeOutputShape, shape, this.style);\n      x = subPixelOptimizeOutputShape.x;\n      y = subPixelOptimizeOutputShape.y;\n      width = subPixelOptimizeOutputShape.width;\n      height = subPixelOptimizeOutputShape.height;\n      subPixelOptimizeOutputShape.r = shape.r;\n      shape = subPixelOptimizeOutputShape;\n    } else {\n      x = shape.x;\n      y = shape.y;\n      width = shape.width;\n      height = shape.height;\n    }\n\n    if (!shape.r) {\n      ctx.rect(x, y, width, height);\n    } else {\n      roundRectHelper.buildPath(ctx, shape);\n    }\n\n    ctx.closePath();\n    return;\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar _subPixelOptimize = require(\"../helper/subPixelOptimize\");\n\nvar subPixelOptimizeLine = _subPixelOptimize.subPixelOptimizeLine;\n/**\n * \n * @module zrender/graphic/shape/Line\n */\n// Avoid create repeatly.\n\nvar subPixelOptimizeOutputShape = {};\n\nvar _default = Path.extend({\n  type: 'line',\n  shape: {\n    // Start point\n    x1: 0,\n    y1: 0,\n    // End point\n    x2: 0,\n    y2: 0,\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var x1;\n    var y1;\n    var x2;\n    var y2;\n\n    if (this.subPixelOptimize) {\n      subPixelOptimizeLine(subPixelOptimizeOutputShape, shape, this.style);\n      x1 = subPixelOptimizeOutputShape.x1;\n      y1 = subPixelOptimizeOutputShape.y1;\n      x2 = subPixelOptimizeOutputShape.x2;\n      y2 = subPixelOptimizeOutputShape.y2;\n    } else {\n      x1 = shape.x1;\n      y1 = shape.y1;\n      x2 = shape.x2;\n      y2 = shape.y2;\n    }\n\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (percent < 1) {\n      x2 = x1 * (1 - percent) + x2 * percent;\n      y2 = y1 * (1 - percent) + y2 * percent;\n    }\n\n    ctx.lineTo(x2, y2);\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} percent\n   * @return {Array.<number>}\n   */\n  pointAt: function pointAt(p) {\n    var shape = this.shape;\n    return [shape.x1 * (1 - p) + shape.x2 * p, shape.y1 * (1 - p) + shape.y2 * p];\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n/**\n * x, y, x2, y2 are all percent from 0 to 1\n * @param {number} [x=0]\n * @param {number} [y=0]\n * @param {number} [x2=1]\n * @param {number} [y2=0]\n * @param {Array.<Object>} colorStops\n * @param {boolean} [globalCoord=false]\n */\n\n\nvar LinearGradient = function LinearGradient(x, y, x2, y2, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'linear', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0 : x;\n  this.y = y == null ? 0 : y;\n  this.x2 = x2 == null ? 1 : x2;\n  this.y2 = y2 == null ? 0 : y2; // Can be cloned\n\n  this.type = 'linear'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nLinearGradient.prototype = {\n  constructor: LinearGradient\n};\nzrUtil.inherits(LinearGradient, Gradient);\nvar _default = LinearGradient;\nmodule.exports = _default;","var _util = require(\"../core/util\");\n\nvar inherits = _util.inherits;\n\nvar Displayble = require(\"./Displayable\");\n\nvar BoundingRect = require(\"../core/BoundingRect\");\n/**\n * Displayable for incremental rendering. It will be rendered in a separate layer\n * IncrementalDisplay have two main methods. `clearDisplayables` and `addDisplayables`\n * addDisplayables will render the added displayables incremetally.\n *\n * It use a not clearFlag to tell the painter don't clear the layer if it's the first element.\n */\n// TODO Style override ?\n\n\nfunction IncrementalDisplayble(opts) {\n  Displayble.call(this, opts);\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.notClear = true;\n}\n\nIncrementalDisplayble.prototype.incremental = true;\n\nIncrementalDisplayble.prototype.clearDisplaybles = function () {\n  this._displayables = [];\n  this._temporaryDisplayables = [];\n  this._cursor = 0;\n  this.dirty();\n  this.notClear = false;\n};\n\nIncrementalDisplayble.prototype.addDisplayable = function (displayable, notPersistent) {\n  if (notPersistent) {\n    this._temporaryDisplayables.push(displayable);\n  } else {\n    this._displayables.push(displayable);\n  }\n\n  this.dirty();\n};\n\nIncrementalDisplayble.prototype.addDisplayables = function (displayables, notPersistent) {\n  notPersistent = notPersistent || false;\n\n  for (var i = 0; i < displayables.length; i++) {\n    this.addDisplayable(displayables[i], notPersistent);\n  }\n};\n\nIncrementalDisplayble.prototype.eachPendingDisplayable = function (cb) {\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    cb && cb(this._displayables[i]);\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    cb && cb(this._temporaryDisplayables[i]);\n  }\n};\n\nIncrementalDisplayble.prototype.update = function () {\n  this.updateTransform();\n\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i]; // PENDING\n\n    displayable.parent = this;\n    displayable.update();\n    displayable.parent = null;\n  }\n};\n\nIncrementalDisplayble.prototype.brush = function (ctx, prevEl) {\n  // Render persistant displayables.\n  for (var i = this._cursor; i < this._displayables.length; i++) {\n    var displayable = this._displayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === this._cursor ? null : this._displayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._cursor = i; // Render temporary displayables.\n\n  for (var i = 0; i < this._temporaryDisplayables.length; i++) {\n    var displayable = this._temporaryDisplayables[i];\n    displayable.beforeBrush && displayable.beforeBrush(ctx);\n    displayable.brush(ctx, i === 0 ? null : this._temporaryDisplayables[i - 1]);\n    displayable.afterBrush && displayable.afterBrush(ctx);\n  }\n\n  this._temporaryDisplayables = [];\n  this.notClear = true;\n};\n\nvar m = [];\n\nIncrementalDisplayble.prototype.getBoundingRect = function () {\n  if (!this._rect) {\n    var rect = new BoundingRect(Infinity, Infinity, -Infinity, -Infinity);\n\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n      var childRect = displayable.getBoundingRect().clone();\n\n      if (displayable.needLocalTransform()) {\n        childRect.applyTransform(displayable.getLocalTransform(m));\n      }\n\n      rect.union(childRect);\n    }\n\n    this._rect = rect;\n  }\n\n  return this._rect;\n};\n\nIncrementalDisplayble.prototype.contain = function (x, y) {\n  var localPos = this.transformCoordToLocal(x, y);\n  var rect = this.getBoundingRect();\n\n  if (rect.contain(localPos[0], localPos[1])) {\n    for (var i = 0; i < this._displayables.length; i++) {\n      var displayable = this._displayables[i];\n\n      if (displayable.contain(x, y)) {\n        return true;\n      }\n    }\n  }\n\n  return false;\n};\n\ninherits(IncrementalDisplayble, Displayble);\nvar _default = IncrementalDisplayble;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _model = require(\"../../util/model\");\n\nvar makeInner = _model.makeInner;\nvar normalizeToArray = _model.normalizeToArray;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar inner = makeInner();\n\nfunction getNearestColorPalette(colors, requestColorNum) {\n  var paletteNum = colors.length; // TODO colors must be in order\n\n  for (var i = 0; i < paletteNum; i++) {\n    if (colors[i].length > requestColorNum) {\n      return colors[i];\n    }\n  }\n\n  return colors[paletteNum - 1];\n}\n\nvar _default = {\n  clearColorPalette: function clearColorPalette() {\n    inner(this).colorIdx = 0;\n    inner(this).colorNameMap = {};\n  },\n\n  /**\n   * @param {string} name MUST NOT be null/undefined. Otherwise call this function\n   *                 twise with the same parameters will get different result.\n   * @param {Object} [scope=this]\n   * @param {Object} [requestColorNum]\n   * @return {string} color string.\n   */\n  getColorFromPalette: function getColorFromPalette(name, scope, requestColorNum) {\n    scope = scope || this;\n    var scopeFields = inner(scope);\n    var colorIdx = scopeFields.colorIdx || 0;\n    var colorNameMap = scopeFields.colorNameMap = scopeFields.colorNameMap || {}; // Use `hasOwnProperty` to avoid conflict with Object.prototype.\n\n    if (colorNameMap.hasOwnProperty(name)) {\n      return colorNameMap[name];\n    }\n\n    var defaultColorPalette = normalizeToArray(this.get('color', true));\n    var layeredColorPalette = this.get('colorLayer', true);\n    var colorPalette = requestColorNum == null || !layeredColorPalette ? defaultColorPalette : getNearestColorPalette(layeredColorPalette, requestColorNum); // In case can't find in layered color palette.\n\n    colorPalette = colorPalette || defaultColorPalette;\n\n    if (!colorPalette || !colorPalette.length) {\n      return;\n    }\n\n    var color = colorPalette[colorIdx];\n\n    if (name) {\n      colorNameMap[name] = color;\n    }\n\n    scopeFields.colorIdx = (colorIdx + 1) % colorPalette.length;\n    return color;\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar retrieve = _util.retrieve;\nvar each = _util.each;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Helper for model references.\n * There are many manners to refer axis/coordSys.\n */\n// TODO\n// merge relevant logic to this file?\n// check: \"modelHelper\" of tooltip and \"BrushTargetManager\".\n\n/**\n * @return {Object} For example:\n * {\n *     coordSysName: 'cartesian2d',\n *     coordSysDims: ['x', 'y', ...],\n *     axisMap: HashMap({\n *         x: xAxisModel,\n *         y: yAxisModel\n *     }),\n *     categoryAxisMap: HashMap({\n *         x: xAxisModel,\n *         y: undefined\n *     }),\n *     // It also indicate that whether there is category axis.\n *     firstCategoryDimIndex: 1,\n *     // To replace user specified encode.\n * }\n */\n\nfunction getCoordSysDefineBySeries(seriesModel) {\n  var coordSysName = seriesModel.get('coordinateSystem');\n  var result = {\n    coordSysName: coordSysName,\n    coordSysDims: [],\n    axisMap: createHashMap(),\n    categoryAxisMap: createHashMap()\n  };\n  var fetch = fetchers[coordSysName];\n\n  if (fetch) {\n    fetch(seriesModel, result, result.axisMap, result.categoryAxisMap);\n    return result;\n  }\n}\n\nvar fetchers = {\n  cartesian2d: function cartesian2d(seriesModel, result, axisMap, categoryAxisMap) {\n    var xAxisModel = seriesModel.getReferringComponents('xAxis')[0];\n    var yAxisModel = seriesModel.getReferringComponents('yAxis')[0];\n    result.coordSysDims = ['x', 'y'];\n    axisMap.set('x', xAxisModel);\n    axisMap.set('y', yAxisModel);\n\n    if (isCategory(xAxisModel)) {\n      categoryAxisMap.set('x', xAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(yAxisModel)) {\n      categoryAxisMap.set('y', yAxisModel);\n      result.firstCategoryDimIndex = 1;\n    }\n  },\n  singleAxis: function singleAxis(seriesModel, result, axisMap, categoryAxisMap) {\n    var singleAxisModel = seriesModel.getReferringComponents('singleAxis')[0];\n    result.coordSysDims = ['single'];\n    axisMap.set('single', singleAxisModel);\n\n    if (isCategory(singleAxisModel)) {\n      categoryAxisMap.set('single', singleAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n  },\n  polar: function polar(seriesModel, result, axisMap, categoryAxisMap) {\n    var polarModel = seriesModel.getReferringComponents('polar')[0];\n    var radiusAxisModel = polarModel.findAxisModel('radiusAxis');\n    var angleAxisModel = polarModel.findAxisModel('angleAxis');\n    result.coordSysDims = ['radius', 'angle'];\n    axisMap.set('radius', radiusAxisModel);\n    axisMap.set('angle', angleAxisModel);\n\n    if (isCategory(radiusAxisModel)) {\n      categoryAxisMap.set('radius', radiusAxisModel);\n      result.firstCategoryDimIndex = 0;\n    }\n\n    if (isCategory(angleAxisModel)) {\n      categoryAxisMap.set('angle', angleAxisModel);\n      result.firstCategoryDimIndex = 1;\n    }\n  },\n  geo: function geo(seriesModel, result, axisMap, categoryAxisMap) {\n    result.coordSysDims = ['lng', 'lat'];\n  },\n  parallel: function parallel(seriesModel, result, axisMap, categoryAxisMap) {\n    var ecModel = seriesModel.ecModel;\n    var parallelModel = ecModel.getComponent('parallel', seriesModel.get('parallelIndex'));\n    var coordSysDims = result.coordSysDims = parallelModel.dimensions.slice();\n    each(parallelModel.parallelAxisIndex, function (axisIndex, index) {\n      var axisModel = ecModel.getComponent('parallelAxis', axisIndex);\n      var axisDim = coordSysDims[index];\n      axisMap.set(axisDim, axisModel);\n\n      if (isCategory(axisModel) && result.firstCategoryDimIndex == null) {\n        categoryAxisMap.set(axisDim, axisModel);\n        result.firstCategoryDimIndex = index;\n      }\n    });\n  }\n};\n\nfunction isCategory(axisModel) {\n  return axisModel.get('type') === 'category';\n}\n\nexports.getCoordSysDefineBySeries = getCoordSysDefineBySeries;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar echartsAPIList = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; // And `getCoordinateSystems` and `getComponentByElement` will be injected in echarts.js\n\nfunction ExtensionAPI(chartInstance) {\n  zrUtil.each(echartsAPIList, function (name) {\n    this[name] = zrUtil.bind(chartInstance[name], chartInstance);\n  }, this);\n}\n\nvar _default = ExtensionAPI;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Group = require(\"zrender/lib/container/Group\");\n\nvar componentUtil = require(\"../util/component\");\n\nvar clazzUtil = require(\"../util/clazz\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar Component = function Component() {\n  /**\n   * @type {module:zrender/container/Group}\n   * @readOnly\n   */\n  this.group = new Group();\n  /**\n   * @type {string}\n   * @readOnly\n   */\n\n  this.uid = componentUtil.getUID('viewComponent');\n};\n\nComponent.prototype = {\n  constructor: Component,\n  init: function init(ecModel, api) {},\n  render: function render(componentModel, ecModel, api, payload) {},\n  dispose: function dispose() {},\n\n  /**\n   * @param {string} eventType\n   * @param {Object} query\n   * @param {module:zrender/Element} targetEl\n   * @param {Object} packedEvent\n   * @return {boolen} Pass only when return `true`.\n   */\n  filterForExposedEvent: null\n};\nvar componentProto = Component.prototype;\n\ncomponentProto.updateView = componentProto.updateLayout = componentProto.updateVisual = function (seriesModel, ecModel, api, payload) {// Do nothing;\n}; // Enable Component.extend.\n\n\nclazzUtil.enableClassExtend(Component); // Enable capability of registerClass, getClass, hasClass, registerSubTypeDefaulter and so on.\n\nclazzUtil.enableClassManagement(Component, {\n  registerWhenExtend: true\n});\nvar _default = Component;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Language: (Simplified) Chinese.\n */\nvar _default = {\n  legend: {\n    selector: {\n      all: '',\n      inverse: ''\n    }\n  },\n  toolbox: {\n    brush: {\n      title: {\n        rect: '',\n        polygon: '',\n        lineX: '',\n        lineY: '',\n        keep: '',\n        clear: ''\n      }\n    },\n    dataView: {\n      title: '',\n      lang: ['', '', '']\n    },\n    dataZoom: {\n      title: {\n        zoom: '',\n        back: ''\n      }\n    },\n    magicType: {\n      title: {\n        line: '',\n        bar: '',\n        stack: '',\n        tiled: ''\n      }\n    },\n    restore: {\n      title: ''\n    },\n    saveAsImage: {\n      title: '',\n      lang: ['']\n    }\n  },\n  series: {\n    typeNames: {\n      pie: '',\n      bar: '',\n      line: '',\n      scatter: '',\n      effectScatter: '',\n      radar: '',\n      tree: '',\n      treemap: '',\n      boxplot: '',\n      candlestick: 'K',\n      k: 'K',\n      heatmap: '',\n      map: '',\n      parallel: '',\n      lines: '',\n      graph: '',\n      sankey: '',\n      funnel: '',\n      gauge: '',\n      pictorialBar: '',\n      themeRiver: '',\n      sunburst: ''\n    }\n  },\n  aria: {\n    general: {\n      withTitle: '{title}',\n      withoutTitle: ''\n    },\n    series: {\n      single: {\n        prefix: '',\n        withName: '{seriesType}{seriesName}',\n        withoutName: '{seriesType}'\n      },\n      multiple: {\n        prefix: '{seriesCount}',\n        withName: '{seriesId}{seriesName}{seriesType}',\n        withoutName: '{seriesId}{seriesType}',\n        separator: {\n          middle: '',\n          end: ''\n        }\n      }\n    },\n    data: {\n      allData: '',\n      partialData: '{displayCnt}',\n      withName: '{name}{value}',\n      withoutName: '{value}',\n      separator: {\n        middle: '',\n        end: ''\n      }\n    }\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\nvar isString = _util.isString;\nvar defaults = _util.defaults;\nvar extend = _util.extend;\nvar isObject = _util.isObject;\nvar clone = _util.clone;\n\nvar _model = require(\"../../util/model\");\n\nvar normalizeToArray = _model.normalizeToArray;\n\nvar _sourceHelper = require(\"./sourceHelper\");\n\nvar guessOrdinal = _sourceHelper.guessOrdinal;\n\nvar Source = require(\"../Source\");\n\nvar _dimensionHelper = require(\"./dimensionHelper\");\n\nvar OTHER_DIMENSIONS = _dimensionHelper.OTHER_DIMENSIONS;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @deprecated\n * Use `echarts/data/helper/createDimensions` instead.\n */\n\n/**\n * @see {module:echarts/test/ut/spec/data/completeDimensions}\n *\n * Complete the dimensions array, by user defined `dimension` and `encode`,\n * and guessing from the data structure.\n * If no 'value' dimension specified, the first no-named dimension will be\n * named as 'value'.\n *\n * @param {Array.<string>} sysDims Necessary dimensions, like ['x', 'y'], which\n *      provides not only dim template, but also default order.\n *      properties: 'name', 'type', 'displayName'.\n *      `name` of each item provides default coord name.\n *      [{dimsDef: [string|Object, ...]}, ...] dimsDef of sysDim item provides default dim name, and\n *                                    provide dims count that the sysDim required.\n *      [{ordinalMeta}] can be specified.\n * @param {module:echarts/data/Source|Array|Object} source or data (for compatibal with pervious)\n * @param {Object} [opt]\n * @param {Array.<Object|string>} [opt.dimsDef] option.series.dimensions User defined dimensions\n *      For example: ['asdf', {name, type}, ...].\n * @param {Object|HashMap} [opt.encodeDef] option.series.encode {x: 2, y: [3, 1], tooltip: [1, 2], label: 3}\n * @param {string} [opt.generateCoord] Generate coord dim with the given name.\n *                 If not specified, extra dim names will be:\n *                 'value', 'value0', 'value1', ...\n * @param {number} [opt.generateCoordCount] By default, the generated dim name is `generateCoord`.\n *                 If `generateCoordCount` specified, the generated dim names will be:\n *                 `generateCoord` + 0, `generateCoord` + 1, ...\n *                 can be Infinity, indicate that use all of the remain columns.\n * @param {number} [opt.dimCount] If not specified, guess by the first data item.\n * @param {number} [opt.encodeDefaulter] If not specified, auto find the next available data dim.\n * @return {Array.<Object>} [{\n *      name: string mandatory,\n *      displayName: string, the origin name in dimsDef, see source helper.\n *                 If displayName given, the tooltip will displayed vertically.\n *      coordDim: string mandatory,\n *      coordDimIndex: number mandatory,\n *      type: string optional,\n *      otherDims: { never null/undefined\n *          tooltip: number optional,\n *          label: number optional,\n *          itemName: number optional,\n *          seriesName: number optional,\n *      },\n *      isExtraCoord: boolean true if coord is generated\n *          (not specified in encode and not series specified)\n *      other props ...\n * }]\n */\n\nfunction completeDimensions(sysDims, source, opt) {\n  if (!Source.isInstance(source)) {\n    source = Source.seriesDataToSource(source);\n  }\n\n  opt = opt || {};\n  sysDims = (sysDims || []).slice();\n  var dimsDef = (opt.dimsDef || []).slice();\n  var encodeDef = createHashMap(opt.encodeDef);\n  var dataDimNameMap = createHashMap();\n  var coordDimNameMap = createHashMap(); // var valueCandidate;\n\n  var result = [];\n  var dimCount = getDimCount(source, sysDims, dimsDef, opt.dimCount); // Apply user defined dims (`name` and `type`) and init result.\n\n  for (var i = 0; i < dimCount; i++) {\n    var dimDefItem = dimsDef[i] = extend({}, isObject(dimsDef[i]) ? dimsDef[i] : {\n      name: dimsDef[i]\n    });\n    var userDimName = dimDefItem.name;\n    var resultItem = result[i] = {\n      otherDims: {}\n    }; // Name will be applied later for avoiding duplication.\n\n    if (userDimName != null && dataDimNameMap.get(userDimName) == null) {\n      // Only if `series.dimensions` is defined in option\n      // displayName, will be set, and dimension will be diplayed vertically in\n      // tooltip by default.\n      resultItem.name = resultItem.displayName = userDimName;\n      dataDimNameMap.set(userDimName, i);\n    }\n\n    dimDefItem.type != null && (resultItem.type = dimDefItem.type);\n    dimDefItem.displayName != null && (resultItem.displayName = dimDefItem.displayName);\n  } // Set `coordDim` and `coordDimIndex` by `encodeDef` and normalize `encodeDef`.\n\n\n  encodeDef.each(function (dataDims, coordDim) {\n    dataDims = normalizeToArray(dataDims).slice(); // Note: It is allowed that `dataDims.length` is `0`, e.g., options is\n    // `{encode: {x: -1, y: 1}}`. Should not filter anything in\n    // this case.\n\n    if (dataDims.length === 1 && !isString(dataDims[0]) && dataDims[0] < 0) {\n      encodeDef.set(coordDim, false);\n      return;\n    }\n\n    var validDataDims = encodeDef.set(coordDim, []);\n    each(dataDims, function (resultDimIdx, idx) {\n      // The input resultDimIdx can be dim name or index.\n      isString(resultDimIdx) && (resultDimIdx = dataDimNameMap.get(resultDimIdx));\n\n      if (resultDimIdx != null && resultDimIdx < dimCount) {\n        validDataDims[idx] = resultDimIdx;\n        applyDim(result[resultDimIdx], coordDim, idx);\n      }\n    });\n  }); // Apply templetes and default order from `sysDims`.\n\n  var availDimIdx = 0;\n  each(sysDims, function (sysDimItem, sysDimIndex) {\n    var coordDim;\n    var sysDimItem;\n    var sysDimItemDimsDef;\n    var sysDimItemOtherDims;\n\n    if (isString(sysDimItem)) {\n      coordDim = sysDimItem;\n      sysDimItem = {};\n    } else {\n      coordDim = sysDimItem.name;\n      var ordinalMeta = sysDimItem.ordinalMeta;\n      sysDimItem.ordinalMeta = null;\n      sysDimItem = clone(sysDimItem);\n      sysDimItem.ordinalMeta = ordinalMeta; // `coordDimIndex` should not be set directly.\n\n      sysDimItemDimsDef = sysDimItem.dimsDef;\n      sysDimItemOtherDims = sysDimItem.otherDims;\n      sysDimItem.name = sysDimItem.coordDim = sysDimItem.coordDimIndex = sysDimItem.dimsDef = sysDimItem.otherDims = null;\n    }\n\n    var dataDims = encodeDef.get(coordDim); // negative resultDimIdx means no need to mapping.\n\n    if (dataDims === false) {\n      return;\n    }\n\n    var dataDims = normalizeToArray(dataDims); // dimensions provides default dim sequences.\n\n    if (!dataDims.length) {\n      for (var i = 0; i < (sysDimItemDimsDef && sysDimItemDimsDef.length || 1); i++) {\n        while (availDimIdx < result.length && result[availDimIdx].coordDim != null) {\n          availDimIdx++;\n        }\n\n        availDimIdx < result.length && dataDims.push(availDimIdx++);\n      }\n    } // Apply templates.\n\n\n    each(dataDims, function (resultDimIdx, coordDimIndex) {\n      var resultItem = result[resultDimIdx];\n      applyDim(defaults(resultItem, sysDimItem), coordDim, coordDimIndex);\n\n      if (resultItem.name == null && sysDimItemDimsDef) {\n        var sysDimItemDimsDefItem = sysDimItemDimsDef[coordDimIndex];\n        !isObject(sysDimItemDimsDefItem) && (sysDimItemDimsDefItem = {\n          name: sysDimItemDimsDefItem\n        });\n        resultItem.name = resultItem.displayName = sysDimItemDimsDefItem.name;\n        resultItem.defaultTooltip = sysDimItemDimsDefItem.defaultTooltip;\n      } // FIXME refactor, currently only used in case: {otherDims: {tooltip: false}}\n\n\n      sysDimItemOtherDims && defaults(resultItem.otherDims, sysDimItemOtherDims);\n    });\n  });\n\n  function applyDim(resultItem, coordDim, coordDimIndex) {\n    if (OTHER_DIMENSIONS.get(coordDim) != null) {\n      resultItem.otherDims[coordDim] = coordDimIndex;\n    } else {\n      resultItem.coordDim = coordDim;\n      resultItem.coordDimIndex = coordDimIndex;\n      coordDimNameMap.set(coordDim, true);\n    }\n  } // Make sure the first extra dim is 'value'.\n\n\n  var generateCoord = opt.generateCoord;\n  var generateCoordCount = opt.generateCoordCount;\n  var fromZero = generateCoordCount != null;\n  generateCoordCount = generateCoord ? generateCoordCount || 1 : 0;\n  var extra = generateCoord || 'value'; // Set dim `name` and other `coordDim` and other props.\n\n  for (var resultDimIdx = 0; resultDimIdx < dimCount; resultDimIdx++) {\n    var resultItem = result[resultDimIdx] = result[resultDimIdx] || {};\n    var coordDim = resultItem.coordDim;\n\n    if (coordDim == null) {\n      resultItem.coordDim = genName(extra, coordDimNameMap, fromZero);\n      resultItem.coordDimIndex = 0;\n\n      if (!generateCoord || generateCoordCount <= 0) {\n        resultItem.isExtraCoord = true;\n      }\n\n      generateCoordCount--;\n    }\n\n    resultItem.name == null && (resultItem.name = genName(resultItem.coordDim, dataDimNameMap));\n\n    if (resultItem.type == null && guessOrdinal(source, resultDimIdx, resultItem.name)) {\n      resultItem.type = 'ordinal';\n    }\n  }\n\n  return result;\n} // ??? TODO\n// Originally detect dimCount by data[0]. Should we\n// optimize it to only by sysDims and dimensions and encode.\n// So only necessary dims will be initialized.\n// But\n// (1) custom series should be considered. where other dims\n// may be visited.\n// (2) sometimes user need to calcualte bubble size or use visualMap\n// on other dimensions besides coordSys needed.\n// So, dims that is not used by system, should be shared in storage?\n\n\nfunction getDimCount(source, sysDims, dimsDef, optDimCount) {\n  // Note that the result dimCount should not small than columns count\n  // of data, otherwise `dataDimNameMap` checking will be incorrect.\n  var dimCount = Math.max(source.dimensionsDetectCount || 1, sysDims.length, dimsDef.length, optDimCount || 0);\n  each(sysDims, function (sysDimItem) {\n    var sysDimItemDimsDef = sysDimItem.dimsDef;\n    sysDimItemDimsDef && (dimCount = Math.max(dimCount, sysDimItemDimsDef.length));\n  });\n  return dimCount;\n}\n\nfunction genName(name, map, fromZero) {\n  if (fromZero || map.get(name) != null) {\n    var i = 0;\n\n    while (map.get(name + i) != null) {\n      i++;\n    }\n\n    name += i;\n  }\n\n  map.set(name, true);\n  return name;\n}\n\nvar _default = completeDimensions;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar isObject = _util.isObject;\nvar map = _util.map;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @constructor\n * @param {Object} [opt]\n * @param {Object} [opt.categories=[]]\n * @param {Object} [opt.needCollect=false]\n * @param {Object} [opt.deduplication=false]\n */\n\nfunction OrdinalMeta(opt) {\n  /**\n   * @readOnly\n   * @type {Array.<string>}\n   */\n  this.categories = opt.categories || [];\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._needCollect = opt.needCollect;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._deduplication = opt.deduplication;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._map;\n}\n/**\n * @param {module:echarts/model/Model} axisModel\n * @return {module:echarts/data/OrdinalMeta}\n */\n\n\nOrdinalMeta.createByAxisModel = function (axisModel) {\n  var option = axisModel.option;\n  var data = option.data;\n  var categories = data && map(data, getName);\n  return new OrdinalMeta({\n    categories: categories,\n    needCollect: !categories,\n    // deduplication is default in axis.\n    deduplication: option.dedplication !== false\n  });\n};\n\nvar proto = OrdinalMeta.prototype;\n/**\n * @param {string} category\n * @return {number} ordinal\n */\n\nproto.getOrdinal = function (category) {\n  return getOrCreateMap(this).get(category);\n};\n/**\n * @param {*} category\n * @return {number} The ordinal. If not found, return NaN.\n */\n\n\nproto.parseAndCollect = function (category) {\n  var index;\n  var needCollect = this._needCollect; // The value of category dim can be the index of the given category set.\n  // This feature is only supported when !needCollect, because we should\n  // consider a common case: a value is 2017, which is a number but is\n  // expected to be tread as a category. This case usually happen in dataset,\n  // where it happent to be no need of the index feature.\n\n  if (typeof category !== 'string' && !needCollect) {\n    return category;\n  } // Optimize for the scenario:\n  // category is ['2012-01-01', '2012-01-02', ...], where the input\n  // data has been ensured not duplicate and is large data.\n  // Notice, if a dataset dimension provide categroies, usually echarts\n  // should remove duplication except user tell echarts dont do that\n  // (set axis.deduplication = false), because echarts do not know whether\n  // the values in the category dimension has duplication (consider the\n  // parallel-aqi example)\n\n\n  if (needCollect && !this._deduplication) {\n    index = this.categories.length;\n    this.categories[index] = category;\n    return index;\n  }\n\n  var map = getOrCreateMap(this);\n  index = map.get(category);\n\n  if (index == null) {\n    if (needCollect) {\n      index = this.categories.length;\n      this.categories[index] = category;\n      map.set(category, index);\n    } else {\n      index = NaN;\n    }\n  }\n\n  return index;\n}; // Consider big data, do not create map until needed.\n\n\nfunction getOrCreateMap(ordinalMeta) {\n  return ordinalMeta._map || (ordinalMeta._map = createHashMap(ordinalMeta.categories));\n}\n\nfunction getName(obj) {\n  if (isObject(obj) && obj.value != null) {\n    return obj.value;\n  } else {\n    return obj + '';\n  }\n}\n\nvar _default = OrdinalMeta;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar numberUtil = require(\"../util/number\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * For testable.\n */\n\n\nvar roundNumber = numberUtil.round;\n/**\n * @param {Array.<number>} extent Both extent[0] and extent[1] should be valid number.\n *                                Should be extent[0] < extent[1].\n * @param {number} splitNumber splitNumber should be >= 1.\n * @param {number} [minInterval]\n * @param {number} [maxInterval]\n * @return {Object} {interval, intervalPrecision, niceTickExtent}\n */\n\nfunction intervalScaleNiceTicks(extent, splitNumber, minInterval, maxInterval) {\n  var result = {};\n  var span = extent[1] - extent[0];\n  var interval = result.interval = numberUtil.nice(span / splitNumber, true);\n\n  if (minInterval != null && interval < minInterval) {\n    interval = result.interval = minInterval;\n  }\n\n  if (maxInterval != null && interval > maxInterval) {\n    interval = result.interval = maxInterval;\n  } // Tow more digital for tick.\n\n\n  var precision = result.intervalPrecision = getIntervalPrecision(interval); // Niced extent inside original extent\n\n  var niceTickExtent = result.niceTickExtent = [roundNumber(Math.ceil(extent[0] / interval) * interval, precision), roundNumber(Math.floor(extent[1] / interval) * interval, precision)];\n  fixExtent(niceTickExtent, extent);\n  return result;\n}\n/**\n * @param {number} interval\n * @return {number} interval precision\n */\n\n\nfunction getIntervalPrecision(interval) {\n  // Tow more digital for tick.\n  return numberUtil.getPrecisionSafe(interval) + 2;\n}\n\nfunction clamp(niceTickExtent, idx, extent) {\n  niceTickExtent[idx] = Math.max(Math.min(niceTickExtent[idx], extent[1]), extent[0]);\n} // In some cases (e.g., splitNumber is 1), niceTickExtent may be out of extent.\n\n\nfunction fixExtent(niceTickExtent, extent) {\n  !isFinite(niceTickExtent[0]) && (niceTickExtent[0] = extent[0]);\n  !isFinite(niceTickExtent[1]) && (niceTickExtent[1] = extent[1]);\n  clamp(niceTickExtent, 0, extent);\n  clamp(niceTickExtent, 1, extent);\n\n  if (niceTickExtent[0] > niceTickExtent[1]) {\n    niceTickExtent[0] = niceTickExtent[1];\n  }\n}\n\nfunction intervalScaleGetTicks(interval, extent, niceTickExtent, intervalPrecision) {\n  var ticks = []; // If interval is 0, return [];\n\n  if (!interval) {\n    return ticks;\n  } // Consider this case: using dataZoom toolbox, zoom and zoom.\n\n\n  var safeLimit = 10000;\n\n  if (extent[0] < niceTickExtent[0]) {\n    ticks.push(extent[0]);\n  }\n\n  var tick = niceTickExtent[0];\n\n  while (tick <= niceTickExtent[1]) {\n    ticks.push(tick); // Avoid rounding error\n\n    tick = roundNumber(tick + interval, intervalPrecision);\n\n    if (tick === ticks[ticks.length - 1]) {\n      // Consider out of safe float point, e.g.,\n      // -3711126.9907707 + 2e-10 === -3711126.9907707\n      break;\n    }\n\n    if (ticks.length > safeLimit) {\n      return [];\n    }\n  } // Consider this case: the last item of ticks is smaller\n  // than niceTickExtent[1] and niceTickExtent[1] === extent[1].\n\n\n  if (extent[1] > (ticks.length ? ticks[ticks.length - 1] : niceTickExtent[1])) {\n    ticks.push(extent[1]);\n  }\n\n  return ticks;\n}\n\nexports.intervalScaleNiceTicks = intervalScaleNiceTicks;\nexports.getIntervalPrecision = getIntervalPrecision;\nexports.fixExtent = fixExtent;\nexports.intervalScaleGetTicks = intervalScaleGetTicks;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import * as axisHelper from './axisHelper';\n\n\nvar _default = {\n  /**\n   * @param {boolean} origin\n   * @return {number|string} min value or 'dataMin' or null/undefined (means auto) or NaN\n   */\n  getMin: function getMin(origin) {\n    var option = this.option;\n    var min = !origin && option.rangeStart != null ? option.rangeStart : option.min;\n\n    if (this.axis && min != null && min !== 'dataMin' && typeof min !== 'function' && !zrUtil.eqNaN(min)) {\n      min = this.axis.scale.parse(min);\n    }\n\n    return min;\n  },\n\n  /**\n   * @param {boolean} origin\n   * @return {number|string} max value or 'dataMax' or null/undefined (means auto) or NaN\n   */\n  getMax: function getMax(origin) {\n    var option = this.option;\n    var max = !origin && option.rangeEnd != null ? option.rangeEnd : option.max;\n\n    if (this.axis && max != null && max !== 'dataMax' && typeof max !== 'function' && !zrUtil.eqNaN(max)) {\n      max = this.axis.scale.parse(max);\n    }\n\n    return max;\n  },\n\n  /**\n   * @return {boolean}\n   */\n  getNeedCrossZero: function getNeedCrossZero() {\n    var option = this.option;\n    return option.rangeStart != null || option.rangeEnd != null ? false : !option.scale;\n  },\n\n  /**\n   * Should be implemented by each axis model if necessary.\n   * @return {module:echarts/model/Component} coordinate system model\n   */\n  getCoordSysModel: zrUtil.noop,\n\n  /**\n   * @param {number} rangeStart Can only be finite number or null/undefined or NaN.\n   * @param {number} rangeEnd Can only be finite number or null/undefined or NaN.\n   */\n  setRange: function setRange(rangeStart, rangeEnd) {\n    this.option.rangeStart = rangeStart;\n    this.option.rangeEnd = rangeEnd;\n  },\n\n  /**\n   * Reset range\n   */\n  resetRange: function resetRange() {\n    // rangeStart and rangeEnd is readonly.\n    this.option.rangeStart = this.option.rangeEnd = null;\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar map = _util.map;\n\nvar _number = require(\"../util/number\");\n\nvar linearMap = _number.linearMap;\nvar _getPixelPrecision = _number.getPixelPrecision;\n\nvar _axisTickLabelBuilder = require(\"./axisTickLabelBuilder\");\n\nvar createAxisTicks = _axisTickLabelBuilder.createAxisTicks;\nvar createAxisLabels = _axisTickLabelBuilder.createAxisLabels;\nvar _calculateCategoryInterval = _axisTickLabelBuilder.calculateCategoryInterval;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar NORMALIZED_EXTENT = [0, 1];\n/**\n * Base class of Axis.\n * @constructor\n */\n\nvar Axis = function Axis(dim, scale, extent) {\n  /**\n   * Axis dimension. Such as 'x', 'y', 'z', 'angle', 'radius'.\n   * @type {string}\n   */\n  this.dim = dim;\n  /**\n   * Axis scale\n   * @type {module:echarts/coord/scale/*}\n   */\n\n  this.scale = scale;\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n\n  this._extent = extent || [0, 0];\n  /**\n   * @type {boolean}\n   */\n\n  this.inverse = false;\n  /**\n   * Usually true when axis has a ordinal scale\n   * @type {boolean}\n   */\n\n  this.onBand = false;\n};\n\nAxis.prototype = {\n  constructor: Axis,\n\n  /**\n   * If axis extent contain given coord\n   * @param {number} coord\n   * @return {boolean}\n   */\n  contain: function contain(coord) {\n    var extent = this._extent;\n    var min = Math.min(extent[0], extent[1]);\n    var max = Math.max(extent[0], extent[1]);\n    return coord >= min && coord <= max;\n  },\n\n  /**\n   * If axis extent contain given data\n   * @param {number} data\n   * @return {boolean}\n   */\n  containData: function containData(data) {\n    return this.contain(this.dataToCoord(data));\n  },\n\n  /**\n   * Get coord extent.\n   * @return {Array.<number>}\n   */\n  getExtent: function getExtent() {\n    return this._extent.slice();\n  },\n\n  /**\n   * Get precision used for formatting\n   * @param {Array.<number>} [dataExtent]\n   * @return {number}\n   */\n  getPixelPrecision: function getPixelPrecision(dataExtent) {\n    return _getPixelPrecision(dataExtent || this.scale.getExtent(), this._extent);\n  },\n\n  /**\n   * Set coord extent\n   * @param {number} start\n   * @param {number} end\n   */\n  setExtent: function setExtent(start, end) {\n    var extent = this._extent;\n    extent[0] = start;\n    extent[1] = end;\n  },\n\n  /**\n   * Convert data to coord. Data is the rank if it has an ordinal scale\n   * @param {number} data\n   * @param  {boolean} clamp\n   * @return {number}\n   */\n  dataToCoord: function dataToCoord(data, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n    data = scale.normalize(data);\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    return linearMap(data, NORMALIZED_EXTENT, extent, clamp);\n  },\n\n  /**\n   * Convert coord to data. Data is the rank if it has an ordinal scale\n   * @param {number} coord\n   * @param  {boolean} clamp\n   * @return {number}\n   */\n  coordToData: function coordToData(coord, clamp) {\n    var extent = this._extent;\n    var scale = this.scale;\n\n    if (this.onBand && scale.type === 'ordinal') {\n      extent = extent.slice();\n      fixExtentWithBands(extent, scale.count());\n    }\n\n    var t = linearMap(coord, extent, NORMALIZED_EXTENT, clamp);\n    return this.scale.scale(t);\n  },\n\n  /**\n   * Convert pixel point to data in axis\n   * @param {Array.<number>} point\n   * @param  {boolean} clamp\n   * @return {number} data\n   */\n  pointToData: function pointToData(point, clamp) {// Should be implemented in derived class if necessary.\n  },\n\n  /**\n   * Different from `zrUtil.map(axis.getTicks(), axis.dataToCoord, axis)`,\n   * `axis.getTicksCoords` considers `onBand`, which is used by\n   * `boundaryGap:true` of category axis and splitLine and splitArea.\n   * @param {Object} [opt]\n   * @param {number} [opt.tickModel=axis.model.getModel('axisTick')]\n   * @param {boolean} [opt.clamp] If `true`, the first and the last\n   *        tick must be at the axis end points. Otherwise, clip ticks\n   *        that outside the axis extent.\n   * @return {Array.<Object>} [{\n   *     coord: ...,\n   *     tickValue: ...\n   * }, ...]\n   */\n  getTicksCoords: function getTicksCoords(opt) {\n    opt = opt || {};\n    var tickModel = opt.tickModel || this.getTickModel();\n    var result = createAxisTicks(this, tickModel);\n    var ticks = result.ticks;\n    var ticksCoords = map(ticks, function (tickValue) {\n      return {\n        coord: this.dataToCoord(tickValue),\n        tickValue: tickValue\n      };\n    }, this);\n    var alignWithLabel = tickModel.get('alignWithLabel');\n    fixOnBandTicksCoords(this, ticksCoords, result.tickCategoryInterval, alignWithLabel, opt.clamp);\n    return ticksCoords;\n  },\n\n  /**\n   * @return {Array.<Object>} [{\n   *     formattedLabel: string,\n   *     rawLabel: axis.scale.getLabel(tickValue)\n   *     tickValue: number\n   * }, ...]\n   */\n  getViewLabels: function getViewLabels() {\n    return createAxisLabels(this).labels;\n  },\n\n  /**\n   * @return {module:echarts/coord/model/Model}\n   */\n  getLabelModel: function getLabelModel() {\n    return this.model.getModel('axisLabel');\n  },\n\n  /**\n   * Notice here we only get the default tick model. For splitLine\n   * or splitArea, we should pass the splitLineModel or splitAreaModel\n   * manually when calling `getTicksCoords`.\n   * In GL, this method may be overrided to:\n   * `axisModel.getModel('axisTick', grid3DModel.getModel('axisTick'));`\n   * @return {module:echarts/coord/model/Model}\n   */\n  getTickModel: function getTickModel() {\n    return this.model.getModel('axisTick');\n  },\n\n  /**\n   * Get width of band\n   * @return {number}\n   */\n  getBandWidth: function getBandWidth() {\n    var axisExtent = this._extent;\n    var dataExtent = this.scale.getExtent();\n    var len = dataExtent[1] - dataExtent[0] + (this.onBand ? 1 : 0); // Fix #2728, avoid NaN when only one data.\n\n    len === 0 && (len = 1);\n    var size = Math.abs(axisExtent[1] - axisExtent[0]);\n    return Math.abs(size) / len;\n  },\n\n  /**\n   * @abstract\n   * @return {boolean} Is horizontal\n   */\n  isHorizontal: null,\n\n  /**\n   * @abstract\n   * @return {number} Get axis rotate, by degree.\n   */\n  getRotate: null,\n\n  /**\n   * Only be called in category axis.\n   * Can be overrided, consider other axes like in 3D.\n   * @return {number} Auto interval for cateogry axis tick and label\n   */\n  calculateCategoryInterval: function calculateCategoryInterval() {\n    return _calculateCategoryInterval(this);\n  }\n};\n\nfunction fixExtentWithBands(extent, nTick) {\n  var size = extent[1] - extent[0];\n  var len = nTick;\n  var margin = size / len / 2;\n  extent[0] += margin;\n  extent[1] -= margin;\n} // If axis has labels [1, 2, 3, 4]. Bands on the axis are\n// |---1---|---2---|---3---|---4---|.\n// So the displayed ticks and splitLine/splitArea should between\n// each data item, otherwise cause misleading (e.g., split tow bars\n// of a single data item when there are two bar series).\n// Also consider if tickCategoryInterval > 0 and onBand, ticks and\n// splitLine/spliteArea should layout appropriately corresponding\n// to displayed labels. (So we should not use `getBandWidth` in this\n// case).\n\n\nfunction fixOnBandTicksCoords(axis, ticksCoords, tickCategoryInterval, alignWithLabel, clamp) {\n  var ticksLen = ticksCoords.length;\n\n  if (!axis.onBand || alignWithLabel || !ticksLen) {\n    return;\n  }\n\n  var axisExtent = axis.getExtent();\n  var last;\n\n  if (ticksLen === 1) {\n    ticksCoords[0].coord = axisExtent[0];\n    last = ticksCoords[1] = {\n      coord: axisExtent[0]\n    };\n  } else {\n    var shift = ticksCoords[1].coord - ticksCoords[0].coord;\n    each(ticksCoords, function (ticksItem) {\n      ticksItem.coord -= shift / 2;\n      var tickCategoryInterval = tickCategoryInterval || 0; // Avoid split a single data item when odd interval.\n\n      if (tickCategoryInterval % 2 > 0) {\n        ticksItem.coord -= shift / ((tickCategoryInterval + 1) * 2);\n      }\n    });\n    last = {\n      coord: ticksCoords[ticksLen - 1].coord + shift\n    };\n    ticksCoords.push(last);\n  }\n\n  var inverse = axisExtent[0] > axisExtent[1];\n\n  if (littleThan(ticksCoords[0].coord, axisExtent[0])) {\n    clamp ? ticksCoords[0].coord = axisExtent[0] : ticksCoords.shift();\n  }\n\n  if (clamp && littleThan(axisExtent[0], ticksCoords[0].coord)) {\n    ticksCoords.unshift({\n      coord: axisExtent[0]\n    });\n  }\n\n  if (littleThan(axisExtent[1], last.coord)) {\n    clamp ? last.coord = axisExtent[1] : ticksCoords.pop();\n  }\n\n  if (clamp && littleThan(last.coord, axisExtent[1])) {\n    ticksCoords.push({\n      coord: axisExtent[1]\n    });\n  }\n\n  function littleThan(a, b) {\n    return inverse ? a > b : a < b;\n  }\n}\n\nvar _default = Axis;\nmodule.exports = _default;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.storeShape = undefined;\n\nvar _propTypes = require('prop-types');\n\nvar _propTypes2 = _interopRequireDefault(_propTypes);\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar storeShape = exports.storeShape = _propTypes2.default.shape({\n  subscribe: _propTypes2.default.func.isRequired,\n  setState: _propTypes2.default.func.isRequired,\n  getState: _propTypes2.default.func.isRequired\n});","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar ContainerRender =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ContainerRender, _React$Component);\n\n  function ContainerRender() {\n    var _getPrototypeOf2;\n\n    var _this;\n\n    _classCallCheck(this, ContainerRender);\n\n    for (var _len = arguments.length, args = new Array(_len), _key = 0; _key < _len; _key++) {\n      args[_key] = arguments[_key];\n    }\n\n    _this = _possibleConstructorReturn(this, (_getPrototypeOf2 = _getPrototypeOf(ContainerRender)).call.apply(_getPrototypeOf2, [this].concat(args)));\n\n    _this.removeContainer = function () {\n      if (_this.container) {\n        ReactDOM.unmountComponentAtNode(_this.container);\n\n        _this.container.parentNode.removeChild(_this.container);\n\n        _this.container = null;\n      }\n    };\n\n    _this.renderComponent = function (props, ready) {\n      var _this$props = _this.props,\n          visible = _this$props.visible,\n          getComponent = _this$props.getComponent,\n          forceRender = _this$props.forceRender,\n          getContainer = _this$props.getContainer,\n          parent = _this$props.parent;\n\n      if (visible || parent._component || forceRender) {\n        if (!_this.container) {\n          _this.container = getContainer();\n        }\n\n        ReactDOM.unstable_renderSubtreeIntoContainer(parent, getComponent(props), _this.container, function callback() {\n          if (ready) {\n            ready.call(this);\n          }\n        });\n      }\n    };\n\n    return _this;\n  }\n\n  _createClass(ContainerRender, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate() {\n      if (this.props.autoMount) {\n        this.renderComponent();\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.props.autoDestroy) {\n        this.removeContainer();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return this.props.children({\n        renderComponent: this.renderComponent,\n        removeContainer: this.removeContainer\n      });\n    }\n  }]);\n\n  return ContainerRender;\n}(React.Component);\n\nContainerRender.propTypes = {\n  autoMount: PropTypes.bool,\n  autoDestroy: PropTypes.bool,\n  visible: PropTypes.bool,\n  forceRender: PropTypes.bool,\n  parent: PropTypes.any,\n  getComponent: PropTypes.func.isRequired,\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.func.isRequired\n};\nContainerRender.defaultProps = {\n  autoMount: true,\n  autoDestroy: true,\n  forceRender: false\n};\nexport { ContainerRender as default };","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport PropTypes from 'prop-types';\n\nvar Portal =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Portal, _React$Component);\n\n  function Portal() {\n    _classCallCheck(this, Portal);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Portal).apply(this, arguments));\n  }\n\n  _createClass(Portal, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.createContainer();\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      var didUpdate = this.props.didUpdate;\n\n      if (didUpdate) {\n        didUpdate(prevProps);\n      }\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      this.removeContainer();\n    }\n  }, {\n    key: \"createContainer\",\n    value: function createContainer() {\n      this._container = this.props.getContainer();\n      this.forceUpdate();\n    }\n  }, {\n    key: \"removeContainer\",\n    value: function removeContainer() {\n      if (this._container) {\n        this._container.parentNode.removeChild(this._container);\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      if (this._container) {\n        return ReactDOM.createPortal(this.props.children, this._container);\n      }\n\n      return null;\n    }\n  }]);\n\n  return Portal;\n}(React.Component);\n\nPortal.propTypes = {\n  getContainer: PropTypes.func.isRequired,\n  children: PropTypes.node.isRequired,\n  didUpdate: PropTypes.func\n};\nexport { Portal as default };","/**\n * Deprecated. We should replace the animation with pure react motion instead of modify style directly.\n * If you are creating new component with animation, please use `./motion`.\n */\nimport cssAnimation from 'css-animation';\nimport raf from 'raf';\n\nfunction animate(node, show, done) {\n  var height;\n  var requestAnimationFrameId;\n  return cssAnimation(node, 'ant-motion-collapse-legacy', {\n    start: function start() {\n      if (!show) {\n        node.style.height = \"\".concat(node.offsetHeight, \"px\");\n        node.style.opacity = '1';\n      } else {\n        height = node.offsetHeight;\n        node.style.height = '0px';\n        node.style.opacity = '0';\n      }\n    },\n    active: function active() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      requestAnimationFrameId = raf(function () {\n        node.style.height = \"\".concat(show ? height : 0, \"px\");\n        node.style.opacity = show ? '1' : '0';\n      });\n    },\n    end: function end() {\n      if (requestAnimationFrameId) {\n        raf.cancel(requestAnimationFrameId);\n      }\n\n      node.style.height = '';\n      node.style.opacity = '';\n      done();\n    }\n  });\n}\n\nvar animation = {\n  enter: function enter(node, done) {\n    return animate(node, true, done);\n  },\n  leave: function leave(node, done) {\n    return animate(node, false, done);\n  },\n  appear: function appear(node, done) {\n    return animate(node, true, done);\n  }\n};\nexport default animation;","/**\n * @module zrender/core/util\n */\n// mergeDate\nvar BUILTIN_OBJECT = {\n  '[object Function]': 1,\n  '[object RegExp]': 1,\n  '[object Date]': 1,\n  '[object Error]': 1,\n  '[object CanvasGradient]': 1,\n  '[object CanvasPattern]': 1,\n  // For node-canvas\n  '[object Image]': 1,\n  '[object Canvas]': 1\n};\nvar TYPED_ARRAY = {\n  '[object Int8Array]': 1,\n  '[object Uint8Array]': 1,\n  '[object Uint8ClampedArray]': 1,\n  '[object Int16Array]': 1,\n  '[object Uint16Array]': 1,\n  '[object Int32Array]': 1,\n  '[object Uint32Array]': 1,\n  '[object Float32Array]': 1,\n  '[object Float64Array]': 1\n};\nvar objToString = Object.prototype.toString;\nvar arrayProto = Array.prototype;\nvar nativeForEach = arrayProto.forEach;\nvar nativeFilter = arrayProto.filter;\nvar nativeSlice = arrayProto.slice;\nvar nativeMap = arrayProto.map;\nvar nativeReduce = arrayProto.reduce; // Avoid assign to an exported variable, for transforming to cjs.\n\nvar methods = {};\n\nfunction $override(name, fn) {\n  // Clear ctx instance for different environment\n  if (name === 'createCanvas') {\n    _ctx = null;\n  }\n\n  methods[name] = fn;\n}\n/**\n * Those data types can be cloned:\n *     Plain object, Array, TypedArray, number, string, null, undefined.\n * Those data types will be assgined using the orginal data:\n *     BUILTIN_OBJECT\n * Instance of user defined class will be cloned to a plain object, without\n * properties in prototype.\n * Other data types is not supported (not sure what will happen).\n *\n * Caution: do not support clone Date, for performance consideration.\n * (There might be a large number of date in `series.data`).\n * So date should not be modified in and out of echarts.\n *\n * @param {*} source\n * @return {*} new\n */\n\n\nfunction clone(source) {\n  if (source == null || typeof source !== 'object') {\n    return source;\n  }\n\n  var result = source;\n  var typeStr = objToString.call(source);\n\n  if (typeStr === '[object Array]') {\n    if (!isPrimitive(source)) {\n      result = [];\n\n      for (var i = 0, len = source.length; i < len; i++) {\n        result[i] = clone(source[i]);\n      }\n    }\n  } else if (TYPED_ARRAY[typeStr]) {\n    if (!isPrimitive(source)) {\n      var Ctor = source.constructor;\n\n      if (source.constructor.from) {\n        result = Ctor.from(source);\n      } else {\n        result = new Ctor(source.length);\n\n        for (var i = 0, len = source.length; i < len; i++) {\n          result[i] = clone(source[i]);\n        }\n      }\n    }\n  } else if (!BUILTIN_OBJECT[typeStr] && !isPrimitive(source) && !isDom(source)) {\n    result = {};\n\n    for (var key in source) {\n      if (source.hasOwnProperty(key)) {\n        result[key] = clone(source[key]);\n      }\n    }\n  }\n\n  return result;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overwrite=false]\n */\n\n\nfunction merge(target, source, overwrite) {\n  // We should escapse that source is string\n  // and enter for ... in ...\n  if (!isObject(source) || !isObject(target)) {\n    return overwrite ? clone(source) : target;\n  }\n\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      var targetProp = target[key];\n      var sourceProp = source[key];\n\n      if (isObject(sourceProp) && isObject(targetProp) && !isArray(sourceProp) && !isArray(targetProp) && !isDom(sourceProp) && !isDom(targetProp) && !isBuiltInObject(sourceProp) && !isBuiltInObject(targetProp) && !isPrimitive(sourceProp) && !isPrimitive(targetProp)) {\n        // merge\n        merge(targetProp, sourceProp, overwrite);\n      } else if (overwrite || !(key in target)) {\n        // overwritetrue\n        // NOTE target[key] \n        target[key] = clone(source[key], true);\n      }\n    }\n  }\n\n  return target;\n}\n/**\n * @param {Array} targetAndSources The first item is target, and the rests are source.\n * @param {boolean} [overwrite=false]\n * @return {*} target\n */\n\n\nfunction mergeAll(targetAndSources, overwrite) {\n  var result = targetAndSources[0];\n\n  for (var i = 1, len = targetAndSources.length; i < len; i++) {\n    result = merge(result, targetAndSources[i], overwrite);\n  }\n\n  return result;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @memberOf module:zrender/core/util\n */\n\n\nfunction extend(target, source) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n/**\n * @param {*} target\n * @param {*} source\n * @param {boolean} [overlay=false]\n * @memberOf module:zrender/core/util\n */\n\n\nfunction defaults(target, source, overlay) {\n  for (var key in source) {\n    if (source.hasOwnProperty(key) && (overlay ? source[key] != null : target[key] == null)) {\n      target[key] = source[key];\n    }\n  }\n\n  return target;\n}\n\nvar createCanvas = function createCanvas() {\n  return methods.createCanvas();\n};\n\nmethods.createCanvas = function () {\n  return document.createElement('canvas');\n}; // FIXME\n\n\nvar _ctx;\n\nfunction getContext() {\n  if (!_ctx) {\n    // Use util.createCanvas instead of createCanvas\n    // because createCanvas may be overwritten in different environment\n    _ctx = createCanvas().getContext('2d');\n  }\n\n  return _ctx;\n}\n/**\n * index\n * @memberOf module:zrender/core/util\n */\n\n\nfunction indexOf(array, value) {\n  if (array) {\n    if (array.indexOf) {\n      return array.indexOf(value);\n    }\n\n    for (var i = 0, len = array.length; i < len; i++) {\n      if (array[i] === value) {\n        return i;\n      }\n    }\n  }\n\n  return -1;\n}\n/**\n * \n *\n * @memberOf module:zrender/core/util\n * @param {Function} clazz \n * @param {Function} baseClazz \n */\n\n\nfunction inherits(clazz, baseClazz) {\n  var clazzPrototype = clazz.prototype;\n\n  function F() {}\n\n  F.prototype = baseClazz.prototype;\n  clazz.prototype = new F();\n\n  for (var prop in clazzPrototype) {\n    if (clazzPrototype.hasOwnProperty(prop)) {\n      clazz.prototype[prop] = clazzPrototype[prop];\n    }\n  }\n\n  clazz.prototype.constructor = clazz;\n  clazz.superClass = baseClazz;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Object|Function} target\n * @param {Object|Function} sorce\n * @param {boolean} overlay\n */\n\n\nfunction mixin(target, source, overlay) {\n  target = 'prototype' in target ? target.prototype : target;\n  source = 'prototype' in source ? source.prototype : source;\n  defaults(target, source, overlay);\n}\n/**\n * Consider typed array.\n * @param {Array|TypedArray} data\n */\n\n\nfunction isArrayLike(data) {\n  if (!data) {\n    return;\n  }\n\n  if (typeof data === 'string') {\n    return false;\n  }\n\n  return typeof data.length === 'number';\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Object|Array} obj\n * @param {Function} cb\n * @param {*} [context]\n */\n\n\nfunction each(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.forEach && obj.forEach === nativeForEach) {\n    obj.forEach(cb, context);\n  } else if (obj.length === +obj.length) {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      cb.call(context, obj[i], i, obj);\n    }\n  } else {\n    for (var key in obj) {\n      if (obj.hasOwnProperty(key)) {\n        cb.call(context, obj[key], key, obj);\n      }\n    }\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction map(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.map && obj.map === nativeMap) {\n    return obj.map(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      result.push(cb.call(context, obj[i], i, obj));\n    }\n\n    return result;\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {Object} [memo]\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction reduce(obj, cb, memo, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.reduce && obj.reduce === nativeReduce) {\n    return obj.reduce(cb, memo, context);\n  } else {\n    for (var i = 0, len = obj.length; i < len; i++) {\n      memo = cb.call(context, memo, obj[i], i, obj);\n    }\n\n    return memo;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {Array}\n */\n\n\nfunction filter(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  if (obj.filter && obj.filter === nativeFilter) {\n    return obj.filter(cb, context);\n  } else {\n    var result = [];\n\n    for (var i = 0, len = obj.length; i < len; i++) {\n      if (cb.call(context, obj[i], i, obj)) {\n        result.push(obj[i]);\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * \n * @memberOf module:zrender/core/util\n * @param {Array} obj\n * @param {Function} cb\n * @param {*} [context]\n * @return {*}\n */\n\n\nfunction find(obj, cb, context) {\n  if (!(obj && cb)) {\n    return;\n  }\n\n  for (var i = 0, len = obj.length; i < len; i++) {\n    if (cb.call(context, obj[i], i, obj)) {\n      return obj[i];\n    }\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @param {*} context\n * @return {Function}\n */\n\n\nfunction bind(func, context) {\n  var args = nativeSlice.call(arguments, 2);\n  return function () {\n    return func.apply(context, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Function} func\n * @return {Function}\n */\n\n\nfunction curry(func) {\n  var args = nativeSlice.call(arguments, 1);\n  return function () {\n    return func.apply(this, args.concat(nativeSlice.call(arguments)));\n  };\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isArray(value) {\n  return objToString.call(value) === '[object Array]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isFunction(value) {\n  return typeof value === 'function';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isString(value) {\n  return objToString.call(value) === '[object String]';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isObject(value) {\n  // Avoid a V8 JIT bug in Chrome 19-20.\n  // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\n  var type = typeof value;\n  return type === 'function' || !!value && type === 'object';\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isBuiltInObject(value) {\n  return !!BUILTIN_OBJECT[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isTypedArray(value) {\n  return !!TYPED_ARRAY[objToString.call(value)];\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction isDom(value) {\n  return typeof value === 'object' && typeof value.nodeType === 'number' && typeof value.ownerDocument === 'object';\n}\n/**\n * Whether is exactly NaN. Notice isNaN('a') returns true.\n * @param {*} value\n * @return {boolean}\n */\n\n\nfunction eqNaN(value) {\n  /* eslint-disable-next-line no-self-compare */\n  return value !== value;\n}\n/**\n * If value1 is not null, then return value1, otherwise judget rest of values.\n * Low performance.\n * @memberOf module:zrender/core/util\n * @return {*} Final value\n */\n\n\nfunction retrieve(values) {\n  for (var i = 0, len = arguments.length; i < len; i++) {\n    if (arguments[i] != null) {\n      return arguments[i];\n    }\n  }\n}\n\nfunction retrieve2(value0, value1) {\n  return value0 != null ? value0 : value1;\n}\n\nfunction retrieve3(value0, value1, value2) {\n  return value0 != null ? value0 : value1 != null ? value1 : value2;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {Array} arr\n * @param {number} startIndex\n * @param {number} endIndex\n * @return {Array}\n */\n\n\nfunction slice() {\n  return Function.call.apply(nativeSlice, arguments);\n}\n/**\n * Normalize css liked array configuration\n * e.g.\n *  3 => [3, 3, 3, 3]\n *  [4, 2] => [4, 2, 4, 2]\n *  [4, 3, 2] => [4, 3, 2, 3]\n * @param {number|Array.<number>} val\n * @return {Array.<number>}\n */\n\n\nfunction normalizeCssArray(val) {\n  if (typeof val === 'number') {\n    return [val, val, val, val];\n  }\n\n  var len = val.length;\n\n  if (len === 2) {\n    // vertical | horizontal\n    return [val[0], val[1], val[0], val[1]];\n  } else if (len === 3) {\n    // top | horizontal | bottom\n    return [val[0], val[1], val[2], val[1]];\n  }\n\n  return val;\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {boolean} condition\n * @param {string} message\n */\n\n\nfunction assert(condition, message) {\n  if (!condition) {\n    throw new Error(message);\n  }\n}\n/**\n * @memberOf module:zrender/core/util\n * @param {string} str string to be trimed\n * @return {string} trimed string\n */\n\n\nfunction trim(str) {\n  if (str == null) {\n    return null;\n  } else if (typeof str.trim === 'function') {\n    return str.trim();\n  } else {\n    return str.replace(/^[\\s\\uFEFF\\xA0]+|[\\s\\uFEFF\\xA0]+$/g, '');\n  }\n}\n\nvar primitiveKey = '__ec_primitive__';\n/**\n * Set an object as primitive to be ignored traversing children in clone or merge\n */\n\nfunction setAsPrimitive(obj) {\n  obj[primitiveKey] = true;\n}\n\nfunction isPrimitive(obj) {\n  return obj[primitiveKey];\n}\n/**\n * @constructor\n * @param {Object} obj Only apply `ownProperty`.\n */\n\n\nfunction HashMap(obj) {\n  var isArr = isArray(obj); // Key should not be set on this, otherwise\n  // methods get/set/... may be overrided.\n\n  this.data = {};\n  var thisMap = this;\n  obj instanceof HashMap ? obj.each(visit) : obj && each(obj, visit);\n\n  function visit(value, key) {\n    isArr ? thisMap.set(value, key) : thisMap.set(key, value);\n  }\n}\n\nHashMap.prototype = {\n  constructor: HashMap,\n  // Do not provide `has` method to avoid defining what is `has`.\n  // (We usually treat `null` and `undefined` as the same, different\n  // from ES6 Map).\n  get: function get(key) {\n    return this.data.hasOwnProperty(key) ? this.data[key] : null;\n  },\n  set: function set(key, value) {\n    // Comparing with invocation chaining, `return value` is more commonly\n    // used in this case: `var someVal = map.set('a', genVal());`\n    return this.data[key] = value;\n  },\n  // Although util.each can be performed on this hashMap directly, user\n  // should not use the exposed keys, who are prefixed.\n  each: function each(cb, context) {\n    context !== void 0 && (cb = bind(cb, context));\n    /* eslint-disable guard-for-in */\n\n    for (var key in this.data) {\n      this.data.hasOwnProperty(key) && cb(this.data[key], key);\n    }\n    /* eslint-enable guard-for-in */\n\n  },\n  // Do not use this method if performance sensitive.\n  removeKey: function removeKey(key) {\n    delete this.data[key];\n  }\n};\n\nfunction createHashMap(obj) {\n  return new HashMap(obj);\n}\n\nfunction concatArray(a, b) {\n  var newArray = new a.constructor(a.length + b.length);\n\n  for (var i = 0; i < a.length; i++) {\n    newArray[i] = a[i];\n  }\n\n  var offset = a.length;\n\n  for (i = 0; i < b.length; i++) {\n    newArray[i + offset] = b[i];\n  }\n\n  return newArray;\n}\n\nfunction noop() {}\n\nexports.$override = $override;\nexports.clone = clone;\nexports.merge = merge;\nexports.mergeAll = mergeAll;\nexports.extend = extend;\nexports.defaults = defaults;\nexports.createCanvas = createCanvas;\nexports.getContext = getContext;\nexports.indexOf = indexOf;\nexports.inherits = inherits;\nexports.mixin = mixin;\nexports.isArrayLike = isArrayLike;\nexports.each = each;\nexports.map = map;\nexports.reduce = reduce;\nexports.filter = filter;\nexports.find = find;\nexports.bind = bind;\nexports.curry = curry;\nexports.isArray = isArray;\nexports.isFunction = isFunction;\nexports.isString = isString;\nexports.isObject = isObject;\nexports.isBuiltInObject = isBuiltInObject;\nexports.isTypedArray = isTypedArray;\nexports.isDom = isDom;\nexports.eqNaN = eqNaN;\nexports.retrieve = retrieve;\nexports.retrieve2 = retrieve2;\nexports.retrieve3 = retrieve3;\nexports.slice = slice;\nexports.normalizeCssArray = normalizeCssArray;\nexports.assert = assert;\nexports.trim = trim;\nexports.setAsPrimitive = setAsPrimitive;\nexports.isPrimitive = isPrimitive;\nexports.createHashMap = createHashMap;\nexports.concatArray = concatArray;\nexports.noop = noop;","import raf from 'raf';\nimport getScroll from './getScroll';\nimport { easeInOutCubic } from './easings';\nexport default function scrollTo(y) {\n  var options = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n  var _options$getContainer = options.getContainer,\n      getContainer = _options$getContainer === void 0 ? function () {\n    return window;\n  } : _options$getContainer,\n      callback = options.callback,\n      _options$duration = options.duration,\n      duration = _options$duration === void 0 ? 450 : _options$duration;\n  var container = getContainer();\n  var scrollTop = getScroll(container, true);\n  var startTime = Date.now();\n\n  var frameFunc = function frameFunc() {\n    var timestamp = Date.now();\n    var time = timestamp - startTime;\n    var nextScrollTop = easeInOutCubic(time > duration ? duration : time, scrollTop, y, duration);\n\n    if (container === window) {\n      window.scrollTo(window.pageXOffset, nextScrollTop);\n    } else {\n      container.scrollTop = nextScrollTop;\n    }\n\n    if (time < duration) {\n      raf(frameFunc);\n    } else if (typeof callback === 'function') {\n      callback();\n    }\n  };\n\n  raf(frameFunc);\n}","// eslint-disable-next-line import/prefer-default-export\nexport function easeInOutCubic(t, b, c, d) {\n  var cc = c - b;\n  t /= d / 2;\n\n  if (t < 1) {\n    return cc / 2 * t * t * t + b;\n  }\n\n  return cc / 2 * ((t -= 2) * t * t + 2) + b;\n}","import '../../style/index.css';\nimport './index.css';","var util = require(\"./core/util\");\n\nvar vec2 = require(\"./core/vector\");\n\nvar Draggable = require(\"./mixin/Draggable\");\n\nvar Eventful = require(\"./mixin/Eventful\");\n\nvar eventTool = require(\"./core/event\");\n\nvar GestureMgr = require(\"./core/GestureMgr\");\n\nvar SILENT = 'silent';\n\nfunction makeEventPacket(eveType, targetInfo, event) {\n  return {\n    type: eveType,\n    event: event,\n    // target can only be an element that is not silent.\n    target: targetInfo.target,\n    // topTarget can be a silent element.\n    topTarget: targetInfo.topTarget,\n    cancelBubble: false,\n    offsetX: event.zrX,\n    offsetY: event.zrY,\n    gestureEvent: event.gestureEvent,\n    pinchX: event.pinchX,\n    pinchY: event.pinchY,\n    pinchScale: event.pinchScale,\n    wheelDelta: event.zrDelta,\n    zrByTouch: event.zrByTouch,\n    which: event.which,\n    stop: stopEvent\n  };\n}\n\nfunction stopEvent(event) {\n  eventTool.stop(this.event);\n}\n\nfunction EmptyProxy() {}\n\nEmptyProxy.prototype.dispose = function () {};\n\nvar handlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\n/**\n * @alias module:zrender/Handler\n * @constructor\n * @extends module:zrender/mixin/Eventful\n * @param {module:zrender/Storage} storage Storage instance.\n * @param {module:zrender/Painter} painter Painter instance.\n * @param {module:zrender/dom/HandlerProxy} proxy HandlerProxy instance.\n * @param {HTMLElement} painterRoot painter.root (not painter.getViewportRoot()).\n */\n\nvar Handler = function Handler(storage, painter, proxy, painterRoot) {\n  Eventful.call(this);\n  this.storage = storage;\n  this.painter = painter;\n  this.painterRoot = painterRoot;\n  proxy = proxy || new EmptyProxy();\n  /**\n   * Proxy of event. can be Dom, WebGLSurface, etc.\n   */\n\n  this.proxy = null;\n  /**\n   * {target, topTarget, x, y}\n   * @private\n   * @type {Object}\n   */\n\n  this._hovered = {};\n  /**\n   * @private\n   * @type {Date}\n   */\n\n  this._lastTouchMoment;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastX;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._lastY;\n  /**\n   * @private\n   * @type {module:zrender/core/GestureMgr}\n   */\n\n  this._gestureMgr;\n  Draggable.call(this);\n  this.setHandlerProxy(proxy);\n};\n\nHandler.prototype = {\n  constructor: Handler,\n  setHandlerProxy: function setHandlerProxy(proxy) {\n    if (this.proxy) {\n      this.proxy.dispose();\n    }\n\n    if (proxy) {\n      util.each(handlerNames, function (name) {\n        proxy.on && proxy.on(name, this[name], this);\n      }, this); // Attach handler\n\n      proxy.handler = this;\n    }\n\n    this.proxy = proxy;\n  },\n  mousemove: function mousemove(event) {\n    var x = event.zrX;\n    var y = event.zrY;\n    var lastHovered = this._hovered;\n    var lastHoveredTarget = lastHovered.target; // If lastHoveredTarget is removed from zr (detected by '__zr') by some API call\n    // (like 'setOption' or 'dispatchAction') in event handlers, we should find\n    // lastHovered again here. Otherwise 'mouseout' can not be triggered normally.\n    // See #6198.\n\n    if (lastHoveredTarget && !lastHoveredTarget.__zr) {\n      lastHovered = this.findHover(lastHovered.x, lastHovered.y);\n      lastHoveredTarget = lastHovered.target;\n    }\n\n    var hovered = this._hovered = this.findHover(x, y);\n    var hoveredTarget = hovered.target;\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(hoveredTarget ? hoveredTarget.cursor : 'default'); // Mouse out on previous hovered element\n\n    if (lastHoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(lastHovered, 'mouseout', event);\n    } // Mouse moving on one element\n\n\n    this.dispatchToElement(hovered, 'mousemove', event); // Mouse over on a new element\n\n    if (hoveredTarget && hoveredTarget !== lastHoveredTarget) {\n      this.dispatchToElement(hovered, 'mouseover', event);\n    }\n  },\n  mouseout: function mouseout(event) {\n    this.dispatchToElement(this._hovered, 'mouseout', event); // There might be some doms created by upper layer application\n    // at the same level of painter.getViewportRoot() (e.g., tooltip\n    // dom created by echarts), where 'globalout' event should not\n    // be triggered when mouse enters these doms. (But 'mouseout'\n    // should be triggered at the original hovered element as usual).\n\n    var element = event.toElement || event.relatedTarget;\n    var innerDom;\n\n    do {\n      element = element && element.parentNode;\n    } while (element && element.nodeType !== 9 && !(innerDom = element === this.painterRoot));\n\n    !innerDom && this.trigger('globalout', {\n      event: event\n    });\n  },\n\n  /**\n   * Resize\n   */\n  resize: function resize(event) {\n    this._hovered = {};\n  },\n\n  /**\n   * Dispatch event\n   * @param {string} eventName\n   * @param {event=} eventArgs\n   */\n  dispatch: function dispatch(eventName, eventArgs) {\n    var handler = this[eventName];\n    handler && handler.call(this, eventArgs);\n  },\n\n  /**\n   * Dispose\n   */\n  dispose: function dispose() {\n    this.proxy.dispose();\n    this.storage = this.proxy = this.painter = null;\n  },\n\n  /**\n   * cursor style\n   * @param {string} [cursorStyle='default']  crosshair\n   */\n  setCursorStyle: function setCursorStyle(cursorStyle) {\n    var proxy = this.proxy;\n    proxy.setCursor && proxy.setCursor(cursorStyle);\n  },\n\n  /**\n   * \n   *\n   * @private\n   * @param {Object} targetInfo {target, topTarget} \n   * @param {string} eventName \n   * @param {Object} event \n   */\n  dispatchToElement: function dispatchToElement(targetInfo, eventName, event) {\n    targetInfo = targetInfo || {};\n    var el = targetInfo.target;\n\n    if (el && el.silent) {\n      return;\n    }\n\n    var eventHandler = 'on' + eventName;\n    var eventPacket = makeEventPacket(eventName, targetInfo, event);\n\n    while (el) {\n      el[eventHandler] && (eventPacket.cancelBubble = el[eventHandler].call(el, eventPacket));\n      el.trigger(eventName, eventPacket);\n      el = el.parent;\n\n      if (eventPacket.cancelBubble) {\n        break;\n      }\n    }\n\n    if (!eventPacket.cancelBubble) {\n      //  zrender \n      this.trigger(eventName, eventPacket); // \n      //  click  dispose painter \n\n      this.painter && this.painter.eachOtherLayer(function (layer) {\n        if (typeof layer[eventHandler] === 'function') {\n          layer[eventHandler].call(layer, eventPacket);\n        }\n\n        if (layer.trigger) {\n          layer.trigger(eventName, eventPacket);\n        }\n      });\n    }\n  },\n\n  /**\n   * @private\n   * @param {number} x\n   * @param {number} y\n   * @param {module:zrender/graphic/Displayable} exclude\n   * @return {model:zrender/Element}\n   * @method\n   */\n  findHover: function findHover(x, y, exclude) {\n    var list = this.storage.getDisplayList();\n    var out = {\n      x: x,\n      y: y\n    };\n\n    for (var i = list.length - 1; i >= 0; i--) {\n      var hoverCheckResult;\n\n      if (list[i] !== exclude // getDisplayList may include ignored item in VML mode\n      && !list[i].ignore && (hoverCheckResult = isHover(list[i], x, y))) {\n        !out.topTarget && (out.topTarget = list[i]);\n\n        if (hoverCheckResult !== SILENT) {\n          out.target = list[i];\n          break;\n        }\n      }\n    }\n\n    return out;\n  },\n  processGesture: function processGesture(event, stage) {\n    if (!this._gestureMgr) {\n      this._gestureMgr = new GestureMgr();\n    }\n\n    var gestureMgr = this._gestureMgr;\n    stage === 'start' && gestureMgr.clear();\n    var gestureInfo = gestureMgr.recognize(event, this.findHover(event.zrX, event.zrY, null).target, this.proxy.dom);\n    stage === 'end' && gestureMgr.clear(); // Do not do any preventDefault here. Upper application do that if necessary.\n\n    if (gestureInfo) {\n      var type = gestureInfo.type;\n      event.gestureEvent = type;\n      this.dispatchToElement({\n        target: gestureInfo.target\n      }, type, gestureInfo.event);\n    }\n  }\n}; // Common handlers\n\nutil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  Handler.prototype[name] = function (event) {\n    // Find hover again to avoid click event is dispatched manually. Or click is triggered without mouseover\n    var hovered = this.findHover(event.zrX, event.zrY);\n    var hoveredTarget = hovered.target;\n\n    if (name === 'mousedown') {\n      this._downEl = hoveredTarget;\n      this._downPoint = [event.zrX, event.zrY]; // In case click triggered before mouseup\n\n      this._upEl = hoveredTarget;\n    } else if (name === 'mouseup') {\n      this._upEl = hoveredTarget;\n    } else if (name === 'click') {\n      if (this._downEl !== this._upEl // Original click event is triggered on the whole canvas element,\n      // including the case that `mousedown` - `mousemove` - `mouseup`,\n      // which should be filtered, otherwise it will bring trouble to\n      // pan and zoom.\n      || !this._downPoint // Arbitrary value\n      || vec2.dist(this._downPoint, [event.zrX, event.zrY]) > 4) {\n        return;\n      }\n\n      this._downPoint = null;\n    }\n\n    this.dispatchToElement(hovered, name, event);\n  };\n});\n\nfunction isHover(displayable, x, y) {\n  if (displayable[displayable.rectHover ? 'rectContain' : 'contain'](x, y)) {\n    var el = displayable;\n    var isSilent;\n\n    while (el) {\n      // If clipped by ancestor.\n      // FIXME: If clipPath has neither stroke nor fill,\n      // el.clipPath.contain(x, y) will always return false.\n      if (el.clipPath && !el.clipPath.contain(x, y)) {\n        return false;\n      }\n\n      if (el.silent) {\n        isSilent = true;\n      }\n\n      el = el.parent;\n    }\n\n    return isSilent ? SILENT : true;\n  }\n\n  return false;\n}\n\nutil.mixin(Handler, Eventful);\nutil.mixin(Handler, Draggable);\nvar _default = Handler;\nmodule.exports = _default;","// TODO Draggable for group\n// FIXME Draggable on element which has parent rotation or scale\nfunction Draggable() {\n  this.on('mousedown', this._dragStart, this);\n  this.on('mousemove', this._drag, this);\n  this.on('mouseup', this._dragEnd, this);\n  this.on('globalout', this._dragEnd, this); // this._dropTarget = null;\n  // this._draggingTarget = null;\n  // this._x = 0;\n  // this._y = 0;\n}\n\nDraggable.prototype = {\n  constructor: Draggable,\n  _dragStart: function _dragStart(e) {\n    var draggingTarget = e.target;\n\n    if (draggingTarget && draggingTarget.draggable) {\n      this._draggingTarget = draggingTarget;\n      draggingTarget.dragging = true;\n      this._x = e.offsetX;\n      this._y = e.offsetY;\n      this.dispatchToElement(param(draggingTarget, e), 'dragstart', e.event);\n    }\n  },\n  _drag: function _drag(e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      var x = e.offsetX;\n      var y = e.offsetY;\n      var dx = x - this._x;\n      var dy = y - this._y;\n      this._x = x;\n      this._y = y;\n      draggingTarget.drift(dx, dy, e);\n      this.dispatchToElement(param(draggingTarget, e), 'drag', e.event);\n      var dropTarget = this.findHover(x, y, draggingTarget).target;\n      var lastDropTarget = this._dropTarget;\n      this._dropTarget = dropTarget;\n\n      if (draggingTarget !== dropTarget) {\n        if (lastDropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(lastDropTarget, e), 'dragleave', e.event);\n        }\n\n        if (dropTarget && dropTarget !== lastDropTarget) {\n          this.dispatchToElement(param(dropTarget, e), 'dragenter', e.event);\n        }\n      }\n    }\n  },\n  _dragEnd: function _dragEnd(e) {\n    var draggingTarget = this._draggingTarget;\n\n    if (draggingTarget) {\n      draggingTarget.dragging = false;\n    }\n\n    this.dispatchToElement(param(draggingTarget, e), 'dragend', e.event);\n\n    if (this._dropTarget) {\n      this.dispatchToElement(param(this._dropTarget, e), 'drop', e.event);\n    }\n\n    this._draggingTarget = null;\n    this._dropTarget = null;\n  }\n};\n\nfunction param(target, e) {\n  return {\n    target: target,\n    topTarget: e && e.topTarget\n  };\n}\n\nvar _default = Draggable;\nmodule.exports = _default;","/**\n * The algoritm is learnt from\n * https://franklinta.com/2014/09/08/computing-css-matrix3d-transforms/\n * And we made some optimization for matrix inversion.\n * Other similar approaches:\n * \"cv::getPerspectiveTransform\", \"Direct Linear Transformation\".\n */\nvar LN2 = Math.log(2);\n\nfunction determinant(rows, rank, rowStart, rowMask, colMask, detCache) {\n  var cacheKey = rowMask + '-' + colMask;\n  var fullRank = rows.length;\n\n  if (detCache.hasOwnProperty(cacheKey)) {\n    return detCache[cacheKey];\n  }\n\n  if (rank === 1) {\n    // In this case the colMask must be like: `11101111`. We can find the place of `0`.\n    var colStart = Math.round(Math.log((1 << fullRank) - 1 & ~colMask) / LN2);\n    return rows[rowStart][colStart];\n  }\n\n  var subRowMask = rowMask | 1 << rowStart;\n  var subRowStart = rowStart + 1;\n\n  while (rowMask & 1 << subRowStart) {\n    subRowStart++;\n  }\n\n  var sum = 0;\n\n  for (var j = 0, colLocalIdx = 0; j < fullRank; j++) {\n    var colTag = 1 << j;\n\n    if (!(colTag & colMask)) {\n      sum += (colLocalIdx % 2 ? -1 : 1) * rows[rowStart][j] // det(subMatrix(0, j))\n      * determinant(rows, rank - 1, subRowStart, subRowMask, colMask | colTag, detCache);\n      colLocalIdx++;\n    }\n  }\n\n  detCache[cacheKey] = sum;\n  return sum;\n}\n/**\n * Usage:\n * ```js\n * var transformer = buildTransformer(\n *     [10, 44, 100, 44, 100, 300, 10, 300],\n *     [50, 54, 130, 14, 140, 330, 14, 220]\n * );\n * var out = [];\n * transformer && transformer([11, 33], out);\n * ```\n *\n * Notice: `buildTransformer` may take more than 10ms in some Android device.\n *\n * @param {Array.<number>} src source four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @param {Array.<number>} dest destination four points, [x0, y0, x1, y1, x2, y2, x3, y3]\n * @return {Function} transformer If fail, return null/undefined.\n */\n\n\nfunction buildTransformer(src, dest) {\n  var mA = [[src[0], src[1], 1, 0, 0, 0, -dest[0] * src[0], -dest[0] * src[1]], [0, 0, 0, src[0], src[1], 1, -dest[1] * src[0], -dest[1] * src[1]], [src[2], src[3], 1, 0, 0, 0, -dest[2] * src[2], -dest[2] * src[3]], [0, 0, 0, src[2], src[3], 1, -dest[3] * src[2], -dest[3] * src[3]], [src[4], src[5], 1, 0, 0, 0, -dest[4] * src[4], -dest[4] * src[5]], [0, 0, 0, src[4], src[5], 1, -dest[5] * src[4], -dest[5] * src[5]], [src[6], src[7], 1, 0, 0, 0, -dest[6] * src[6], -dest[6] * src[7]], [0, 0, 0, src[6], src[7], 1, -dest[7] * src[6], -dest[7] * src[7]]];\n  var detCache = {};\n  var det = determinant(mA, 8, 0, 0, 0, detCache);\n\n  if (det === 0) {\n    return;\n  } // `invert(mA) * dest`, that is, `adj(mA) / det * dest`.\n\n\n  var vh = [];\n\n  for (var i = 0; i < 8; i++) {\n    for (var j = 0; j < 8; j++) {\n      vh[j] == null && (vh[j] = 0);\n      vh[j] += ((i + j) % 2 ? -1 : 1) * // det(subMatrix(i, j))\n      determinant(mA, 7, i === 0 ? 1 : 0, 1 << i, 1 << j, detCache) / det * dest[i];\n    }\n  }\n\n  return function (out, srcPointX, srcPointY) {\n    var pk = srcPointX * vh[6] + srcPointY * vh[7] + 1;\n    out[0] = (srcPointX * vh[0] + srcPointY * vh[1] + vh[2]) / pk;\n    out[1] = (srcPointX * vh[3] + srcPointY * vh[4] + vh[5]) / pk;\n  };\n}\n\nexports.buildTransformer = buildTransformer;","var eventUtil = require(\"./event\");\n/**\n * Only implements needed gestures for mobile.\n */\n\n\nvar GestureMgr = function GestureMgr() {\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n  this._track = [];\n};\n\nGestureMgr.prototype = {\n  constructor: GestureMgr,\n  recognize: function recognize(event, target, root) {\n    this._doTrack(event, target, root);\n\n    return this._recognize(event);\n  },\n  clear: function clear() {\n    this._track.length = 0;\n    return this;\n  },\n  _doTrack: function _doTrack(event, target, root) {\n    var touches = event.touches;\n\n    if (!touches) {\n      return;\n    }\n\n    var trackItem = {\n      points: [],\n      touches: [],\n      target: target,\n      event: event\n    };\n\n    for (var i = 0, len = touches.length; i < len; i++) {\n      var touch = touches[i];\n      var pos = eventUtil.clientToLocal(root, touch, {});\n      trackItem.points.push([pos.zrX, pos.zrY]);\n      trackItem.touches.push(touch);\n    }\n\n    this._track.push(trackItem);\n  },\n  _recognize: function _recognize(event) {\n    for (var eventName in recognizers) {\n      if (recognizers.hasOwnProperty(eventName)) {\n        var gestureInfo = recognizers[eventName](this._track, event);\n\n        if (gestureInfo) {\n          return gestureInfo;\n        }\n      }\n    }\n  }\n};\n\nfunction dist(pointPair) {\n  var dx = pointPair[1][0] - pointPair[0][0];\n  var dy = pointPair[1][1] - pointPair[0][1];\n  return Math.sqrt(dx * dx + dy * dy);\n}\n\nfunction center(pointPair) {\n  return [(pointPair[0][0] + pointPair[1][0]) / 2, (pointPair[0][1] + pointPair[1][1]) / 2];\n}\n\nvar recognizers = {\n  pinch: function pinch(track, event) {\n    var trackLen = track.length;\n\n    if (!trackLen) {\n      return;\n    }\n\n    var pinchEnd = (track[trackLen - 1] || {}).points;\n    var pinchPre = (track[trackLen - 2] || {}).points || pinchEnd;\n\n    if (pinchPre && pinchPre.length > 1 && pinchEnd && pinchEnd.length > 1) {\n      var pinchScale = dist(pinchEnd) / dist(pinchPre);\n      !isFinite(pinchScale) && (pinchScale = 1);\n      event.pinchScale = pinchScale;\n      var pinchCenter = center(pinchEnd);\n      event.pinchX = pinchCenter[0];\n      event.pinchY = pinchCenter[1];\n      return {\n        type: 'pinch',\n        target: track[0].target,\n        event: event\n      };\n    }\n  } // Only pinch currently.\n\n};\nvar _default = GestureMgr;\nmodule.exports = _default;","var util = require(\"./core/util\");\n\nvar env = require(\"./core/env\");\n\nvar Group = require(\"./container/Group\");\n\nvar timsort = require(\"./core/timsort\"); // Use timsort because in most case elements are partially sorted\n// https://jsfiddle.net/pissang/jr4x7mdm/8/\n\n\nfunction shapeCompareFunc(a, b) {\n  if (a.zlevel === b.zlevel) {\n    if (a.z === b.z) {\n      // if (a.z2 === b.z2) {\n      //     // FIXME Slow has renderidx compare\n      //     // http://stackoverflow.com/questions/20883421/sorting-in-javascript-should-every-compare-function-have-a-return-0-statement\n      //     // https://github.com/v8/v8/blob/47cce544a31ed5577ffe2963f67acb4144ee0232/src/js/array.js#L1012\n      //     return a.__renderidx - b.__renderidx;\n      // }\n      return a.z2 - b.z2;\n    }\n\n    return a.z - b.z;\n  }\n\n  return a.zlevel - b.zlevel;\n}\n/**\n *  (M)\n * @alias module:zrender/Storage\n * @constructor\n */\n\n\nvar Storage = function Storage() {\n  // jshint ignore:line\n  this._roots = [];\n  this._displayList = [];\n  this._displayListLen = 0;\n};\n\nStorage.prototype = {\n  constructor: Storage,\n\n  /**\n   * @param  {Function} cb\n   *\n   */\n  traverse: function traverse(cb, context) {\n    for (var i = 0; i < this._roots.length; i++) {\n      this._roots[i].traverse(cb, context);\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [update=false] \n   * @param {boolean} [includeIgnore=false]  ignore ,  update  true \n   *\n   * {@link module:zrender/graphic/Displayable.prototype.updateDisplayList}\n   * @return {Array.<module:zrender/graphic/Displayable>}\n   */\n  getDisplayList: function getDisplayList(update, includeIgnore) {\n    includeIgnore = includeIgnore || false;\n\n    if (update) {\n      this.updateDisplayList(includeIgnore);\n    }\n\n    return this._displayList;\n  },\n\n  /**\n   * \n   * GroupShapeShape\n   * zlevel > z > \n   * @param {boolean} [includeIgnore=false]  ignore \n   */\n  updateDisplayList: function updateDisplayList(includeIgnore) {\n    this._displayListLen = 0;\n    var roots = this._roots;\n    var displayList = this._displayList;\n\n    for (var i = 0, len = roots.length; i < len; i++) {\n      this._updateAndAddDisplayable(roots[i], null, includeIgnore);\n    }\n\n    displayList.length = this._displayListLen;\n    env.canvasSupported && timsort(displayList, shapeCompareFunc);\n  },\n  _updateAndAddDisplayable: function _updateAndAddDisplayable(el, clipPaths, includeIgnore) {\n    if (el.ignore && !includeIgnore) {\n      return;\n    }\n\n    el.beforeUpdate();\n\n    if (el.__dirty) {\n      el.update();\n    }\n\n    el.afterUpdate();\n    var userSetClipPath = el.clipPath;\n\n    if (userSetClipPath) {\n      // FIXME \n      if (clipPaths) {\n        clipPaths = clipPaths.slice();\n      } else {\n        clipPaths = [];\n      }\n\n      var currentClipPath = userSetClipPath;\n      var parentClipPath = el; // Recursively add clip path\n\n      while (currentClipPath) {\n        // clipPath  clipPath \n        currentClipPath.parent = parentClipPath;\n        currentClipPath.updateTransform();\n        clipPaths.push(currentClipPath);\n        parentClipPath = currentClipPath;\n        currentClipPath = currentClipPath.clipPath;\n      }\n    }\n\n    if (el.isGroup) {\n      var children = el._children;\n\n      for (var i = 0; i < children.length; i++) {\n        var child = children[i]; // Force to mark as dirty if group is dirty\n        // FIXME __dirtyPath ?\n\n        if (el.__dirty) {\n          child.__dirty = true;\n        }\n\n        this._updateAndAddDisplayable(child, clipPaths, includeIgnore);\n      } // Mark group clean here\n\n\n      el.__dirty = false;\n    } else {\n      el.__clipPaths = clipPaths;\n      this._displayList[this._displayListLen++] = el;\n    }\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {module:zrender/Element} el\n   */\n  addRoot: function addRoot(el) {\n    if (el.__storage === this) {\n      return;\n    }\n\n    if (el instanceof Group) {\n      el.addChildrenToStorage(this);\n    }\n\n    this.addToStorage(el);\n\n    this._roots.push(el);\n  },\n\n  /**\n   * (Shape)(Group)\n   * @param {string|Array.<string>} [el] Storage\n   */\n  delRoot: function delRoot(el) {\n    if (el == null) {\n      // el\n      for (var i = 0; i < this._roots.length; i++) {\n        var root = this._roots[i];\n\n        if (root instanceof Group) {\n          root.delChildrenFromStorage(this);\n        }\n      }\n\n      this._roots = [];\n      this._displayList = [];\n      this._displayListLen = 0;\n      return;\n    }\n\n    if (el instanceof Array) {\n      for (var i = 0, l = el.length; i < l; i++) {\n        this.delRoot(el[i]);\n      }\n\n      return;\n    }\n\n    var idx = util.indexOf(this._roots, el);\n\n    if (idx >= 0) {\n      this.delFromStorage(el);\n\n      this._roots.splice(idx, 1);\n\n      if (el instanceof Group) {\n        el.delChildrenFromStorage(this);\n      }\n    }\n  },\n  addToStorage: function addToStorage(el) {\n    if (el) {\n      el.__storage = this;\n      el.dirty(false);\n    }\n\n    return this;\n  },\n  delFromStorage: function delFromStorage(el) {\n    if (el) {\n      el.__storage = null;\n    }\n\n    return this;\n  },\n\n  /**\n   * Storage\n   */\n  dispose: function dispose() {\n    this._renderList = this._roots = null;\n  },\n  displayableSortFunc: shapeCompareFunc\n};\nvar _default = Storage;\nmodule.exports = _default;","var Animator = require(\"../animation/Animator\");\n\nvar logError = require(\"../core/log\");\n\nvar _util = require(\"../core/util\");\n\nvar isString = _util.isString;\nvar isFunction = _util.isFunction;\nvar isObject = _util.isObject;\nvar isArrayLike = _util.isArrayLike;\nvar indexOf = _util.indexOf;\n/**\n * @alias modue:zrender/mixin/Animatable\n * @constructor\n */\n\nvar Animatable = function Animatable() {\n  /**\n   * @type {Array.<module:zrender/animation/Animator>}\n   * @readOnly\n   */\n  this.animators = [];\n};\n\nAnimatable.prototype = {\n  constructor: Animatable,\n\n  /**\n   * \n   *\n   * @param {string} path The path to fetch value from object, like 'a.b.c'.\n   * @param {boolean} [loop] Whether to loop animation.\n   * @return {module:zrender/animation/Animator}\n   * @example:\n   *     el.animate('style', false)\n   *         .when(1000, {x: 10} )\n   *         .done(function(){ // Animation done })\n   *         .start()\n   */\n  animate: function animate(path, loop) {\n    var target;\n    var animatingShape = false;\n    var el = this;\n    var zr = this.__zr;\n\n    if (path) {\n      var pathSplitted = path.split('.');\n      var prop = el; // If animating shape\n\n      animatingShape = pathSplitted[0] === 'shape';\n\n      for (var i = 0, l = pathSplitted.length; i < l; i++) {\n        if (!prop) {\n          continue;\n        }\n\n        prop = prop[pathSplitted[i]];\n      }\n\n      if (prop) {\n        target = prop;\n      }\n    } else {\n      target = el;\n    }\n\n    if (!target) {\n      logError('Property \"' + path + '\" is not existed in element ' + el.id);\n      return;\n    }\n\n    var animators = el.animators;\n    var animator = new Animator(target, loop);\n    animator.during(function (target) {\n      el.dirty(animatingShape);\n    }).done(function () {\n      // FIXME Animator will not be removed if use `Animator#stop` to stop animation\n      animators.splice(indexOf(animators, animator), 1);\n    });\n    animators.push(animator); // If animate after added to the zrender\n\n    if (zr) {\n      zr.animation.addAnimator(animator);\n    }\n\n    return animator;\n  },\n\n  /**\n   * \n   * @param {boolean} forwardToLast If move to last frame before stop\n   */\n  stopAnimation: function stopAnimation(forwardToLast) {\n    var animators = this.animators;\n    var len = animators.length;\n\n    for (var i = 0; i < len; i++) {\n      animators[i].stop(forwardToLast);\n    }\n\n    animators.length = 0;\n    return this;\n  },\n\n  /**\n   * Caution: this method will stop previous animation.\n   * So do not use this method to one element twice before\n   * animation starts, unless you know what you are doing.\n   * @param {Object} target\n   * @param {number} [time=500] Time in ms\n   * @param {string} [easing='linear']\n   * @param {number} [delay=0]\n   * @param {Function} [callback]\n   * @param {Function} [forceAnimate] Prevent stop animation and callback\n   *        immediently when target values are the same as current values.\n   *\n   * @example\n   *  // Animate position\n   *  el.animateTo({\n   *      position: [10, 10]\n   *  }, function () { // done })\n   *\n   *  // Animate shape, style and position in 100ms, delayed 100ms, with cubicOut easing\n   *  el.animateTo({\n   *      shape: {\n   *          width: 500\n   *      },\n   *      style: {\n   *          fill: 'red'\n   *      }\n   *      position: [10, 10]\n   *  }, 100, 100, 'cubicOut', function () { // done })\n   */\n  // TODO Return animation key\n  animateTo: function animateTo(target, time, delay, easing, callback, forceAnimate) {\n    _animateTo(this, target, time, delay, easing, callback, forceAnimate);\n  },\n\n  /**\n   * Animate from the target state to current state.\n   * The params and the return value are the same as `this.animateTo`.\n   */\n  animateFrom: function animateFrom(target, time, delay, easing, callback, forceAnimate) {\n    _animateTo(this, target, time, delay, easing, callback, forceAnimate, true);\n  }\n};\n\nfunction _animateTo(animatable, target, time, delay, easing, callback, forceAnimate, reverse) {\n  // animateTo(target, time, easing, callback);\n  if (isString(delay)) {\n    callback = easing;\n    easing = delay;\n    delay = 0;\n  } // animateTo(target, time, delay, callback);\n  else if (isFunction(easing)) {\n      callback = easing;\n      easing = 'linear';\n      delay = 0;\n    } // animateTo(target, time, callback);\n    else if (isFunction(delay)) {\n        callback = delay;\n        delay = 0;\n      } // animateTo(target, callback)\n      else if (isFunction(time)) {\n          callback = time;\n          time = 500;\n        } // animateTo(target)\n        else if (!time) {\n            time = 500;\n          } // Stop all previous animations\n\n\n  animatable.stopAnimation();\n  animateToShallow(animatable, '', animatable, target, time, delay, reverse); // Animators may be removed immediately after start\n  // if there is nothing to animate\n\n  var animators = animatable.animators.slice();\n  var count = animators.length;\n\n  function done() {\n    count--;\n\n    if (!count) {\n      callback && callback();\n    }\n  } // No animators. This should be checked before animators[i].start(),\n  // because 'done' may be executed immediately if no need to animate.\n\n\n  if (!count) {\n    callback && callback();\n  } // Start after all animators created\n  // Incase any animator is done immediately when all animation properties are not changed\n\n\n  for (var i = 0; i < animators.length; i++) {\n    animators[i].done(done).start(easing, forceAnimate);\n  }\n}\n/**\n * @param {string} path=''\n * @param {Object} source=animatable\n * @param {Object} target\n * @param {number} [time=500]\n * @param {number} [delay=0]\n * @param {boolean} [reverse] If `true`, animate\n *        from the `target` to current state.\n *\n * @example\n *  // Animate position\n *  el._animateToShallow({\n *      position: [10, 10]\n *  })\n *\n *  // Animate shape, style and position in 100ms, delayed 100ms\n *  el._animateToShallow({\n *      shape: {\n *          width: 500\n *      },\n *      style: {\n *          fill: 'red'\n *      }\n *      position: [10, 10]\n *  }, 100, 100)\n */\n\n\nfunction animateToShallow(animatable, path, source, target, time, delay, reverse) {\n  var objShallow = {};\n  var propertyCount = 0;\n\n  for (var name in target) {\n    if (!target.hasOwnProperty(name)) {\n      continue;\n    }\n\n    if (source[name] != null) {\n      if (isObject(target[name]) && !isArrayLike(target[name])) {\n        animateToShallow(animatable, path ? path + '.' + name : name, source[name], target[name], time, delay, reverse);\n      } else {\n        if (reverse) {\n          objShallow[name] = source[name];\n          setAttrByPath(animatable, path, name, target[name]);\n        } else {\n          objShallow[name] = target[name];\n        }\n\n        propertyCount++;\n      }\n    } else if (target[name] != null && !reverse) {\n      setAttrByPath(animatable, path, name, target[name]);\n    }\n  }\n\n  if (propertyCount > 0) {\n    animatable.animate(path, false).when(time == null ? 500 : time, objShallow).delay(delay || 0);\n  }\n}\n\nfunction setAttrByPath(el, path, name, value) {\n  // Attr directly if not has property\n  // FIXME, if some property not needed for element ?\n  if (!path) {\n    el.attr(name, value);\n  } else {\n    // Only support set shape or style\n    var props = {};\n    props[path] = {};\n    props[path][name] = value;\n    el.attr(props);\n  }\n}\n\nvar _default = Animatable;\nmodule.exports = _default;","var easingFuncs = require(\"./easing\");\n/**\n * \n * @config target onframe\n * @config life(1000) \n * @config delay(0) \n * @config loop(true)\n * @config gap(0) \n * @config onframe\n * @config easing(optional)\n * @config ondestroy(optional)\n * @config onrestart(optional)\n *\n * TODO pause\n */\n\n\nfunction Clip(options) {\n  this._target = options.target; // \n\n  this._life = options.life || 1000; // \n\n  this._delay = options.delay || 0; // \n  // this._startTime = new Date().getTime() + this._delay;// \n\n  this._initialized = false; // \n\n  this.loop = options.loop == null ? false : options.loop;\n  this.gap = options.gap || 0;\n  this.easing = options.easing || 'Linear';\n  this.onframe = options.onframe;\n  this.ondestroy = options.ondestroy;\n  this.onrestart = options.onrestart;\n  this._pausedTime = 0;\n  this._paused = false;\n}\n\nClip.prototype = {\n  constructor: Clip,\n  step: function step(globalTime, deltaTime) {\n    // Set startTime on first step, or _startTime may has milleseconds different between clips\n    // PENDING\n    if (!this._initialized) {\n      this._startTime = globalTime + this._delay;\n      this._initialized = true;\n    }\n\n    if (this._paused) {\n      this._pausedTime += deltaTime;\n      return;\n    }\n\n    var percent = (globalTime - this._startTime - this._pausedTime) / this._life; // \n\n    if (percent < 0) {\n      return;\n    }\n\n    percent = Math.min(percent, 1);\n    var easing = this.easing;\n    var easingFunc = typeof easing === 'string' ? easingFuncs[easing] : easing;\n    var schedule = typeof easingFunc === 'function' ? easingFunc(percent) : percent;\n    this.fire('frame', schedule); // \n\n    if (percent === 1) {\n      if (this.loop) {\n        this.restart(globalTime); // \n        //  stage.update \n\n        return 'restart';\n      } // \n      // Animation.update\n\n\n      this._needsRemove = true;\n      return 'destroy';\n    }\n\n    return null;\n  },\n  restart: function restart(globalTime) {\n    var remainder = (globalTime - this._startTime - this._pausedTime) % this._life;\n    this._startTime = globalTime - remainder + this.gap;\n    this._pausedTime = 0;\n    this._needsRemove = false;\n  },\n  fire: function fire(eventType, arg) {\n    eventType = 'on' + eventType;\n\n    if (this[eventType]) {\n      this[eventType](this._target, arg);\n    }\n  },\n  pause: function pause() {\n    this._paused = true;\n  },\n  resume: function resume() {\n    this._paused = false;\n  }\n};\nvar _default = Clip;\nmodule.exports = _default;","/**\n *  https://github.com/sole/tween.js/blob/master/src/Tween.js\n * @see http://sole.github.io/tween.js/examples/03_graphs.html\n * @exports zrender/animation/easing\n */\nvar easing = {\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  linear: function linear(k) {\n    return k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticIn: function quadraticIn(k) {\n    return k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticOut: function quadraticOut(k) {\n    return k * (2 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quadraticInOut: function quadraticInOut(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k;\n    }\n\n    return -0.5 * (--k * (k - 2) - 1);\n  },\n  // t^3\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicIn: function cubicIn(k) {\n    return k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicOut: function cubicOut(k) {\n    return --k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  cubicInOut: function cubicInOut(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k + 2);\n  },\n  // t^4\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticIn: function quarticIn(k) {\n    return k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticOut: function quarticOut(k) {\n    return 1 - --k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quarticInOut: function quarticInOut(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k;\n    }\n\n    return -0.5 * ((k -= 2) * k * k * k - 2);\n  },\n  // t^5\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticIn: function quinticIn(k) {\n    return k * k * k * k * k;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticOut: function quinticOut(k) {\n    return --k * k * k * k * k + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  quinticInOut: function quinticInOut(k) {\n    if ((k *= 2) < 1) {\n      return 0.5 * k * k * k * k * k;\n    }\n\n    return 0.5 * ((k -= 2) * k * k * k * k + 2);\n  },\n  // sin(t)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalIn: function sinusoidalIn(k) {\n    return 1 - Math.cos(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalOut: function sinusoidalOut(k) {\n    return Math.sin(k * Math.PI / 2);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  sinusoidalInOut: function sinusoidalInOut(k) {\n    return 0.5 * (1 - Math.cos(Math.PI * k));\n  },\n  // 2^t\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialIn: function exponentialIn(k) {\n    return k === 0 ? 0 : Math.pow(1024, k - 1);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialOut: function exponentialOut(k) {\n    return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  exponentialInOut: function exponentialInOut(k) {\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if ((k *= 2) < 1) {\n      return 0.5 * Math.pow(1024, k - 1);\n    }\n\n    return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\n  },\n  // sqrt(1-t^2)\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularIn: function circularIn(k) {\n    return 1 - Math.sqrt(1 - k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularOut: function circularOut(k) {\n    return Math.sqrt(1 - --k * k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  circularInOut: function circularInOut(k) {\n    if ((k *= 2) < 1) {\n      return -0.5 * (Math.sqrt(1 - k * k) - 1);\n    }\n\n    return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticIn: function elasticIn(k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return -(a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticOut: function elasticOut(k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    return a * Math.pow(2, -10 * k) * Math.sin((k - s) * (2 * Math.PI) / p) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  elasticInOut: function elasticInOut(k) {\n    var s;\n    var a = 0.1;\n    var p = 0.4;\n\n    if (k === 0) {\n      return 0;\n    }\n\n    if (k === 1) {\n      return 1;\n    }\n\n    if (!a || a < 1) {\n      a = 1;\n      s = p / 4;\n    } else {\n      s = p * Math.asin(1 / a) / (2 * Math.PI);\n    }\n\n    if ((k *= 2) < 1) {\n      return -0.5 * (a * Math.pow(2, 10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p));\n    }\n\n    return a * Math.pow(2, -10 * (k -= 1)) * Math.sin((k - s) * (2 * Math.PI) / p) * 0.5 + 1;\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backIn: function backIn(k) {\n    var s = 1.70158;\n    return k * k * ((s + 1) * k - s);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backOut: function backOut(k) {\n    var s = 1.70158;\n    return --k * k * ((s + 1) * k + s) + 1;\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  backInOut: function backInOut(k) {\n    var s = 1.70158 * 1.525;\n\n    if ((k *= 2) < 1) {\n      return 0.5 * (k * k * ((s + 1) * k - s));\n    }\n\n    return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\n  },\n  // \n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceIn: function bounceIn(k) {\n    return 1 - easing.bounceOut(1 - k);\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceOut: function bounceOut(k) {\n    if (k < 1 / 2.75) {\n      return 7.5625 * k * k;\n    } else if (k < 2 / 2.75) {\n      return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\n    } else if (k < 2.5 / 2.75) {\n      return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\n    } else {\n      return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\n    }\n  },\n\n  /**\n  * @param {number} k\n  * @return {number}\n  */\n  bounceInOut: function bounceInOut(k) {\n    if (k < 0.5) {\n      return easing.bounceIn(k * 2) * 0.5;\n    }\n\n    return easing.bounceOut(k * 2 - 1) * 0.5 + 0.5;\n  }\n};\nvar _default = easing;\nmodule.exports = _default;","var _config = require(\"./config\");\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar util = require(\"./core/util\");\n\nvar logError = require(\"./core/log\");\n\nvar BoundingRect = require(\"./core/BoundingRect\");\n\nvar timsort = require(\"./core/timsort\");\n\nvar Layer = require(\"./Layer\");\n\nvar requestAnimationFrame = require(\"./animation/requestAnimationFrame\");\n\nvar Image = require(\"./graphic/Image\");\n\nvar env = require(\"./core/env\");\n\nvar HOVER_LAYER_ZLEVEL = 1e5;\nvar CANVAS_ZLEVEL = 314159;\nvar EL_AFTER_INCREMENTAL_INC = 0.01;\nvar INCREMENTAL_INC = 0.001;\n\nfunction parseInt10(val) {\n  return parseInt(val, 10);\n}\n\nfunction isLayerValid(layer) {\n  if (!layer) {\n    return false;\n  }\n\n  if (layer.__builtin__) {\n    return true;\n  }\n\n  if (typeof layer.resize !== 'function' || typeof layer.refresh !== 'function') {\n    return false;\n  }\n\n  return true;\n}\n\nvar tmpRect = new BoundingRect(0, 0, 0, 0);\nvar viewRect = new BoundingRect(0, 0, 0, 0);\n\nfunction isDisplayableCulled(el, width, height) {\n  tmpRect.copy(el.getBoundingRect());\n\n  if (el.transform) {\n    tmpRect.applyTransform(el.transform);\n  }\n\n  viewRect.width = width;\n  viewRect.height = height;\n  return !tmpRect.intersect(viewRect);\n}\n\nfunction isClipPathChanged(clipPaths, prevClipPaths) {\n  // displayable.__clipPaths can only be `null`/`undefined` or an non-empty array.\n  if (clipPaths === prevClipPaths) {\n    return false;\n  }\n\n  if (!clipPaths || !prevClipPaths || clipPaths.length !== prevClipPaths.length) {\n    return true;\n  }\n\n  for (var i = 0; i < clipPaths.length; i++) {\n    if (clipPaths[i] !== prevClipPaths[i]) {\n      return true;\n    }\n  }\n\n  return false;\n}\n\nfunction doClip(clipPaths, ctx) {\n  for (var i = 0; i < clipPaths.length; i++) {\n    var clipPath = clipPaths[i];\n    clipPath.setTransform(ctx);\n    ctx.beginPath();\n    clipPath.buildPath(ctx, clipPath.shape);\n    ctx.clip(); // Transform back\n\n    clipPath.restoreTransform(ctx);\n  }\n}\n\nfunction createRoot(width, height) {\n  var domRoot = document.createElement('div'); // domRoot.onselectstart = returnFalse; // \n\n  domRoot.style.cssText = ['position:relative', 'overflow:hidden', 'width:' + width + 'px', 'height:' + height + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';';\n  return domRoot;\n}\n/**\n * @alias module:zrender/Painter\n * @constructor\n * @param {HTMLElement} root \n * @param {module:zrender/Storage} storage\n * @param {Object} opts\n */\n\n\nvar Painter = function Painter(root, storage, opts) {\n  this.type = 'canvas'; // In node environment using node-canvas\n\n  var singleCanvas = !root.nodeName // In node ?\n  || root.nodeName.toUpperCase() === 'CANVAS';\n  this._opts = opts = util.extend({}, opts || {});\n  /**\n   * @type {number}\n   */\n\n  this.dpr = opts.devicePixelRatio || devicePixelRatio;\n  /**\n   * @type {boolean}\n   * @private\n   */\n\n  this._singleCanvas = singleCanvas;\n  /**\n   * \n   * @type {HTMLElement}\n   */\n\n  this.root = root;\n  var rootStyle = root.style;\n\n  if (rootStyle) {\n    rootStyle['-webkit-tap-highlight-color'] = 'transparent';\n    rootStyle['-webkit-user-select'] = rootStyle['user-select'] = rootStyle['-webkit-touch-callout'] = 'none';\n    root.innerHTML = '';\n  }\n  /**\n   * @type {module:zrender/Storage}\n   */\n\n\n  this.storage = storage;\n  /**\n   * @type {Array.<number>}\n   * @private\n   */\n\n  var zlevelList = this._zlevelList = [];\n  /**\n   * @type {Object.<string, module:zrender/Layer>}\n   * @private\n   */\n\n  var layers = this._layers = {};\n  /**\n   * @type {Object.<string, Object>}\n   * @private\n   */\n\n  this._layerConfig = {};\n  /**\n   * zrender will do compositing when root is a canvas and have multiple zlevels.\n   */\n\n  this._needsManuallyCompositing = false;\n\n  if (!singleCanvas) {\n    this._width = this._getSize(0);\n    this._height = this._getSize(1);\n    var domRoot = this._domRoot = createRoot(this._width, this._height);\n    root.appendChild(domRoot);\n  } else {\n    var width = root.width;\n    var height = root.height;\n\n    if (opts.width != null) {\n      width = opts.width;\n    }\n\n    if (opts.height != null) {\n      height = opts.height;\n    }\n\n    this.dpr = opts.devicePixelRatio || 1; // Use canvas width and height directly\n\n    root.width = width * this.dpr;\n    root.height = height * this.dpr;\n    this._width = width;\n    this._height = height; // Create layer if only one given canvas\n    // Device can be specified to create a high dpi image.\n\n    var mainLayer = new Layer(root, this, this.dpr);\n    mainLayer.__builtin__ = true;\n    mainLayer.initContext(); // FIXME Use canvas width and height\n    // mainLayer.resize(width, height);\n\n    layers[CANVAS_ZLEVEL] = mainLayer;\n    mainLayer.zlevel = CANVAS_ZLEVEL; // Not use common zlevel.\n\n    zlevelList.push(CANVAS_ZLEVEL);\n    this._domRoot = root;\n  }\n  /**\n   * @type {module:zrender/Layer}\n   * @private\n   */\n\n\n  this._hoverlayer = null;\n  this._hoverElements = [];\n};\n\nPainter.prototype = {\n  constructor: Painter,\n  getType: function getType() {\n    return 'canvas';\n  },\n\n  /**\n   * If painter use a single canvas\n   * @return {boolean}\n   */\n  isSingleCanvas: function isSingleCanvas() {\n    return this._singleCanvas;\n  },\n\n  /**\n   * @return {HTMLDivElement}\n   */\n  getViewportRoot: function getViewportRoot() {\n    return this._domRoot;\n  },\n  getViewportRootOffset: function getViewportRootOffset() {\n    var viewportRoot = this.getViewportRoot();\n\n    if (viewportRoot) {\n      return {\n        offsetLeft: viewportRoot.offsetLeft || 0,\n        offsetTop: viewportRoot.offsetTop || 0\n      };\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [paintAll=false] displayable\n   */\n  refresh: function refresh(paintAll) {\n    var list = this.storage.getDisplayList(true);\n    var zlevelList = this._zlevelList;\n    this._redrawId = Math.random();\n\n    this._paintList(list, paintAll, this._redrawId); // Paint custum layers\n\n\n    for (var i = 0; i < zlevelList.length; i++) {\n      var z = zlevelList[i];\n      var layer = this._layers[z];\n\n      if (!layer.__builtin__ && layer.refresh) {\n        var clearColor = i === 0 ? this._backgroundColor : null;\n        layer.refresh(clearColor);\n      }\n    }\n\n    this.refreshHover();\n    return this;\n  },\n  addHover: function addHover(el, hoverStyle) {\n    if (el.__hoverMir) {\n      return;\n    }\n\n    var elMirror = new el.constructor({\n      style: el.style,\n      shape: el.shape,\n      z: el.z,\n      z2: el.z2,\n      silent: el.silent\n    });\n    elMirror.__from = el;\n    el.__hoverMir = elMirror;\n    hoverStyle && elMirror.setStyle(hoverStyle);\n\n    this._hoverElements.push(elMirror);\n\n    return elMirror;\n  },\n  removeHover: function removeHover(el) {\n    var elMirror = el.__hoverMir;\n    var hoverElements = this._hoverElements;\n    var idx = util.indexOf(hoverElements, elMirror);\n\n    if (idx >= 0) {\n      hoverElements.splice(idx, 1);\n    }\n\n    el.__hoverMir = null;\n  },\n  clearHover: function clearHover(el) {\n    var hoverElements = this._hoverElements;\n\n    for (var i = 0; i < hoverElements.length; i++) {\n      var from = hoverElements[i].__from;\n\n      if (from) {\n        from.__hoverMir = null;\n      }\n    }\n\n    hoverElements.length = 0;\n  },\n  refreshHover: function refreshHover() {\n    var hoverElements = this._hoverElements;\n    var len = hoverElements.length;\n    var hoverLayer = this._hoverlayer;\n    hoverLayer && hoverLayer.clear();\n\n    if (!len) {\n      return;\n    }\n\n    timsort(hoverElements, this.storage.displayableSortFunc); // Use a extream large zlevel\n    // FIXME?\n\n    if (!hoverLayer) {\n      hoverLayer = this._hoverlayer = this.getLayer(HOVER_LAYER_ZLEVEL);\n    }\n\n    var scope = {};\n    hoverLayer.ctx.save();\n\n    for (var i = 0; i < len;) {\n      var el = hoverElements[i];\n      var originalEl = el.__from; // Original el is removed\n      // PENDING\n\n      if (!(originalEl && originalEl.__zr)) {\n        hoverElements.splice(i, 1);\n        originalEl.__hoverMir = null;\n        len--;\n        continue;\n      }\n\n      i++; // Use transform\n      // FIXME style and shape ?\n\n      if (!originalEl.invisible) {\n        el.transform = originalEl.transform;\n        el.invTransform = originalEl.invTransform;\n        el.__clipPaths = originalEl.__clipPaths; // el.\n\n        this._doPaintEl(el, hoverLayer, true, scope);\n      }\n    }\n\n    hoverLayer.ctx.restore();\n  },\n  getHoverLayer: function getHoverLayer() {\n    return this.getLayer(HOVER_LAYER_ZLEVEL);\n  },\n  _paintList: function _paintList(list, paintAll, redrawId) {\n    if (this._redrawId !== redrawId) {\n      return;\n    }\n\n    paintAll = paintAll || false;\n\n    this._updateLayerStatus(list);\n\n    var finished = this._doPaintList(list, paintAll);\n\n    if (this._needsManuallyCompositing) {\n      this._compositeManually();\n    }\n\n    if (!finished) {\n      var self = this;\n      requestAnimationFrame(function () {\n        self._paintList(list, paintAll, redrawId);\n      });\n    }\n  },\n  _compositeManually: function _compositeManually() {\n    var ctx = this.getLayer(CANVAS_ZLEVEL).ctx;\n    var width = this._domRoot.width;\n    var height = this._domRoot.height;\n    ctx.clearRect(0, 0, width, height); // PENDING, If only builtin layer?\n\n    this.eachBuiltinLayer(function (layer) {\n      if (layer.virtual) {\n        ctx.drawImage(layer.dom, 0, 0, width, height);\n      }\n    });\n  },\n  _doPaintList: function _doPaintList(list, paintAll) {\n    var layerList = [];\n\n    for (var zi = 0; zi < this._zlevelList.length; zi++) {\n      var zlevel = this._zlevelList[zi];\n      var layer = this._layers[zlevel];\n\n      if (layer.__builtin__ && layer !== this._hoverlayer && (layer.__dirty || paintAll)) {\n        layerList.push(layer);\n      }\n    }\n\n    var finished = true;\n\n    for (var k = 0; k < layerList.length; k++) {\n      var layer = layerList[k];\n      var ctx = layer.ctx;\n      var scope = {};\n      ctx.save();\n      var start = paintAll ? layer.__startIndex : layer.__drawIndex;\n      var useTimer = !paintAll && layer.incremental && Date.now;\n      var startTime = useTimer && Date.now();\n      var clearColor = layer.zlevel === this._zlevelList[0] ? this._backgroundColor : null; // All elements in this layer are cleared.\n\n      if (layer.__startIndex === layer.__endIndex) {\n        layer.clear(false, clearColor);\n      } else if (start === layer.__startIndex) {\n        var firstEl = list[start];\n\n        if (!firstEl.incremental || !firstEl.notClear || paintAll) {\n          layer.clear(false, clearColor);\n        }\n      }\n\n      if (start === -1) {\n        console.error('For some unknown reason. drawIndex is -1');\n        start = layer.__startIndex;\n      }\n\n      for (var i = start; i < layer.__endIndex; i++) {\n        var el = list[i];\n\n        this._doPaintEl(el, layer, paintAll, scope);\n\n        el.__dirty = el.__dirtyText = false;\n\n        if (useTimer) {\n          // Date.now can be executed in 13,025,305 ops/second.\n          var dTime = Date.now() - startTime; // Give 15 millisecond to draw.\n          // The rest elements will be drawn in the next frame.\n\n          if (dTime > 15) {\n            break;\n          }\n        }\n      }\n\n      layer.__drawIndex = i;\n\n      if (layer.__drawIndex < layer.__endIndex) {\n        finished = false;\n      }\n\n      if (scope.prevElClipPaths) {\n        // Needs restore the state. If last drawn element is in the clipping area.\n        ctx.restore();\n      }\n\n      ctx.restore();\n    }\n\n    if (env.wxa) {\n      // Flush for weixin application\n      util.each(this._layers, function (layer) {\n        if (layer && layer.ctx && layer.ctx.draw) {\n          layer.ctx.draw();\n        }\n      });\n    }\n\n    return finished;\n  },\n  _doPaintEl: function _doPaintEl(el, currentLayer, forcePaint, scope) {\n    var ctx = currentLayer.ctx;\n    var m = el.transform;\n\n    if ((currentLayer.__dirty || forcePaint) && // Ignore invisible element\n    !el.invisible // Ignore transparent element\n    && el.style.opacity !== 0 // Ignore scale 0 element, in some environment like node-canvas\n    // Draw a scale 0 element can cause all following draw wrong\n    // And setTransform with scale 0 will cause set back transform failed.\n    && !(m && !m[0] && !m[3]) // Ignore culled element\n    && !(el.culling && isDisplayableCulled(el, this._width, this._height))) {\n      var clipPaths = el.__clipPaths;\n      var prevElClipPaths = scope.prevElClipPaths; // Optimize when clipping on group with several elements\n\n      if (!prevElClipPaths || isClipPathChanged(clipPaths, prevElClipPaths)) {\n        // If has previous clipping state, restore from it\n        if (prevElClipPaths) {\n          ctx.restore();\n          scope.prevElClipPaths = null; // Reset prevEl since context has been restored\n\n          scope.prevEl = null;\n        } // New clipping state\n\n\n        if (clipPaths) {\n          ctx.save();\n          doClip(clipPaths, ctx);\n          scope.prevElClipPaths = clipPaths;\n        }\n      }\n\n      el.beforeBrush && el.beforeBrush(ctx);\n      el.brush(ctx, scope.prevEl || null);\n      scope.prevEl = el;\n      el.afterBrush && el.afterBrush(ctx);\n    }\n  },\n\n  /**\n   *  zlevel \n   * @param {number} zlevel\n   * @param {boolean} virtual Virtual layer will not be inserted into dom.\n   * @return {module:zrender/Layer}\n   */\n  getLayer: function getLayer(zlevel, virtual) {\n    if (this._singleCanvas && !this._needsManuallyCompositing) {\n      zlevel = CANVAS_ZLEVEL;\n    }\n\n    var layer = this._layers[zlevel];\n\n    if (!layer) {\n      // Create a new layer\n      layer = new Layer('zr_' + zlevel, this, this.dpr);\n      layer.zlevel = zlevel;\n      layer.__builtin__ = true;\n\n      if (this._layerConfig[zlevel]) {\n        util.merge(layer, this._layerConfig[zlevel], true);\n      }\n\n      if (virtual) {\n        layer.virtual = virtual;\n      }\n\n      this.insertLayer(zlevel, layer); // Context is created after dom inserted to document\n      // Or excanvas will get 0px clientWidth and clientHeight\n\n      layer.initContext();\n    }\n\n    return layer;\n  },\n  insertLayer: function insertLayer(zlevel, layer) {\n    var layersMap = this._layers;\n    var zlevelList = this._zlevelList;\n    var len = zlevelList.length;\n    var prevLayer = null;\n    var i = -1;\n    var domRoot = this._domRoot;\n\n    if (layersMap[zlevel]) {\n      logError('ZLevel ' + zlevel + ' has been used already');\n      return;\n    } // Check if is a valid layer\n\n\n    if (!isLayerValid(layer)) {\n      logError('Layer of zlevel ' + zlevel + ' is not valid');\n      return;\n    }\n\n    if (len > 0 && zlevel > zlevelList[0]) {\n      for (i = 0; i < len - 1; i++) {\n        if (zlevelList[i] < zlevel && zlevelList[i + 1] > zlevel) {\n          break;\n        }\n      }\n\n      prevLayer = layersMap[zlevelList[i]];\n    }\n\n    zlevelList.splice(i + 1, 0, zlevel);\n    layersMap[zlevel] = layer; // Vitual layer will not directly show on the screen.\n    // (It can be a WebGL layer and assigned to a ZImage element)\n    // But it still under management of zrender.\n\n    if (!layer.virtual) {\n      if (prevLayer) {\n        var prevDom = prevLayer.dom;\n\n        if (prevDom.nextSibling) {\n          domRoot.insertBefore(layer.dom, prevDom.nextSibling);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      } else {\n        if (domRoot.firstChild) {\n          domRoot.insertBefore(layer.dom, domRoot.firstChild);\n        } else {\n          domRoot.appendChild(layer.dom);\n        }\n      }\n    }\n  },\n  // Iterate each layer\n  eachLayer: function eachLayer(cb, context) {\n    var zlevelList = this._zlevelList;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      cb.call(context, this._layers[z], z);\n    }\n  },\n  // Iterate each buildin layer\n  eachBuiltinLayer: function eachBuiltinLayer(cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n  // Iterate each other layer except buildin layer\n  eachOtherLayer: function eachOtherLayer(cb, context) {\n    var zlevelList = this._zlevelList;\n    var layer;\n    var z;\n    var i;\n\n    for (i = 0; i < zlevelList.length; i++) {\n      z = zlevelList[i];\n      layer = this._layers[z];\n\n      if (!layer.__builtin__) {\n        cb.call(context, layer, z);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {Array.<module:zrender/Layer>} [prevLayer]\n   */\n  getLayers: function getLayers() {\n    return this._layers;\n  },\n  _updateLayerStatus: function _updateLayerStatus(list) {\n    this.eachBuiltinLayer(function (layer, z) {\n      layer.__dirty = layer.__used = false;\n    });\n\n    function updatePrevLayer(idx) {\n      if (prevLayer) {\n        if (prevLayer.__endIndex !== idx) {\n          prevLayer.__dirty = true;\n        }\n\n        prevLayer.__endIndex = idx;\n      }\n    }\n\n    if (this._singleCanvas) {\n      for (var i = 1; i < list.length; i++) {\n        var el = list[i];\n\n        if (el.zlevel !== list[i - 1].zlevel || el.incremental) {\n          this._needsManuallyCompositing = true;\n          break;\n        }\n      }\n    }\n\n    var prevLayer = null;\n    var incrementalLayerCount = 0;\n\n    for (var i = 0; i < list.length; i++) {\n      var el = list[i];\n      var zlevel = el.zlevel;\n      var layer; // PENDING If change one incremental element style ?\n      // TODO Where there are non-incremental elements between incremental elements.\n\n      if (el.incremental) {\n        layer = this.getLayer(zlevel + INCREMENTAL_INC, this._needsManuallyCompositing);\n        layer.incremental = true;\n        incrementalLayerCount = 1;\n      } else {\n        layer = this.getLayer(zlevel + (incrementalLayerCount > 0 ? EL_AFTER_INCREMENTAL_INC : 0), this._needsManuallyCompositing);\n      }\n\n      if (!layer.__builtin__) {\n        logError('ZLevel ' + zlevel + ' has been used by unkown layer ' + layer.id);\n      }\n\n      if (layer !== prevLayer) {\n        layer.__used = true;\n\n        if (layer.__startIndex !== i) {\n          layer.__dirty = true;\n        }\n\n        layer.__startIndex = i;\n\n        if (!layer.incremental) {\n          layer.__drawIndex = i;\n        } else {\n          // Mark layer draw index needs to update.\n          layer.__drawIndex = -1;\n        }\n\n        updatePrevLayer(i);\n        prevLayer = layer;\n      }\n\n      if (el.__dirty) {\n        layer.__dirty = true;\n\n        if (layer.incremental && layer.__drawIndex < 0) {\n          // Start draw from the first dirty element.\n          layer.__drawIndex = i;\n        }\n      }\n    }\n\n    updatePrevLayer(i);\n    this.eachBuiltinLayer(function (layer, z) {\n      // Used in last frame but not in this frame. Needs clear\n      if (!layer.__used && layer.getElementCount() > 0) {\n        layer.__dirty = true;\n        layer.__startIndex = layer.__endIndex = layer.__drawIndex = 0;\n      } // For incremental layer. In case start index changed and no elements are dirty.\n\n\n      if (layer.__dirty && layer.__drawIndex < 0) {\n        layer.__drawIndex = layer.__startIndex;\n      }\n    });\n  },\n\n  /**\n   * hover\n   */\n  clear: function clear() {\n    this.eachBuiltinLayer(this._clearLayer);\n    return this;\n  },\n  _clearLayer: function _clearLayer(layer) {\n    layer.clear();\n  },\n  setBackgroundColor: function setBackgroundColor(backgroundColor) {\n    this._backgroundColor = backgroundColor;\n  },\n\n  /**\n   * zlevel\n   *\n   * @param {string} zlevel\n   * @param {Object} config \n   * @param {string} [config.clearColor=0] \n   * @param {string} [config.motionBlur=false] \n   * @param {number} [config.lastFrameAlpha=0.7]\n   *                 alpha\n   */\n  configLayer: function configLayer(zlevel, config) {\n    if (config) {\n      var layerConfig = this._layerConfig;\n\n      if (!layerConfig[zlevel]) {\n        layerConfig[zlevel] = config;\n      } else {\n        util.merge(layerConfig[zlevel], config, true);\n      }\n\n      for (var i = 0; i < this._zlevelList.length; i++) {\n        var _zlevel = this._zlevelList[i];\n\n        if (_zlevel === zlevel || _zlevel === zlevel + EL_AFTER_INCREMENTAL_INC) {\n          var layer = this._layers[_zlevel];\n          util.merge(layer, layerConfig[zlevel], true);\n        }\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {number} zlevel zlevel\n   */\n  delLayer: function delLayer(zlevel) {\n    var layers = this._layers;\n    var zlevelList = this._zlevelList;\n    var layer = layers[zlevel];\n\n    if (!layer) {\n      return;\n    }\n\n    layer.dom.parentNode.removeChild(layer.dom);\n    delete layers[zlevel];\n    zlevelList.splice(util.indexOf(zlevelList, zlevel), 1);\n  },\n\n  /**\n   * \n   */\n  resize: function resize(width, height) {\n    if (!this._domRoot.style) {\n      // Maybe in node or worker\n      if (width == null || height == null) {\n        return;\n      }\n\n      this._width = width;\n      this._height = height;\n      this.getLayer(CANVAS_ZLEVEL).resize(width, height);\n    } else {\n      var domRoot = this._domRoot; // FIXME Why ?\n\n      domRoot.style.display = 'none'; // Save input w/h\n\n      var opts = this._opts;\n      width != null && (opts.width = width);\n      height != null && (opts.height = height);\n      width = this._getSize(0);\n      height = this._getSize(1);\n      domRoot.style.display = ''; // resize\n\n      if (this._width !== width || height !== this._height) {\n        domRoot.style.width = width + 'px';\n        domRoot.style.height = height + 'px';\n\n        for (var id in this._layers) {\n          if (this._layers.hasOwnProperty(id)) {\n            this._layers[id].resize(width, height);\n          }\n        }\n\n        util.each(this._progressiveLayers, function (layer) {\n          layer.resize(width, height);\n        });\n        this.refresh(true);\n      }\n\n      this._width = width;\n      this._height = height;\n    }\n\n    return this;\n  },\n\n  /**\n   * \n   * @param {number} zlevel\n   */\n  clearLayer: function clearLayer(zlevel) {\n    var layer = this._layers[zlevel];\n\n    if (layer) {\n      layer.clear();\n    }\n  },\n\n  /**\n   * \n   */\n  dispose: function dispose() {\n    this.root.innerHTML = '';\n    this.root = this.storage = this._domRoot = this._layers = null;\n  },\n\n  /**\n   * Get canvas which has all thing rendered\n   * @param {Object} opts\n   * @param {string} [opts.backgroundColor]\n   * @param {number} [opts.pixelRatio]\n   */\n  getRenderedCanvas: function getRenderedCanvas(opts) {\n    opts = opts || {};\n\n    if (this._singleCanvas && !this._compositeManually) {\n      return this._layers[CANVAS_ZLEVEL].dom;\n    }\n\n    var imageLayer = new Layer('image', this, opts.pixelRatio || this.dpr);\n    imageLayer.initContext();\n    imageLayer.clear(false, opts.backgroundColor || this._backgroundColor);\n\n    if (opts.pixelRatio <= this.dpr) {\n      this.refresh();\n      var width = imageLayer.dom.width;\n      var height = imageLayer.dom.height;\n      var ctx = imageLayer.ctx;\n      this.eachLayer(function (layer) {\n        if (layer.__builtin__) {\n          ctx.drawImage(layer.dom, 0, 0, width, height);\n        } else if (layer.renderToCanvas) {\n          imageLayer.ctx.save();\n          layer.renderToCanvas(imageLayer.ctx);\n          imageLayer.ctx.restore();\n        }\n      });\n    } else {\n      // PENDING, echarts-gl and incremental rendering.\n      var scope = {};\n      var displayList = this.storage.getDisplayList(true);\n\n      for (var i = 0; i < displayList.length; i++) {\n        var el = displayList[i];\n\n        this._doPaintEl(el, imageLayer, true, scope);\n      }\n    }\n\n    return imageLayer.dom;\n  },\n\n  /**\n   * \n   */\n  getWidth: function getWidth() {\n    return this._width;\n  },\n\n  /**\n   * \n   */\n  getHeight: function getHeight() {\n    return this._height;\n  },\n  _getSize: function _getSize(whIdx) {\n    var opts = this._opts;\n    var wh = ['width', 'height'][whIdx];\n    var cwh = ['clientWidth', 'clientHeight'][whIdx];\n    var plt = ['paddingLeft', 'paddingTop'][whIdx];\n    var prb = ['paddingRight', 'paddingBottom'][whIdx];\n\n    if (opts[wh] != null && opts[wh] !== 'auto') {\n      return parseFloat(opts[wh]);\n    }\n\n    var root = this.root; // IE8 does not support getComputedStyle, but it use VML.\n\n    var stl = document.defaultView.getComputedStyle(root);\n    return (root[cwh] || parseInt10(stl[wh]) || parseInt10(root.style[wh])) - (parseInt10(stl[plt]) || 0) - (parseInt10(stl[prb]) || 0) | 0;\n  },\n  pathToImage: function pathToImage(path, dpr) {\n    dpr = dpr || this.dpr;\n    var canvas = document.createElement('canvas');\n    var ctx = canvas.getContext('2d');\n    var rect = path.getBoundingRect();\n    var style = path.style;\n    var shadowBlurSize = style.shadowBlur * dpr;\n    var shadowOffsetX = style.shadowOffsetX * dpr;\n    var shadowOffsetY = style.shadowOffsetY * dpr;\n    var lineWidth = style.hasStroke() ? style.lineWidth : 0;\n    var leftMargin = Math.max(lineWidth / 2, -shadowOffsetX + shadowBlurSize);\n    var rightMargin = Math.max(lineWidth / 2, shadowOffsetX + shadowBlurSize);\n    var topMargin = Math.max(lineWidth / 2, -shadowOffsetY + shadowBlurSize);\n    var bottomMargin = Math.max(lineWidth / 2, shadowOffsetY + shadowBlurSize);\n    var width = rect.width + leftMargin + rightMargin;\n    var height = rect.height + topMargin + bottomMargin;\n    canvas.width = width * dpr;\n    canvas.height = height * dpr;\n    ctx.scale(dpr, dpr);\n    ctx.clearRect(0, 0, width, height);\n    ctx.dpr = dpr;\n    var pathTransform = {\n      position: path.position,\n      rotation: path.rotation,\n      scale: path.scale\n    };\n    path.position = [leftMargin - rect.x, topMargin - rect.y];\n    path.rotation = 0;\n    path.scale = [1, 1];\n    path.updateTransform();\n\n    if (path) {\n      path.brush(ctx);\n    }\n\n    var ImageShape = Image;\n    var imgShape = new ImageShape({\n      style: {\n        x: 0,\n        y: 0,\n        image: canvas\n      }\n    });\n\n    if (pathTransform.position != null) {\n      imgShape.position = path.position = pathTransform.position;\n    }\n\n    if (pathTransform.rotation != null) {\n      imgShape.rotation = path.rotation = pathTransform.rotation;\n    }\n\n    if (pathTransform.scale != null) {\n      imgShape.scale = path.scale = pathTransform.scale;\n    }\n\n    return imgShape;\n  }\n};\nvar _default = Painter;\nmodule.exports = _default;","var util = require(\"./core/util\");\n\nvar _config = require(\"./config\");\n\nvar devicePixelRatio = _config.devicePixelRatio;\n\nvar Style = require(\"./graphic/Style\");\n\nvar Pattern = require(\"./graphic/Pattern\");\n/**\n * @module zrender/Layer\n * @author pissang(https://www.github.com/pissang)\n */\n\n\nfunction returnFalse() {\n  return false;\n}\n/**\n * dom\n *\n * @inner\n * @param {string} id dom id \n * @param {Painter} painter painter instance\n * @param {number} number\n */\n\n\nfunction createDom(id, painter, dpr) {\n  var newDom = util.createCanvas();\n  var width = painter.getWidth();\n  var height = painter.getHeight();\n  var newDomStyle = newDom.style;\n\n  if (newDomStyle) {\n    // In node or some other non-browser environment\n    newDomStyle.position = 'absolute';\n    newDomStyle.left = 0;\n    newDomStyle.top = 0;\n    newDomStyle.width = width + 'px';\n    newDomStyle.height = height + 'px';\n    newDom.setAttribute('data-zr-dom-id', id);\n  }\n\n  newDom.width = width * dpr;\n  newDom.height = height * dpr;\n  return newDom;\n}\n/**\n * @alias module:zrender/Layer\n * @constructor\n * @extends module:zrender/mixin/Transformable\n * @param {string} id\n * @param {module:zrender/Painter} painter\n * @param {number} [dpr]\n */\n\n\nvar Layer = function Layer(id, painter, dpr) {\n  var dom;\n  dpr = dpr || devicePixelRatio;\n\n  if (typeof id === 'string') {\n    dom = createDom(id, painter, dpr);\n  } // Not using isDom because in node it will return false\n  else if (util.isObject(id)) {\n      dom = id;\n      id = dom.id;\n    }\n\n  this.id = id;\n  this.dom = dom;\n  var domStyle = dom.style;\n\n  if (domStyle) {\n    // Not in node\n    dom.onselectstart = returnFalse; // \n\n    domStyle['-webkit-user-select'] = 'none';\n    domStyle['user-select'] = 'none';\n    domStyle['-webkit-touch-callout'] = 'none';\n    domStyle['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)';\n    domStyle['padding'] = 0; // eslint-disable-line dot-notation\n\n    domStyle['margin'] = 0; // eslint-disable-line dot-notation\n\n    domStyle['border-width'] = 0;\n  }\n\n  this.domBack = null;\n  this.ctxBack = null;\n  this.painter = painter;\n  this.config = null; // Configs\n\n  /**\n   * \n   * @type {string}\n   * @default 0\n   */\n\n  this.clearColor = 0;\n  /**\n   * \n   * @type {boolean}\n   * @default false\n   */\n\n  this.motionBlur = false;\n  /**\n   * alpha\n   * @type {number}\n   * @default 0.7\n   */\n\n  this.lastFrameAlpha = 0.7;\n  /**\n   * Layer dpr\n   * @type {number}\n   */\n\n  this.dpr = dpr;\n};\n\nLayer.prototype = {\n  constructor: Layer,\n  __dirty: true,\n  __used: false,\n  __drawIndex: 0,\n  __startIndex: 0,\n  __endIndex: 0,\n  incremental: false,\n  getElementCount: function getElementCount() {\n    return this.__endIndex - this.__startIndex;\n  },\n  initContext: function initContext() {\n    this.ctx = this.dom.getContext('2d');\n    this.ctx.dpr = this.dpr;\n  },\n  createBackBuffer: function createBackBuffer() {\n    var dpr = this.dpr;\n    this.domBack = createDom('back-' + this.id, this.painter, dpr);\n    this.ctxBack = this.domBack.getContext('2d');\n\n    if (dpr !== 1) {\n      this.ctxBack.scale(dpr, dpr);\n    }\n  },\n\n  /**\n   * @param  {number} width\n   * @param  {number} height\n   */\n  resize: function resize(width, height) {\n    var dpr = this.dpr;\n    var dom = this.dom;\n    var domStyle = dom.style;\n    var domBack = this.domBack;\n\n    if (domStyle) {\n      domStyle.width = width + 'px';\n      domStyle.height = height + 'px';\n    }\n\n    dom.width = width * dpr;\n    dom.height = height * dpr;\n\n    if (domBack) {\n      domBack.width = width * dpr;\n      domBack.height = height * dpr;\n\n      if (dpr !== 1) {\n        this.ctxBack.scale(dpr, dpr);\n      }\n    }\n  },\n\n  /**\n   * \n   * @param {boolean} [clearAll]=false Clear all with out motion blur\n   * @param {Color} [clearColor]\n   */\n  clear: function clear(clearAll, clearColor) {\n    var dom = this.dom;\n    var ctx = this.ctx;\n    var width = dom.width;\n    var height = dom.height;\n    var clearColor = clearColor || this.clearColor;\n    var haveMotionBLur = this.motionBlur && !clearAll;\n    var lastFrameAlpha = this.lastFrameAlpha;\n    var dpr = this.dpr;\n\n    if (haveMotionBLur) {\n      if (!this.domBack) {\n        this.createBackBuffer();\n      }\n\n      this.ctxBack.globalCompositeOperation = 'copy';\n      this.ctxBack.drawImage(dom, 0, 0, width / dpr, height / dpr);\n    }\n\n    ctx.clearRect(0, 0, width, height);\n\n    if (clearColor && clearColor !== 'transparent') {\n      var clearColorGradientOrPattern; // Gradient\n\n      if (clearColor.colorStops) {\n        // Cache canvas gradient\n        clearColorGradientOrPattern = clearColor.__canvasGradient || Style.getGradient(ctx, clearColor, {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        });\n        clearColor.__canvasGradient = clearColorGradientOrPattern;\n      } // Pattern\n      else if (clearColor.image) {\n          clearColorGradientOrPattern = Pattern.prototype.getCanvasPattern.call(clearColor, ctx);\n        }\n\n      ctx.save();\n      ctx.fillStyle = clearColorGradientOrPattern || clearColor;\n      ctx.fillRect(0, 0, width, height);\n      ctx.restore();\n    }\n\n    if (haveMotionBLur) {\n      var domBack = this.domBack;\n      ctx.save();\n      ctx.globalAlpha = lastFrameAlpha;\n      ctx.drawImage(domBack, 0, 0, width, height);\n      ctx.restore();\n    }\n  }\n};\nvar _default = Layer;\nmodule.exports = _default;","var textHelper = require(\"../helper/text\");\n\nvar BoundingRect = require(\"../../core/BoundingRect\");\n\nvar _constant = require(\"../constant\");\n\nvar WILL_BE_RESTORED = _constant.WILL_BE_RESTORED;\n/**\n * Mixin for drawing text in a element bounding rect\n * @module zrender/mixin/RectText\n */\n\nvar tmpRect = new BoundingRect();\n\nvar RectText = function RectText() {};\n\nRectText.prototype = {\n  constructor: RectText,\n\n  /**\n   * Draw text in a rect with specified position.\n   * @param  {CanvasRenderingContext2D} ctx\n   * @param  {Object} rect Displayable rect\n   */\n  drawRectText: function drawRectText(ctx, rect) {\n    var style = this.style;\n    rect = style.textRect || rect; // Optimize, avoid normalize every time.\n\n    this.__dirty && textHelper.normalizeTextStyle(style, true);\n    var text = style.text; // Convert to string\n\n    text != null && (text += '');\n\n    if (!textHelper.needDrawText(text, style)) {\n      return;\n    } // FIXME\n    // Do not provide prevEl to `textHelper.renderText` for ctx prop cache,\n    // but use `ctx.save()` and `ctx.restore()`. Because the cache for rect\n    // text propably break the cache for its host elements.\n\n\n    ctx.save(); // Transform rect to view space\n\n    var transform = this.transform;\n\n    if (!style.transformText) {\n      if (transform) {\n        tmpRect.copy(rect);\n        tmpRect.applyTransform(transform);\n        rect = tmpRect;\n      }\n    } else {\n      this.setTransform(ctx);\n    } // transformText and textRotation can not be used at the same time.\n\n\n    textHelper.renderText(this, ctx, text, style, rect, WILL_BE_RESTORED);\n    ctx.restore();\n  }\n};\nvar _default = RectText;\nmodule.exports = _default;","var util = require(\"../core/util\");\n\nvar _event = require(\"../core/event\");\n\nvar Dispatcher = _event.Dispatcher;\n\nvar requestAnimationFrame = require(\"./requestAnimationFrame\");\n\nvar Animator = require(\"./Animator\");\n/**\n * , \n *\n * @module zrender/animation/Animation\n * @author pissang(https://github.com/pissang)\n */\n// TODO Additive animation\n// http://iosoteric.com/additive-animations-animatewithduration-in-ios-8/\n// https://developer.apple.com/videos/wwdc2014/#236\n\n/**\n * @typedef {Object} IZRenderStage\n * @property {Function} update\n */\n\n/**\n * @alias module:zrender/animation/Animation\n * @constructor\n * @param {Object} [options]\n * @param {Function} [options.onframe]\n * @param {IZRenderStage} [options.stage]\n * @example\n *     var animation = new Animation();\n *     var obj = {\n *         x: 100,\n *         y: 100\n *     };\n *     animation.animate(node.position)\n *         .when(1000, {\n *             x: 500,\n *             y: 500\n *         })\n *         .when(2000, {\n *             x: 100,\n *             y: 100\n *         })\n *         .start('spline');\n */\n\n\nvar Animation = function Animation(options) {\n  options = options || {};\n  this.stage = options.stage || {};\n\n  this.onframe = options.onframe || function () {}; // private properties\n\n\n  this._clips = [];\n  this._running = false;\n  this._time;\n  this._pausedTime;\n  this._pauseStart;\n  this._paused = false;\n  Dispatcher.call(this);\n};\n\nAnimation.prototype = {\n  constructor: Animation,\n\n  /**\n   *  clip\n   * @param {module:zrender/animation/Clip} clip\n   */\n  addClip: function addClip(clip) {\n    this._clips.push(clip);\n  },\n\n  /**\n   *  animator\n   * @param {module:zrender/animation/Animator} animator\n   */\n  addAnimator: function addAnimator(animator) {\n    animator.animation = this;\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.addClip(clips[i]);\n    }\n  },\n\n  /**\n   * \n   * @param {module:zrender/animation/Clip} clip\n   */\n  removeClip: function removeClip(clip) {\n    var idx = util.indexOf(this._clips, clip);\n\n    if (idx >= 0) {\n      this._clips.splice(idx, 1);\n    }\n  },\n\n  /**\n   * \n   * @param {module:zrender/animation/Animator} animator\n   */\n  removeAnimator: function removeAnimator(animator) {\n    var clips = animator.getClips();\n\n    for (var i = 0; i < clips.length; i++) {\n      this.removeClip(clips[i]);\n    }\n\n    animator.animation = null;\n  },\n  _update: function _update() {\n    var time = new Date().getTime() - this._pausedTime;\n\n    var delta = time - this._time;\n    var clips = this._clips;\n    var len = clips.length;\n    var deferredEvents = [];\n    var deferredClips = [];\n\n    for (var i = 0; i < len; i++) {\n      var clip = clips[i];\n      var e = clip.step(time, delta); // Throw out the events need to be called after\n      // stage.update, like destroy\n\n      if (e) {\n        deferredEvents.push(e);\n        deferredClips.push(clip);\n      }\n    } // Remove the finished clip\n\n\n    for (var i = 0; i < len;) {\n      if (clips[i]._needsRemove) {\n        clips[i] = clips[len - 1];\n        clips.pop();\n        len--;\n      } else {\n        i++;\n      }\n    }\n\n    len = deferredEvents.length;\n\n    for (var i = 0; i < len; i++) {\n      deferredClips[i].fire(deferredEvents[i]);\n    }\n\n    this._time = time;\n    this.onframe(delta); // 'frame' should be triggered before stage, because upper application\n    // depends on the sequence (e.g., echarts-stream and finish\n    // event judge)\n\n    this.trigger('frame', delta);\n\n    if (this.stage.update) {\n      this.stage.update();\n    }\n  },\n  _startLoop: function _startLoop() {\n    var self = this;\n    this._running = true;\n\n    function step() {\n      if (self._running) {\n        requestAnimationFrame(step);\n        !self._paused && self._update();\n      }\n    }\n\n    requestAnimationFrame(step);\n  },\n\n  /**\n   * Start animation.\n   */\n  start: function start() {\n    this._time = new Date().getTime();\n    this._pausedTime = 0;\n\n    this._startLoop();\n  },\n\n  /**\n   * Stop animation.\n   */\n  stop: function stop() {\n    this._running = false;\n  },\n\n  /**\n   * Pause animation.\n   */\n  pause: function pause() {\n    if (!this._paused) {\n      this._pauseStart = new Date().getTime();\n      this._paused = true;\n    }\n  },\n\n  /**\n   * Resume animation.\n   */\n  resume: function resume() {\n    if (this._paused) {\n      this._pausedTime += new Date().getTime() - this._pauseStart;\n      this._paused = false;\n    }\n  },\n\n  /**\n   * Clear animation.\n   */\n  clear: function clear() {\n    this._clips = [];\n  },\n\n  /**\n   * Whether animation finished.\n   */\n  isFinished: function isFinished() {\n    return !this._clips.length;\n  },\n\n  /**\n   * Creat animator for a target, whose props can be animated.\n   *\n   * @param  {Object} target\n   * @param  {Object} options\n   * @param  {boolean} [options.loop=false] Whether loop animation.\n   * @param  {Function} [options.getter=null] Get value from target.\n   * @param  {Function} [options.setter=null] Set value to target.\n   * @return {module:zrender/animation/Animation~Animator}\n   */\n  // TODO Gap\n  animate: function animate(target, options) {\n    options = options || {};\n    var animator = new Animator(target, options.loop, options.getter, options.setter);\n    this.addAnimator(animator);\n    return animator;\n  }\n};\nutil.mixin(Animation, Dispatcher);\nvar _default = Animation;\nmodule.exports = _default;","var _event = require(\"../core/event\");\n\nvar addEventListener = _event.addEventListener;\nvar removeEventListener = _event.removeEventListener;\nvar normalizeEvent = _event.normalizeEvent;\n\nvar zrUtil = require(\"../core/util\");\n\nvar Eventful = require(\"../mixin/Eventful\");\n\nvar env = require(\"../core/env\");\n\nvar TOUCH_CLICK_DELAY = 300;\nvar mouseHandlerNames = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu'];\nvar touchHandlerNames = ['touchstart', 'touchend', 'touchmove'];\nvar pointerEventNames = {\n  pointerdown: 1,\n  pointerup: 1,\n  pointermove: 1,\n  pointerout: 1\n};\nvar pointerHandlerNames = zrUtil.map(mouseHandlerNames, function (name) {\n  var nm = name.replace('mouse', 'pointer');\n  return pointerEventNames[nm] ? nm : name;\n});\n\nfunction eventNameFix(name) {\n  return name === 'mousewheel' && env.browser.firefox ? 'DOMMouseScroll' : name;\n} // function onMSGestureChange(proxy, event) {\n//     if (event.translationX || event.translationY) {\n//         // mousemove is carried by MSGesture to reduce the sensitivity.\n//         proxy.handler.dispatchToElement(event.target, 'mousemove', event);\n//     }\n//     if (event.scale !== 1) {\n//         event.pinchX = event.offsetX;\n//         event.pinchY = event.offsetY;\n//         event.pinchScale = event.scale;\n//         proxy.handler.dispatchToElement(event.target, 'pinch', event);\n//     }\n// }\n\n/**\n * Prevent mouse event from being dispatched after Touch Events action\n * @see <https://github.com/deltakosh/handjs/blob/master/src/hand.base.js>\n * 1. Mobile browsers dispatch mouse events 300ms after touchend.\n * 2. Chrome for Android dispatch mousedown for long-touch about 650ms\n * Result: Blocking Mouse Events for 700ms.\n */\n\n\nfunction setTouchTimer(instance) {\n  instance._touching = true;\n  clearTimeout(instance._touchTimer);\n  instance._touchTimer = setTimeout(function () {\n    instance._touching = false;\n  }, 700);\n}\n\nvar domHandlers = {\n  /**\n   * Mouse move handler\n   * @inner\n   * @param {Event} event\n   */\n  mousemove: function mousemove(event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger('mousemove', event);\n  },\n\n  /**\n   * Mouse out handler\n   * @inner\n   * @param {Event} event\n   */\n  mouseout: function mouseout(event) {\n    event = normalizeEvent(this.dom, event);\n    var element = event.toElement || event.relatedTarget;\n\n    if (element !== this.dom) {\n      while (element && element.nodeType !== 9) {\n        // rootdommouseOut\n        if (element === this.dom) {\n          return;\n        }\n\n        element = element.parentNode;\n      }\n    }\n\n    this.trigger('mouseout', event);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchstart: function touchstart(event) {\n    // Default mouse behaviour should not be disabled here.\n    // For example, page may needs to be slided.\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    this._lastTouchMoment = new Date();\n    this.handler.processGesture(this, event, 'start'); // In touch device, trigger `mousemove`(`mouseover`) should\n    // be triggered, and must before `mousedown` triggered.\n\n    domHandlers.mousemove.call(this, event);\n    domHandlers.mousedown.call(this, event);\n    setTouchTimer(this);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchmove: function touchmove(event) {\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    this.handler.processGesture(this, event, 'change'); // Mouse move should always be triggered no matter whether\n    // there is gestrue event, because mouse move and pinch may\n    // be used at the same time.\n\n    domHandlers.mousemove.call(this, event);\n    setTouchTimer(this);\n  },\n\n  /**\n   * Touch\n   * @inner\n   * @param {Event} event\n   */\n  touchend: function touchend(event) {\n    event = normalizeEvent(this.dom, event); // Mark touch, which is useful in distinguish touch and\n    // mouse event in upper applicatoin.\n\n    event.zrByTouch = true;\n    this.handler.processGesture(this, event, 'end');\n    domHandlers.mouseup.call(this, event); // Do not trigger `mouseout` here, in spite of `mousemove`(`mouseover`) is\n    // triggered in `touchstart`. This seems to be illogical, but by this mechanism,\n    // we can conveniently implement \"hover style\" in both PC and touch device just\n    // by listening to `mouseover` to add \"hover style\" and listening to `mouseout`\n    // to remove \"hover style\" on an element, without any additional code for\n    // compatibility. (`mouseout` will not be triggered in `touchend`, so \"hover\n    // style\" will remain for user view)\n    // click event should always be triggered no matter whether\n    // there is gestrue event. System click can not be prevented.\n\n    if (+new Date() - this._lastTouchMoment < TOUCH_CLICK_DELAY) {\n      domHandlers.click.call(this, event);\n    }\n\n    setTouchTimer(this);\n  },\n  pointerdown: function pointerdown(event) {\n    domHandlers.mousedown.call(this, event); // if (useMSGuesture(this, event)) {\n    //     this._msGesture.addPointer(event.pointerId);\n    // }\n  },\n  pointermove: function pointermove(event) {\n    // FIXME\n    // pointermove is so sensitive that it always triggered when\n    // tap(click) on touch screen, which affect some judgement in\n    // upper application. So, we dont support mousemove on MS touch\n    // device yet.\n    if (!isPointerFromTouch(event)) {\n      domHandlers.mousemove.call(this, event);\n    }\n  },\n  pointerup: function pointerup(event) {\n    domHandlers.mouseup.call(this, event);\n  },\n  pointerout: function pointerout(event) {\n    // pointerout will be triggered when tap on touch screen\n    // (IE11+/Edge on MS Surface) after click event triggered,\n    // which is inconsistent with the mousout behavior we defined\n    // in touchend. So we unify them.\n    // (check domHandlers.touchend for detailed explanation)\n    if (!isPointerFromTouch(event)) {\n      domHandlers.mouseout.call(this, event);\n    }\n  }\n};\n\nfunction isPointerFromTouch(event) {\n  var pointerType = event.pointerType;\n  return pointerType === 'pen' || pointerType === 'touch';\n} // function useMSGuesture(handlerProxy, event) {\n//     return isPointerFromTouch(event) && !!handlerProxy._msGesture;\n// }\n// Common handlers\n\n\nzrUtil.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (name) {\n  domHandlers[name] = function (event) {\n    event = normalizeEvent(this.dom, event);\n    this.trigger(name, event);\n  };\n});\n/**\n * dom \n *\n * @inner\n * @param {module:zrender/Handler} instance \n */\n\nfunction initDomHandler(instance) {\n  zrUtil.each(touchHandlerNames, function (name) {\n    instance._handlers[name] = zrUtil.bind(domHandlers[name], instance);\n  });\n  zrUtil.each(pointerHandlerNames, function (name) {\n    instance._handlers[name] = zrUtil.bind(domHandlers[name], instance);\n  });\n  zrUtil.each(mouseHandlerNames, function (name) {\n    instance._handlers[name] = makeMouseHandler(domHandlers[name], instance);\n  });\n\n  function makeMouseHandler(fn, instance) {\n    return function () {\n      if (instance._touching) {\n        return;\n      }\n\n      return fn.apply(instance, arguments);\n    };\n  }\n}\n\nfunction HandlerDomProxy(dom) {\n  Eventful.call(this);\n  this.dom = dom;\n  /**\n   * @private\n   * @type {boolean}\n   */\n\n  this._touching = false;\n  /**\n   * @private\n   * @type {number}\n   */\n\n  this._touchTimer;\n  this._handlers = {};\n  initDomHandler(this);\n\n  if (env.pointerEventsSupported) {\n    // Only IE11+/Edge\n    // 1. On devices that both enable touch and mouse (e.g., MS Surface and lenovo X240),\n    // IE11+/Edge do not trigger touch event, but trigger pointer event and mouse event\n    // at the same time.\n    // 2. On MS Surface, it probablely only trigger mousedown but no mouseup when tap on\n    // screen, which do not occurs in pointer event.\n    // So we use pointer event to both detect touch gesture and mouse behavior.\n    mountHandlers(pointerHandlerNames, this); // FIXME\n    // Note: MS Gesture require CSS touch-action set. But touch-action is not reliable,\n    // which does not prevent defuault behavior occasionally (which may cause view port\n    // zoomed in but use can not zoom it back). And event.preventDefault() does not work.\n    // So we have to not to use MSGesture and not to support touchmove and pinch on MS\n    // touch screen. And we only support click behavior on MS touch screen now.\n    // MS Gesture Event is only supported on IE11+/Edge and on Windows 8+.\n    // We dont support touch on IE on win7.\n    // See <https://msdn.microsoft.com/en-us/library/dn433243(v=vs.85).aspx>\n    // if (typeof MSGesture === 'function') {\n    //     (this._msGesture = new MSGesture()).target = dom; // jshint ignore:line\n    //     dom.addEventListener('MSGestureChange', onMSGestureChange);\n    // }\n  } else {\n    if (env.touchEventsSupported) {\n      mountHandlers(touchHandlerNames, this); // Handler of 'mouseout' event is needed in touch mode, which will be mounted below.\n      // addEventListener(root, 'mouseout', this._mouseoutHandler);\n    } // 1. Considering some devices that both enable touch and mouse event (like on MS Surface\n    // and lenovo X240, @see #2350), we make mouse event be always listened, otherwise\n    // mouse event can not be handle in those devices.\n    // 2. On MS Surface, Chrome will trigger both touch event and mouse event. How to prevent\n    // mouseevent after touch event triggered, see `setTouchTimer`.\n\n\n    mountHandlers(mouseHandlerNames, this);\n  }\n\n  function mountHandlers(handlerNames, instance) {\n    zrUtil.each(handlerNames, function (name) {\n      addEventListener(dom, eventNameFix(name), instance._handlers[name]);\n    }, instance);\n  }\n}\n\nvar handlerDomProxyProto = HandlerDomProxy.prototype;\n\nhandlerDomProxyProto.dispose = function () {\n  var handlerNames = mouseHandlerNames.concat(touchHandlerNames);\n\n  for (var i = 0; i < handlerNames.length; i++) {\n    var name = handlerNames[i];\n    removeEventListener(this.dom, eventNameFix(name), this._handlers[name]);\n  }\n};\n\nhandlerDomProxyProto.setCursor = function (cursorStyle) {\n  this.dom.style && (this.dom.style.cursor = cursorStyle || 'default');\n};\n\nzrUtil.mixin(HandlerDomProxy, Eventful);\nvar _default = HandlerDomProxy;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar makeStyleMapper = require(\"./makeStyleMapper\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar _getLineStyle = makeStyleMapper([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]);\n\nvar _default = {\n  getLineStyle: function getLineStyle(excludes) {\n    var style = _getLineStyle(this, excludes); // Always set lineDash whether dashed, otherwise we can not\n    // erase the previous style when assigning to el.style.\n\n\n    style.lineDash = this.getLineDash(style.lineWidth);\n    return style;\n  },\n  getLineDash: function getLineDash(lineWidth) {\n    if (lineWidth == null) {\n      lineWidth = 1;\n    }\n\n    var lineType = this.get('type');\n    var dotSize = Math.max(lineWidth, 2);\n    var dashSize = lineWidth * 4;\n    return lineType === 'solid' || lineType == null ? // Use `false` but not `null` for the solid line here, because `null` might be\n    // ignored when assigning to `el.style`. e.g., when setting `lineStyle.type` as\n    // `'dashed'` and `emphasis.lineStyle.type` as `'solid'` in graph series, the\n    // `lineDash` gotten form the latter one is not able to erase that from the former\n    // one if using `null` here according to the emhpsis strategy in `util/graphic.js`.\n    false : lineType === 'dashed' ? [dashSize, dashSize] : [dotSize, dotSize];\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar makeStyleMapper = require(\"./makeStyleMapper\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar _getAreaStyle = makeStyleMapper([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]);\n\nvar _default = {\n  getAreaStyle: function getAreaStyle(excludes, includes) {\n    return _getAreaStyle(this, excludes, includes);\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar graphicUtil = require(\"../../util/graphic\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar PATH_COLOR = ['textStyle', 'color'];\nvar _default = {\n  /**\n   * Get color property or get color from option.textStyle.color\n   * @param {boolean} [isEmphasis]\n   * @return {string}\n   */\n  getTextColor: function getTextColor(isEmphasis) {\n    var ecModel = this.ecModel;\n    return this.getShallow('color') || (!isEmphasis && ecModel ? ecModel.get(PATH_COLOR) : null);\n  },\n\n  /**\n   * Create font string from fontStyle, fontWeight, fontSize, fontFamily\n   * @return {string}\n   */\n  getFont: function getFont() {\n    return graphicUtil.getFont({\n      fontStyle: this.getShallow('fontStyle'),\n      fontWeight: this.getShallow('fontWeight'),\n      fontSize: this.getShallow('fontSize'),\n      fontFamily: this.getShallow('fontFamily')\n    }, this.ecModel);\n  },\n  getTextRect: function getTextRect(text) {\n    return textContain.getBoundingRect(text, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('lineHeight'), this.getShallow('rich'), this.getShallow('truncateText'));\n  }\n};\nmodule.exports = _default;","var PathProxy = require(\"../core/PathProxy\");\n\nvar line = require(\"./line\");\n\nvar cubic = require(\"./cubic\");\n\nvar quadratic = require(\"./quadratic\");\n\nvar arc = require(\"./arc\");\n\nvar _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\n\nvar curve = require(\"../core/curve\");\n\nvar windingLine = require(\"./windingLine\");\n\nvar CMD = PathProxy.CMD;\nvar PI2 = Math.PI * 2;\nvar EPSILON = 1e-4;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n} // \n\n\nvar roots = [-1, -1, -1];\nvar extrema = [-1, -1];\n\nfunction swapExtrema() {\n  var tmp = extrema[0];\n  extrema[0] = extrema[1];\n  extrema[1] = tmp;\n}\n\nfunction windingCubic(x0, y0, x1, y1, x2, y2, x3, y3, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 && y > y3 || y < y0 && y < y1 && y < y2 && y < y3) {\n    return 0;\n  }\n\n  var nRoots = curve.cubicRootAt(y0, y1, y2, y3, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var w = 0;\n    var nExtrema = -1;\n    var y0_;\n    var y1_;\n\n    for (var i = 0; i < nRoots; i++) {\n      var t = roots[i]; // Avoid winding error when intersection point is the connect point of two line of polygon\n\n      var unit = t === 0 || t === 1 ? 0.5 : 1;\n      var x_ = curve.cubicAt(x0, x1, x2, x3, t);\n\n      if (x_ < x) {\n        // Quick reject\n        continue;\n      }\n\n      if (nExtrema < 0) {\n        nExtrema = curve.cubicExtrema(y0, y1, y2, y3, extrema);\n\n        if (extrema[1] < extrema[0] && nExtrema > 1) {\n          swapExtrema();\n        }\n\n        y0_ = curve.cubicAt(y0, y1, y2, y3, extrema[0]);\n\n        if (nExtrema > 1) {\n          y1_ = curve.cubicAt(y0, y1, y2, y3, extrema[1]);\n        }\n      }\n\n      if (nExtrema === 2) {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else if (t < extrema[1]) {\n          w += y1_ < y0_ ? unit : -unit;\n        } else {\n          w += y3 < y1_ ? unit : -unit;\n        }\n      } else {\n        // \n        if (t < extrema[0]) {\n          w += y0_ < y0 ? unit : -unit;\n        } else {\n          w += y3 < y0_ ? unit : -unit;\n        }\n      }\n    }\n\n    return w;\n  }\n}\n\nfunction windingQuadratic(x0, y0, x1, y1, x2, y2, x, y) {\n  // Quick reject\n  if (y > y0 && y > y1 && y > y2 || y < y0 && y < y1 && y < y2) {\n    return 0;\n  }\n\n  var nRoots = curve.quadraticRootAt(y0, y1, y2, y, roots);\n\n  if (nRoots === 0) {\n    return 0;\n  } else {\n    var t = curve.quadraticExtremum(y0, y1, y2);\n\n    if (t >= 0 && t <= 1) {\n      var w = 0;\n      var y_ = curve.quadraticAt(y0, y1, y2, t);\n\n      for (var i = 0; i < nRoots; i++) {\n        // Remove one endpoint.\n        var unit = roots[i] === 0 || roots[i] === 1 ? 0.5 : 1;\n        var x_ = curve.quadraticAt(x0, x1, x2, roots[i]);\n\n        if (x_ < x) {\n          // Quick reject\n          continue;\n        }\n\n        if (roots[i] < t) {\n          w += y_ < y0 ? unit : -unit;\n        } else {\n          w += y2 < y_ ? unit : -unit;\n        }\n      }\n\n      return w;\n    } else {\n      // Remove one endpoint.\n      var unit = roots[0] === 0 || roots[0] === 1 ? 0.5 : 1;\n      var x_ = curve.quadraticAt(x0, x1, x2, roots[0]);\n\n      if (x_ < x) {\n        // Quick reject\n        return 0;\n      }\n\n      return y2 < y0 ? unit : -unit;\n    }\n  }\n} // TODO\n// Arc \n\n\nfunction windingArc(cx, cy, r, startAngle, endAngle, anticlockwise, x, y) {\n  y -= cy;\n\n  if (y > r || y < -r) {\n    return 0;\n  }\n\n  var tmp = Math.sqrt(r * r - y * y);\n  roots[0] = -tmp;\n  roots[1] = tmp;\n  var diff = Math.abs(startAngle - endAngle);\n\n  if (diff < 1e-4) {\n    return 0;\n  }\n\n  if (diff % PI2 < 1e-4) {\n    // Is a circle\n    startAngle = 0;\n    endAngle = PI2;\n    var dir = anticlockwise ? 1 : -1;\n\n    if (x >= roots[0] + cx && x <= roots[1] + cx) {\n      return dir;\n    } else {\n      return 0;\n    }\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var w = 0;\n\n  for (var i = 0; i < 2; i++) {\n    var x_ = roots[i];\n\n    if (x_ + cx > x) {\n      var angle = Math.atan2(y, x_);\n      var dir = anticlockwise ? 1 : -1;\n\n      if (angle < 0) {\n        angle = PI2 + angle;\n      }\n\n      if (angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle) {\n        if (angle > Math.PI / 2 && angle < Math.PI * 1.5) {\n          dir = -dir;\n        }\n\n        w += dir;\n      }\n    }\n  }\n\n  return w;\n}\n\nfunction containPath(data, lineWidth, isStroke, x, y) {\n  var w = 0;\n  var xi = 0;\n  var yi = 0;\n  var x0 = 0;\n  var y0 = 0;\n\n  for (var i = 0; i < data.length;) {\n    var cmd = data[i++]; // Begin a new subpath\n\n    if (cmd === CMD.M && i > 1) {\n      // Close previous subpath\n      if (!isStroke) {\n        w += windingLine(xi, yi, x0, y0, x, y);\n      } //  subpath \n      // if (w !== 0) {\n      //     return true;\n      // }\n\n    }\n\n    if (i === 1) {\n      //  L, C, Q\n      //  previous point  point\n      //\n      //  Arc \n      xi = data[i];\n      yi = data[i + 1];\n      x0 = xi;\n      y0 = yi;\n    }\n\n    switch (cmd) {\n      case CMD.M:\n        // moveTo  subpath, \n        //  closePath \n        x0 = data[i++];\n        y0 = data[i++];\n        xi = x0;\n        yi = y0;\n        break;\n\n      case CMD.L:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // NOTE  L, C, Q  NaN\n          w += windingLine(xi, yi, data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.C:\n        if (isStroke) {\n          if (cubic.containStroke(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingCubic(xi, yi, data[i++], data[i++], data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.Q:\n        if (isStroke) {\n          if (quadratic.containStroke(xi, yi, data[i++], data[i++], data[i], data[i + 1], lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          w += windingQuadratic(xi, yi, data[i++], data[i++], data[i], data[i + 1], x, y) || 0;\n        }\n\n        xi = data[i++];\n        yi = data[i++];\n        break;\n\n      case CMD.A:\n        // TODO Arc \n        var cx = data[i++];\n        var cy = data[i++];\n        var rx = data[i++];\n        var ry = data[i++];\n        var theta = data[i++];\n        var dTheta = data[i++]; // TODO Arc \n\n        i += 1;\n        var anticlockwise = 1 - data[i++];\n        var x1 = Math.cos(theta) * rx + cx;\n        var y1 = Math.sin(theta) * ry + cy; //  arc \n\n        if (i > 1) {\n          w += windingLine(xi, yi, x1, y1, x, y);\n        } else {\n          // \n          x0 = x1;\n          y0 = y1;\n        } // zr scale, x\n\n\n        var _x = (x - cx) * ry / rx + cx;\n\n        if (isStroke) {\n          if (arc.containStroke(cx, cy, ry, theta, theta + dTheta, anticlockwise, lineWidth, _x, y)) {\n            return true;\n          }\n        } else {\n          w += windingArc(cx, cy, ry, theta, theta + dTheta, anticlockwise, _x, y);\n        }\n\n        xi = Math.cos(theta + dTheta) * rx + cx;\n        yi = Math.sin(theta + dTheta) * ry + cy;\n        break;\n\n      case CMD.R:\n        x0 = xi = data[i++];\n        y0 = yi = data[i++];\n        var width = data[i++];\n        var height = data[i++];\n        var x1 = x0 + width;\n        var y1 = y0 + height;\n\n        if (isStroke) {\n          if (line.containStroke(x0, y0, x1, y0, lineWidth, x, y) || line.containStroke(x1, y0, x1, y1, lineWidth, x, y) || line.containStroke(x1, y1, x0, y1, lineWidth, x, y) || line.containStroke(x0, y1, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // FIXME Clockwise ?\n          w += windingLine(x1, y0, x1, y1, x, y);\n          w += windingLine(x0, y1, x0, y0, x, y);\n        }\n\n        break;\n\n      case CMD.Z:\n        if (isStroke) {\n          if (line.containStroke(xi, yi, x0, y0, lineWidth, x, y)) {\n            return true;\n          }\n        } else {\n          // Close a subpath\n          w += windingLine(xi, yi, x0, y0, x, y); //  subpath \n          // FIXME subpaths may overlap\n          // if (w !== 0) {\n          //     return true;\n          // }\n        }\n\n        xi = x0;\n        yi = y0;\n        break;\n    }\n  }\n\n  if (!isStroke && !isAroundEqual(yi, y0)) {\n    w += windingLine(xi, yi, x0, y0, x, y) || 0;\n  }\n\n  return w !== 0;\n}\n\nfunction contain(pathData, x, y) {\n  return containPath(pathData, 0, false, x, y);\n}\n\nfunction containStroke(pathData, lineWidth, x, y) {\n  return containPath(pathData, lineWidth, true, x, y);\n}\n\nexports.contain = contain;\nexports.containStroke = containStroke;","/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\nfunction containStroke(x0, y0, x1, y1, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  var _a = 0;\n  var _b = x0; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l || y < y0 - _l && y < y1 - _l || x > x0 + _l && x > x1 + _l || x < x0 - _l && x < x1 - _l) {\n    return false;\n  }\n\n  if (x0 !== x1) {\n    _a = (y0 - y1) / (x0 - x1);\n    _b = (x0 * y1 - x1 * y0) / (x0 - x1);\n  } else {\n    return Math.abs(x - x0) <= _l / 2;\n  }\n\n  var tmp = _a * x - y + _b;\n\n  var _s = tmp * tmp / (_a * _a + 1);\n\n  return _s <= _l / 2 * _l / 2;\n}\n\nexports.containStroke = containStroke;","var curve = require(\"../core/curve\");\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  x3\n * @param  {number}  y3\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\n\n\nfunction containStroke(x0, y0, x1, y1, x2, y2, x3, y3, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l && y > y3 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l && y < y3 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l && x > x3 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l && x < x3 - _l) {\n    return false;\n  }\n\n  var d = curve.cubicProjectPoint(x0, y0, x1, y1, x2, y2, x3, y3, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var _curve = require(\"../core/curve\");\n\nvar quadraticProjectPoint = _curve.quadraticProjectPoint;\n/**\n * \n * @param  {number}  x0\n * @param  {number}  y0\n * @param  {number}  x1\n * @param  {number}  y1\n * @param  {number}  x2\n * @param  {number}  y2\n * @param  {number}  lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {boolean}\n */\n\nfunction containStroke(x0, y0, x1, y1, x2, y2, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth; // Quick reject\n\n  if (y > y0 + _l && y > y1 + _l && y > y2 + _l || y < y0 - _l && y < y1 - _l && y < y2 - _l || x > x0 + _l && x > x1 + _l && x > x2 + _l || x < x0 - _l && x < x1 - _l && x < x2 - _l) {\n    return false;\n  }\n\n  var d = quadraticProjectPoint(x0, y0, x1, y1, x2, y2, x, y, null);\n  return d <= _l / 2;\n}\n\nexports.containStroke = containStroke;","var _util = require(\"./util\");\n\nvar normalizeRadian = _util.normalizeRadian;\nvar PI2 = Math.PI * 2;\n/**\n * \n * @param  {number}  cx\n * @param  {number}  cy\n * @param  {number}  r\n * @param  {number}  startAngle\n * @param  {number}  endAngle\n * @param  {boolean}  anticlockwise\n * @param  {number} lineWidth\n * @param  {number}  x\n * @param  {number}  y\n * @return {Boolean}\n */\n\nfunction containStroke(cx, cy, r, startAngle, endAngle, anticlockwise, lineWidth, x, y) {\n  if (lineWidth === 0) {\n    return false;\n  }\n\n  var _l = lineWidth;\n  x -= cx;\n  y -= cy;\n  var d = Math.sqrt(x * x + y * y);\n\n  if (d - _l > r || d + _l < r) {\n    return false;\n  }\n\n  if (Math.abs(startAngle - endAngle) % PI2 < 1e-4) {\n    // Is a circle\n    return true;\n  }\n\n  if (anticlockwise) {\n    var tmp = startAngle;\n    startAngle = normalizeRadian(endAngle);\n    endAngle = normalizeRadian(tmp);\n  } else {\n    startAngle = normalizeRadian(startAngle);\n    endAngle = normalizeRadian(endAngle);\n  }\n\n  if (startAngle > endAngle) {\n    endAngle += PI2;\n  }\n\n  var angle = Math.atan2(y, x);\n\n  if (angle < 0) {\n    angle += PI2;\n  }\n\n  return angle >= startAngle && angle <= endAngle || angle + PI2 >= startAngle && angle + PI2 <= endAngle;\n}\n\nexports.containStroke = containStroke;","var PathProxy = require(\"../core/PathProxy\");\n\nvar _vector = require(\"../core/vector\");\n\nvar v2ApplyTransform = _vector.applyTransform;\nvar CMD = PathProxy.CMD;\nvar points = [[], [], []];\nvar mathSqrt = Math.sqrt;\nvar mathAtan2 = Math.atan2;\n\nfunction _default(path, m) {\n  var data = path.data;\n  var cmd;\n  var nPoint;\n  var i;\n  var j;\n  var k;\n  var p;\n  var M = CMD.M;\n  var C = CMD.C;\n  var L = CMD.L;\n  var R = CMD.R;\n  var A = CMD.A;\n  var Q = CMD.Q;\n\n  for (i = 0, j = 0; i < data.length;) {\n    cmd = data[i++];\n    j = i;\n    nPoint = 0;\n\n    switch (cmd) {\n      case M:\n        nPoint = 1;\n        break;\n\n      case L:\n        nPoint = 1;\n        break;\n\n      case C:\n        nPoint = 3;\n        break;\n\n      case Q:\n        nPoint = 2;\n        break;\n\n      case A:\n        var x = m[4];\n        var y = m[5];\n        var sx = mathSqrt(m[0] * m[0] + m[1] * m[1]);\n        var sy = mathSqrt(m[2] * m[2] + m[3] * m[3]);\n        var angle = mathAtan2(-m[1] / sy, m[0] / sx); // cx\n\n        data[i] *= sx;\n        data[i++] += x; // cy\n\n        data[i] *= sy;\n        data[i++] += y; // Scale rx and ry\n        // FIXME Assume psi is 0 here\n\n        data[i++] *= sx;\n        data[i++] *= sy; // Start angle\n\n        data[i++] += angle; // end angle\n\n        data[i++] += angle; // FIXME psi\n\n        i += 2;\n        j = i;\n        break;\n\n      case R:\n        // x0, y0\n        p[0] = data[i++];\n        p[1] = data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1]; // x1, y1\n\n        p[0] += data[i++];\n        p[1] += data[i++];\n        v2ApplyTransform(p, p, m);\n        data[j++] = p[0];\n        data[j++] = p[1];\n    }\n\n    for (k = 0; k < nPoint; k++) {\n      var p = points[k];\n      p[0] = data[i++];\n      p[1] = data[i++];\n      v2ApplyTransform(p, p, m); // Write back\n\n      data[j++] = p[0];\n      data[j++] = p[1];\n    }\n  }\n}\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar fixClipWithShadow = require(\"../helper/fixClipWithShadow\");\n/**\n * \n * @module zrender/graphic/shape/Sector\n */\n\n\nvar _default = Path.extend({\n  type: 'sector',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r0: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  brush: fixClipWithShadow(Path.prototype.brush),\n  buildPath: function buildPath(ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r0 = Math.max(shape.r0 || 0, 0);\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r0 + x, unitY * r0 + y);\n    ctx.lineTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n    ctx.lineTo(Math.cos(endAngle) * r0 + x, Math.sin(endAngle) * r0 + y);\n\n    if (r0 !== 0) {\n      ctx.arc(x, y, r0, endAngle, startAngle, clockwise);\n    }\n\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n/**\n * \n * @module zrender/graphic/shape/Ring\n */\n\n\nvar _default = Path.extend({\n  type: 'ring',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    r0: 0\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var PI2 = Math.PI * 2;\n    ctx.moveTo(x + shape.r, y);\n    ctx.arc(x, y, shape.r, 0, PI2, false);\n    ctx.moveTo(x + shape.r0, y);\n    ctx.arc(x, y, shape.r0, 0, PI2, true);\n  }\n});\n\nmodule.exports = _default;","var _vector = require(\"../../core/vector\");\n\nvar v2Distance = _vector.distance;\n/**\n * Catmull-Rom spline \n * @module zrender/shape/util/smoothSpline\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * @inner\n */\n\nfunction interpolate(p0, p1, p2, p3, t, t2, t3) {\n  var v0 = (p2 - p0) * 0.5;\n  var v1 = (p3 - p1) * 0.5;\n  return (2 * (p1 - p2) + v0 + v1) * t3 + (-3 * (p1 - p2) - 2 * v0 - v1) * t2 + v0 * t + p1;\n}\n/**\n * @alias module:zrender/shape/util/smoothSpline\n * @param {Array} points \n * @param {boolean} isLoop\n * @return {Array}\n */\n\n\nfunction _default(points, isLoop) {\n  var len = points.length;\n  var ret = [];\n  var distance = 0;\n\n  for (var i = 1; i < len; i++) {\n    distance += v2Distance(points[i - 1], points[i]);\n  }\n\n  var segs = distance / 2;\n  segs = segs < len ? len : segs;\n\n  for (var i = 0; i < segs; i++) {\n    var pos = i / (segs - 1) * (isLoop ? len : len - 1);\n    var idx = Math.floor(pos);\n    var w = pos - idx;\n    var p0;\n    var p1 = points[idx % len];\n    var p2;\n    var p3;\n\n    if (!isLoop) {\n      p0 = points[idx === 0 ? idx : idx - 1];\n      p2 = points[idx > len - 2 ? len - 1 : idx + 1];\n      p3 = points[idx > len - 3 ? len - 1 : idx + 2];\n    } else {\n      p0 = points[(idx - 1 + len) % len];\n      p2 = points[(idx + 1) % len];\n      p3 = points[(idx + 2) % len];\n    }\n\n    var w2 = w * w;\n    var w3 = w * w2;\n    ret.push([interpolate(p0[0], p1[0], p2[0], p3[0], w, w2, w3), interpolate(p0[1], p1[1], p2[1], p3[1], w, w2, w3)]);\n  }\n\n  return ret;\n}\n\nmodule.exports = _default;","var _vector = require(\"../../core/vector\");\n\nvar v2Min = _vector.min;\nvar v2Max = _vector.max;\nvar v2Scale = _vector.scale;\nvar v2Distance = _vector.distance;\nvar v2Add = _vector.add;\nvar v2Clone = _vector.clone;\nvar v2Sub = _vector.sub;\n/**\n * \n * @module zrender/shape/util/smoothBezier\n * @author pissang (https://www.github.com/pissang)\n *         Kener (@Kener-, kener.linfeng@gmail.com)\n *         errorrik (errorrik@gmail.com)\n */\n\n/**\n * \n * @alias module:zrender/shape/util/smoothBezier\n * @param {Array} points \n * @param {number} smooth , 0-1\n * @param {boolean} isLoop\n * @param {Array} constraint \n *                            [[0, 0], [100, 100]], \n *                           \n * @param {Array} \n */\n\nfunction _default(points, smooth, isLoop, constraint) {\n  var cps = [];\n  var v = [];\n  var v1 = [];\n  var v2 = [];\n  var prevPoint;\n  var nextPoint;\n  var min;\n  var max;\n\n  if (constraint) {\n    min = [Infinity, Infinity];\n    max = [-Infinity, -Infinity];\n\n    for (var i = 0, len = points.length; i < len; i++) {\n      v2Min(min, min, points[i]);\n      v2Max(max, max, points[i]);\n    } // \n\n\n    v2Min(min, min, constraint[0]);\n    v2Max(max, max, constraint[1]);\n  }\n\n  for (var i = 0, len = points.length; i < len; i++) {\n    var point = points[i];\n\n    if (isLoop) {\n      prevPoint = points[i ? i - 1 : len - 1];\n      nextPoint = points[(i + 1) % len];\n    } else {\n      if (i === 0 || i === len - 1) {\n        cps.push(v2Clone(points[i]));\n        continue;\n      } else {\n        prevPoint = points[i - 1];\n        nextPoint = points[i + 1];\n      }\n    }\n\n    v2Sub(v, nextPoint, prevPoint); // use degree to scale the handle length\n\n    v2Scale(v, v, smooth);\n    var d0 = v2Distance(point, prevPoint);\n    var d1 = v2Distance(point, nextPoint);\n    var sum = d0 + d1;\n\n    if (sum !== 0) {\n      d0 /= sum;\n      d1 /= sum;\n    }\n\n    v2Scale(v1, v, -d0);\n    v2Scale(v2, v, d1);\n    var cp0 = v2Add([], point, v1);\n    var cp1 = v2Add([], point, v2);\n\n    if (constraint) {\n      v2Max(cp0, cp0, min);\n      v2Min(cp0, cp0, max);\n      v2Max(cp1, cp1, min);\n      v2Min(cp1, cp1, max);\n    }\n\n    cps.push(cp0);\n    cps.push(cp1);\n  }\n\n  if (isLoop) {\n    cps.push(cps.shift());\n  }\n\n  return cps;\n}\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n\nvar vec2 = require(\"../../core/vector\");\n\nvar _curve = require(\"../../core/curve\");\n\nvar quadraticSubdivide = _curve.quadraticSubdivide;\nvar cubicSubdivide = _curve.cubicSubdivide;\nvar quadraticAt = _curve.quadraticAt;\nvar cubicAt = _curve.cubicAt;\nvar quadraticDerivativeAt = _curve.quadraticDerivativeAt;\nvar cubicDerivativeAt = _curve.cubicDerivativeAt;\n/**\n * \n * @module zrender/shape/BezierCurve\n */\n\nvar out = [];\n\nfunction someVectorAt(shape, t, isTangent) {\n  var cpx2 = shape.cpx2;\n  var cpy2 = shape.cpy2;\n\n  if (cpx2 === null || cpy2 === null) {\n    return [(isTangent ? cubicDerivativeAt : cubicAt)(shape.x1, shape.cpx1, shape.cpx2, shape.x2, t), (isTangent ? cubicDerivativeAt : cubicAt)(shape.y1, shape.cpy1, shape.cpy2, shape.y2, t)];\n  } else {\n    return [(isTangent ? quadraticDerivativeAt : quadraticAt)(shape.x1, shape.cpx1, shape.x2, t), (isTangent ? quadraticDerivativeAt : quadraticAt)(shape.y1, shape.cpy1, shape.y2, t)];\n  }\n}\n\nvar _default = Path.extend({\n  type: 'bezier-curve',\n  shape: {\n    x1: 0,\n    y1: 0,\n    x2: 0,\n    y2: 0,\n    cpx1: 0,\n    cpy1: 0,\n    // cpx2: 0,\n    // cpy2: 0\n    // Curve show percent, for animating\n    percent: 1\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var x1 = shape.x1;\n    var y1 = shape.y1;\n    var x2 = shape.x2;\n    var y2 = shape.y2;\n    var cpx1 = shape.cpx1;\n    var cpy1 = shape.cpy1;\n    var cpx2 = shape.cpx2;\n    var cpy2 = shape.cpy2;\n    var percent = shape.percent;\n\n    if (percent === 0) {\n      return;\n    }\n\n    ctx.moveTo(x1, y1);\n\n    if (cpx2 == null || cpy2 == null) {\n      if (percent < 1) {\n        quadraticSubdivide(x1, cpx1, x2, percent, out);\n        cpx1 = out[1];\n        x2 = out[2];\n        quadraticSubdivide(y1, cpy1, y2, percent, out);\n        cpy1 = out[1];\n        y2 = out[2];\n      }\n\n      ctx.quadraticCurveTo(cpx1, cpy1, x2, y2);\n    } else {\n      if (percent < 1) {\n        cubicSubdivide(x1, cpx1, cpx2, x2, percent, out);\n        cpx1 = out[1];\n        cpx2 = out[2];\n        x2 = out[3];\n        cubicSubdivide(y1, cpy1, cpy2, y2, percent, out);\n        cpy1 = out[1];\n        cpy2 = out[2];\n        y2 = out[3];\n      }\n\n      ctx.bezierCurveTo(cpx1, cpy1, cpx2, cpy2, x2, y2);\n    }\n  },\n\n  /**\n   * Get point at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  pointAt: function pointAt(t) {\n    return someVectorAt(this.shape, t, false);\n  },\n\n  /**\n   * Get tangent at percent\n   * @param  {number} t\n   * @return {Array.<number>}\n   */\n  tangentAt: function tangentAt(t) {\n    var p = someVectorAt(this.shape, t, true);\n    return vec2.normalize(p, p);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"../Path\");\n/**\n * \n * @module zrender/graphic/shape/Arc\n */\n\n\nvar _default = Path.extend({\n  type: 'arc',\n  shape: {\n    cx: 0,\n    cy: 0,\n    r: 0,\n    startAngle: 0,\n    endAngle: Math.PI * 2,\n    clockwise: true\n  },\n  style: {\n    stroke: '#000',\n    fill: null\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var x = shape.cx;\n    var y = shape.cy;\n    var r = Math.max(shape.r, 0);\n    var startAngle = shape.startAngle;\n    var endAngle = shape.endAngle;\n    var clockwise = shape.clockwise;\n    var unitX = Math.cos(startAngle);\n    var unitY = Math.sin(startAngle);\n    ctx.moveTo(unitX * r + x, unitY * r + y);\n    ctx.arc(x, y, r, startAngle, endAngle, !clockwise);\n  }\n});\n\nmodule.exports = _default;","var Path = require(\"./Path\"); // CompoundPath to improve performance\n\n\nvar _default = Path.extend({\n  type: 'compound',\n  shape: {\n    paths: null\n  },\n  _updatePathDirty: function _updatePathDirty() {\n    var dirtyPath = this.__dirtyPath;\n    var paths = this.shape.paths;\n\n    for (var i = 0; i < paths.length; i++) {\n      // Mark as dirty if any subpath is dirty\n      dirtyPath = dirtyPath || paths[i].__dirtyPath;\n    }\n\n    this.__dirtyPath = dirtyPath;\n    this.__dirty = this.__dirty || dirtyPath;\n  },\n  beforeBrush: function beforeBrush() {\n    this._updatePathDirty();\n\n    var paths = this.shape.paths || [];\n    var scale = this.getGlobalScale(); // Update path scale\n\n    for (var i = 0; i < paths.length; i++) {\n      if (!paths[i].path) {\n        paths[i].createPathProxy();\n      }\n\n      paths[i].path.setScale(scale[0], scale[1], paths[i].segmentIgnoreThreshold);\n    }\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var paths = shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].buildPath(ctx, paths[i].shape, true);\n    }\n  },\n  afterBrush: function afterBrush() {\n    var paths = this.shape.paths || [];\n\n    for (var i = 0; i < paths.length; i++) {\n      paths[i].__dirtyPath = false;\n    }\n  },\n  getBoundingRect: function getBoundingRect() {\n    this._updatePathDirty();\n\n    return Path.prototype.getBoundingRect.call(this);\n  }\n});\n\nmodule.exports = _default;","var zrUtil = require(\"../core/util\");\n\nvar Gradient = require(\"./Gradient\");\n/**\n * x, y, r are all percent from 0 to 1\n * @param {number} [x=0.5]\n * @param {number} [y=0.5]\n * @param {number} [r=0.5]\n * @param {Array.<Object>} [colorStops]\n * @param {boolean} [globalCoord=false]\n */\n\n\nvar RadialGradient = function RadialGradient(x, y, r, colorStops, globalCoord) {\n  // Should do nothing more in this constructor. Because gradient can be\n  // declard by `color: {type: 'radial', colorStops: ...}`, where\n  // this constructor will not be called.\n  this.x = x == null ? 0.5 : x;\n  this.y = y == null ? 0.5 : y;\n  this.r = r == null ? 0.5 : r; // Can be cloned\n\n  this.type = 'radial'; // If use global coord\n\n  this.global = globalCoord || false;\n  Gradient.call(this, colorStops);\n};\n\nRadialGradient.prototype = {\n  constructor: RadialGradient\n};\nzrUtil.inherits(RadialGradient, Gradient);\nvar _default = RadialGradient;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar makeStyleMapper = require(\"./makeStyleMapper\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar _getItemStyle = makeStyleMapper([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]);\n\nvar _default = {\n  getItemStyle: function getItemStyle(excludes, includes) {\n    var style = _getItemStyle(this, excludes, includes);\n\n    var lineDash = this.getBorderLineDash();\n    lineDash && (style.lineDash = lineDash);\n    return style;\n  },\n  getBorderLineDash: function getBorderLineDash() {\n    var lineType = this.get('borderType');\n    return lineType === 'solid' || lineType == null ? null : lineType === 'dashed' ? [5, 5] : [1, 1];\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _default = {\n  getBoxLayoutParams: function getBoxLayoutParams() {\n    return {\n      left: this.get('left'),\n      top: this.get('top'),\n      right: this.get('right'),\n      bottom: this.get('bottom'),\n      width: this.get('width'),\n      height: this.get('height')\n    };\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar platform = ''; // Navigator not exists in node\n\nif (typeof navigator !== 'undefined') {\n  platform = navigator.platform || '';\n}\n\nvar _default = {\n  // backgroundColor: 'rgba(0,0,0,0)',\n  // https://dribbble.com/shots/1065960-Infographic-Pie-chart-visualization\n  // color: ['#5793f3', '#d14a61', '#fd9c35', '#675bba', '#fec42c', '#dd4444', '#d4df5a', '#cd4870'],\n  // Light colors:\n  // color: ['#bcd3bb', '#e88f70', '#edc1a5', '#9dc5c8', '#e1e8c8', '#7b7c68', '#e5b5b5', '#f0b489', '#928ea8', '#bda29a'],\n  // color: ['#cc5664', '#9bd6ec', '#ea946e', '#8acaaa', '#f1ec64', '#ee8686', '#a48dc1', '#5da6bc', '#b9dcae'],\n  // Dark colors:\n  color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'],\n  gradientColor: ['#f6efa6', '#d88273', '#bf444c'],\n  // If xAxis and yAxis declared, grid is created by default.\n  // grid: {},\n  textStyle: {\n    // color: '#000',\n    // decoration: 'none',\n    // PENDING\n    fontFamily: platform.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif',\n    // fontFamily: 'Arial, Verdana, sans-serif',\n    fontSize: 12,\n    fontStyle: 'normal',\n    fontWeight: 'normal'\n  },\n  // http://blogs.adobe.com/webplatform/2014/02/24/using-blend-modes-in-html-canvas/\n  // https://developer.mozilla.org/en-US/docs/Web/API/CanvasRenderingContext2D/globalCompositeOperation\n  // Default is source-over\n  blendMode: null,\n  animation: 'auto',\n  animationDuration: 1000,\n  animationDurationUpdate: 300,\n  animationEasing: 'exponentialOut',\n  animationEasingUpdate: 'cubicOut',\n  animationThreshold: 2000,\n  // Configuration for progressive/incremental rendering\n  progressiveThreshold: 3000,\n  progressive: 400,\n  // Threshold of if use single hover layer to optimize.\n  // It is recommended that `hoverLayerThreshold` is equivalent to or less than\n  // `progressiveThreshold`, otherwise hover will cause restart of progressive,\n  // which is unexpected.\n  // see example <echarts/test/heatmap-large.html>.\n  hoverLayerThreshold: 3000,\n  // See: module:echarts/scale/Time\n  useUTC: false\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../util/model\");\n\nvar ComponentModel = require(\"./Component\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * ECharts option manager\n *\n * @module {echarts/model/OptionManager}\n */\n\n\nvar each = zrUtil.each;\nvar clone = zrUtil.clone;\nvar map = zrUtil.map;\nvar merge = zrUtil.merge;\nvar QUERY_REG = /^(min|max)?(.+)$/;\n/**\n * TERM EXPLANATIONS:\n *\n * [option]:\n *\n *     An object that contains definitions of components. For example:\n *     var option = {\n *         title: {...},\n *         legend: {...},\n *         visualMap: {...},\n *         series: [\n *             {data: [...]},\n *             {data: [...]},\n *             ...\n *         ]\n *     };\n *\n * [rawOption]:\n *\n *     An object input to echarts.setOption. 'rawOption' may be an\n *     'option', or may be an object contains multi-options. For example:\n *     var option = {\n *         baseOption: {\n *             title: {...},\n *             legend: {...},\n *             series: [\n *                 {data: [...]},\n *                 {data: [...]},\n *                 ...\n *             ]\n *         },\n *         timeline: {...},\n *         options: [\n *             {title: {...}, series: {data: [...]}},\n *             {title: {...}, series: {data: [...]}},\n *             ...\n *         ],\n *         media: [\n *             {\n *                 query: {maxWidth: 320},\n *                 option: {series: {x: 20}, visualMap: {show: false}}\n *             },\n *             {\n *                 query: {minWidth: 320, maxWidth: 720},\n *                 option: {series: {x: 500}, visualMap: {show: true}}\n *             },\n *             {\n *                 option: {series: {x: 1200}, visualMap: {show: true}}\n *             }\n *         ]\n *     };\n *\n * @alias module:echarts/model/OptionManager\n * @param {module:echarts/ExtensionAPI} api\n */\n\nfunction OptionManager(api) {\n  /**\n   * @private\n   * @type {module:echarts/ExtensionAPI}\n   */\n  this._api = api;\n  /**\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._timelineOptions = [];\n  /**\n   * @private\n   * @type {Array.<Object>}\n   */\n\n  this._mediaList = [];\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._mediaDefault;\n  /**\n   * -1, means default.\n   * empty means no media.\n   * @private\n   * @type {Array.<number>}\n   */\n\n  this._currentMediaIndices = [];\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._optionBackup;\n  /**\n   * @private\n   * @type {Object}\n   */\n\n  this._newBaseOption;\n} // timeline.notMerge is not supported in ec3. Firstly there is rearly\n// case that notMerge is needed. Secondly supporting 'notMerge' requires\n// rawOption cloned and backuped when timeline changed, which does no\n// good to performance. What's more, that both timeline and setOption\n// method supply 'notMerge' brings complex and some problems.\n// Consider this case:\n// (step1) chart.setOption({timeline: {notMerge: false}, ...}, false);\n// (step2) chart.setOption({timeline: {notMerge: true}, ...}, false);\n\n\nOptionManager.prototype = {\n  constructor: OptionManager,\n\n  /**\n   * @public\n   * @param {Object} rawOption Raw option.\n   * @param {module:echarts/model/Global} ecModel\n   * @param {Array.<Function>} optionPreprocessorFuncs\n   * @return {Object} Init option\n   */\n  setOption: function setOption(rawOption, optionPreprocessorFuncs) {\n    if (rawOption) {\n      // That set dat primitive is dangerous if user reuse the data when setOption again.\n      zrUtil.each(modelUtil.normalizeToArray(rawOption.series), function (series) {\n        series && series.data && zrUtil.isTypedArray(series.data) && zrUtil.setAsPrimitive(series.data);\n      });\n    } // Caution: some series modify option data, if do not clone,\n    // it should ensure that the repeat modify correctly\n    // (create a new object when modify itself).\n\n\n    rawOption = clone(rawOption); // FIXME\n    //  timeline options  media baseOption\n\n    var oldOptionBackup = this._optionBackup;\n    var newParsedOption = parseRawOption.call(this, rawOption, optionPreprocessorFuncs, !oldOptionBackup);\n    this._newBaseOption = newParsedOption.baseOption; // For setOption at second time (using merge mode);\n\n    if (oldOptionBackup) {\n      // Only baseOption can be merged.\n      mergeOption(oldOptionBackup.baseOption, newParsedOption.baseOption); // For simplicity, timeline options and media options do not support merge,\n      // that is, if you `setOption` twice and both has timeline options, the latter\n      // timeline opitons will not be merged to the formers, but just substitude them.\n\n      if (newParsedOption.timelineOptions.length) {\n        oldOptionBackup.timelineOptions = newParsedOption.timelineOptions;\n      }\n\n      if (newParsedOption.mediaList.length) {\n        oldOptionBackup.mediaList = newParsedOption.mediaList;\n      }\n\n      if (newParsedOption.mediaDefault) {\n        oldOptionBackup.mediaDefault = newParsedOption.mediaDefault;\n      }\n    } else {\n      this._optionBackup = newParsedOption;\n    }\n  },\n\n  /**\n   * @param {boolean} isRecreate\n   * @return {Object}\n   */\n  mountOption: function mountOption(isRecreate) {\n    var optionBackup = this._optionBackup; // TODO\n    // resetclone\n\n    this._timelineOptions = map(optionBackup.timelineOptions, clone);\n    this._mediaList = map(optionBackup.mediaList, clone);\n    this._mediaDefault = clone(optionBackup.mediaDefault);\n    this._currentMediaIndices = [];\n    return clone(isRecreate // this._optionBackup.baseOption, which is created at the first `setOption`\n    // called, and is merged into every new option by inner method `mergeOption`\n    // each time `setOption` called, can be only used in `isRecreate`, because\n    // its reliability is under suspicion. In other cases option merge is\n    // performed by `model.mergeOption`.\n    ? optionBackup.baseOption : this._newBaseOption);\n  },\n\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Object}\n   */\n  getTimelineOption: function getTimelineOption(ecModel) {\n    var option;\n    var timelineOptions = this._timelineOptions;\n\n    if (timelineOptions.length) {\n      // getTimelineOption can only be called after ecModel inited,\n      // so we can get currentIndex from timelineModel.\n      var timelineModel = ecModel.getComponent('timeline');\n\n      if (timelineModel) {\n        option = clone(timelineOptions[timelineModel.getCurrentIndex()], true);\n      }\n    }\n\n    return option;\n  },\n\n  /**\n   * @param {module:echarts/model/Global} ecModel\n   * @return {Array.<Object>}\n   */\n  getMediaOption: function getMediaOption(ecModel) {\n    var ecWidth = this._api.getWidth();\n\n    var ecHeight = this._api.getHeight();\n\n    var mediaList = this._mediaList;\n    var mediaDefault = this._mediaDefault;\n    var indices = [];\n    var result = []; // No media defined.\n\n    if (!mediaList.length && !mediaDefault) {\n      return result;\n    } // Multi media may be applied, the latter defined media has higher priority.\n\n\n    for (var i = 0, len = mediaList.length; i < len; i++) {\n      if (applyMediaQuery(mediaList[i].query, ecWidth, ecHeight)) {\n        indices.push(i);\n      }\n    } // FIXME\n    // mediaDefault\n\n\n    if (!indices.length && mediaDefault) {\n      indices = [-1];\n    }\n\n    if (indices.length && !indicesEquals(indices, this._currentMediaIndices)) {\n      result = map(indices, function (index) {\n        return clone(index === -1 ? mediaDefault.option : mediaList[index].option);\n      });\n    } // Otherwise return nothing.\n\n\n    this._currentMediaIndices = indices;\n    return result;\n  }\n};\n\nfunction parseRawOption(rawOption, optionPreprocessorFuncs, isNew) {\n  var timelineOptions = [];\n  var mediaList = [];\n  var mediaDefault;\n  var baseOption; // Compatible with ec2.\n\n  var timelineOpt = rawOption.timeline;\n\n  if (rawOption.baseOption) {\n    baseOption = rawOption.baseOption;\n  } // For timeline\n\n\n  if (timelineOpt || rawOption.options) {\n    baseOption = baseOption || {};\n    timelineOptions = (rawOption.options || []).slice();\n  } // For media query\n\n\n  if (rawOption.media) {\n    baseOption = baseOption || {};\n    var media = rawOption.media;\n    each(media, function (singleMedia) {\n      if (singleMedia && singleMedia.option) {\n        if (singleMedia.query) {\n          mediaList.push(singleMedia);\n        } else if (!mediaDefault) {\n          // Use the first media default.\n          mediaDefault = singleMedia;\n        }\n      }\n    });\n  } // For normal option\n\n\n  if (!baseOption) {\n    baseOption = rawOption;\n  } // Set timelineOpt to baseOption in ec3,\n  // which is convenient for merge option.\n\n\n  if (!baseOption.timeline) {\n    baseOption.timeline = timelineOpt;\n  } // Preprocess.\n\n\n  each([baseOption].concat(timelineOptions).concat(zrUtil.map(mediaList, function (media) {\n    return media.option;\n  })), function (option) {\n    each(optionPreprocessorFuncs, function (preProcess) {\n      preProcess(option, isNew);\n    });\n  });\n  return {\n    baseOption: baseOption,\n    timelineOptions: timelineOptions,\n    mediaDefault: mediaDefault,\n    mediaList: mediaList\n  };\n}\n/**\n * @see <http://www.w3.org/TR/css3-mediaqueries/#media1>\n * Support: width, height, aspectRatio\n * Can use max or min as prefix.\n */\n\n\nfunction applyMediaQuery(query, ecWidth, ecHeight) {\n  var realMap = {\n    width: ecWidth,\n    height: ecHeight,\n    aspectratio: ecWidth / ecHeight // lowser case for convenientce.\n\n  };\n  var applicatable = true;\n  zrUtil.each(query, function (value, attr) {\n    var matched = attr.match(QUERY_REG);\n\n    if (!matched || !matched[1] || !matched[2]) {\n      return;\n    }\n\n    var operator = matched[1];\n    var realAttr = matched[2].toLowerCase();\n\n    if (!compare(realMap[realAttr], value, operator)) {\n      applicatable = false;\n    }\n  });\n  return applicatable;\n}\n\nfunction compare(real, expect, operator) {\n  if (operator === 'min') {\n    return real >= expect;\n  } else if (operator === 'max') {\n    return real <= expect;\n  } else {\n    // Equals\n    return real === expect;\n  }\n}\n\nfunction indicesEquals(indices1, indices2) {\n  // indices is always order by asc and has only finite number.\n  return indices1.join(',') === indices2.join(',');\n}\n/**\n * Consider case:\n * `chart.setOption(opt1);`\n * Then user do some interaction like dataZoom, dataView changing.\n * `chart.setOption(opt2);`\n * Then user press 'reset button' in toolbox.\n *\n * After doing that all of the interaction effects should be reset, the\n * chart should be the same as the result of invoke\n * `chart.setOption(opt1); chart.setOption(opt2);`.\n *\n * Although it is not able ensure that\n * `chart.setOption(opt1); chart.setOption(opt2);` is equivalents to\n * `chart.setOption(merge(opt1, opt2));` exactly,\n * this might be the only simple way to implement that feature.\n *\n * MEMO: We've considered some other approaches:\n * 1. Each model handle its self restoration but not uniform treatment.\n *     (Too complex in logic and error-prone)\n * 2. Use a shadow ecModel. (Performace expensive)\n */\n\n\nfunction mergeOption(oldOption, newOption) {\n  newOption = newOption || {};\n  each(newOption, function (newCptOpt, mainType) {\n    if (newCptOpt == null) {\n      return;\n    }\n\n    var oldCptOpt = oldOption[mainType];\n\n    if (!ComponentModel.hasClass(mainType)) {\n      oldOption[mainType] = merge(oldCptOpt, newCptOpt, true);\n    } else {\n      newCptOpt = modelUtil.normalizeToArray(newCptOpt);\n      oldCptOpt = modelUtil.normalizeToArray(oldCptOpt);\n      var mapResult = modelUtil.mappingToExists(oldCptOpt, newCptOpt);\n      oldOption[mainType] = map(mapResult, function (item) {\n        return item.option && item.exist ? merge(item.exist, item.option, true) : item.exist || item.option;\n      });\n    }\n  });\n}\n\nvar _default = OptionManager;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar isArray = _util.isArray;\nvar isObject = _util.isObject;\n\nvar compatStyle = require(\"./helper/compatStyle\");\n\nvar _model = require(\"../util/model\");\n\nvar normalizeToArray = _model.normalizeToArray;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// Compatitable with 2.0\n\nfunction get(opt, path) {\n  path = path.split(',');\n  var obj = opt;\n\n  for (var i = 0; i < path.length; i++) {\n    obj = obj && obj[path[i]];\n\n    if (obj == null) {\n      break;\n    }\n  }\n\n  return obj;\n}\n\nfunction set(opt, path, val, overwrite) {\n  path = path.split(',');\n  var obj = opt;\n  var key;\n\n  for (var i = 0; i < path.length - 1; i++) {\n    key = path[i];\n\n    if (obj[key] == null) {\n      obj[key] = {};\n    }\n\n    obj = obj[key];\n  }\n\n  if (overwrite || obj[path[i]] == null) {\n    obj[path[i]] = val;\n  }\n}\n\nfunction compatLayoutProperties(option) {\n  each(LAYOUT_PROPERTIES, function (prop) {\n    if (prop[0] in option && !(prop[1] in option)) {\n      option[prop[1]] = option[prop[0]];\n    }\n  });\n}\n\nvar LAYOUT_PROPERTIES = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']];\nvar COMPATITABLE_COMPONENTS = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline'];\n\nfunction _default(option, isTheme) {\n  compatStyle(option, isTheme); // Make sure series array for model initialization.\n\n  option.series = normalizeToArray(option.series);\n  each(option.series, function (seriesOpt) {\n    if (!isObject(seriesOpt)) {\n      return;\n    }\n\n    var seriesType = seriesOpt.type;\n\n    if (seriesType === 'line') {\n      if (seriesOpt.clipOverflow != null) {\n        seriesOpt.clip = seriesOpt.clipOverflow;\n      }\n    } else if (seriesType === 'pie' || seriesType === 'gauge') {\n      if (seriesOpt.clockWise != null) {\n        seriesOpt.clockwise = seriesOpt.clockWise;\n      }\n    } else if (seriesType === 'gauge') {\n      var pointerColor = get(seriesOpt, 'pointer.color');\n      pointerColor != null && set(seriesOpt, 'itemStyle.color', pointerColor);\n    }\n\n    compatLayoutProperties(seriesOpt);\n  }); // dataRange has changed to visualMap\n\n  if (option.dataRange) {\n    option.visualMap = option.dataRange;\n  }\n\n  each(COMPATITABLE_COMPONENTS, function (componentName) {\n    var options = option[componentName];\n\n    if (options) {\n      if (!isArray(options)) {\n        options = [options];\n      }\n\n      each(options, function (option) {\n        compatLayoutProperties(option);\n      });\n    }\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar modelUtil = require(\"../../util/model\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar POSSIBLE_STYLES = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine'];\n\nfunction compatEC2ItemStyle(opt) {\n  var itemStyleOpt = opt && opt.itemStyle;\n\n  if (!itemStyleOpt) {\n    return;\n  }\n\n  for (var i = 0, len = POSSIBLE_STYLES.length; i < len; i++) {\n    var styleName = POSSIBLE_STYLES[i];\n    var normalItemStyleOpt = itemStyleOpt.normal;\n    var emphasisItemStyleOpt = itemStyleOpt.emphasis;\n\n    if (normalItemStyleOpt && normalItemStyleOpt[styleName]) {\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].normal) {\n        opt[styleName].normal = normalItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].normal, normalItemStyleOpt[styleName]);\n      }\n\n      normalItemStyleOpt[styleName] = null;\n    }\n\n    if (emphasisItemStyleOpt && emphasisItemStyleOpt[styleName]) {\n      opt[styleName] = opt[styleName] || {};\n\n      if (!opt[styleName].emphasis) {\n        opt[styleName].emphasis = emphasisItemStyleOpt[styleName];\n      } else {\n        zrUtil.merge(opt[styleName].emphasis, emphasisItemStyleOpt[styleName]);\n      }\n\n      emphasisItemStyleOpt[styleName] = null;\n    }\n  }\n}\n\nfunction convertNormalEmphasis(opt, optType, useExtend) {\n  if (opt && opt[optType] && (opt[optType].normal || opt[optType].emphasis)) {\n    var normalOpt = opt[optType].normal;\n    var emphasisOpt = opt[optType].emphasis;\n\n    if (normalOpt) {\n      // Timeline controlStyle has other properties besides normal and emphasis\n      if (useExtend) {\n        opt[optType].normal = opt[optType].emphasis = null;\n        zrUtil.defaults(opt[optType], normalOpt);\n      } else {\n        opt[optType] = normalOpt;\n      }\n    }\n\n    if (emphasisOpt) {\n      opt.emphasis = opt.emphasis || {};\n      opt.emphasis[optType] = emphasisOpt;\n    }\n  }\n}\n\nfunction removeEC3NormalStatus(opt) {\n  convertNormalEmphasis(opt, 'itemStyle');\n  convertNormalEmphasis(opt, 'lineStyle');\n  convertNormalEmphasis(opt, 'areaStyle');\n  convertNormalEmphasis(opt, 'label');\n  convertNormalEmphasis(opt, 'labelLine'); // treemap\n\n  convertNormalEmphasis(opt, 'upperLabel'); // graph\n\n  convertNormalEmphasis(opt, 'edgeLabel');\n}\n\nfunction compatTextStyle(opt, propName) {\n  // Check whether is not object (string\\null\\undefined ...)\n  var labelOptSingle = isObject(opt) && opt[propName];\n  var textStyle = isObject(labelOptSingle) && labelOptSingle.textStyle;\n\n  if (textStyle) {\n    for (var i = 0, len = modelUtil.TEXT_STYLE_OPTIONS.length; i < len; i++) {\n      var propName = modelUtil.TEXT_STYLE_OPTIONS[i];\n\n      if (textStyle.hasOwnProperty(propName)) {\n        labelOptSingle[propName] = textStyle[propName];\n      }\n    }\n  }\n}\n\nfunction compatEC3CommonStyles(opt) {\n  if (opt) {\n    removeEC3NormalStatus(opt);\n    compatTextStyle(opt, 'label');\n    opt.emphasis && compatTextStyle(opt.emphasis, 'label');\n  }\n}\n\nfunction processSeries(seriesOpt) {\n  if (!isObject(seriesOpt)) {\n    return;\n  }\n\n  compatEC2ItemStyle(seriesOpt);\n  removeEC3NormalStatus(seriesOpt);\n  compatTextStyle(seriesOpt, 'label'); // treemap\n\n  compatTextStyle(seriesOpt, 'upperLabel'); // graph\n\n  compatTextStyle(seriesOpt, 'edgeLabel');\n\n  if (seriesOpt.emphasis) {\n    compatTextStyle(seriesOpt.emphasis, 'label'); // treemap\n\n    compatTextStyle(seriesOpt.emphasis, 'upperLabel'); // graph\n\n    compatTextStyle(seriesOpt.emphasis, 'edgeLabel');\n  }\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint) {\n    compatEC2ItemStyle(markPoint);\n    compatEC3CommonStyles(markPoint);\n  }\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine) {\n    compatEC2ItemStyle(markLine);\n    compatEC3CommonStyles(markLine);\n  }\n\n  var markArea = seriesOpt.markArea;\n\n  if (markArea) {\n    compatEC3CommonStyles(markArea);\n  }\n\n  var data = seriesOpt.data; // Break with ec3: if `setOption` again, there may be no `type` in option,\n  // then the backward compat based on option type will not be performed.\n\n  if (seriesOpt.type === 'graph') {\n    data = data || seriesOpt.nodes;\n    var edgeData = seriesOpt.links || seriesOpt.edges;\n\n    if (edgeData && !zrUtil.isTypedArray(edgeData)) {\n      for (var i = 0; i < edgeData.length; i++) {\n        compatEC3CommonStyles(edgeData[i]);\n      }\n    }\n\n    zrUtil.each(seriesOpt.categories, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  }\n\n  if (data && !zrUtil.isTypedArray(data)) {\n    for (var i = 0; i < data.length; i++) {\n      compatEC3CommonStyles(data[i]);\n    }\n  } // mark point data\n\n\n  var markPoint = seriesOpt.markPoint;\n\n  if (markPoint && markPoint.data) {\n    var mpData = markPoint.data;\n\n    for (var i = 0; i < mpData.length; i++) {\n      compatEC3CommonStyles(mpData[i]);\n    }\n  } // mark line data\n\n\n  var markLine = seriesOpt.markLine;\n\n  if (markLine && markLine.data) {\n    var mlData = markLine.data;\n\n    for (var i = 0; i < mlData.length; i++) {\n      if (zrUtil.isArray(mlData[i])) {\n        compatEC3CommonStyles(mlData[i][0]);\n        compatEC3CommonStyles(mlData[i][1]);\n      } else {\n        compatEC3CommonStyles(mlData[i]);\n      }\n    }\n  } // Series\n\n\n  if (seriesOpt.type === 'gauge') {\n    compatTextStyle(seriesOpt, 'axisLabel');\n    compatTextStyle(seriesOpt, 'title');\n    compatTextStyle(seriesOpt, 'detail');\n  } else if (seriesOpt.type === 'treemap') {\n    convertNormalEmphasis(seriesOpt.breadcrumb, 'itemStyle');\n    zrUtil.each(seriesOpt.levels, function (opt) {\n      removeEC3NormalStatus(opt);\n    });\n  } else if (seriesOpt.type === 'tree') {\n    removeEC3NormalStatus(seriesOpt.leaves);\n  } // sunburst starts from ec4, so it does not need to compat levels.\n\n}\n\nfunction toArr(o) {\n  return zrUtil.isArray(o) ? o : o ? [o] : [];\n}\n\nfunction toObj(o) {\n  return (zrUtil.isArray(o) ? o[0] : o) || {};\n}\n\nfunction _default(option, isTheme) {\n  each(toArr(option.series), function (seriesOpt) {\n    isObject(seriesOpt) && processSeries(seriesOpt);\n  });\n  var axes = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar'];\n  isTheme && axes.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis');\n  each(axes, function (axisName) {\n    each(toArr(option[axisName]), function (axisOpt) {\n      if (axisOpt) {\n        compatTextStyle(axisOpt, 'axisLabel');\n        compatTextStyle(axisOpt.axisPointer, 'label');\n      }\n    });\n  });\n  each(toArr(option.parallel), function (parallelOpt) {\n    var parallelAxisDefault = parallelOpt && parallelOpt.parallelAxisDefault;\n    compatTextStyle(parallelAxisDefault, 'axisLabel');\n    compatTextStyle(parallelAxisDefault && parallelAxisDefault.axisPointer, 'label');\n  });\n  each(toArr(option.calendar), function (calendarOpt) {\n    convertNormalEmphasis(calendarOpt, 'itemStyle');\n    compatTextStyle(calendarOpt, 'dayLabel');\n    compatTextStyle(calendarOpt, 'monthLabel');\n    compatTextStyle(calendarOpt, 'yearLabel');\n  }); // radar.name.textStyle\n\n  each(toArr(option.radar), function (radarOpt) {\n    compatTextStyle(radarOpt, 'name');\n  });\n  each(toArr(option.geo), function (geoOpt) {\n    if (isObject(geoOpt)) {\n      compatEC3CommonStyles(geoOpt);\n      each(toArr(geoOpt.regions), function (regionObj) {\n        compatEC3CommonStyles(regionObj);\n      });\n    }\n  });\n  each(toArr(option.timeline), function (timelineOpt) {\n    compatEC3CommonStyles(timelineOpt);\n    convertNormalEmphasis(timelineOpt, 'label');\n    convertNormalEmphasis(timelineOpt, 'itemStyle');\n    convertNormalEmphasis(timelineOpt, 'controlStyle', true);\n    var data = timelineOpt.data;\n    zrUtil.isArray(data) && zrUtil.each(data, function (item) {\n      if (zrUtil.isObject(item)) {\n        convertNormalEmphasis(item, 'label');\n        convertNormalEmphasis(item, 'itemStyle');\n      }\n    });\n  });\n  each(toArr(option.toolbox), function (toolboxOpt) {\n    convertNormalEmphasis(toolboxOpt, 'iconStyle');\n    each(toolboxOpt.feature, function (featureOpt) {\n      convertNormalEmphasis(featureOpt, 'iconStyle');\n    });\n  });\n  compatTextStyle(toObj(option.axisPointer), 'label');\n  compatTextStyle(toObj(option.tooltip).axisPointer, 'label');\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar each = _util.each;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// (1) [Caution]: the logic is correct based on the premises:\n//     data processing stage is blocked in stream.\n//     See <module:echarts/stream/Scheduler#performDataProcessorTasks>\n// (2) Only register once when import repeatly.\n//     Should be executed after series filtered and before stack calculation.\n\nfunction _default(ecModel) {\n  var stackInfoMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var stack = seriesModel.get('stack'); // Compatibal: when `stack` is set as '', do not stack.\n\n    if (stack) {\n      var stackInfoList = stackInfoMap.get(stack) || stackInfoMap.set(stack, []);\n      var data = seriesModel.getData();\n      var stackInfo = {\n        // Used for calculate axis extent automatically.\n        stackResultDimension: data.getCalculationInfo('stackResultDimension'),\n        stackedOverDimension: data.getCalculationInfo('stackedOverDimension'),\n        stackedDimension: data.getCalculationInfo('stackedDimension'),\n        stackedByDimension: data.getCalculationInfo('stackedByDimension'),\n        isStackedByIndex: data.getCalculationInfo('isStackedByIndex'),\n        data: data,\n        seriesModel: seriesModel\n      }; // If stacked on axis that do not support data stack.\n\n      if (!stackInfo.stackedDimension || !(stackInfo.isStackedByIndex || stackInfo.stackedByDimension)) {\n        return;\n      }\n\n      stackInfoList.length && data.setCalculationInfo('stackedOnSeries', stackInfoList[stackInfoList.length - 1].seriesModel);\n      stackInfoList.push(stackInfo);\n    }\n  });\n  stackInfoMap.each(calculateStack);\n}\n\nfunction calculateStack(stackInfoList) {\n  each(stackInfoList, function (targetStackInfo, idxInStack) {\n    var resultVal = [];\n    var resultNaN = [NaN, NaN];\n    var dims = [targetStackInfo.stackResultDimension, targetStackInfo.stackedOverDimension];\n    var targetData = targetStackInfo.data;\n    var isStackedByIndex = targetStackInfo.isStackedByIndex; // Should not write on raw data, because stack series model list changes\n    // depending on legend selection.\n\n    var newData = targetData.map(dims, function (v0, v1, dataIndex) {\n      var sum = targetData.get(targetStackInfo.stackedDimension, dataIndex); // Consider `connectNulls` of line area, if value is NaN, stackedOver\n      // should also be NaN, to draw a appropriate belt area.\n\n      if (isNaN(sum)) {\n        return resultNaN;\n      }\n\n      var byValue;\n      var stackedDataRawIndex;\n\n      if (isStackedByIndex) {\n        stackedDataRawIndex = targetData.getRawIndex(dataIndex);\n      } else {\n        byValue = targetData.get(targetStackInfo.stackedByDimension, dataIndex);\n      } // If stackOver is NaN, chart view will render point on value start.\n\n\n      var stackedOver = NaN;\n\n      for (var j = idxInStack - 1; j >= 0; j--) {\n        var stackInfo = stackInfoList[j]; // Has been optimized by inverted indices on `stackedByDimension`.\n\n        if (!isStackedByIndex) {\n          stackedDataRawIndex = stackInfo.data.rawIndexOf(stackInfo.stackedByDimension, byValue);\n        }\n\n        if (stackedDataRawIndex >= 0) {\n          var val = stackInfo.data.getByRawIndex(stackInfo.stackResultDimension, stackedDataRawIndex); // Considering positive stack, negative stack and empty data\n\n          if (sum >= 0 && val > 0 || // Positive stack\n          sum <= 0 && val < 0 // Negative stack\n          ) {\n              sum += val;\n              stackedOver = val;\n              break;\n            }\n        }\n      }\n\n      resultVal[0] = sum;\n      resultVal[1] = stackedOver;\n      return resultVal;\n    });\n    targetData.hostModel.setData(newData); // Update for consequent calculation\n\n    targetStackInfo.data = newData;\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _dataProvider = require(\"../../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n\nvar _format = require(\"../../util/format\");\n\nvar getTooltipMarker = _format.getTooltipMarker;\nvar formatTpl = _format.formatTpl;\n\nvar _model = require(\"../../util/model\");\n\nvar getTooltipRenderMode = _model.getTooltipRenderMode;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar DIMENSION_LABEL_REG = /\\{@(.+?)\\}/g; // PENDING A little ugly\n\nvar _default = {\n  /**\n   * Get params for formatter\n   * @param {number} dataIndex\n   * @param {string} [dataType]\n   * @return {Object}\n   */\n  getDataParams: function getDataParams(dataIndex, dataType) {\n    var data = this.getData(dataType);\n    var rawValue = this.getRawValue(dataIndex, dataType);\n    var rawDataIndex = data.getRawIndex(dataIndex);\n    var name = data.getName(dataIndex);\n    var itemOpt = data.getRawDataItem(dataIndex);\n    var color = data.getItemVisual(dataIndex, 'color');\n    var borderColor = data.getItemVisual(dataIndex, 'borderColor');\n    var tooltipModel = this.ecModel.getComponent('tooltip');\n    var renderModeOption = tooltipModel && tooltipModel.get('renderMode');\n    var renderMode = getTooltipRenderMode(renderModeOption);\n    var mainType = this.mainType;\n    var isSeries = mainType === 'series';\n    var userOutput = data.userOutput;\n    return {\n      componentType: mainType,\n      componentSubType: this.subType,\n      componentIndex: this.componentIndex,\n      seriesType: isSeries ? this.subType : null,\n      seriesIndex: this.seriesIndex,\n      seriesId: isSeries ? this.id : null,\n      seriesName: isSeries ? this.name : null,\n      name: name,\n      dataIndex: rawDataIndex,\n      data: itemOpt,\n      dataType: dataType,\n      value: rawValue,\n      color: color,\n      borderColor: borderColor,\n      dimensionNames: userOutput ? userOutput.dimensionNames : null,\n      encode: userOutput ? userOutput.encode : null,\n      marker: getTooltipMarker({\n        color: color,\n        renderMode: renderMode\n      }),\n      // Param name list for mapping `a`, `b`, `c`, `d`, `e`\n      $vars: ['seriesName', 'name', 'value']\n    };\n  },\n\n  /**\n   * Format label\n   * @param {number} dataIndex\n   * @param {string} [status='normal'] 'normal' or 'emphasis'\n   * @param {string} [dataType]\n   * @param {number} [dimIndex] Only used in some chart that\n   *        use formatter in different dimensions, like radar.\n   * @param {string} [labelProp='label']\n   * @return {string} If not formatter, return null/undefined\n   */\n  getFormattedLabel: function getFormattedLabel(dataIndex, status, dataType, dimIndex, labelProp) {\n    status = status || 'normal';\n    var data = this.getData(dataType);\n    var itemModel = data.getItemModel(dataIndex);\n    var params = this.getDataParams(dataIndex, dataType);\n\n    if (dimIndex != null && params.value instanceof Array) {\n      params.value = params.value[dimIndex];\n    }\n\n    var formatter = itemModel.get(status === 'normal' ? [labelProp || 'label', 'formatter'] : [status, labelProp || 'label', 'formatter']);\n\n    if (typeof formatter === 'function') {\n      params.status = status;\n      params.dimensionIndex = dimIndex;\n      return formatter(params);\n    } else if (typeof formatter === 'string') {\n      var str = formatTpl(formatter, params); // Support 'aaa{@[3]}bbb{@product}ccc'.\n      // Do not support '}' in dim name util have to.\n\n      return str.replace(DIMENSION_LABEL_REG, function (origin, dim) {\n        var len = dim.length;\n\n        if (dim.charAt(0) === '[' && dim.charAt(len - 1) === ']') {\n          dim = +dim.slice(1, len - 1); // Also: '[]' => 0\n        }\n\n        return retrieveRawValue(data, dataIndex, dim);\n      });\n    }\n  },\n\n  /**\n   * Get raw value in option\n   * @param {number} idx\n   * @param {string} [dataType]\n   * @return {Array|number|string}\n   */\n  getRawValue: function getRawValue(idx, dataType) {\n    return retrieveRawValue(this.getData(dataType), idx);\n  },\n\n  /**\n   * Should be implemented.\n   * @param {number} dataIndex\n   * @param {boolean} [multipleSeries=false]\n   * @param {number} [dataType]\n   * @return {string} tooltip string\n   */\n  formatTooltip: function formatTooltip() {// Empty function\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar Gradient = require(\"zrender/lib/graphic/Gradient\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar _default = {\n  createOnAllSeries: true,\n  performRawSeries: true,\n  reset: function reset(seriesModel, ecModel) {\n    var data = seriesModel.getData();\n    var colorAccessPath = (seriesModel.visualColorAccessPath || 'itemStyle.color').split('.');\n    var color = seriesModel.get(colorAccessPath) // Set in itemStyle\n    || seriesModel.getColorFromPalette( // TODO series count changed.\n    seriesModel.name, null, ecModel.getSeriesCount()); // Default color\n    // FIXME Set color function or use the platte color\n\n    data.setVisual('color', color);\n    var borderColorAccessPath = (seriesModel.visualBorderColorAccessPath || 'itemStyle.borderColor').split('.');\n    var borderColor = seriesModel.get(borderColorAccessPath);\n    data.setVisual('borderColor', borderColor); // Only visible series has each data be visual encoded\n\n    if (!ecModel.isSeriesFiltered(seriesModel)) {\n      if (typeof color === 'function' && !(color instanceof Gradient)) {\n        data.each(function (idx) {\n          data.setItemVisual(idx, 'color', color(seriesModel.getDataParams(idx)));\n        });\n      } // itemStyle in each data item\n\n\n      var dataEach = function dataEach(data, idx) {\n        var itemModel = data.getItemModel(idx);\n        var color = itemModel.get(colorAccessPath, true);\n        var borderColor = itemModel.get(borderColorAccessPath, true);\n\n        if (color != null) {\n          data.setItemVisual(idx, 'color', color);\n        }\n\n        if (borderColor != null) {\n          data.setItemVisual(idx, 'borderColor', borderColor);\n        }\n      };\n\n      return {\n        dataEach: data.hasItemOption ? dataEach : null\n      };\n    }\n  }\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar lang = require(\"../lang\");\n\nvar _dataProvider = require(\"../data/helper/dataProvider\");\n\nvar retrieveRawValue = _dataProvider.retrieveRawValue;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nfunction _default(dom, ecModel) {\n  var ariaModel = ecModel.getModel('aria');\n\n  if (!ariaModel.get('show')) {\n    return;\n  } else if (ariaModel.get('description')) {\n    dom.setAttribute('aria-label', ariaModel.get('description'));\n    return;\n  }\n\n  var seriesCnt = 0;\n  ecModel.eachSeries(function (seriesModel, idx) {\n    ++seriesCnt;\n  }, this);\n  var maxDataCnt = ariaModel.get('data.maxCount') || 10;\n  var maxSeriesCnt = ariaModel.get('series.maxCount') || 10;\n  var displaySeriesCnt = Math.min(seriesCnt, maxSeriesCnt);\n  var ariaLabel;\n\n  if (seriesCnt < 1) {\n    // No series, no aria label\n    return;\n  } else {\n    var title = getTitle();\n\n    if (title) {\n      ariaLabel = replace(getConfig('general.withTitle'), {\n        title: title\n      });\n    } else {\n      ariaLabel = getConfig('general.withoutTitle');\n    }\n\n    var seriesLabels = [];\n    var prefix = seriesCnt > 1 ? 'series.multiple.prefix' : 'series.single.prefix';\n    ariaLabel += replace(getConfig(prefix), {\n      seriesCount: seriesCnt\n    });\n    ecModel.eachSeries(function (seriesModel, idx) {\n      if (idx < displaySeriesCnt) {\n        var seriesLabel;\n        var seriesName = seriesModel.get('name');\n        var seriesTpl = 'series.' + (seriesCnt > 1 ? 'multiple' : 'single') + '.';\n        seriesLabel = getConfig(seriesName ? seriesTpl + 'withName' : seriesTpl + 'withoutName');\n        seriesLabel = replace(seriesLabel, {\n          seriesId: seriesModel.seriesIndex,\n          seriesName: seriesModel.get('name'),\n          seriesType: getSeriesTypeName(seriesModel.subType)\n        });\n        var data = seriesModel.getData();\n        window.data = data;\n\n        if (data.count() > maxDataCnt) {\n          // Show part of data\n          seriesLabel += replace(getConfig('data.partialData'), {\n            displayCnt: maxDataCnt\n          });\n        } else {\n          seriesLabel += getConfig('data.allData');\n        }\n\n        var dataLabels = [];\n\n        for (var i = 0; i < data.count(); i++) {\n          if (i < maxDataCnt) {\n            var name = data.getName(i);\n            var value = retrieveRawValue(data, i);\n            dataLabels.push(replace(name ? getConfig('data.withName') : getConfig('data.withoutName'), {\n              name: name,\n              value: value\n            }));\n          }\n        }\n\n        seriesLabel += dataLabels.join(getConfig('data.separator.middle')) + getConfig('data.separator.end');\n        seriesLabels.push(seriesLabel);\n      }\n    });\n    ariaLabel += seriesLabels.join(getConfig('series.multiple.separator.middle')) + getConfig('series.multiple.separator.end');\n    dom.setAttribute('aria-label', ariaLabel);\n  }\n\n  function replace(str, keyValues) {\n    if (typeof str !== 'string') {\n      return str;\n    }\n\n    var result = str;\n    zrUtil.each(keyValues, function (value, key) {\n      result = result.replace(new RegExp('\\\\{\\\\s*' + key + '\\\\s*\\\\}', 'g'), value);\n    });\n    return result;\n  }\n\n  function getConfig(path) {\n    var userConfig = ariaModel.get(path);\n\n    if (userConfig == null) {\n      var pathArr = path.split('.');\n      var result = lang.aria;\n\n      for (var i = 0; i < pathArr.length; ++i) {\n        result = result[pathArr[i]];\n      }\n\n      return result;\n    } else {\n      return userConfig;\n    }\n  }\n\n  function getTitle() {\n    var title = ecModel.getModel('title').option;\n\n    if (title && title.length) {\n      title = title[0];\n    }\n\n    return title && title.text;\n  }\n\n  function getSeriesTypeName(type) {\n    return lang.series.typeNames[type] || '';\n  }\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar graphic = require(\"../util/graphic\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar PI = Math.PI;\n/**\n * @param {module:echarts/ExtensionAPI} api\n * @param {Object} [opts]\n * @param {string} [opts.text]\n * @param {string} [opts.color]\n * @param {string} [opts.textColor]\n * @return {module:zrender/Element}\n */\n\nfunction _default(api, opts) {\n  opts = opts || {};\n  zrUtil.defaults(opts, {\n    text: 'loading',\n    color: '#c23531',\n    textColor: '#000',\n    maskColor: 'rgba(255, 255, 255, 0.8)',\n    zlevel: 0\n  });\n  var mask = new graphic.Rect({\n    style: {\n      fill: opts.maskColor\n    },\n    zlevel: opts.zlevel,\n    z: 10000\n  });\n  var arc = new graphic.Arc({\n    shape: {\n      startAngle: -PI / 2,\n      endAngle: -PI / 2 + 0.1,\n      r: 10\n    },\n    style: {\n      stroke: opts.color,\n      lineCap: 'round',\n      lineWidth: 5\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  var labelRect = new graphic.Rect({\n    style: {\n      fill: 'none',\n      text: opts.text,\n      textPosition: 'right',\n      textDistance: 10,\n      textFill: opts.textColor\n    },\n    zlevel: opts.zlevel,\n    z: 10001\n  });\n  arc.animateShape(true).when(1000, {\n    endAngle: PI * 3 / 2\n  }).start('circularInOut');\n  arc.animateShape(true).when(1000, {\n    startAngle: PI * 3 / 2\n  }).delay(300).start('circularInOut');\n  var group = new graphic.Group();\n  group.add(arc);\n  group.add(labelRect);\n  group.add(mask); // Inject resize\n\n  group.resize = function () {\n    var cx = api.getWidth() / 2;\n    var cy = api.getHeight() / 2;\n    arc.setShape({\n      cx: cx,\n      cy: cy\n    });\n    var r = arc.shape.r;\n    labelRect.setShape({\n      x: cx - r,\n      y: cy - r,\n      width: r * 2,\n      height: r * 2\n    });\n    mask.setShape({\n      x: 0,\n      y: 0,\n      width: api.getWidth(),\n      height: api.getHeight()\n    });\n  };\n\n  group.resize();\n  return group;\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _util = require(\"zrender/lib/core/util\");\n\nvar each = _util.each;\nvar map = _util.map;\nvar isFunction = _util.isFunction;\nvar createHashMap = _util.createHashMap;\nvar noop = _util.noop;\n\nvar _task = require(\"./task\");\n\nvar createTask = _task.createTask;\n\nvar _component = require(\"../util/component\");\n\nvar getUID = _component.getUID;\n\nvar GlobalModel = require(\"../model/Global\");\n\nvar ExtensionAPI = require(\"../ExtensionAPI\");\n\nvar _model = require(\"../util/model\");\n\nvar normalizeToArray = _model.normalizeToArray;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/stream/Scheduler\n */\n\n/**\n * @constructor\n */\n\nfunction Scheduler(ecInstance, api, dataProcessorHandlers, visualHandlers) {\n  this.ecInstance = ecInstance;\n  this.api = api;\n  this.unfinished; // Fix current processors in case that in some rear cases that\n  // processors might be registered after echarts instance created.\n  // Register processors incrementally for a echarts instance is\n  // not supported by this stream architecture.\n\n  var dataProcessorHandlers = this._dataProcessorHandlers = dataProcessorHandlers.slice();\n  var visualHandlers = this._visualHandlers = visualHandlers.slice();\n  this._allHandlers = dataProcessorHandlers.concat(visualHandlers);\n  /**\n   * @private\n   * @type {\n   *     [handlerUID: string]: {\n   *         seriesTaskMap?: {\n   *             [seriesUID: string]: Task\n   *         },\n   *         overallTask?: Task\n   *     }\n   * }\n   */\n\n  this._stageTaskMap = createHashMap();\n}\n\nvar proto = Scheduler.prototype;\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {Object} payload\n */\n\nproto.restoreData = function (ecModel, payload) {\n  // TODO: Only restroe needed series and components, but not all components.\n  // Currently `restoreData` of all of the series and component will be called.\n  // But some independent components like `title`, `legend`, `graphic`, `toolbox`,\n  // `tooltip`, `axisPointer`, etc, do not need series refresh when `setOption`,\n  // and some components like coordinate system, axes, dataZoom, visualMap only\n  // need their target series refresh.\n  // (1) If we are implementing this feature some day, we should consider these cases:\n  // if a data processor depends on a component (e.g., dataZoomProcessor depends\n  // on the settings of `dataZoom`), it should be re-performed if the component\n  // is modified by `setOption`.\n  // (2) If a processor depends on sevral series, speicified by its `getTargetSeries`,\n  // it should be re-performed when the result array of `getTargetSeries` changed.\n  // We use `dependencies` to cover these issues.\n  // (3) How to update target series when coordinate system related components modified.\n  // TODO: simply the dirty mechanism? Check whether only the case here can set tasks dirty,\n  // and this case all of the tasks will be set as dirty.\n  ecModel.restoreData(payload); // Theoretically an overall task not only depends on each of its target series, but also\n  // depends on all of the series.\n  // The overall task is not in pipeline, and `ecModel.restoreData` only set pipeline tasks\n  // dirty. If `getTargetSeries` of an overall task returns nothing, we should also ensure\n  // that the overall task is set as dirty and to be performed, otherwise it probably cause\n  // state chaos. So we have to set dirty of all of the overall tasks manually, otherwise it\n  // probably cause state chaos (consider `dataZoomProcessor`).\n\n  this._stageTaskMap.each(function (taskRecord) {\n    var overallTask = taskRecord.overallTask;\n    overallTask && overallTask.dirty();\n  });\n}; // If seriesModel provided, incremental threshold is check by series data.\n\n\nproto.getPerformArgs = function (task, isBlock) {\n  // For overall task\n  if (!task.__pipeline) {\n    return;\n  }\n\n  var pipeline = this._pipelineMap.get(task.__pipeline.id);\n\n  var pCtx = pipeline.context;\n  var incremental = !isBlock && pipeline.progressiveEnabled && (!pCtx || pCtx.progressiveRender) && task.__idxInPipeline > pipeline.blockIndex;\n  var step = incremental ? pipeline.step : null;\n  var modDataCount = pCtx && pCtx.modDataCount;\n  var modBy = modDataCount != null ? Math.ceil(modDataCount / step) : null;\n  return {\n    step: step,\n    modBy: modBy,\n    modDataCount: modDataCount\n  };\n};\n\nproto.getPipeline = function (pipelineId) {\n  return this._pipelineMap.get(pipelineId);\n};\n/**\n * Current, progressive rendering starts from visual and layout.\n * Always detect render mode in the same stage, avoiding that incorrect\n * detection caused by data filtering.\n * Caution:\n * `updateStreamModes` use `seriesModel.getData()`.\n */\n\n\nproto.updateStreamModes = function (seriesModel, view) {\n  var pipeline = this._pipelineMap.get(seriesModel.uid);\n\n  var data = seriesModel.getData();\n  var dataLen = data.count(); // `progressiveRender` means that can render progressively in each\n  // animation frame. Note that some types of series do not provide\n  // `view.incrementalPrepareRender` but support `chart.appendData`. We\n  // use the term `incremental` but not `progressive` to describe the\n  // case that `chart.appendData`.\n\n  var progressiveRender = pipeline.progressiveEnabled && view.incrementalPrepareRender && dataLen >= pipeline.threshold;\n  var large = seriesModel.get('large') && dataLen >= seriesModel.get('largeThreshold'); // TODO: modDataCount should not updated if `appendData`, otherwise cause whole repaint.\n  // see `test/candlestick-large3.html`\n\n  var modDataCount = seriesModel.get('progressiveChunkMode') === 'mod' ? dataLen : null;\n  seriesModel.pipelineContext = pipeline.context = {\n    progressiveRender: progressiveRender,\n    modDataCount: modDataCount,\n    large: large\n  };\n};\n\nproto.restorePipelines = function (ecModel) {\n  var scheduler = this;\n  var pipelineMap = scheduler._pipelineMap = createHashMap();\n  ecModel.eachSeries(function (seriesModel) {\n    var progressive = seriesModel.getProgressive();\n    var pipelineId = seriesModel.uid;\n    pipelineMap.set(pipelineId, {\n      id: pipelineId,\n      head: null,\n      tail: null,\n      threshold: seriesModel.getProgressiveThreshold(),\n      progressiveEnabled: progressive && !(seriesModel.preventIncremental && seriesModel.preventIncremental()),\n      blockIndex: -1,\n      step: Math.round(progressive || 700),\n      count: 0\n    });\n    pipe(scheduler, seriesModel, seriesModel.dataTask);\n  });\n};\n\nproto.prepareStageTasks = function () {\n  var stageTaskMap = this._stageTaskMap;\n  var ecModel = this.ecInstance.getModel();\n  var api = this.api;\n  each(this._allHandlers, function (handler) {\n    var record = stageTaskMap.get(handler.uid) || stageTaskMap.set(handler.uid, []);\n    handler.reset && createSeriesStageTask(this, handler, record, ecModel, api);\n    handler.overallReset && createOverallStageTask(this, handler, record, ecModel, api);\n  }, this);\n};\n\nproto.prepareView = function (view, model, ecModel, api) {\n  var renderTask = view.renderTask;\n  var context = renderTask.context;\n  context.model = model;\n  context.ecModel = ecModel;\n  context.api = api;\n  renderTask.__block = !view.incrementalPrepareRender;\n  pipe(this, model, renderTask);\n};\n\nproto.performDataProcessorTasks = function (ecModel, payload) {\n  // If we do not use `block` here, it should be considered when to update modes.\n  performStageTasks(this, this._dataProcessorHandlers, ecModel, payload, {\n    block: true\n  });\n}; // opt\n// opt.visualType: 'visual' or 'layout'\n// opt.setDirty\n\n\nproto.performVisualTasks = function (ecModel, payload, opt) {\n  performStageTasks(this, this._visualHandlers, ecModel, payload, opt);\n};\n\nfunction performStageTasks(scheduler, stageHandlers, ecModel, payload, opt) {\n  opt = opt || {};\n  var unfinished;\n  each(stageHandlers, function (stageHandler, idx) {\n    if (opt.visualType && opt.visualType !== stageHandler.visualType) {\n      return;\n    }\n\n    var stageHandlerRecord = scheduler._stageTaskMap.get(stageHandler.uid);\n\n    var seriesTaskMap = stageHandlerRecord.seriesTaskMap;\n    var overallTask = stageHandlerRecord.overallTask;\n\n    if (overallTask) {\n      var overallNeedDirty;\n      var agentStubMap = overallTask.agentStubMap;\n      agentStubMap.each(function (stub) {\n        if (needSetDirty(opt, stub)) {\n          stub.dirty();\n          overallNeedDirty = true;\n        }\n      });\n      overallNeedDirty && overallTask.dirty();\n      updatePayload(overallTask, payload);\n      var performArgs = scheduler.getPerformArgs(overallTask, opt.block); // Execute stubs firstly, which may set the overall task dirty,\n      // then execute the overall task. And stub will call seriesModel.setData,\n      // which ensures that in the overallTask seriesModel.getData() will not\n      // return incorrect data.\n\n      agentStubMap.each(function (stub) {\n        stub.perform(performArgs);\n      });\n      unfinished |= overallTask.perform(performArgs);\n    } else if (seriesTaskMap) {\n      seriesTaskMap.each(function (task, pipelineId) {\n        if (needSetDirty(opt, task)) {\n          task.dirty();\n        }\n\n        var performArgs = scheduler.getPerformArgs(task, opt.block);\n        performArgs.skip = !stageHandler.performRawSeries && ecModel.isSeriesFiltered(task.context.model);\n        updatePayload(task, payload);\n        unfinished |= task.perform(performArgs);\n      });\n    }\n  });\n\n  function needSetDirty(opt, task) {\n    return opt.setDirty && (!opt.dirtyMap || opt.dirtyMap.get(task.__pipeline.id));\n  }\n\n  scheduler.unfinished |= unfinished;\n}\n\nproto.performSeriesTasks = function (ecModel) {\n  var unfinished;\n  ecModel.eachSeries(function (seriesModel) {\n    // Progress to the end for dataInit and dataRestore.\n    unfinished |= seriesModel.dataTask.perform();\n  });\n  this.unfinished |= unfinished;\n};\n\nproto.plan = function () {\n  // Travel pipelines, check block.\n  this._pipelineMap.each(function (pipeline) {\n    var task = pipeline.tail;\n\n    do {\n      if (task.__block) {\n        pipeline.blockIndex = task.__idxInPipeline;\n        break;\n      }\n\n      task = task.getUpstream();\n    } while (task);\n  });\n};\n\nvar updatePayload = proto.updatePayload = function (task, payload) {\n  payload !== 'remain' && (task.context.payload = payload);\n};\n\nfunction createSeriesStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n  var seriesTaskMap = stageHandlerRecord.seriesTaskMap || (stageHandlerRecord.seriesTaskMap = createHashMap());\n  var seriesType = stageHandler.seriesType;\n  var getTargetSeries = stageHandler.getTargetSeries; // If a stageHandler should cover all series, `createOnAllSeries` should be declared mandatorily,\n  // to avoid some typo or abuse. Otherwise if an extension do not specify a `seriesType`,\n  // it works but it may cause other irrelevant charts blocked.\n\n  if (stageHandler.createOnAllSeries) {\n    ecModel.eachRawSeries(create);\n  } else if (seriesType) {\n    ecModel.eachRawSeriesByType(seriesType, create);\n  } else if (getTargetSeries) {\n    getTargetSeries(ecModel, api).each(create);\n  }\n\n  function create(seriesModel) {\n    var pipelineId = seriesModel.uid; // Init tasks for each seriesModel only once.\n    // Reuse original task instance.\n\n    var task = seriesTaskMap.get(pipelineId) || seriesTaskMap.set(pipelineId, createTask({\n      plan: seriesTaskPlan,\n      reset: seriesTaskReset,\n      count: seriesTaskCount\n    }));\n    task.context = {\n      model: seriesModel,\n      ecModel: ecModel,\n      api: api,\n      useClearVisual: stageHandler.isVisual && !stageHandler.isLayout,\n      plan: stageHandler.plan,\n      reset: stageHandler.reset,\n      scheduler: scheduler\n    };\n    pipe(scheduler, seriesModel, task);\n  } // Clear unused series tasks.\n\n\n  var pipelineMap = scheduler._pipelineMap;\n  seriesTaskMap.each(function (task, pipelineId) {\n    if (!pipelineMap.get(pipelineId)) {\n      task.dispose();\n      seriesTaskMap.removeKey(pipelineId);\n    }\n  });\n}\n\nfunction createOverallStageTask(scheduler, stageHandler, stageHandlerRecord, ecModel, api) {\n  var overallTask = stageHandlerRecord.overallTask = stageHandlerRecord.overallTask // For overall task, the function only be called on reset stage.\n  || createTask({\n    reset: overallTaskReset\n  });\n  overallTask.context = {\n    ecModel: ecModel,\n    api: api,\n    overallReset: stageHandler.overallReset,\n    scheduler: scheduler\n  }; // Reuse orignal stubs.\n\n  var agentStubMap = overallTask.agentStubMap = overallTask.agentStubMap || createHashMap();\n  var seriesType = stageHandler.seriesType;\n  var getTargetSeries = stageHandler.getTargetSeries;\n  var overallProgress = true;\n  var modifyOutputEnd = stageHandler.modifyOutputEnd; // An overall task with seriesType detected or has `getTargetSeries`, we add\n  // stub in each pipelines, it will set the overall task dirty when the pipeline\n  // progress. Moreover, to avoid call the overall task each frame (too frequent),\n  // we set the pipeline block.\n\n  if (seriesType) {\n    ecModel.eachRawSeriesByType(seriesType, createStub);\n  } else if (getTargetSeries) {\n    getTargetSeries(ecModel, api).each(createStub);\n  } // Otherwise, (usually it is legancy case), the overall task will only be\n  // executed when upstream dirty. Otherwise the progressive rendering of all\n  // pipelines will be disabled unexpectedly. But it still needs stubs to receive\n  // dirty info from upsteam.\n  else {\n      overallProgress = false;\n      each(ecModel.getSeries(), createStub);\n    }\n\n  function createStub(seriesModel) {\n    var pipelineId = seriesModel.uid;\n    var stub = agentStubMap.get(pipelineId);\n\n    if (!stub) {\n      stub = agentStubMap.set(pipelineId, createTask({\n        reset: stubReset,\n        onDirty: stubOnDirty\n      })); // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n\n      overallTask.dirty();\n    }\n\n    stub.context = {\n      model: seriesModel,\n      overallProgress: overallProgress,\n      modifyOutputEnd: modifyOutputEnd\n    };\n    stub.agent = overallTask;\n    stub.__block = overallProgress;\n    pipe(scheduler, seriesModel, stub);\n  } // Clear unused stubs.\n\n\n  var pipelineMap = scheduler._pipelineMap;\n  agentStubMap.each(function (stub, pipelineId) {\n    if (!pipelineMap.get(pipelineId)) {\n      stub.dispose(); // When the result of `getTargetSeries` changed, the overallTask\n      // should be set as dirty and re-performed.\n\n      overallTask.dirty();\n      agentStubMap.removeKey(pipelineId);\n    }\n  });\n}\n\nfunction overallTaskReset(context) {\n  context.overallReset(context.ecModel, context.api, context.payload);\n}\n\nfunction stubReset(context, upstreamContext) {\n  return context.overallProgress && stubProgress;\n}\n\nfunction stubProgress() {\n  this.agent.dirty();\n  this.getDownstream().dirty();\n}\n\nfunction stubOnDirty() {\n  this.agent && this.agent.dirty();\n}\n\nfunction seriesTaskPlan(context) {\n  return context.plan && context.plan(context.model, context.ecModel, context.api, context.payload);\n}\n\nfunction seriesTaskReset(context) {\n  if (context.useClearVisual) {\n    context.data.clearAllVisual();\n  }\n\n  var resetDefines = context.resetDefines = normalizeToArray(context.reset(context.model, context.ecModel, context.api, context.payload));\n  return resetDefines.length > 1 ? map(resetDefines, function (v, idx) {\n    return makeSeriesTaskProgress(idx);\n  }) : singleSeriesTaskProgress;\n}\n\nvar singleSeriesTaskProgress = makeSeriesTaskProgress(0);\n\nfunction makeSeriesTaskProgress(resetDefineIdx) {\n  return function (params, context) {\n    var data = context.data;\n    var resetDefine = context.resetDefines[resetDefineIdx];\n\n    if (resetDefine && resetDefine.dataEach) {\n      for (var i = params.start; i < params.end; i++) {\n        resetDefine.dataEach(data, i);\n      }\n    } else if (resetDefine && resetDefine.progress) {\n      resetDefine.progress(params, data);\n    }\n  };\n}\n\nfunction seriesTaskCount(context) {\n  return context.data.count();\n}\n\nfunction pipe(scheduler, seriesModel, task) {\n  var pipelineId = seriesModel.uid;\n\n  var pipeline = scheduler._pipelineMap.get(pipelineId);\n\n  !pipeline.head && (pipeline.head = task);\n  pipeline.tail && pipeline.tail.pipe(task);\n  pipeline.tail = task;\n  task.__idxInPipeline = pipeline.count++;\n  task.__pipeline = pipeline;\n}\n\nScheduler.wrapStageHandler = function (stageHandler, visualType) {\n  if (isFunction(stageHandler)) {\n    stageHandler = {\n      overallReset: stageHandler,\n      seriesType: detectSeriseType(stageHandler)\n    };\n  }\n\n  stageHandler.uid = getUID('stageHandler');\n  visualType && (stageHandler.visualType = visualType);\n  return stageHandler;\n};\n/**\n * Only some legacy stage handlers (usually in echarts extensions) are pure function.\n * To ensure that they can work normally, they should work in block mode, that is,\n * they should not be started util the previous tasks finished. So they cause the\n * progressive rendering disabled. We try to detect the series type, to narrow down\n * the block range to only the series type they concern, but not all series.\n */\n\n\nfunction detectSeriseType(legacyFunc) {\n  seriesType = null;\n\n  try {\n    // Assume there is no async when calling `eachSeriesByType`.\n    legacyFunc(ecModelMock, apiMock);\n  } catch (e) {}\n\n  return seriesType;\n}\n\nvar ecModelMock = {};\nvar apiMock = {};\nvar seriesType;\nmockMethods(ecModelMock, GlobalModel);\nmockMethods(apiMock, ExtensionAPI);\n\necModelMock.eachSeriesByType = ecModelMock.eachRawSeriesByType = function (type) {\n  seriesType = type;\n};\n\necModelMock.eachComponent = function (cond) {\n  if (cond.mainType === 'series' && cond.subType) {\n    seriesType = cond.subType;\n  }\n};\n\nfunction mockMethods(target, Clz) {\n  /* eslint-disable */\n  for (var name in Clz.prototype) {\n    // Do not use hasOwnProperty\n    target[name] = noop;\n  }\n  /* eslint-enable */\n\n}\n\nvar _default = Scheduler;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar colorAll = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF'];\nvar _default = {\n  color: colorAll,\n  colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], colorAll]\n};\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar contrastColor = '#eee';\n\nvar axisCommon = function axisCommon() {\n  return {\n    axisLine: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    axisTick: {\n      lineStyle: {\n        color: contrastColor\n      }\n    },\n    axisLabel: {\n      textStyle: {\n        color: contrastColor\n      }\n    },\n    splitLine: {\n      lineStyle: {\n        type: 'dashed',\n        color: '#aaa'\n      }\n    },\n    splitArea: {\n      areaStyle: {\n        color: contrastColor\n      }\n    }\n  };\n};\n\nvar colorPalette = ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42'];\nvar theme = {\n  color: colorPalette,\n  backgroundColor: '#333',\n  tooltip: {\n    axisPointer: {\n      lineStyle: {\n        color: contrastColor\n      },\n      crossStyle: {\n        color: contrastColor\n      }\n    }\n  },\n  legend: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  textStyle: {\n    color: contrastColor\n  },\n  title: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  toolbox: {\n    iconStyle: {\n      normal: {\n        borderColor: contrastColor\n      }\n    }\n  },\n  dataZoom: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  visualMap: {\n    textStyle: {\n      color: contrastColor\n    }\n  },\n  timeline: {\n    lineStyle: {\n      color: contrastColor\n    },\n    itemStyle: {\n      normal: {\n        color: colorPalette[1]\n      }\n    },\n    label: {\n      normal: {\n        textStyle: {\n          color: contrastColor\n        }\n      }\n    },\n    controlStyle: {\n      normal: {\n        color: contrastColor,\n        borderColor: contrastColor\n      }\n    }\n  },\n  timeAxis: axisCommon(),\n  logAxis: axisCommon(),\n  valueAxis: axisCommon(),\n  categoryAxis: axisCommon(),\n  line: {\n    symbol: 'circle'\n  },\n  graph: {\n    color: colorPalette\n  },\n  gauge: {\n    title: {\n      textStyle: {\n        color: contrastColor\n      }\n    }\n  },\n  candlestick: {\n    itemStyle: {\n      normal: {\n        color: '#FD1050',\n        color0: '#0CF49B',\n        borderColor: '#FD1050',\n        borderColor0: '#0CF49B'\n      }\n    }\n  }\n};\ntheme.categoryAxis.splitLine.show = false;\nvar _default = theme;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar ComponentModel = require(\"../model/Component\");\n\nvar ComponentView = require(\"../view/Component\");\n\nvar _sourceHelper = require(\"../data/helper/sourceHelper\");\n\nvar detectSourceFormat = _sourceHelper.detectSourceFormat;\n\nvar _sourceType = require(\"../data/helper/sourceType\");\n\nvar SERIES_LAYOUT_BY_COLUMN = _sourceType.SERIES_LAYOUT_BY_COLUMN;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * This module is imported by echarts directly.\n *\n * Notice:\n * Always keep this file exists for backward compatibility.\n * Because before 4.1.0, dataset is an optional component,\n * some users may import this module manually.\n */\n\nComponentModel.extend({\n  type: 'dataset',\n\n  /**\n   * @protected\n   */\n  defaultOption: {\n    // 'row', 'column'\n    seriesLayoutBy: SERIES_LAYOUT_BY_COLUMN,\n    // null/'auto': auto detect header, see \"module:echarts/data/helper/sourceHelper\"\n    sourceHeader: null,\n    dimensions: null,\n    source: null\n  },\n  optionUpdated: function optionUpdated() {\n    detectSourceFormat(this);\n  }\n});\nComponentView.extend({\n  type: 'dataset'\n});","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"../../config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar _util = require(\"zrender/lib/core/util\");\n\nvar createHashMap = _util.createHashMap;\nvar isString = _util.isString;\nvar isArray = _util.isArray;\nvar each = _util.each;\nvar assert = _util.assert;\n\nvar _parseSVG = require(\"zrender/lib/tool/parseSVG\");\n\nvar parseXML = _parseSVG.parseXML;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar storage = createHashMap(); // For minimize the code size of common echarts package,\n// do not put too much logic in this module.\n\nvar _default = {\n  // The format of record: see `echarts.registerMap`.\n  // Compatible with previous `echarts.registerMap`.\n  registerMap: function registerMap(mapName, rawGeoJson, rawSpecialAreas) {\n    var records;\n\n    if (isArray(rawGeoJson)) {\n      records = rawGeoJson;\n    } else if (rawGeoJson.svg) {\n      records = [{\n        type: 'svg',\n        source: rawGeoJson.svg,\n        specialAreas: rawGeoJson.specialAreas\n      }];\n    } else {\n      // Backward compatibility.\n      if (rawGeoJson.geoJson && !rawGeoJson.features) {\n        rawSpecialAreas = rawGeoJson.specialAreas;\n        rawGeoJson = rawGeoJson.geoJson;\n      }\n\n      records = [{\n        type: 'geoJSON',\n        source: rawGeoJson,\n        specialAreas: rawSpecialAreas\n      }];\n    }\n\n    each(records, function (record) {\n      var type = record.type;\n      type === 'geoJson' && (type = record.type = 'geoJSON');\n      var parse = parsers[type];\n      parse(record);\n    });\n    return storage.set(mapName, records);\n  },\n  retrieveMap: function retrieveMap(mapName) {\n    return storage.get(mapName);\n  }\n};\nvar parsers = {\n  geoJSON: function geoJSON(record) {\n    var source = record.source;\n    record.geoJSON = !isString(source) ? source : typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(source) : new Function('return (' + source + ');')();\n  },\n  // Only perform parse to XML object here, which might be time\n  // consiming for large SVG.\n  // Although convert XML to zrender element is also time consiming,\n  // if we do it here, the clone of zrender elements has to be\n  // required. So we do it once for each geo instance, util real\n  // performance issues call for optimizing it.\n  svg: function svg(record) {\n    record.svgXML = parseXML(record.source);\n  }\n};\nmodule.exports = _default;","var Group = require(\"../container/Group\");\n\nvar ZImage = require(\"../graphic/Image\");\n\nvar Text = require(\"../graphic/Text\");\n\nvar Circle = require(\"../graphic/shape/Circle\");\n\nvar Rect = require(\"../graphic/shape/Rect\");\n\nvar Ellipse = require(\"../graphic/shape/Ellipse\");\n\nvar Line = require(\"../graphic/shape/Line\");\n\nvar Path = require(\"../graphic/Path\");\n\nvar Polygon = require(\"../graphic/shape/Polygon\");\n\nvar Polyline = require(\"../graphic/shape/Polyline\");\n\nvar LinearGradient = require(\"../graphic/LinearGradient\");\n\nvar Style = require(\"../graphic/Style\");\n\nvar matrix = require(\"../core/matrix\");\n\nvar _path = require(\"./path\");\n\nvar createFromString = _path.createFromString;\n\nvar _util = require(\"../core/util\");\n\nvar isString = _util.isString;\nvar extend = _util.extend;\nvar defaults = _util.defaults;\nvar trim = _util.trim;\nvar each = _util.each; // import RadialGradient from '../graphic/RadialGradient';\n// import Pattern from '../graphic/Pattern';\n// import * as vector from '../core/vector';\n// Most of the values can be separated by comma and/or white space.\n\nvar DILIMITER_REG = /[\\s,]+/;\n/**\n * For big svg string, this method might be time consuming.\n *\n * @param {string} svg xml string\n * @return {Object} xml root.\n */\n\nfunction parseXML(svg) {\n  if (isString(svg)) {\n    var parser = new DOMParser();\n    svg = parser.parseFromString(svg, 'text/xml');\n  } // Document node. If using $.get, doc node may be input.\n\n\n  if (svg.nodeType === 9) {\n    svg = svg.firstChild;\n  } // nodeName of <!DOCTYPE svg> is also 'svg'.\n\n\n  while (svg.nodeName.toLowerCase() !== 'svg' || svg.nodeType !== 1) {\n    svg = svg.nextSibling;\n  }\n\n  return svg;\n}\n\nfunction SVGParser() {\n  this._defs = {};\n  this._root = null;\n  this._isDefine = false;\n  this._isText = false;\n}\n\nSVGParser.prototype.parse = function (xml, opt) {\n  opt = opt || {};\n  var svg = parseXML(xml);\n\n  if (!svg) {\n    throw new Error('Illegal svg');\n  }\n\n  var root = new Group();\n  this._root = root; // parse view port\n\n  var viewBox = svg.getAttribute('viewBox') || ''; // If width/height not specified, means \"100%\" of `opt.width/height`.\n  // TODO: Other percent value not supported yet.\n\n  var width = parseFloat(svg.getAttribute('width') || opt.width);\n  var height = parseFloat(svg.getAttribute('height') || opt.height); // If width/height not specified, set as null for output.\n\n  isNaN(width) && (width = null);\n  isNaN(height) && (height = null); // Apply inline style on svg element.\n\n  parseAttributes(svg, root, null, true);\n  var child = svg.firstChild;\n\n  while (child) {\n    this._parseNode(child, root);\n\n    child = child.nextSibling;\n  }\n\n  var viewBoxRect;\n  var viewBoxTransform;\n\n  if (viewBox) {\n    var viewBoxArr = trim(viewBox).split(DILIMITER_REG); // Some invalid case like viewBox: 'none'.\n\n    if (viewBoxArr.length >= 4) {\n      viewBoxRect = {\n        x: parseFloat(viewBoxArr[0] || 0),\n        y: parseFloat(viewBoxArr[1] || 0),\n        width: parseFloat(viewBoxArr[2]),\n        height: parseFloat(viewBoxArr[3])\n      };\n    }\n  }\n\n  if (viewBoxRect && width != null && height != null) {\n    viewBoxTransform = makeViewBoxTransform(viewBoxRect, width, height);\n\n    if (!opt.ignoreViewBox) {\n      // If set transform on the output group, it probably bring trouble when\n      // some users only intend to show the clipped content inside the viewBox,\n      // but not intend to transform the output group. So we keep the output\n      // group no transform. If the user intend to use the viewBox as a\n      // camera, just set `opt.ignoreViewBox` as `true` and set transfrom\n      // manually according to the viewBox info in the output of this method.\n      var elRoot = root;\n      root = new Group();\n      root.add(elRoot);\n      elRoot.scale = viewBoxTransform.scale.slice();\n      elRoot.position = viewBoxTransform.position.slice();\n    }\n  } // Some shapes might be overflow the viewport, which should be\n  // clipped despite whether the viewBox is used, as the SVG does.\n\n\n  if (!opt.ignoreRootClip && width != null && height != null) {\n    root.setClipPath(new Rect({\n      shape: {\n        x: 0,\n        y: 0,\n        width: width,\n        height: height\n      }\n    }));\n  } // Set width/height on group just for output the viewport size.\n\n\n  return {\n    root: root,\n    width: width,\n    height: height,\n    viewBoxRect: viewBoxRect,\n    viewBoxTransform: viewBoxTransform\n  };\n};\n\nSVGParser.prototype._parseNode = function (xmlNode, parentGroup) {\n  var nodeName = xmlNode.nodeName.toLowerCase(); // TODO\n  // support <style>...</style> in svg, where nodeName is 'style',\n  // CSS classes is defined globally wherever the style tags are declared.\n\n  if (nodeName === 'defs') {\n    // define flag\n    this._isDefine = true;\n  } else if (nodeName === 'text') {\n    this._isText = true;\n  }\n\n  var el;\n\n  if (this._isDefine) {\n    var parser = defineParsers[nodeName];\n\n    if (parser) {\n      var def = parser.call(this, xmlNode);\n      var id = xmlNode.getAttribute('id');\n\n      if (id) {\n        this._defs[id] = def;\n      }\n    }\n  } else {\n    var parser = nodeParsers[nodeName];\n\n    if (parser) {\n      el = parser.call(this, xmlNode, parentGroup);\n      parentGroup.add(el);\n    }\n  }\n\n  var child = xmlNode.firstChild;\n\n  while (child) {\n    if (child.nodeType === 1) {\n      this._parseNode(child, el);\n    } // Is text\n\n\n    if (child.nodeType === 3 && this._isText) {\n      this._parseText(child, el);\n    }\n\n    child = child.nextSibling;\n  } // Quit define\n\n\n  if (nodeName === 'defs') {\n    this._isDefine = false;\n  } else if (nodeName === 'text') {\n    this._isText = false;\n  }\n};\n\nSVGParser.prototype._parseText = function (xmlNode, parentGroup) {\n  if (xmlNode.nodeType === 1) {\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    this._textX += parseFloat(dx);\n    this._textY += parseFloat(dy);\n  }\n\n  var text = new Text({\n    style: {\n      text: xmlNode.textContent,\n      transformText: true\n    },\n    position: [this._textX || 0, this._textY || 0]\n  });\n  inheritStyle(parentGroup, text);\n  parseAttributes(xmlNode, text, this._defs);\n  var fontSize = text.style.fontSize;\n\n  if (fontSize && fontSize < 9) {\n    // PENDING\n    text.style.fontSize = 9;\n    text.scale = text.scale || [1, 1];\n    text.scale[0] *= fontSize / 9;\n    text.scale[1] *= fontSize / 9;\n  }\n\n  var rect = text.getBoundingRect();\n  this._textX += rect.width;\n  parentGroup.add(text);\n  return text;\n};\n\nvar nodeParsers = {\n  'g': function g(xmlNode, parentGroup) {\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    return g;\n  },\n  'rect': function rect(xmlNode, parentGroup) {\n    var rect = new Rect();\n    inheritStyle(parentGroup, rect);\n    parseAttributes(xmlNode, rect, this._defs);\n    rect.setShape({\n      x: parseFloat(xmlNode.getAttribute('x') || 0),\n      y: parseFloat(xmlNode.getAttribute('y') || 0),\n      width: parseFloat(xmlNode.getAttribute('width') || 0),\n      height: parseFloat(xmlNode.getAttribute('height') || 0)\n    }); // console.log(xmlNode.getAttribute('transform'));\n    // console.log(rect.transform);\n\n    return rect;\n  },\n  'circle': function circle(xmlNode, parentGroup) {\n    var circle = new Circle();\n    inheritStyle(parentGroup, circle);\n    parseAttributes(xmlNode, circle, this._defs);\n    circle.setShape({\n      cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n      cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n      r: parseFloat(xmlNode.getAttribute('r') || 0)\n    });\n    return circle;\n  },\n  'line': function line(xmlNode, parentGroup) {\n    var line = new Line();\n    inheritStyle(parentGroup, line);\n    parseAttributes(xmlNode, line, this._defs);\n    line.setShape({\n      x1: parseFloat(xmlNode.getAttribute('x1') || 0),\n      y1: parseFloat(xmlNode.getAttribute('y1') || 0),\n      x2: parseFloat(xmlNode.getAttribute('x2') || 0),\n      y2: parseFloat(xmlNode.getAttribute('y2') || 0)\n    });\n    return line;\n  },\n  'ellipse': function ellipse(xmlNode, parentGroup) {\n    var ellipse = new Ellipse();\n    inheritStyle(parentGroup, ellipse);\n    parseAttributes(xmlNode, ellipse, this._defs);\n    ellipse.setShape({\n      cx: parseFloat(xmlNode.getAttribute('cx') || 0),\n      cy: parseFloat(xmlNode.getAttribute('cy') || 0),\n      rx: parseFloat(xmlNode.getAttribute('rx') || 0),\n      ry: parseFloat(xmlNode.getAttribute('ry') || 0)\n    });\n    return ellipse;\n  },\n  'polygon': function polygon(xmlNode, parentGroup) {\n    var points = xmlNode.getAttribute('points');\n\n    if (points) {\n      points = parsePoints(points);\n    }\n\n    var polygon = new Polygon({\n      shape: {\n        points: points || []\n      }\n    });\n    inheritStyle(parentGroup, polygon);\n    parseAttributes(xmlNode, polygon, this._defs);\n    return polygon;\n  },\n  'polyline': function polyline(xmlNode, parentGroup) {\n    var path = new Path();\n    inheritStyle(parentGroup, path);\n    parseAttributes(xmlNode, path, this._defs);\n    var points = xmlNode.getAttribute('points');\n\n    if (points) {\n      points = parsePoints(points);\n    }\n\n    var polyline = new Polyline({\n      shape: {\n        points: points || []\n      }\n    });\n    return polyline;\n  },\n  'image': function image(xmlNode, parentGroup) {\n    var img = new ZImage();\n    inheritStyle(parentGroup, img);\n    parseAttributes(xmlNode, img, this._defs);\n    img.setStyle({\n      image: xmlNode.getAttribute('xlink:href'),\n      x: xmlNode.getAttribute('x'),\n      y: xmlNode.getAttribute('y'),\n      width: xmlNode.getAttribute('width'),\n      height: xmlNode.getAttribute('height')\n    });\n    return img;\n  },\n  'text': function text(xmlNode, parentGroup) {\n    var x = xmlNode.getAttribute('x') || 0;\n    var y = xmlNode.getAttribute('y') || 0;\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    this._textX = parseFloat(x) + parseFloat(dx);\n    this._textY = parseFloat(y) + parseFloat(dy);\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    return g;\n  },\n  'tspan': function tspan(xmlNode, parentGroup) {\n    var x = xmlNode.getAttribute('x');\n    var y = xmlNode.getAttribute('y');\n\n    if (x != null) {\n      // new offset x\n      this._textX = parseFloat(x);\n    }\n\n    if (y != null) {\n      // new offset y\n      this._textY = parseFloat(y);\n    }\n\n    var dx = xmlNode.getAttribute('dx') || 0;\n    var dy = xmlNode.getAttribute('dy') || 0;\n    var g = new Group();\n    inheritStyle(parentGroup, g);\n    parseAttributes(xmlNode, g, this._defs);\n    this._textX += dx;\n    this._textY += dy;\n    return g;\n  },\n  'path': function path(xmlNode, parentGroup) {\n    // TODO svg fill rule\n    // https://developer.mozilla.org/en-US/docs/Web/SVG/Attribute/fill-rule\n    // path.style.globalCompositeOperation = 'xor';\n    var d = xmlNode.getAttribute('d') || ''; // Performance sensitive.\n\n    var path = createFromString(d);\n    inheritStyle(parentGroup, path);\n    parseAttributes(xmlNode, path, this._defs);\n    return path;\n  }\n};\nvar defineParsers = {\n  'lineargradient': function lineargradient(xmlNode) {\n    var x1 = parseInt(xmlNode.getAttribute('x1') || 0, 10);\n    var y1 = parseInt(xmlNode.getAttribute('y1') || 0, 10);\n    var x2 = parseInt(xmlNode.getAttribute('x2') || 10, 10);\n    var y2 = parseInt(xmlNode.getAttribute('y2') || 0, 10);\n    var gradient = new LinearGradient(x1, y1, x2, y2);\n\n    _parseGradientColorStops(xmlNode, gradient);\n\n    return gradient;\n  },\n  'radialgradient': function radialgradient(xmlNode) {}\n};\n\nfunction _parseGradientColorStops(xmlNode, gradient) {\n  var stop = xmlNode.firstChild;\n\n  while (stop) {\n    if (stop.nodeType === 1) {\n      var offset = stop.getAttribute('offset');\n\n      if (offset.indexOf('%') > 0) {\n        // percentage\n        offset = parseInt(offset, 10) / 100;\n      } else if (offset) {\n        // number from 0 to 1\n        offset = parseFloat(offset);\n      } else {\n        offset = 0;\n      }\n\n      var stopColor = stop.getAttribute('stop-color') || '#000000';\n      gradient.addColorStop(offset, stopColor);\n    }\n\n    stop = stop.nextSibling;\n  }\n}\n\nfunction inheritStyle(parent, child) {\n  if (parent && parent.__inheritedStyle) {\n    if (!child.__inheritedStyle) {\n      child.__inheritedStyle = {};\n    }\n\n    defaults(child.__inheritedStyle, parent.__inheritedStyle);\n  }\n}\n\nfunction parsePoints(pointsString) {\n  var list = trim(pointsString).split(DILIMITER_REG);\n  var points = [];\n\n  for (var i = 0; i < list.length; i += 2) {\n    var x = parseFloat(list[i]);\n    var y = parseFloat(list[i + 1]);\n    points.push([x, y]);\n  }\n\n  return points;\n}\n\nvar attributesMap = {\n  'fill': 'fill',\n  'stroke': 'stroke',\n  'stroke-width': 'lineWidth',\n  'opacity': 'opacity',\n  'fill-opacity': 'fillOpacity',\n  'stroke-opacity': 'strokeOpacity',\n  'stroke-dasharray': 'lineDash',\n  'stroke-dashoffset': 'lineDashOffset',\n  'stroke-linecap': 'lineCap',\n  'stroke-linejoin': 'lineJoin',\n  'stroke-miterlimit': 'miterLimit',\n  'font-family': 'fontFamily',\n  'font-size': 'fontSize',\n  'font-style': 'fontStyle',\n  'font-weight': 'fontWeight',\n  'text-align': 'textAlign',\n  'alignment-baseline': 'textBaseline'\n};\n\nfunction parseAttributes(xmlNode, el, defs, onlyInlineStyle) {\n  var zrStyle = el.__inheritedStyle || {};\n  var isTextEl = el.type === 'text'; // TODO Shadow\n\n  if (xmlNode.nodeType === 1) {\n    parseTransformAttribute(xmlNode, el);\n    extend(zrStyle, parseStyleAttribute(xmlNode));\n\n    if (!onlyInlineStyle) {\n      for (var svgAttrName in attributesMap) {\n        if (attributesMap.hasOwnProperty(svgAttrName)) {\n          var attrValue = xmlNode.getAttribute(svgAttrName);\n\n          if (attrValue != null) {\n            zrStyle[attributesMap[svgAttrName]] = attrValue;\n          }\n        }\n      }\n    }\n  }\n\n  var elFillProp = isTextEl ? 'textFill' : 'fill';\n  var elStrokeProp = isTextEl ? 'textStroke' : 'stroke';\n  el.style = el.style || new Style();\n  var elStyle = el.style;\n  zrStyle.fill != null && elStyle.set(elFillProp, getPaint(zrStyle.fill, defs));\n  zrStyle.stroke != null && elStyle.set(elStrokeProp, getPaint(zrStyle.stroke, defs));\n  each(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (propName) {\n    var elPropName = propName === 'lineWidth' && isTextEl ? 'textStrokeWidth' : propName;\n    zrStyle[propName] != null && elStyle.set(elPropName, parseFloat(zrStyle[propName]));\n  });\n\n  if (!zrStyle.textBaseline || zrStyle.textBaseline === 'auto') {\n    zrStyle.textBaseline = 'alphabetic';\n  }\n\n  if (zrStyle.textBaseline === 'alphabetic') {\n    zrStyle.textBaseline = 'bottom';\n  }\n\n  if (zrStyle.textAlign === 'start') {\n    zrStyle.textAlign = 'left';\n  }\n\n  if (zrStyle.textAlign === 'end') {\n    zrStyle.textAlign = 'right';\n  }\n\n  each(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (propName) {\n    zrStyle[propName] != null && elStyle.set(propName, zrStyle[propName]);\n  });\n\n  if (zrStyle.lineDash) {\n    el.style.lineDash = trim(zrStyle.lineDash).split(DILIMITER_REG);\n  }\n\n  if (elStyle[elStrokeProp] && elStyle[elStrokeProp] !== 'none') {\n    // enable stroke\n    el[elStrokeProp] = true;\n  }\n\n  el.__inheritedStyle = zrStyle;\n}\n\nvar urlRegex = /url\\(\\s*#(.*?)\\)/;\n\nfunction getPaint(str, defs) {\n  // if (str === 'none') {\n  //     return;\n  // }\n  var urlMatch = defs && str && str.match(urlRegex);\n\n  if (urlMatch) {\n    var url = trim(urlMatch[1]);\n    var def = defs[url];\n    return def;\n  }\n\n  return str;\n}\n\nvar transformRegex = /(translate|scale|rotate|skewX|skewY|matrix)\\(([\\-\\s0-9\\.e,]*)\\)/g;\n\nfunction parseTransformAttribute(xmlNode, node) {\n  var transform = xmlNode.getAttribute('transform');\n\n  if (transform) {\n    transform = transform.replace(/,/g, ' ');\n    var m = null;\n    var transformOps = [];\n    transform.replace(transformRegex, function (str, type, value) {\n      transformOps.push(type, value);\n    });\n\n    for (var i = transformOps.length - 1; i > 0; i -= 2) {\n      var value = transformOps[i];\n      var type = transformOps[i - 1];\n      m = m || matrix.create();\n\n      switch (type) {\n        case 'translate':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.translate(m, m, [parseFloat(value[0]), parseFloat(value[1] || 0)]);\n          break;\n\n        case 'scale':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.scale(m, m, [parseFloat(value[0]), parseFloat(value[1] || value[0])]);\n          break;\n\n        case 'rotate':\n          value = trim(value).split(DILIMITER_REG);\n          matrix.rotate(m, m, parseFloat(value[0]));\n          break;\n\n        case 'skew':\n          value = trim(value).split(DILIMITER_REG);\n          console.warn('Skew transform is not supported yet');\n          break;\n\n        case 'matrix':\n          var value = trim(value).split(DILIMITER_REG);\n          m[0] = parseFloat(value[0]);\n          m[1] = parseFloat(value[1]);\n          m[2] = parseFloat(value[2]);\n          m[3] = parseFloat(value[3]);\n          m[4] = parseFloat(value[4]);\n          m[5] = parseFloat(value[5]);\n          break;\n      }\n    }\n\n    node.setLocalTransform(m);\n  }\n} // Value may contain space.\n\n\nvar styleRegex = /([^\\s:;]+)\\s*:\\s*([^:;]+)/g;\n\nfunction parseStyleAttribute(xmlNode) {\n  var style = xmlNode.getAttribute('style');\n  var result = {};\n\n  if (!style) {\n    return result;\n  }\n\n  var styleList = {};\n  styleRegex.lastIndex = 0;\n  var styleRegResult;\n\n  while ((styleRegResult = styleRegex.exec(style)) != null) {\n    styleList[styleRegResult[1]] = styleRegResult[2];\n  }\n\n  for (var svgAttrName in attributesMap) {\n    if (attributesMap.hasOwnProperty(svgAttrName) && styleList[svgAttrName] != null) {\n      result[attributesMap[svgAttrName]] = styleList[svgAttrName];\n    }\n  }\n\n  return result;\n}\n/**\n * @param {Array.<number>} viewBoxRect\n * @param {number} width\n * @param {number} height\n * @return {Object} {scale, position}\n */\n\n\nfunction makeViewBoxTransform(viewBoxRect, width, height) {\n  var scaleX = width / viewBoxRect.width;\n  var scaleY = height / viewBoxRect.height;\n  var scale = Math.min(scaleX, scaleY); // preserveAspectRatio 'xMidYMid'\n\n  var viewBoxScale = [scale, scale];\n  var viewBoxPosition = [-(viewBoxRect.x + viewBoxRect.width / 2) * scale + width / 2, -(viewBoxRect.y + viewBoxRect.height / 2) * scale + height / 2];\n  return {\n    scale: viewBoxScale,\n    position: viewBoxPosition\n  };\n}\n/**\n * @param {string|XMLElement} xml\n * @param {Object} [opt]\n * @param {number} [opt.width] Default width if svg width not specified or is a percent value.\n * @param {number} [opt.height] Default height if svg height not specified or is a percent value.\n * @param {boolean} [opt.ignoreViewBox]\n * @param {boolean} [opt.ignoreRootClip]\n * @return {Object} result:\n * {\n *     root: Group, The root of the the result tree of zrender shapes,\n *     width: number, the viewport width of the SVG,\n *     height: number, the viewport height of the SVG,\n *     viewBoxRect: {x, y, width, height}, the declared viewBox rect of the SVG, if exists,\n *     viewBoxTransform: the {scale, position} calculated by viewBox and viewport, is exists.\n * }\n */\n\n\nfunction parseSVG(xml, opt) {\n  var parser = new SVGParser();\n  return parser.parse(xml, opt);\n}\n\nexports.parseXML = parseXML;\nexports.makeViewBoxTransform = makeViewBoxTransform;\nexports.parseSVG = parseSVG;","var Path = require(\"../Path\");\n/**\n * \n * @module zrender/graphic/shape/Ellipse\n */\n\n\nvar _default = Path.extend({\n  type: 'ellipse',\n  shape: {\n    cx: 0,\n    cy: 0,\n    rx: 0,\n    ry: 0\n  },\n  buildPath: function buildPath(ctx, shape) {\n    var k = 0.5522848;\n    var x = shape.cx;\n    var y = shape.cy;\n    var a = shape.rx;\n    var b = shape.ry;\n    var ox = a * k; // \n\n    var oy = b * k; // \n    // \n\n    ctx.moveTo(x - a, y);\n    ctx.bezierCurveTo(x - a, y - oy, x - ox, y - b, x, y - b);\n    ctx.bezierCurveTo(x + ox, y - b, x + a, y - oy, x + a, y);\n    ctx.bezierCurveTo(x + a, y + oy, x + ox, y + b, x, y + b);\n    ctx.bezierCurveTo(x - ox, y + b, x - a, y + oy, x - a, y);\n    ctx.closePath();\n  }\n});\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrender = require(\"zrender/lib/zrender\");\n\nexports.zrender = zrender;\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nexports.matrix = matrix;\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nexports.vector = vector;\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nexports.color = colorTool;\n\nvar graphicUtil = require(\"./util/graphic\");\n\nvar numberUtil = require(\"./util/number\");\n\nexports.number = numberUtil;\n\nvar formatUtil = require(\"./util/format\");\n\nexports.format = formatUtil;\n\nvar _throttle = require(\"./util/throttle\");\n\nvar throttle = _throttle.throttle;\nexports.throttle = _throttle.throttle;\n\nvar ecHelper = require(\"./helper\");\n\nexports.helper = ecHelper;\n\nvar parseGeoJSON = require(\"./coord/geo/parseGeoJson\");\n\nexports.parseGeoJSON = parseGeoJSON;\n\nvar _List = require(\"./data/List\");\n\nexports.List = _List;\n\nvar _Model = require(\"./model/Model\");\n\nexports.Model = _Model;\n\nvar _Axis = require(\"./coord/Axis\");\n\nexports.Axis = _Axis;\n\nvar _env = require(\"zrender/lib/core/env\");\n\nexports.env = _env;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Do not mount those modules on 'src/echarts' for better tree shaking.\n */\n\nvar parseGeoJson = parseGeoJSON;\nvar ecUtil = {};\nzrUtil.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (name) {\n  ecUtil[name] = zrUtil[name];\n});\nvar graphic = {};\nzrUtil.each(['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'setHoverStyle', 'setLabelStyle', 'setTextStyle', 'setText', 'getFont', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect'], function (name) {\n  graphic[name] = graphicUtil[name];\n});\nexports.parseGeoJson = parseGeoJson;\nexports.util = ecUtil;\nexports.graphic = graphic;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar createListFromArray = require(\"./chart/helper/createListFromArray\");\n\nvar axisHelper = require(\"./coord/axisHelper\");\n\nvar axisModelCommonMixin = require(\"./coord/axisModelCommonMixin\");\n\nvar Model = require(\"./model/Model\");\n\nvar _layout = require(\"./util/layout\");\n\nvar getLayoutRect = _layout.getLayoutRect;\nexports.getLayoutRect = _layout.getLayoutRect;\n\nvar _dataStackHelper = require(\"./data/helper/dataStackHelper\");\n\nvar enableDataStack = _dataStackHelper.enableDataStack;\nvar isDimensionStacked = _dataStackHelper.isDimensionStacked;\nvar getStackedDimension = _dataStackHelper.getStackedDimension;\n\nvar _completeDimensions = require(\"./data/helper/completeDimensions\");\n\nexports.completeDimensions = _completeDimensions;\n\nvar _createDimensions = require(\"./data/helper/createDimensions\");\n\nexports.createDimensions = _createDimensions;\n\nvar _symbol = require(\"./util/symbol\");\n\nexports.createSymbol = _symbol.createSymbol;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// import createGraphFromNodeEdge from './chart/helper/createGraphFromNodeEdge';\n\n/**\n * Create a muti dimension List structure from seriesModel.\n * @param  {module:echarts/model/Model} seriesModel\n * @return {module:echarts/data/List} list\n */\n\nfunction createList(seriesModel) {\n  return createListFromArray(seriesModel.getSource(), seriesModel);\n} // export function createGraph(seriesModel) {\n//     var nodes = seriesModel.get('data');\n//     var links = seriesModel.get('links');\n//     return createGraphFromNodeEdge(nodes, links, seriesModel);\n// }\n\n\nvar dataStack = {\n  isDimensionStacked: isDimensionStacked,\n  enableDataStack: enableDataStack,\n  getStackedDimension: getStackedDimension\n};\n/**\n * Create a symbol element with given symbol configuration: shape, x, y, width, height, color\n * @param {string} symbolDesc\n * @param {number} x\n * @param {number} y\n * @param {number} w\n * @param {number} h\n * @param {string} color\n */\n\n/**\n * Create scale\n * @param {Array.<number>} dataExtent\n * @param {Object|module:echarts/Model} option\n */\n\nfunction createScale(dataExtent, option) {\n  var axisModel = option;\n\n  if (!Model.isInstance(option)) {\n    axisModel = new Model(option);\n    zrUtil.mixin(axisModel, axisModelCommonMixin);\n  }\n\n  var scale = axisHelper.createScaleByModel(axisModel);\n  scale.setExtent(dataExtent[0], dataExtent[1]);\n  axisHelper.niceScaleExtent(scale, axisModel);\n  return scale;\n}\n/**\n * Mixin common methods to axis model,\n *\n * Inlcude methods\n * `getFormattedLabels() => Array.<string>`\n * `getCategories() => Array.<string>`\n * `getMin(origin: boolean) => number`\n * `getMax(origin: boolean) => number`\n * `getNeedCrossZero() => boolean`\n * `setRange(start: number, end: number)`\n * `resetRange()`\n */\n\n\nfunction mixinAxisModelCommonMethods(Model) {\n  zrUtil.mixin(Model, axisModelCommonMixin);\n}\n\nexports.createList = createList;\nexports.dataStack = dataStack;\nexports.createScale = createScale;\nexports.mixinAxisModelCommonMethods = mixinAxisModelCommonMethods;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nfunction defaultKeyGetter(item) {\n  return item;\n}\n/**\n * @param {Array} oldArr\n * @param {Array} newArr\n * @param {Function} oldKeyGetter\n * @param {Function} newKeyGetter\n * @param {Object} [context] Can be visited by this.context in callback.\n */\n\n\nfunction DataDiffer(oldArr, newArr, oldKeyGetter, newKeyGetter, context) {\n  this._old = oldArr;\n  this._new = newArr;\n  this._oldKeyGetter = oldKeyGetter || defaultKeyGetter;\n  this._newKeyGetter = newKeyGetter || defaultKeyGetter;\n  this.context = context;\n}\n\nDataDiffer.prototype = {\n  constructor: DataDiffer,\n\n  /**\n   * Callback function when add a data\n   */\n  add: function add(func) {\n    this._add = func;\n    return this;\n  },\n\n  /**\n   * Callback function when update a data\n   */\n  update: function update(func) {\n    this._update = func;\n    return this;\n  },\n\n  /**\n   * Callback function when remove a data\n   */\n  remove: function remove(func) {\n    this._remove = func;\n    return this;\n  },\n  execute: function execute() {\n    var oldArr = this._old;\n    var newArr = this._new;\n    var oldDataIndexMap = {};\n    var newDataIndexMap = {};\n    var oldDataKeyArr = [];\n    var newDataKeyArr = [];\n    var i;\n    initIndexMap(oldArr, oldDataIndexMap, oldDataKeyArr, '_oldKeyGetter', this);\n    initIndexMap(newArr, newDataIndexMap, newDataKeyArr, '_newKeyGetter', this); // Travel by inverted order to make sure order consistency\n    // when duplicate keys exists (consider newDataIndex.pop() below).\n    // For performance consideration, these code below do not look neat.\n\n    for (i = 0; i < oldArr.length; i++) {\n      var key = oldDataKeyArr[i];\n      var idx = newDataIndexMap[key]; // idx can never be empty array here. see 'set null' logic below.\n\n      if (idx != null) {\n        // Consider there is duplicate key (for example, use dataItem.name as key).\n        // We should make sure every item in newArr and oldArr can be visited.\n        var len = idx.length;\n\n        if (len) {\n          len === 1 && (newDataIndexMap[key] = null);\n          idx = idx.unshift();\n        } else {\n          newDataIndexMap[key] = null;\n        }\n\n        this._update && this._update(idx, i);\n      } else {\n        this._remove && this._remove(i);\n      }\n    }\n\n    for (var i = 0; i < newDataKeyArr.length; i++) {\n      var key = newDataKeyArr[i];\n\n      if (newDataIndexMap.hasOwnProperty(key)) {\n        var idx = newDataIndexMap[key];\n\n        if (idx == null) {\n          continue;\n        } // idx can never be empty array here. see 'set null' logic above.\n\n\n        if (!idx.length) {\n          this._add && this._add(idx);\n        } else {\n          for (var j = 0, len = idx.length; j < len; j++) {\n            this._add && this._add(idx[j]);\n          }\n        }\n      }\n    }\n  }\n};\n\nfunction initIndexMap(arr, map, keyArr, keyGetterName, dataDiffer) {\n  for (var i = 0; i < arr.length; i++) {\n    // Add prefix to avoid conflict with Object.prototype.\n    var key = '_ec_' + dataDiffer[keyGetterName](arr[i], i);\n    var existence = map[key];\n\n    if (existence == null) {\n      keyArr.push(key);\n      map[key] = i;\n    } else {\n      if (!existence.length) {\n        map[key] = existence = [existence];\n      }\n\n      existence.push(i);\n    }\n  }\n}\n\nvar _default = DataDiffer;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Scale = require(\"./Scale\");\n\nvar OrdinalMeta = require(\"../data/OrdinalMeta\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Linear continuous scale\n * @module echarts/coord/scale/Ordinal\n *\n * http://en.wikipedia.org/wiki/Level_of_measurement\n */\n// FIXME only one data\n\n\nvar scaleProto = Scale.prototype;\nvar OrdinalScale = Scale.extend({\n  type: 'ordinal',\n\n  /**\n   * @param {module:echarts/data/OrdianlMeta|Array.<string>} ordinalMeta\n   */\n  init: function init(ordinalMeta, extent) {\n    // Caution: Should not use instanceof, consider ec-extensions using\n    // import approach to get OrdinalMeta class.\n    if (!ordinalMeta || zrUtil.isArray(ordinalMeta)) {\n      ordinalMeta = new OrdinalMeta({\n        categories: ordinalMeta\n      });\n    }\n\n    this._ordinalMeta = ordinalMeta;\n    this._extent = extent || [0, ordinalMeta.categories.length - 1];\n  },\n  parse: function parse(val) {\n    return typeof val === 'string' ? this._ordinalMeta.getOrdinal(val) // val might be float.\n    : Math.round(val);\n  },\n  contain: function contain(rank) {\n    rank = this.parse(rank);\n    return scaleProto.contain.call(this, rank) && this._ordinalMeta.categories[rank] != null;\n  },\n\n  /**\n   * Normalize given rank or name to linear [0, 1]\n   * @param {number|string} [val]\n   * @return {number}\n   */\n  normalize: function normalize(val) {\n    return scaleProto.normalize.call(this, this.parse(val));\n  },\n  scale: function scale(val) {\n    return Math.round(scaleProto.scale.call(this, val));\n  },\n\n  /**\n   * @return {Array}\n   */\n  getTicks: function getTicks() {\n    var ticks = [];\n    var extent = this._extent;\n    var rank = extent[0];\n\n    while (rank <= extent[1]) {\n      ticks.push(rank);\n      rank++;\n    }\n\n    return ticks;\n  },\n\n  /**\n   * Get item on rank n\n   * @param {number} n\n   * @return {string}\n   */\n  getLabel: function getLabel(n) {\n    if (!this.isBlank()) {\n      // Note that if no data, ordinalMeta.categories is an empty array.\n      return this._ordinalMeta.categories[n];\n    }\n  },\n\n  /**\n   * @return {number}\n   */\n  count: function count() {\n    return this._extent[1] - this._extent[0] + 1;\n  },\n\n  /**\n   * @override\n   */\n  unionExtentFromData: function unionExtentFromData(data, dim) {\n    this.unionExtent(data.getApproximateExtent(dim));\n  },\n  getOrdinalMeta: function getOrdinalMeta() {\n    return this._ordinalMeta;\n  },\n  niceTicks: zrUtil.noop,\n  niceExtent: zrUtil.noop\n});\n/**\n * @return {module:echarts/scale/Time}\n */\n\nOrdinalScale.create = function () {\n  return new OrdinalScale();\n};\n\nvar _default = OrdinalScale;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar numberUtil = require(\"../util/number\");\n\nvar formatUtil = require(\"../util/format\");\n\nvar scaleHelper = require(\"./helper\");\n\nvar IntervalScale = require(\"./Interval\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The \"scaleLevels\" was originally copied from \"d3.js\" with some\n* modifications made for this project.\n* (See more details in the comment on the definition of \"scaleLevels\" below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n// [About UTC and local time zone]:\n// In most cases, `number.parseDate` will treat input data string as local time\n// (except time zone is specified in time string). And `format.formateTime` returns\n// local time by default. option.useUTC is false by default. This design have\n// concidered these common case:\n// (1) Time that is persistent in server is in UTC, but it is needed to be diplayed\n// in local time by default.\n// (2) By default, the input data string (e.g., '2011-01-02') should be displayed\n// as its original time, without any time difference.\n\n\nvar intervalScaleProto = IntervalScale.prototype;\nvar mathCeil = Math.ceil;\nvar mathFloor = Math.floor;\nvar ONE_SECOND = 1000;\nvar ONE_MINUTE = ONE_SECOND * 60;\nvar ONE_HOUR = ONE_MINUTE * 60;\nvar ONE_DAY = ONE_HOUR * 24; // FIXME \n\nvar bisect = function bisect(a, x, lo, hi) {\n  while (lo < hi) {\n    var mid = lo + hi >>> 1;\n\n    if (a[mid][1] < x) {\n      lo = mid + 1;\n    } else {\n      hi = mid;\n    }\n  }\n\n  return lo;\n};\n/**\n * @alias module:echarts/coord/scale/Time\n * @constructor\n */\n\n\nvar TimeScale = IntervalScale.extend({\n  type: 'time',\n\n  /**\n   * @override\n   */\n  getLabel: function getLabel(val) {\n    var stepLvl = this._stepLvl;\n    var date = new Date(val);\n    return formatUtil.formatTime(stepLvl[0], date, this.getSetting('useUTC'));\n  },\n\n  /**\n   * @override\n   */\n  niceExtent: function niceExtent(opt) {\n    var extent = this._extent; // If extent start and end are same, expand them\n\n    if (extent[0] === extent[1]) {\n      // Expand extent\n      extent[0] -= ONE_DAY;\n      extent[1] += ONE_DAY;\n    } // If there are no data and extent are [Infinity, -Infinity]\n\n\n    if (extent[1] === -Infinity && extent[0] === Infinity) {\n      var d = new Date();\n      extent[1] = +new Date(d.getFullYear(), d.getMonth(), d.getDate());\n      extent[0] = extent[1] - ONE_DAY;\n    }\n\n    this.niceTicks(opt.splitNumber, opt.minInterval, opt.maxInterval); // var extent = this._extent;\n\n    var interval = this._interval;\n\n    if (!opt.fixMin) {\n      extent[0] = numberUtil.round(mathFloor(extent[0] / interval) * interval);\n    }\n\n    if (!opt.fixMax) {\n      extent[1] = numberUtil.round(mathCeil(extent[1] / interval) * interval);\n    }\n  },\n\n  /**\n   * @override\n   */\n  niceTicks: function niceTicks(approxTickNum, minInterval, maxInterval) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n    var approxInterval = span / approxTickNum;\n\n    if (minInterval != null && approxInterval < minInterval) {\n      approxInterval = minInterval;\n    }\n\n    if (maxInterval != null && approxInterval > maxInterval) {\n      approxInterval = maxInterval;\n    }\n\n    var scaleLevelsLen = scaleLevels.length;\n    var idx = bisect(scaleLevels, approxInterval, 0, scaleLevelsLen);\n    var level = scaleLevels[Math.min(idx, scaleLevelsLen - 1)];\n    var interval = level[1]; // Same with interval scale if span is much larger than 1 year\n\n    if (level[0] === 'year') {\n      var yearSpan = span / interval; // From \"Nice Numbers for Graph Labels\" of Graphic Gems\n      // var niceYearSpan = numberUtil.nice(yearSpan, false);\n\n      var yearStep = numberUtil.nice(yearSpan / approxTickNum, true);\n      interval *= yearStep;\n    }\n\n    var timezoneOffset = this.getSetting('useUTC') ? 0 : new Date(+extent[0] || +extent[1]).getTimezoneOffset() * 60 * 1000;\n    var niceExtent = [Math.round(mathCeil((extent[0] - timezoneOffset) / interval) * interval + timezoneOffset), Math.round(mathFloor((extent[1] - timezoneOffset) / interval) * interval + timezoneOffset)];\n    scaleHelper.fixExtent(niceExtent, extent);\n    this._stepLvl = level; // Interval will be used in getTicks\n\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  },\n  parse: function parse(val) {\n    // val might be float.\n    return +numberUtil.parseDate(val);\n  }\n});\nzrUtil.each(['contain', 'normalize'], function (methodName) {\n  TimeScale.prototype[methodName] = function (val) {\n    return intervalScaleProto[methodName].call(this, this.parse(val));\n  };\n});\n/**\n * This implementation was originally copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/b516d77fb8566b576088e73410437494717ada26/src/time/scale.js>\n * with some modifications made for this program.\n * See the license statement at the head of this file.\n */\n\nvar scaleLevels = [// Format              interval\n['hh:mm:ss', ONE_SECOND], // 1s\n['hh:mm:ss', ONE_SECOND * 5], // 5s\n['hh:mm:ss', ONE_SECOND * 10], // 10s\n['hh:mm:ss', ONE_SECOND * 15], // 15s\n['hh:mm:ss', ONE_SECOND * 30], // 30s\n['hh:mm\\nMM-dd', ONE_MINUTE], // 1m\n['hh:mm\\nMM-dd', ONE_MINUTE * 5], // 5m\n['hh:mm\\nMM-dd', ONE_MINUTE * 10], // 10m\n['hh:mm\\nMM-dd', ONE_MINUTE * 15], // 15m\n['hh:mm\\nMM-dd', ONE_MINUTE * 30], // 30m\n['hh:mm\\nMM-dd', ONE_HOUR], // 1h\n['hh:mm\\nMM-dd', ONE_HOUR * 2], // 2h\n['hh:mm\\nMM-dd', ONE_HOUR * 6], // 6h\n['hh:mm\\nMM-dd', ONE_HOUR * 12], // 12h\n['MM-dd\\nyyyy', ONE_DAY], // 1d\n['MM-dd\\nyyyy', ONE_DAY * 2], // 2d\n['MM-dd\\nyyyy', ONE_DAY * 3], // 3d\n['MM-dd\\nyyyy', ONE_DAY * 4], // 4d\n['MM-dd\\nyyyy', ONE_DAY * 5], // 5d\n['MM-dd\\nyyyy', ONE_DAY * 6], // 6d\n['week', ONE_DAY * 7], // 7d\n['MM-dd\\nyyyy', ONE_DAY * 10], // 10d\n['week', ONE_DAY * 14], // 2w\n['week', ONE_DAY * 21], // 3w\n['month', ONE_DAY * 31], // 1M\n['week', ONE_DAY * 42], // 6w\n['month', ONE_DAY * 62], // 2M\n['week', ONE_DAY * 70], // 10w\n['quarter', ONE_DAY * 95], // 3M\n['month', ONE_DAY * 31 * 4], // 4M\n['month', ONE_DAY * 31 * 5], // 5M\n['half-year', ONE_DAY * 380 / 2], // 6M\n['month', ONE_DAY * 31 * 8], // 8M\n['month', ONE_DAY * 31 * 10], // 10M\n['year', ONE_DAY * 380] // 1Y\n];\n/**\n * @param {module:echarts/model/Model}\n * @return {module:echarts/scale/Time}\n */\n\nTimeScale.create = function (model) {\n  return new TimeScale({\n    useUTC: model.ecModel.get('useUTC')\n  });\n};\n\nvar _default = TimeScale;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Scale = require(\"./Scale\");\n\nvar numberUtil = require(\"../util/number\");\n\nvar IntervalScale = require(\"./Interval\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Log scale\n * @module echarts/scale/Log\n */\n// Use some method of IntervalScale\n\n\nvar scaleProto = Scale.prototype;\nvar intervalScaleProto = IntervalScale.prototype;\nvar getPrecisionSafe = numberUtil.getPrecisionSafe;\nvar roundingErrorFix = numberUtil.round;\nvar mathFloor = Math.floor;\nvar mathCeil = Math.ceil;\nvar mathPow = Math.pow;\nvar mathLog = Math.log;\nvar LogScale = Scale.extend({\n  type: 'log',\n  base: 10,\n  $constructor: function $constructor() {\n    Scale.apply(this, arguments);\n    this._originalScale = new IntervalScale();\n  },\n\n  /**\n   * @return {Array.<number>}\n   */\n  getTicks: function getTicks() {\n    var originalScale = this._originalScale;\n    var extent = this._extent;\n    var originalExtent = originalScale.getExtent();\n    return zrUtil.map(intervalScaleProto.getTicks.call(this), function (val) {\n      var powVal = numberUtil.round(mathPow(this.base, val)); // Fix #4158\n\n      powVal = val === extent[0] && originalScale.__fixMin ? fixRoundingError(powVal, originalExtent[0]) : powVal;\n      powVal = val === extent[1] && originalScale.__fixMax ? fixRoundingError(powVal, originalExtent[1]) : powVal;\n      return powVal;\n    }, this);\n  },\n\n  /**\n   * @param {number} val\n   * @return {string}\n   */\n  getLabel: intervalScaleProto.getLabel,\n\n  /**\n   * @param  {number} val\n   * @return {number}\n   */\n  scale: function scale(val) {\n    val = scaleProto.scale.call(this, val);\n    return mathPow(this.base, val);\n  },\n\n  /**\n   * @param {number} start\n   * @param {number} end\n   */\n  setExtent: function setExtent(start, end) {\n    var base = this.base;\n    start = mathLog(start) / mathLog(base);\n    end = mathLog(end) / mathLog(base);\n    intervalScaleProto.setExtent.call(this, start, end);\n  },\n\n  /**\n   * @return {number} end\n   */\n  getExtent: function getExtent() {\n    var base = this.base;\n    var extent = scaleProto.getExtent.call(this);\n    extent[0] = mathPow(base, extent[0]);\n    extent[1] = mathPow(base, extent[1]); // Fix #4158\n\n    var originalScale = this._originalScale;\n    var originalExtent = originalScale.getExtent();\n    originalScale.__fixMin && (extent[0] = fixRoundingError(extent[0], originalExtent[0]));\n    originalScale.__fixMax && (extent[1] = fixRoundingError(extent[1], originalExtent[1]));\n    return extent;\n  },\n\n  /**\n   * @param  {Array.<number>} extent\n   */\n  unionExtent: function unionExtent(extent) {\n    this._originalScale.unionExtent(extent);\n\n    var base = this.base;\n    extent[0] = mathLog(extent[0]) / mathLog(base);\n    extent[1] = mathLog(extent[1]) / mathLog(base);\n    scaleProto.unionExtent.call(this, extent);\n  },\n\n  /**\n   * @override\n   */\n  unionExtentFromData: function unionExtentFromData(data, dim) {\n    // TODO\n    // filter value that <= 0\n    this.unionExtent(data.getApproximateExtent(dim));\n  },\n\n  /**\n   * Update interval and extent of intervals for nice ticks\n   * @param  {number} [approxTickNum = 10] Given approx tick number\n   */\n  niceTicks: function niceTicks(approxTickNum) {\n    approxTickNum = approxTickNum || 10;\n    var extent = this._extent;\n    var span = extent[1] - extent[0];\n\n    if (span === Infinity || span <= 0) {\n      return;\n    }\n\n    var interval = numberUtil.quantity(span);\n    var err = approxTickNum / span * interval; // Filter ticks to get closer to the desired count.\n\n    if (err <= 0.5) {\n      interval *= 10;\n    } // Interval should be integer\n\n\n    while (!isNaN(interval) && Math.abs(interval) < 1 && Math.abs(interval) > 0) {\n      interval *= 10;\n    }\n\n    var niceExtent = [numberUtil.round(mathCeil(extent[0] / interval) * interval), numberUtil.round(mathFloor(extent[1] / interval) * interval)];\n    this._interval = interval;\n    this._niceExtent = niceExtent;\n  },\n\n  /**\n   * Nice extent.\n   * @override\n   */\n  niceExtent: function niceExtent(opt) {\n    intervalScaleProto.niceExtent.call(this, opt);\n    var originalScale = this._originalScale;\n    originalScale.__fixMin = opt.fixMin;\n    originalScale.__fixMax = opt.fixMax;\n  }\n});\nzrUtil.each(['contain', 'normalize'], function (methodName) {\n  LogScale.prototype[methodName] = function (val) {\n    val = mathLog(val) / mathLog(this.base);\n    return scaleProto[methodName].call(this, val);\n  };\n});\n\nLogScale.create = function () {\n  return new LogScale();\n};\n\nfunction fixRoundingError(val, originalVal) {\n  return roundingErrorFix(val, getPrecisionSafe(originalVal));\n}\n\nvar _default = LogScale;\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar Region = require(\"./Region\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * Parse and decode geo json\n * @module echarts/coord/geo/parseGeoJson\n */\n\n\nfunction decode(json) {\n  if (!json.UTF8Encoding) {\n    return json;\n  }\n\n  var encodeScale = json.UTF8Scale;\n\n  if (encodeScale == null) {\n    encodeScale = 1024;\n  }\n\n  var features = json.features;\n\n  for (var f = 0; f < features.length; f++) {\n    var feature = features[f];\n    var geometry = feature.geometry;\n    var coordinates = geometry.coordinates;\n    var encodeOffsets = geometry.encodeOffsets;\n\n    for (var c = 0; c < coordinates.length; c++) {\n      var coordinate = coordinates[c];\n\n      if (geometry.type === 'Polygon') {\n        coordinates[c] = decodePolygon(coordinate, encodeOffsets[c], encodeScale);\n      } else if (geometry.type === 'MultiPolygon') {\n        for (var c2 = 0; c2 < coordinate.length; c2++) {\n          var polygon = coordinate[c2];\n          coordinate[c2] = decodePolygon(polygon, encodeOffsets[c][c2], encodeScale);\n        }\n      }\n    }\n  } // Has been decoded\n\n\n  json.UTF8Encoding = false;\n  return json;\n}\n\nfunction decodePolygon(coordinate, encodeOffsets, encodeScale) {\n  var result = [];\n  var prevX = encodeOffsets[0];\n  var prevY = encodeOffsets[1];\n\n  for (var i = 0; i < coordinate.length; i += 2) {\n    var x = coordinate.charCodeAt(i) - 64;\n    var y = coordinate.charCodeAt(i + 1) - 64; // ZigZag decoding\n\n    x = x >> 1 ^ -(x & 1);\n    y = y >> 1 ^ -(y & 1); // Delta deocding\n\n    x += prevX;\n    y += prevY;\n    prevX = x;\n    prevY = y; // Dequantize\n\n    result.push([x / encodeScale, y / encodeScale]);\n  }\n\n  return result;\n}\n/**\n * @alias module:echarts/coord/geo/parseGeoJson\n * @param {Object} geoJson\n * @return {module:zrender/container/Group}\n */\n\n\nfunction _default(geoJson) {\n  decode(geoJson);\n  return zrUtil.map(zrUtil.filter(geoJson.features, function (featureObj) {\n    // Output of mapshaper may have geometry null\n    return featureObj.geometry && featureObj.properties && featureObj.geometry.coordinates.length > 0;\n  }), function (featureObj) {\n    var properties = featureObj.properties;\n    var geo = featureObj.geometry;\n    var coordinates = geo.coordinates;\n    var geometries = [];\n\n    if (geo.type === 'Polygon') {\n      geometries.push({\n        type: 'polygon',\n        // According to the GeoJSON specification.\n        // First must be exterior, and the rest are all interior(holes).\n        exterior: coordinates[0],\n        interiors: coordinates.slice(1)\n      });\n    }\n\n    if (geo.type === 'MultiPolygon') {\n      zrUtil.each(coordinates, function (item) {\n        if (item[0]) {\n          geometries.push({\n            type: 'polygon',\n            exterior: item[0],\n            interiors: item.slice(1)\n          });\n        }\n      });\n    }\n\n    var region = new Region(properties.name, geometries, properties.cp);\n    region.properties = properties;\n    return region;\n  });\n}\n\nmodule.exports = _default;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nvar bbox = require(\"zrender/lib/core/bbox\");\n\nvar vec2 = require(\"zrender/lib/core/vector\");\n\nvar polygonContain = require(\"zrender/lib/contain/polygon\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/**\n * @module echarts/coord/geo/Region\n */\n\n/**\n * @param {string|Region} name\n * @param {Array} geometries\n * @param {Array.<number>} cp\n */\n\n\nfunction Region(name, geometries, cp) {\n  /**\n   * @type {string}\n   * @readOnly\n   */\n  this.name = name;\n  /**\n   * @type {Array.<Array>}\n   * @readOnly\n   */\n\n  this.geometries = geometries;\n\n  if (!cp) {\n    var rect = this.getBoundingRect();\n    cp = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  } else {\n    cp = [cp[0], cp[1]];\n  }\n  /**\n   * @type {Array.<number>}\n   */\n\n\n  this.center = cp;\n}\n\nRegion.prototype = {\n  constructor: Region,\n  properties: null,\n\n  /**\n   * @return {module:zrender/core/BoundingRect}\n   */\n  getBoundingRect: function getBoundingRect() {\n    var rect = this._rect;\n\n    if (rect) {\n      return rect;\n    }\n\n    var MAX_NUMBER = Number.MAX_VALUE;\n    var min = [MAX_NUMBER, MAX_NUMBER];\n    var max = [-MAX_NUMBER, -MAX_NUMBER];\n    var min2 = [];\n    var max2 = [];\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      // Only support polygon\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      } // Doesn't consider hole\n\n\n      var exterior = geometries[i].exterior;\n      bbox.fromPoints(exterior, min2, max2);\n      vec2.min(min, min, min2);\n      vec2.max(max, max, max2);\n    } // No data\n\n\n    if (i === 0) {\n      min[0] = min[1] = max[0] = max[1] = 0;\n    }\n\n    return this._rect = new BoundingRect(min[0], min[1], max[0] - min[0], max[1] - min[1]);\n  },\n\n  /**\n   * @param {<Array.<number>} coord\n   * @return {boolean}\n   */\n  contain: function contain(coord) {\n    var rect = this.getBoundingRect();\n    var geometries = this.geometries;\n\n    if (!rect.contain(coord[0], coord[1])) {\n      return false;\n    }\n\n    loopGeo: for (var i = 0, len = geometries.length; i < len; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      if (polygonContain.contain(exterior, coord[0], coord[1])) {\n        // Not in the region if point is in the hole.\n        for (var k = 0; k < (interiors ? interiors.length : 0); k++) {\n          if (polygonContain.contain(interiors[k])) {\n            continue loopGeo;\n          }\n        }\n\n        return true;\n      }\n    }\n\n    return false;\n  },\n  transformTo: function transformTo(x, y, width, height) {\n    var rect = this.getBoundingRect();\n    var aspect = rect.width / rect.height;\n\n    if (!width) {\n      width = aspect * height;\n    } else if (!height) {\n      height = width / aspect;\n    }\n\n    var target = new BoundingRect(x, y, width, height);\n    var transform = rect.calculateTransform(target);\n    var geometries = this.geometries;\n\n    for (var i = 0; i < geometries.length; i++) {\n      // Only support polygon.\n      if (geometries[i].type !== 'polygon') {\n        continue;\n      }\n\n      var exterior = geometries[i].exterior;\n      var interiors = geometries[i].interiors;\n\n      for (var p = 0; p < exterior.length; p++) {\n        vec2.applyTransform(exterior[p], exterior[p], transform);\n      }\n\n      for (var h = 0; h < (interiors ? interiors.length : 0); h++) {\n        for (var p = 0; p < interiors[h].length; p++) {\n          vec2.applyTransform(interiors[h][p], interiors[h][p], transform);\n        }\n      }\n    }\n\n    rect = this._rect;\n    rect.copy(target); // Update center\n\n    this.center = [rect.x + rect.width / 2, rect.y + rect.height / 2];\n  },\n  cloneShallow: function cloneShallow(name) {\n    name == null && (name = this.name);\n    var newRegion = new Region(name, this.geometries, this.center);\n    newRegion._rect = this._rect;\n    newRegion.transformTo = null; // Simply avoid to be called.\n\n    return newRegion;\n  }\n};\nvar _default = Region;\nmodule.exports = _default;","var windingLine = require(\"./windingLine\");\n\nvar EPSILON = 1e-8;\n\nfunction isAroundEqual(a, b) {\n  return Math.abs(a - b) < EPSILON;\n}\n\nfunction contain(points, x, y) {\n  var w = 0;\n  var p = points[0];\n\n  if (!p) {\n    return false;\n  }\n\n  for (var i = 1; i < points.length; i++) {\n    var p2 = points[i];\n    w += windingLine(p[0], p[1], p2[0], p2[1], x, y);\n    p = p2;\n  } // Close polygon\n\n\n  var p0 = points[0];\n\n  if (!isAroundEqual(p[0], p0[0]) || !isAroundEqual(p[1], p0[1])) {\n    w += windingLine(p[0], p[1], p0[0], p0[1], x, y);\n  }\n\n  return w !== 0;\n}\n\nexports.contain = contain;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar textContain = require(\"zrender/lib/contain/text\");\n\nvar _model = require(\"../util/model\");\n\nvar makeInner = _model.makeInner;\n\nvar _axisHelper = require(\"./axisHelper\");\n\nvar makeLabelFormatter = _axisHelper.makeLabelFormatter;\nvar getOptionCategoryInterval = _axisHelper.getOptionCategoryInterval;\nvar shouldShowAllLabels = _axisHelper.shouldShowAllLabels;\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\nvar inner = makeInner();\n/**\n * @param {module:echats/coord/Axis} axis\n * @return {Object} {\n *     labels: [{\n *         formattedLabel: string,\n *         rawLabel: string,\n *         tickValue: number\n *     }, ...],\n *     labelCategoryInterval: number\n * }\n */\n\nfunction createAxisLabels(axis) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryLabels(axis) : makeRealNumberLabels(axis);\n}\n/**\n * @param {module:echats/coord/Axis} axis\n * @param {module:echarts/model/Model} tickModel For example, can be axisTick, splitLine, splitArea.\n * @return {Object} {\n *     ticks: Array.<number>\n *     tickCategoryInterval: number\n * }\n */\n\n\nfunction createAxisTicks(axis, tickModel) {\n  // Only ordinal scale support tick interval\n  return axis.type === 'category' ? makeCategoryTicks(axis, tickModel) : {\n    ticks: axis.scale.getTicks()\n  };\n}\n\nfunction makeCategoryLabels(axis) {\n  var labelModel = axis.getLabelModel();\n  var result = makeCategoryLabelsActually(axis, labelModel);\n  return !labelModel.get('show') || axis.scale.isBlank() ? {\n    labels: [],\n    labelCategoryInterval: result.labelCategoryInterval\n  } : result;\n}\n\nfunction makeCategoryLabelsActually(axis, labelModel) {\n  var labelsCache = getListCache(axis, 'labels');\n  var optionLabelInterval = getOptionCategoryInterval(labelModel);\n  var result = listCacheGet(labelsCache, optionLabelInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var labels;\n  var numericLabelInterval;\n\n  if (zrUtil.isFunction(optionLabelInterval)) {\n    labels = makeLabelsByCustomizedCategoryInterval(axis, optionLabelInterval);\n  } else {\n    numericLabelInterval = optionLabelInterval === 'auto' ? makeAutoCategoryInterval(axis) : optionLabelInterval;\n    labels = makeLabelsByNumericCategoryInterval(axis, numericLabelInterval);\n  } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(labelsCache, optionLabelInterval, {\n    labels: labels,\n    labelCategoryInterval: numericLabelInterval\n  });\n}\n\nfunction makeCategoryTicks(axis, tickModel) {\n  var ticksCache = getListCache(axis, 'ticks');\n  var optionTickInterval = getOptionCategoryInterval(tickModel);\n  var result = listCacheGet(ticksCache, optionTickInterval);\n\n  if (result) {\n    return result;\n  }\n\n  var ticks;\n  var tickCategoryInterval; // Optimize for the case that large category data and no label displayed,\n  // we should not return all ticks.\n\n  if (!tickModel.get('show') || axis.scale.isBlank()) {\n    ticks = [];\n  }\n\n  if (zrUtil.isFunction(optionTickInterval)) {\n    ticks = makeLabelsByCustomizedCategoryInterval(axis, optionTickInterval, true);\n  } // Always use label interval by default despite label show. Consider this\n  // scenario, Use multiple grid with the xAxis sync, and only one xAxis shows\n  // labels. `splitLine` and `axisTick` should be consistent in this case.\n  else if (optionTickInterval === 'auto') {\n      var labelsResult = makeCategoryLabelsActually(axis, axis.getLabelModel());\n      tickCategoryInterval = labelsResult.labelCategoryInterval;\n      ticks = zrUtil.map(labelsResult.labels, function (labelItem) {\n        return labelItem.tickValue;\n      });\n    } else {\n      tickCategoryInterval = optionTickInterval;\n      ticks = makeLabelsByNumericCategoryInterval(axis, tickCategoryInterval, true);\n    } // Cache to avoid calling interval function repeatly.\n\n\n  return listCacheSet(ticksCache, optionTickInterval, {\n    ticks: ticks,\n    tickCategoryInterval: tickCategoryInterval\n  });\n}\n\nfunction makeRealNumberLabels(axis) {\n  var ticks = axis.scale.getTicks();\n  var labelFormatter = makeLabelFormatter(axis);\n  return {\n    labels: zrUtil.map(ticks, function (tickValue, idx) {\n      return {\n        formattedLabel: labelFormatter(tickValue, idx),\n        rawLabel: axis.scale.getLabel(tickValue),\n        tickValue: tickValue\n      };\n    })\n  };\n} // Large category data calculation is performence sensitive, and ticks and label\n// probably be fetched by multiple times. So we cache the result.\n// axis is created each time during a ec process, so we do not need to clear cache.\n\n\nfunction getListCache(axis, prop) {\n  // Because key can be funciton, and cache size always be small, we use array cache.\n  return inner(axis)[prop] || (inner(axis)[prop] = []);\n}\n\nfunction listCacheGet(cache, key) {\n  for (var i = 0; i < cache.length; i++) {\n    if (cache[i].key === key) {\n      return cache[i].value;\n    }\n  }\n}\n\nfunction listCacheSet(cache, key, value) {\n  cache.push({\n    key: key,\n    value: value\n  });\n  return value;\n}\n\nfunction makeAutoCategoryInterval(axis) {\n  var result = inner(axis).autoInterval;\n  return result != null ? result : inner(axis).autoInterval = axis.calculateCategoryInterval();\n}\n/**\n * Calculate interval for category axis ticks and labels.\n * To get precise result, at least one of `getRotate` and `isHorizontal`\n * should be implemented in axis.\n */\n\n\nfunction calculateCategoryInterval(axis) {\n  var params = fetchAutoCategoryIntervalCalculationParams(axis);\n  var labelFormatter = makeLabelFormatter(axis);\n  var rotation = (params.axisRotate - params.labelRotate) / 180 * Math.PI;\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent(); // Providing this method is for optimization:\n  // avoid generating a long array by `getTicks`\n  // in large category data case.\n\n  var tickCount = ordinalScale.count();\n\n  if (ordinalExtent[1] - ordinalExtent[0] < 1) {\n    return 0;\n  }\n\n  var step = 1; // Simple optimization. Empirical value: tick count should less than 40.\n\n  if (tickCount > 40) {\n    step = Math.max(1, Math.floor(tickCount / 40));\n  }\n\n  var tickValue = ordinalExtent[0];\n  var unitSpan = axis.dataToCoord(tickValue + 1) - axis.dataToCoord(tickValue);\n  var unitW = Math.abs(unitSpan * Math.cos(rotation));\n  var unitH = Math.abs(unitSpan * Math.sin(rotation));\n  var maxW = 0;\n  var maxH = 0; // Caution: Performance sensitive for large category data.\n  // Consider dataZoom, we should make appropriate step to avoid O(n) loop.\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    var width = 0;\n    var height = 0; // Not precise, do not consider align and vertical align\n    // and each distance from axis line yet.\n\n    var rect = textContain.getBoundingRect(labelFormatter(tickValue), params.font, 'center', 'top'); // Magic number\n\n    width = rect.width * 1.3;\n    height = rect.height * 1.3; // Min size, void long loop.\n\n    maxW = Math.max(maxW, width, 7);\n    maxH = Math.max(maxH, height, 7);\n  }\n\n  var dw = maxW / unitW;\n  var dh = maxH / unitH; // 0/0 is NaN, 1/0 is Infinity.\n\n  isNaN(dw) && (dw = Infinity);\n  isNaN(dh) && (dh = Infinity);\n  var interval = Math.max(0, Math.floor(Math.min(dw, dh)));\n  var cache = inner(axis.model);\n  var lastAutoInterval = cache.lastAutoInterval;\n  var lastTickCount = cache.lastTickCount; // Use cache to keep interval stable while moving zoom window,\n  // otherwise the calculated interval might jitter when the zoom\n  // window size is close to the interval-changing size.\n\n  if (lastAutoInterval != null && lastTickCount != null && Math.abs(lastAutoInterval - interval) <= 1 && Math.abs(lastTickCount - tickCount) <= 1 // Always choose the bigger one, otherwise the critical\n  // point is not the same when zooming in or zooming out.\n  && lastAutoInterval > interval) {\n    interval = lastAutoInterval;\n  } // Only update cache if cache not used, otherwise the\n  // changing of interval is too insensitive.\n  else {\n      cache.lastTickCount = tickCount;\n      cache.lastAutoInterval = interval;\n    }\n\n  return interval;\n}\n\nfunction fetchAutoCategoryIntervalCalculationParams(axis) {\n  var labelModel = axis.getLabelModel();\n  return {\n    axisRotate: axis.getRotate ? axis.getRotate() : axis.isHorizontal && !axis.isHorizontal() ? 90 : 0,\n    labelRotate: labelModel.get('rotate') || 0,\n    font: labelModel.getFont()\n  };\n}\n\nfunction makeLabelsByNumericCategoryInterval(axis, categoryInterval, onlyTick) {\n  var labelFormatter = makeLabelFormatter(axis);\n  var ordinalScale = axis.scale;\n  var ordinalExtent = ordinalScale.getExtent();\n  var labelModel = axis.getLabelModel();\n  var result = []; // TODO: axisType: ordinalTime, pick the tick from each month/day/year/...\n\n  var step = Math.max((categoryInterval || 0) + 1, 1);\n  var startTick = ordinalExtent[0];\n  var tickCount = ordinalScale.count(); // Calculate start tick based on zero if possible to keep label consistent\n  // while zooming and moving while interval > 0. Otherwise the selection\n  // of displayable ticks and symbols probably keep changing.\n  // 3 is empirical value.\n\n  if (startTick !== 0 && step > 1 && tickCount / step > 2) {\n    startTick = Math.round(Math.ceil(startTick / step) * step);\n  } // (1) Only add min max label here but leave overlap checking\n  // to render stage, which also ensure the returned list\n  // suitable for splitLine and splitArea rendering.\n  // (2) Scales except category always contain min max label so\n  // do not need to perform this process.\n\n\n  var showAllLabel = shouldShowAllLabels(axis);\n  var includeMinLabel = labelModel.get('showMinLabel') || showAllLabel;\n  var includeMaxLabel = labelModel.get('showMaxLabel') || showAllLabel;\n\n  if (includeMinLabel && startTick !== ordinalExtent[0]) {\n    addItem(ordinalExtent[0]);\n  } // Optimize: avoid generating large array by `ordinalScale.getTicks()`.\n\n\n  var tickValue = startTick;\n\n  for (; tickValue <= ordinalExtent[1]; tickValue += step) {\n    addItem(tickValue);\n  }\n\n  if (includeMaxLabel && tickValue - step !== ordinalExtent[1]) {\n    addItem(ordinalExtent[1]);\n  }\n\n  function addItem(tVal) {\n    result.push(onlyTick ? tVal : {\n      formattedLabel: labelFormatter(tVal),\n      rawLabel: ordinalScale.getLabel(tVal),\n      tickValue: tVal\n    });\n  }\n\n  return result;\n} // When interval is function, the result `false` means ignore the tick.\n// It is time consuming for large category data.\n\n\nfunction makeLabelsByCustomizedCategoryInterval(axis, categoryInterval, onlyTick) {\n  var ordinalScale = axis.scale;\n  var labelFormatter = makeLabelFormatter(axis);\n  var result = [];\n  zrUtil.each(ordinalScale.getTicks(), function (tickValue) {\n    var rawLabel = ordinalScale.getLabel(tickValue);\n\n    if (categoryInterval(tickValue, rawLabel)) {\n      result.push(onlyTick ? tickValue : {\n        formattedLabel: labelFormatter(tickValue),\n        rawLabel: rawLabel,\n        tickValue: tickValue\n      });\n    }\n  });\n  return result;\n}\n\nexports.createAxisLabels = createAxisLabels;\nexports.createAxisTicks = createAxisTicks;\nexports.calculateCategoryInterval = calculateCategoryInterval;","import '../../style/index.css';\nimport './index.css';","import '../../style/index.css';\nimport './index.css';","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nvar Provider = function (_Component) {\n  _inherits(Provider, _Component);\n\n  function Provider() {\n    _classCallCheck(this, Provider);\n\n    return _possibleConstructorReturn(this, (Provider.__proto__ || Object.getPrototypeOf(Provider)).apply(this, arguments));\n  }\n\n  _createClass(Provider, [{\n    key: 'getChildContext',\n    value: function getChildContext() {\n      return {\n        miniStore: this.props.store\n      };\n    }\n  }, {\n    key: 'render',\n    value: function render() {\n      return _react.Children.only(this.props.children);\n    }\n  }]);\n\n  return Provider;\n}(_react.Component);\n\nProvider.propTypes = {\n  store: _PropTypes.storeShape.isRequired\n};\nProvider.childContextTypes = {\n  miniStore: _PropTypes.storeShape.isRequired\n};\nexports.default = Provider;","'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _createClass = function () {\n  function defineProperties(target, props) {\n    for (var i = 0; i < props.length; i++) {\n      var descriptor = props[i];\n      descriptor.enumerable = descriptor.enumerable || false;\n      descriptor.configurable = true;\n      if (\"value\" in descriptor) descriptor.writable = true;\n      Object.defineProperty(target, descriptor.key, descriptor);\n    }\n  }\n\n  return function (Constructor, protoProps, staticProps) {\n    if (protoProps) defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) defineProperties(Constructor, staticProps);\n    return Constructor;\n  };\n}();\n\nexports.default = connect;\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _shallowequal = require('shallowequal');\n\nvar _shallowequal2 = _interopRequireDefault(_shallowequal);\n\nvar _hoistNonReactStatics = require('hoist-non-react-statics');\n\nvar _hoistNonReactStatics2 = _interopRequireDefault(_hoistNonReactStatics);\n\nvar _reactLifecyclesCompat = require('react-lifecycles-compat');\n\nvar _PropTypes = require('./PropTypes');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (!self) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return call && (typeof call === \"object\" || typeof call === \"function\") ? call : self;\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function, not \" + typeof superClass);\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      enumerable: false,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) Object.setPrototypeOf ? Object.setPrototypeOf(subClass, superClass) : subClass.__proto__ = superClass;\n}\n\nfunction getDisplayName(WrappedComponent) {\n  return WrappedComponent.displayName || WrappedComponent.name || 'Component';\n}\n\nfunction isStateless(Component) {\n  return !Component.prototype.render;\n}\n\nvar defaultMapStateToProps = function defaultMapStateToProps() {\n  return {};\n};\n\nfunction connect(mapStateToProps) {\n  var shouldSubscribe = !!mapStateToProps;\n  var finnalMapStateToProps = mapStateToProps || defaultMapStateToProps;\n  return function wrapWithConnect(WrappedComponent) {\n    var Connect = function (_Component) {\n      _inherits(Connect, _Component);\n\n      _createClass(Connect, null, [{\n        key: 'getDerivedStateFromProps',\n        value: function getDerivedStateFromProps(props, prevState) {\n          // using ownProps\n          if (mapStateToProps && mapStateToProps.length === 2 && props !== prevState.props) {\n            return {\n              subscribed: finnalMapStateToProps(prevState.store.getState(), props),\n              props: props\n            };\n          }\n\n          return {\n            props: props\n          };\n        }\n      }]);\n\n      function Connect(props, context) {\n        _classCallCheck(this, Connect);\n\n        var _this = _possibleConstructorReturn(this, (Connect.__proto__ || Object.getPrototypeOf(Connect)).call(this, props, context));\n\n        _this.handleChange = function () {\n          if (!_this.unsubscribe) {\n            return;\n          }\n\n          var nextState = finnalMapStateToProps(_this.store.getState(), _this.props);\n\n          _this.setState({\n            subscribed: nextState\n          });\n        };\n\n        _this.store = context.miniStore;\n        _this.state = {\n          subscribed: finnalMapStateToProps(_this.store.getState(), props),\n          store: _this.store,\n          props: props\n        };\n        return _this;\n      }\n\n      _createClass(Connect, [{\n        key: 'componentDidMount',\n        value: function componentDidMount() {\n          this.trySubscribe();\n        }\n      }, {\n        key: 'componentWillUnmount',\n        value: function componentWillUnmount() {\n          this.tryUnsubscribe();\n        }\n      }, {\n        key: 'shouldComponentUpdate',\n        value: function shouldComponentUpdate(nextProps, nextState) {\n          return !(0, _shallowequal2.default)(this.props, nextProps) || !(0, _shallowequal2.default)(this.state.subscribed, nextState.subscribed);\n        }\n      }, {\n        key: 'trySubscribe',\n        value: function trySubscribe() {\n          if (shouldSubscribe) {\n            this.unsubscribe = this.store.subscribe(this.handleChange);\n            this.handleChange();\n          }\n        }\n      }, {\n        key: 'tryUnsubscribe',\n        value: function tryUnsubscribe() {\n          if (this.unsubscribe) {\n            this.unsubscribe();\n            this.unsubscribe = null;\n          }\n        }\n      }, {\n        key: 'getWrappedInstance',\n        value: function getWrappedInstance() {\n          return this.wrappedInstance;\n        }\n      }, {\n        key: 'render',\n        value: function render() {\n          var _this2 = this;\n\n          var props = _extends({}, this.props, this.state.subscribed, {\n            store: this.store\n          });\n\n          if (!isStateless(WrappedComponent)) {\n            props = _extends({}, props, {\n              ref: function ref(c) {\n                return _this2.wrappedInstance = c;\n              }\n            });\n          }\n\n          return _react2.default.createElement(WrappedComponent, props);\n        }\n      }]);\n\n      return Connect;\n    }(_react.Component);\n\n    Connect.displayName = 'Connect(' + getDisplayName(WrappedComponent) + ')';\n    Connect.contextTypes = {\n      miniStore: _PropTypes.storeShape.isRequired\n    };\n    (0, _reactLifecyclesCompat.polyfill)(Connect);\n    return (0, _hoistNonReactStatics2.default)(Connect, WrappedComponent);\n  };\n}","'use strict';\n/**\n * Copyright 2015, Yahoo! Inc.\n * Copyrights licensed under the New BSD License. See the accompanying LICENSE file for terms.\n */\n\nvar REACT_STATICS = {\n  childContextTypes: true,\n  contextTypes: true,\n  defaultProps: true,\n  displayName: true,\n  getDefaultProps: true,\n  getDerivedStateFromProps: true,\n  mixins: true,\n  propTypes: true,\n  type: true\n};\nvar KNOWN_STATICS = {\n  name: true,\n  length: true,\n  prototype: true,\n  caller: true,\n  callee: true,\n  arguments: true,\n  arity: true\n};\nvar defineProperty = Object.defineProperty;\nvar getOwnPropertyNames = Object.getOwnPropertyNames;\nvar getOwnPropertySymbols = Object.getOwnPropertySymbols;\nvar getOwnPropertyDescriptor = Object.getOwnPropertyDescriptor;\nvar getPrototypeOf = Object.getPrototypeOf;\nvar objectPrototype = getPrototypeOf && getPrototypeOf(Object);\n\nfunction hoistNonReactStatics(targetComponent, sourceComponent, blacklist) {\n  if (typeof sourceComponent !== 'string') {\n    // don't hoist over string (html) components\n    if (objectPrototype) {\n      var inheritedComponent = getPrototypeOf(sourceComponent);\n\n      if (inheritedComponent && inheritedComponent !== objectPrototype) {\n        hoistNonReactStatics(targetComponent, inheritedComponent, blacklist);\n      }\n    }\n\n    var keys = getOwnPropertyNames(sourceComponent);\n\n    if (getOwnPropertySymbols) {\n      keys = keys.concat(getOwnPropertySymbols(sourceComponent));\n    }\n\n    for (var i = 0; i < keys.length; ++i) {\n      var key = keys[i];\n\n      if (!REACT_STATICS[key] && !KNOWN_STATICS[key] && (!blacklist || !blacklist[key])) {\n        var descriptor = getOwnPropertyDescriptor(sourceComponent, key);\n\n        try {\n          // Avoid failures from read-only properties\n          defineProperty(targetComponent, key, descriptor);\n        } catch (e) {}\n      }\n    }\n\n    return targetComponent;\n  }\n\n  return targetComponent;\n}\n\nmodule.exports = hoistNonReactStatics;","\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nexports.default = create;\n\nfunction create(initialState) {\n  var state = initialState;\n  var listeners = [];\n\n  function setState(partial) {\n    state = _extends({}, state, partial);\n\n    for (var i = 0; i < listeners.length; i++) {\n      listeners[i]();\n    }\n  }\n\n  function getState() {\n    return state;\n  }\n\n  function subscribe(listener) {\n    listeners.push(listener);\n    return function unsubscribe() {\n      var index = listeners.indexOf(listener);\n      listeners.splice(index, 1);\n    };\n  }\n\n  return {\n    setState: setState,\n    getState: getState,\n    subscribe: subscribe\n  };\n}","!function (e) {\n  var n = /iPhone/i,\n      t = /iPod/i,\n      r = /iPad/i,\n      a = /\\bAndroid(?:.+)Mobile\\b/i,\n      p = /Android/i,\n      b = /\\bAndroid(?:.+)SD4930UR\\b/i,\n      l = /\\bAndroid(?:.+)(?:KF[A-Z]{2,4})\\b/i,\n      f = /Windows Phone/i,\n      s = /\\bWindows(?:.+)ARM\\b/i,\n      u = /BlackBerry/i,\n      c = /BB10/i,\n      h = /Opera Mini/i,\n      v = /\\b(CriOS|Chrome)(?:.+)Mobile/i,\n      w = /Mobile(?:.+)Firefox\\b/i;\n\n  function m(e, i) {\n    return e.test(i);\n  }\n\n  function i(e) {\n    var i = e || (\"undefined\" != typeof navigator ? navigator.userAgent : \"\"),\n        o = i.split(\"[FBAN\");\n    void 0 !== o[1] && (i = o[0]), void 0 !== (o = i.split(\"Twitter\"))[1] && (i = o[0]);\n    var d = {\n      apple: {\n        phone: m(n, i) && !m(f, i),\n        ipod: m(t, i),\n        tablet: !m(n, i) && m(r, i) && !m(f, i),\n        device: (m(n, i) || m(t, i) || m(r, i)) && !m(f, i)\n      },\n      amazon: {\n        phone: m(b, i),\n        tablet: !m(b, i) && m(l, i),\n        device: m(b, i) || m(l, i)\n      },\n      android: {\n        phone: !m(f, i) && m(b, i) || !m(f, i) && m(a, i),\n        tablet: !m(f, i) && !m(b, i) && !m(a, i) && (m(l, i) || m(p, i)),\n        device: !m(f, i) && (m(b, i) || m(l, i) || m(a, i) || m(p, i)) || m(/\\bokhttp\\b/i, i)\n      },\n      windows: {\n        phone: m(f, i),\n        tablet: m(s, i),\n        device: m(f, i) || m(s, i)\n      },\n      other: {\n        blackberry: m(u, i),\n        blackberry10: m(c, i),\n        opera: m(h, i),\n        firefox: m(w, i),\n        chrome: m(v, i),\n        device: m(u, i) || m(c, i) || m(h, i) || m(w, i) || m(v, i)\n      }\n    };\n    return d.any = d.apple.device || d.android.device || d.windows.device || d.other.device, d.phone = d.apple.phone || d.android.phone || d.windows.phone, d.tablet = d.apple.tablet || d.android.tablet || d.windows.tablet, d;\n  }\n\n  \"undefined\" != typeof module && module.exports && \"undefined\" == typeof window ? module.exports = i : \"undefined\" != typeof module && module.exports && \"undefined\" != typeof window ? (module.exports = i(), module.exports.isMobile = i) : \"function\" == typeof define && define.amd ? define([], e.isMobile = i()) : e.isMobile = i();\n}(this);","'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\nexports['default'] = addEventListener;\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventObject = require('./EventObject');\n\nvar _EventObject2 = _interopRequireDefault(_EventObject);\n\nfunction addEventListener(target, eventType, callback, option) {\n  function wrapCallback(e) {\n    var ne = new _EventObject2['default'](e);\n    callback.call(target, ne);\n  }\n\n  if (target.addEventListener) {\n    var _ret = function () {\n      var useCapture = false;\n\n      if (typeof option === 'object') {\n        useCapture = option.capture || false;\n      } else if (typeof option === 'boolean') {\n        useCapture = option;\n      }\n\n      target.addEventListener(eventType, wrapCallback, option || false);\n      return {\n        v: {\n          remove: function remove() {\n            target.removeEventListener(eventType, wrapCallback, useCapture);\n          }\n        }\n      };\n    }();\n\n    if (typeof _ret === 'object') return _ret.v;\n  } else if (target.attachEvent) {\n    target.attachEvent('on' + eventType, wrapCallback);\n    return {\n      remove: function remove() {\n        target.detachEvent('on' + eventType, wrapCallback);\n      }\n    };\n  }\n}\n\nmodule.exports = exports['default'];","/**\n * @ignore\n * event object for dom\n * @author yiminghe@gmail.com\n */\n'use strict';\n\nObject.defineProperty(exports, '__esModule', {\n  value: true\n});\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    'default': obj\n  };\n}\n\nvar _EventBaseObject = require('./EventBaseObject');\n\nvar _EventBaseObject2 = _interopRequireDefault(_EventBaseObject);\n\nvar _objectAssign = require('object-assign');\n\nvar _objectAssign2 = _interopRequireDefault(_objectAssign);\n\nvar TRUE = true;\nvar FALSE = false;\nvar commonProps = ['altKey', 'bubbles', 'cancelable', 'ctrlKey', 'currentTarget', 'eventPhase', 'metaKey', 'shiftKey', 'target', 'timeStamp', 'view', 'type'];\n\nfunction isNullOrUndefined(w) {\n  return w === null || w === undefined;\n}\n\nvar eventNormalizers = [{\n  reg: /^key/,\n  props: ['char', 'charCode', 'key', 'keyCode', 'which'],\n  fix: function fix(event, nativeEvent) {\n    if (isNullOrUndefined(event.which)) {\n      event.which = !isNullOrUndefined(nativeEvent.charCode) ? nativeEvent.charCode : nativeEvent.keyCode;\n    } // add metaKey to non-Mac browsers (use ctrl for PC 's and Meta for Macs)\n\n\n    if (event.metaKey === undefined) {\n      event.metaKey = event.ctrlKey;\n    }\n  }\n}, {\n  reg: /^touch/,\n  props: ['touches', 'changedTouches', 'targetTouches']\n}, {\n  reg: /^hashchange$/,\n  props: ['newURL', 'oldURL']\n}, {\n  reg: /^gesturechange$/i,\n  props: ['rotation', 'scale']\n}, {\n  reg: /^(mousewheel|DOMMouseScroll)$/,\n  props: [],\n  fix: function fix(event, nativeEvent) {\n    var deltaX = undefined;\n    var deltaY = undefined;\n    var delta = undefined;\n    var wheelDelta = nativeEvent.wheelDelta;\n    var axis = nativeEvent.axis;\n    var wheelDeltaY = nativeEvent.wheelDeltaY;\n    var wheelDeltaX = nativeEvent.wheelDeltaX;\n    var detail = nativeEvent.detail; // ie/webkit\n\n    if (wheelDelta) {\n      delta = wheelDelta / 120;\n    } // gecko\n\n\n    if (detail) {\n      // press control e.detail == 1 else e.detail == 3\n      delta = 0 - (detail % 3 === 0 ? detail / 3 : detail);\n    } // Gecko\n\n\n    if (axis !== undefined) {\n      if (axis === event.HORIZONTAL_AXIS) {\n        deltaY = 0;\n        deltaX = 0 - delta;\n      } else if (axis === event.VERTICAL_AXIS) {\n        deltaX = 0;\n        deltaY = delta;\n      }\n    } // Webkit\n\n\n    if (wheelDeltaY !== undefined) {\n      deltaY = wheelDeltaY / 120;\n    }\n\n    if (wheelDeltaX !== undefined) {\n      deltaX = -1 * wheelDeltaX / 120;\n    } //  deltaY (ie)\n\n\n    if (!deltaX && !deltaY) {\n      deltaY = delta;\n    }\n\n    if (deltaX !== undefined) {\n      /**\n       * deltaX of mousewheel event\n       * @property deltaX\n       * @member Event.DomEvent.Object\n       */\n      event.deltaX = deltaX;\n    }\n\n    if (deltaY !== undefined) {\n      /**\n       * deltaY of mousewheel event\n       * @property deltaY\n       * @member Event.DomEvent.Object\n       */\n      event.deltaY = deltaY;\n    }\n\n    if (delta !== undefined) {\n      /**\n       * delta of mousewheel event\n       * @property delta\n       * @member Event.DomEvent.Object\n       */\n      event.delta = delta;\n    }\n  }\n}, {\n  reg: /^mouse|contextmenu|click|mspointer|(^DOMMouseScroll$)/i,\n  props: ['buttons', 'clientX', 'clientY', 'button', 'offsetX', 'relatedTarget', 'which', 'fromElement', 'toElement', 'offsetY', 'pageX', 'pageY', 'screenX', 'screenY'],\n  fix: function fix(event, nativeEvent) {\n    var eventDoc = undefined;\n    var doc = undefined;\n    var body = undefined;\n    var target = event.target;\n    var button = nativeEvent.button; // Calculate pageX/Y if missing and clientX/Y available\n\n    if (target && isNullOrUndefined(event.pageX) && !isNullOrUndefined(nativeEvent.clientX)) {\n      eventDoc = target.ownerDocument || document;\n      doc = eventDoc.documentElement;\n      body = eventDoc.body;\n      event.pageX = nativeEvent.clientX + (doc && doc.scrollLeft || body && body.scrollLeft || 0) - (doc && doc.clientLeft || body && body.clientLeft || 0);\n      event.pageY = nativeEvent.clientY + (doc && doc.scrollTop || body && body.scrollTop || 0) - (doc && doc.clientTop || body && body.clientTop || 0);\n    } // which for click: 1 === left; 2 === middle; 3 === right\n    // do not use button\n\n\n    if (!event.which && button !== undefined) {\n      if (button & 1) {\n        event.which = 1;\n      } else if (button & 2) {\n        event.which = 3;\n      } else if (button & 4) {\n        event.which = 2;\n      } else {\n        event.which = 0;\n      }\n    } // add relatedTarget, if necessary\n\n\n    if (!event.relatedTarget && event.fromElement) {\n      event.relatedTarget = event.fromElement === target ? event.toElement : event.fromElement;\n    }\n\n    return event;\n  }\n}];\n\nfunction retTrue() {\n  return TRUE;\n}\n\nfunction retFalse() {\n  return FALSE;\n}\n\nfunction DomEventObject(nativeEvent) {\n  var type = nativeEvent.type;\n  var isNative = typeof nativeEvent.stopPropagation === 'function' || typeof nativeEvent.cancelBubble === 'boolean';\n\n  _EventBaseObject2['default'].call(this);\n\n  this.nativeEvent = nativeEvent; // in case dom event has been mark as default prevented by lower dom node\n\n  var isDefaultPrevented = retFalse;\n\n  if ('defaultPrevented' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.defaultPrevented ? retTrue : retFalse;\n  } else if ('getPreventDefault' in nativeEvent) {\n    // https://bugzilla.mozilla.org/show_bug.cgi?id=691151\n    isDefaultPrevented = nativeEvent.getPreventDefault() ? retTrue : retFalse;\n  } else if ('returnValue' in nativeEvent) {\n    isDefaultPrevented = nativeEvent.returnValue === FALSE ? retTrue : retFalse;\n  }\n\n  this.isDefaultPrevented = isDefaultPrevented;\n  var fixFns = [];\n  var fixFn = undefined;\n  var l = undefined;\n  var prop = undefined;\n  var props = commonProps.concat();\n  eventNormalizers.forEach(function (normalizer) {\n    if (type.match(normalizer.reg)) {\n      props = props.concat(normalizer.props);\n\n      if (normalizer.fix) {\n        fixFns.push(normalizer.fix);\n      }\n    }\n  });\n  l = props.length; // clone properties of the original event object\n\n  while (l) {\n    prop = props[--l];\n    this[prop] = nativeEvent[prop];\n  } // fix target property, if necessary\n\n\n  if (!this.target && isNative) {\n    this.target = nativeEvent.srcElement || document; // srcElement might not be defined either\n  } // check if target is a text node (safari)\n\n\n  if (this.target && this.target.nodeType === 3) {\n    this.target = this.target.parentNode;\n  }\n\n  l = fixFns.length;\n\n  while (l) {\n    fixFn = fixFns[--l];\n    fixFn(this, nativeEvent);\n  }\n\n  this.timeStamp = nativeEvent.timeStamp || Date.now();\n}\n\nvar EventBaseObjectProto = _EventBaseObject2['default'].prototype;\n(0, _objectAssign2['default'])(DomEventObject.prototype, EventBaseObjectProto, {\n  constructor: DomEventObject,\n  preventDefault: function preventDefault() {\n    var e = this.nativeEvent; // if preventDefault exists run it on the original event\n\n    if (e.preventDefault) {\n      e.preventDefault();\n    } else {\n      // otherwise set the returnValue property of the original event to FALSE (IE)\n      e.returnValue = FALSE;\n    }\n\n    EventBaseObjectProto.preventDefault.call(this);\n  },\n  stopPropagation: function stopPropagation() {\n    var e = this.nativeEvent; // if stopPropagation exists run it on the original event\n\n    if (e.stopPropagation) {\n      e.stopPropagation();\n    } else {\n      // otherwise set the cancelBubble property of the original event to TRUE (IE)\n      e.cancelBubble = TRUE;\n    }\n\n    EventBaseObjectProto.stopPropagation.call(this);\n  }\n});\nexports['default'] = DomEventObject;\nmodule.exports = exports['default'];","/**\n * @ignore\n * base event object for custom and dom event.\n * @author yiminghe@gmail.com\n */\n\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nfunction returnFalse() {\n  return false;\n}\n\nfunction returnTrue() {\n  return true;\n}\n\nfunction EventBaseObject() {\n  this.timeStamp = Date.now();\n  this.target = undefined;\n  this.currentTarget = undefined;\n}\n\nEventBaseObject.prototype = {\n  isEventObject: 1,\n  constructor: EventBaseObject,\n  isDefaultPrevented: returnFalse,\n  isPropagationStopped: returnFalse,\n  isImmediatePropagationStopped: returnFalse,\n  preventDefault: function preventDefault() {\n    this.isDefaultPrevented = returnTrue;\n  },\n  stopPropagation: function stopPropagation() {\n    this.isPropagationStopped = returnTrue;\n  },\n  stopImmediatePropagation: function stopImmediatePropagation() {\n    this.isImmediatePropagationStopped = returnTrue; // fixed 1.2\n    // call stopPropagation implicitly\n\n    this.stopPropagation();\n  },\n  halt: function halt(immediate) {\n    if (immediate) {\n      this.stopImmediatePropagation();\n    } else {\n      this.stopPropagation();\n    }\n\n    this.preventDefault();\n  }\n};\nexports[\"default\"] = EventBaseObject;\nmodule.exports = exports[\"default\"];","// mutationobserver-shim v0.3.2 (github.com/megawac/MutationObserver.js)\n// Authors: Graeme Yeates (github.com/megawac) \nwindow.MutationObserver = window.MutationObserver || function (w) {\n  function v(a) {\n    this.i = [];\n    this.m = a;\n  }\n\n  function I(a) {\n    (function c() {\n      var d = a.takeRecords();\n      d.length && a.m(d, a);\n      a.h = setTimeout(c, v._period);\n    })();\n  }\n\n  function p(a) {\n    var b = {\n      type: null,\n      target: null,\n      addedNodes: [],\n      removedNodes: [],\n      previousSibling: null,\n      nextSibling: null,\n      attributeName: null,\n      attributeNamespace: null,\n      oldValue: null\n    },\n        c;\n\n    for (c in a) {\n      b[c] !== w && a[c] !== w && (b[c] = a[c]);\n    }\n\n    return b;\n  }\n\n  function J(a, b) {\n    var c = C(a, b);\n    return function (d) {\n      var f = d.length,\n          n;\n      b.a && 3 === a.nodeType && a.nodeValue !== c.a && d.push(new p({\n        type: \"characterData\",\n        target: a,\n        oldValue: c.a\n      }));\n      b.b && c.b && A(d, a, c.b, b.f);\n      if (b.c || b.g) n = K(d, a, c, b);\n      if (n || d.length !== f) c = C(a, b);\n    };\n  }\n\n  function L(a, b) {\n    return b.value;\n  }\n\n  function M(a, b) {\n    return \"style\" !== b.name ? b.value : a.style.cssText;\n  }\n\n  function A(a, b, c, d) {\n    for (var f = {}, n = b.attributes, k, g, x = n.length; x--;) {\n      k = n[x], g = k.name, d && d[g] === w || (D(b, k) !== c[g] && a.push(p({\n        type: \"attributes\",\n        target: b,\n        attributeName: g,\n        oldValue: c[g],\n        attributeNamespace: k.namespaceURI\n      })), f[g] = !0);\n    }\n\n    for (g in c) {\n      f[g] || a.push(p({\n        target: b,\n        type: \"attributes\",\n        attributeName: g,\n        oldValue: c[g]\n      }));\n    }\n  }\n\n  function K(a, b, c, d) {\n    function f(b, c, f, k, y) {\n      var g = b.length - 1;\n      y = -~((g - y) / 2);\n\n      for (var h, l, e; e = b.pop();) {\n        h = f[e.j], l = k[e.l], d.c && y && Math.abs(e.j - e.l) >= g && (a.push(p({\n          type: \"childList\",\n          target: c,\n          addedNodes: [h],\n          removedNodes: [h],\n          nextSibling: h.nextSibling,\n          previousSibling: h.previousSibling\n        })), y--), d.b && l.b && A(a, h, l.b, d.f), d.a && 3 === h.nodeType && h.nodeValue !== l.a && a.push(p({\n          type: \"characterData\",\n          target: h,\n          oldValue: l.a\n        })), d.g && n(h, l);\n      }\n    }\n\n    function n(b, c) {\n      for (var g = b.childNodes, q = c.c, x = g.length, v = q ? q.length : 0, h, l, e, m, t, z = 0, u = 0, r = 0; u < x || r < v;) {\n        m = g[u], t = (e = q[r]) && e.node, m === t ? (d.b && e.b && A(a, m, e.b, d.f), d.a && e.a !== w && m.nodeValue !== e.a && a.push(p({\n          type: \"characterData\",\n          target: m,\n          oldValue: e.a\n        })), l && f(l, b, g, q, z), d.g && (m.childNodes.length || e.c && e.c.length) && n(m, e), u++, r++) : (k = !0, h || (h = {}, l = []), m && (h[e = E(m)] || (h[e] = !0, -1 === (e = F(q, m, r, \"node\")) ? d.c && (a.push(p({\n          type: \"childList\",\n          target: b,\n          addedNodes: [m],\n          nextSibling: m.nextSibling,\n          previousSibling: m.previousSibling\n        })), z++) : l.push({\n          j: u,\n          l: e\n        })), u++), t && t !== g[u] && (h[e = E(t)] || (h[e] = !0, -1 === (e = F(g, t, u)) ? d.c && (a.push(p({\n          type: \"childList\",\n          target: c.node,\n          removedNodes: [t],\n          nextSibling: q[r + 1],\n          previousSibling: q[r - 1]\n        })), z--) : l.push({\n          j: e,\n          l: r\n        })), r++));\n      }\n\n      l && f(l, b, g, q, z);\n    }\n\n    var k;\n    n(b, c);\n    return k;\n  }\n\n  function C(a, b) {\n    var c = !0;\n    return function f(a) {\n      var k = {\n        node: a\n      };\n      !b.a || 3 !== a.nodeType && 8 !== a.nodeType ? (b.b && c && 1 === a.nodeType && (k.b = G(a.attributes, function (c, f) {\n        if (!b.f || b.f[f.name]) c[f.name] = D(a, f);\n        return c;\n      })), c && (b.c || b.a || b.b && b.g) && (k.c = N(a.childNodes, f)), c = b.g) : k.a = a.nodeValue;\n      return k;\n    }(a);\n  }\n\n  function E(a) {\n    try {\n      return a.id || (a.mo_id = a.mo_id || H++);\n    } catch (b) {\n      try {\n        return a.nodeValue;\n      } catch (c) {\n        return H++;\n      }\n    }\n  }\n\n  function N(a, b) {\n    for (var c = [], d = 0; d < a.length; d++) {\n      c[d] = b(a[d], d, a);\n    }\n\n    return c;\n  }\n\n  function G(a, b) {\n    for (var c = {}, d = 0; d < a.length; d++) {\n      c = b(c, a[d], d, a);\n    }\n\n    return c;\n  }\n\n  function F(a, b, c, d) {\n    for (; c < a.length; c++) {\n      if ((d ? a[c][d] : a[c]) === b) return c;\n    }\n\n    return -1;\n  }\n\n  v._period = 30;\n  v.prototype = {\n    observe: function observe(a, b) {\n      for (var c = {\n        b: !!(b.attributes || b.attributeFilter || b.attributeOldValue),\n        c: !!b.childList,\n        g: !!b.subtree,\n        a: !(!b.characterData && !b.characterDataOldValue)\n      }, d = this.i, f = 0; f < d.length; f++) {\n        d[f].s === a && d.splice(f, 1);\n      }\n\n      b.attributeFilter && (c.f = G(b.attributeFilter, function (a, b) {\n        a[b] = !0;\n        return a;\n      }));\n      d.push({\n        s: a,\n        o: J(a, c)\n      });\n      this.h || I(this);\n    },\n    takeRecords: function takeRecords() {\n      for (var a = [], b = this.i, c = 0; c < b.length; c++) {\n        b[c].o(a);\n      }\n\n      return a;\n    },\n    disconnect: function disconnect() {\n      this.i = [];\n      clearTimeout(this.h);\n      this.h = null;\n    }\n  };\n  var B = document.createElement(\"i\");\n  B.style.top = 0;\n  var D = (B = \"null\" != B.attributes.style.value) ? L : M,\n      H = 1;\n  return v;\n}(void 0);","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport classNames from 'classnames';\nimport Icon from '../icon';\nimport { ConfigConsumer } from '../config-provider';\n\nvar Avatar =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Avatar, _React$Component);\n\n  function Avatar() {\n    var _this;\n\n    _classCallCheck(this, Avatar);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Avatar).apply(this, arguments));\n    _this.state = {\n      scale: 1,\n      mounted: false,\n      isImgExist: true\n    };\n\n    _this.setScale = function () {\n      if (!_this.avatarChildren || !_this.avatarNode) {\n        return;\n      }\n\n      var childrenWidth = _this.avatarChildren.offsetWidth; // offsetWidth avoid affecting be transform scale\n\n      var nodeWidth = _this.avatarNode.offsetWidth; // denominator is 0 is no meaning\n\n      if (childrenWidth === 0 || nodeWidth === 0 || _this.lastChildrenWidth === childrenWidth && _this.lastNodeWidth === nodeWidth) {\n        return;\n      }\n\n      _this.lastChildrenWidth = childrenWidth;\n      _this.lastNodeWidth = nodeWidth; // add 4px gap for each side to get better performance\n\n      _this.setState({\n        scale: nodeWidth - 8 < childrenWidth ? (nodeWidth - 8) / childrenWidth : 1\n      });\n    };\n\n    _this.handleImgLoadError = function () {\n      var onError = _this.props.onError;\n      var errorFlag = onError ? onError() : undefined;\n\n      if (errorFlag !== false) {\n        _this.setState({\n          isImgExist: false\n        });\n      }\n    };\n\n    _this.renderAvatar = function (_ref) {\n      var _classNames, _classNames2;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          shape = _a.shape,\n          size = _a.size,\n          src = _a.src,\n          srcSet = _a.srcSet,\n          icon = _a.icon,\n          className = _a.className,\n          alt = _a.alt,\n          others = __rest(_a, [\"prefixCls\", \"shape\", \"size\", \"src\", \"srcSet\", \"icon\", \"className\", \"alt\"]);\n\n      var _this$state = _this.state,\n          isImgExist = _this$state.isImgExist,\n          scale = _this$state.scale,\n          mounted = _this$state.mounted;\n      var prefixCls = getPrefixCls('avatar', customizePrefixCls);\n      var sizeCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-lg\"), size === 'large'), _defineProperty(_classNames, \"\".concat(prefixCls, \"-sm\"), size === 'small'), _classNames));\n      var classString = classNames(prefixCls, className, sizeCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-\").concat(shape), shape), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-image\"), src && isImgExist), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-icon\"), icon), _classNames2));\n      var sizeStyle = typeof size === 'number' ? {\n        width: size,\n        height: size,\n        lineHeight: \"\".concat(size, \"px\"),\n        fontSize: icon ? size / 2 : 18\n      } : {};\n      var children = _this.props.children;\n\n      if (src && isImgExist) {\n        children = React.createElement(\"img\", {\n          src: src,\n          srcSet: srcSet,\n          onError: _this.handleImgLoadError,\n          alt: alt\n        });\n      } else if (icon) {\n        children = React.createElement(Icon, {\n          type: icon\n        });\n      } else {\n        var childrenNode = _this.avatarChildren;\n\n        if (childrenNode || scale !== 1) {\n          var transformString = \"scale(\".concat(scale, \") translateX(-50%)\");\n          var childrenStyle = {\n            msTransform: transformString,\n            WebkitTransform: transformString,\n            transform: transformString\n          };\n          var sizeChildrenStyle = typeof size === 'number' ? {\n            lineHeight: \"\".concat(size, \"px\")\n          } : {};\n          children = React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-string\"),\n            ref: function ref(node) {\n              return _this.avatarChildren = node;\n            },\n            style: _extends(_extends({}, sizeChildrenStyle), childrenStyle)\n          }, children);\n        } else {\n          var _childrenStyle = {};\n\n          if (!mounted) {\n            _childrenStyle.opacity = 0;\n          }\n\n          children = React.createElement(\"span\", {\n            className: \"\".concat(prefixCls, \"-string\"),\n            style: {\n              opacity: 0\n            },\n            ref: function ref(node) {\n              return _this.avatarChildren = node;\n            }\n          }, children);\n        }\n      }\n\n      return React.createElement(\"span\", _extends({}, others, {\n        style: _extends(_extends({}, sizeStyle), others.style),\n        className: classString,\n        ref: function ref(node) {\n          return _this.avatarNode = node;\n        }\n      }), children);\n    };\n\n    return _this;\n  }\n\n  _createClass(Avatar, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      this.setScale();\n      this.setState({\n        mounted: true\n      });\n    }\n  }, {\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(prevProps) {\n      this.setScale();\n\n      if (prevProps.src !== this.props.src) {\n        this.setState({\n          isImgExist: true,\n          scale: 1\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderAvatar);\n    }\n  }]);\n\n  return Avatar;\n}(React.Component);\n\nexport { Avatar as default };\nAvatar.defaultProps = {\n  shape: 'circle',\n  size: 'default'\n};","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport Animate from 'rc-animate';\nimport addEventListener from \"rc-util/es/Dom/addEventListener\";\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { ConfigConsumer } from '../config-provider';\nimport getScroll from '../_util/getScroll';\nimport scrollTo from '../_util/scrollTo';\n\nfunction getDefaultTarget() {\n  return window;\n}\n\nvar BackTop =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(BackTop, _React$Component);\n\n  function BackTop(props) {\n    var _this;\n\n    _classCallCheck(this, BackTop);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(BackTop).call(this, props));\n\n    _this.scrollToTop = function (e) {\n      var _this$props = _this.props,\n          _this$props$target = _this$props.target,\n          target = _this$props$target === void 0 ? getDefaultTarget : _this$props$target,\n          onClick = _this$props.onClick;\n      scrollTo(0, {\n        getContainer: target\n      });\n\n      if (typeof onClick === 'function') {\n        onClick(e);\n      }\n    };\n\n    _this.handleScroll = function () {\n      var _this$props2 = _this.props,\n          visibilityHeight = _this$props2.visibilityHeight,\n          _this$props2$target = _this$props2.target,\n          target = _this$props2$target === void 0 ? getDefaultTarget : _this$props2$target;\n      var scrollTop = getScroll(target(), true);\n\n      _this.setState({\n        visible: scrollTop > visibilityHeight\n      });\n    };\n\n    _this.renderBackTop = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props3 = _this.props,\n          customizePrefixCls = _this$props3.prefixCls,\n          _this$props3$classNam = _this$props3.className,\n          className = _this$props3$classNam === void 0 ? '' : _this$props3$classNam,\n          children = _this$props3.children;\n      var prefixCls = getPrefixCls('back-top', customizePrefixCls);\n      var classString = classNames(prefixCls, className);\n      var defaultElement = React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-content\")\n      }, React.createElement(\"div\", {\n        className: \"\".concat(prefixCls, \"-icon\")\n      })); // fix https://fb.me/react-unknown-prop\n\n      var divProps = omit(_this.props, ['prefixCls', 'className', 'children', 'visibilityHeight', 'target', 'visible']);\n      var visible = 'visible' in _this.props ? _this.props.visible : _this.state.visible;\n      var backTopBtn = visible ? React.createElement(\"div\", _extends({}, divProps, {\n        className: classString,\n        onClick: _this.scrollToTop\n      }), children || defaultElement) : null;\n      return React.createElement(Animate, {\n        component: \"\",\n        transitionName: \"fade\"\n      }, backTopBtn);\n    };\n\n    _this.state = {\n      visible: false\n    };\n    return _this;\n  }\n\n  _createClass(BackTop, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var getTarget = this.props.target || getDefaultTarget;\n      this.scrollEvent = addEventListener(getTarget(), 'scroll', this.handleScroll);\n      this.handleScroll();\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      if (this.scrollEvent) {\n        this.scrollEvent.remove();\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderBackTop);\n    }\n  }]);\n\n  return BackTop;\n}(React.Component);\n\nexport { BackTop as default };\nBackTop.defaultProps = {\n  visibilityHeight: 400\n};","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar _config = require(\"./config\");\n\nvar __DEV__ = _config.__DEV__;\n\nvar zrender = require(\"zrender/lib/zrender\");\n\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nvar env = require(\"zrender/lib/core/env\");\n\nvar timsort = require(\"zrender/lib/core/timsort\");\n\nvar Eventful = require(\"zrender/lib/mixin/Eventful\");\n\nvar GlobalModel = require(\"./model/Global\");\n\nvar ExtensionAPI = require(\"./ExtensionAPI\");\n\nvar CoordinateSystemManager = require(\"./CoordinateSystem\");\n\nvar OptionManager = require(\"./model/OptionManager\");\n\nvar backwardCompat = require(\"./preprocessor/backwardCompat\");\n\nvar dataStack = require(\"./processor/dataStack\");\n\nvar ComponentModel = require(\"./model/Component\");\n\nvar SeriesModel = require(\"./model/Series\");\n\nvar ComponentView = require(\"./view/Component\");\n\nvar ChartView = require(\"./view/Chart\");\n\nvar graphic = require(\"./util/graphic\");\n\nvar modelUtil = require(\"./util/model\");\n\nvar _throttle = require(\"./util/throttle\");\n\nvar throttle = _throttle.throttle;\n\nvar seriesColor = require(\"./visual/seriesColor\");\n\nvar aria = require(\"./visual/aria\");\n\nvar loadingDefault = require(\"./loading/default\");\n\nvar Scheduler = require(\"./stream/Scheduler\");\n\nvar lightTheme = require(\"./theme/light\");\n\nvar darkTheme = require(\"./theme/dark\");\n\nrequire(\"./component/dataset\");\n\nvar mapDataStorage = require(\"./coord/geo/mapDataStorage\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar assert = zrUtil.assert;\nvar each = zrUtil.each;\nvar isFunction = zrUtil.isFunction;\nvar isObject = zrUtil.isObject;\nvar parseClassType = ComponentModel.parseClassType;\nvar version = '4.4.0';\nvar dependencies = {\n  zrender: '4.1.1'\n};\nvar TEST_FRAME_REMAIN_TIME = 1;\nvar PRIORITY_PROCESSOR_FILTER = 1000;\nvar PRIORITY_PROCESSOR_SERIES_FILTER = 800;\nvar PRIORITY_PROCESSOR_DATASTACK = 900;\nvar PRIORITY_PROCESSOR_STATISTIC = 5000;\nvar PRIORITY_VISUAL_LAYOUT = 1000;\nvar PRIORITY_VISUAL_PROGRESSIVE_LAYOUT = 1100;\nvar PRIORITY_VISUAL_GLOBAL = 2000;\nvar PRIORITY_VISUAL_CHART = 3000;\nvar PRIORITY_VISUAL_POST_CHART_LAYOUT = 3500;\nvar PRIORITY_VISUAL_COMPONENT = 4000; // FIXME\n// necessary?\n\nvar PRIORITY_VISUAL_BRUSH = 5000;\nvar PRIORITY = {\n  PROCESSOR: {\n    FILTER: PRIORITY_PROCESSOR_FILTER,\n    SERIES_FILTER: PRIORITY_PROCESSOR_SERIES_FILTER,\n    STATISTIC: PRIORITY_PROCESSOR_STATISTIC\n  },\n  VISUAL: {\n    LAYOUT: PRIORITY_VISUAL_LAYOUT,\n    PROGRESSIVE_LAYOUT: PRIORITY_VISUAL_PROGRESSIVE_LAYOUT,\n    GLOBAL: PRIORITY_VISUAL_GLOBAL,\n    CHART: PRIORITY_VISUAL_CHART,\n    POST_CHART_LAYOUT: PRIORITY_VISUAL_POST_CHART_LAYOUT,\n    COMPONENT: PRIORITY_VISUAL_COMPONENT,\n    BRUSH: PRIORITY_VISUAL_BRUSH\n  }\n}; // Main process have three entries: `setOption`, `dispatchAction` and `resize`,\n// where they must not be invoked nestedly, except the only case: invoke\n// dispatchAction with updateMethod \"none\" in main process.\n// This flag is used to carry out this rule.\n// All events will be triggered out side main process (i.e. when !this[IN_MAIN_PROCESS]).\n\nvar IN_MAIN_PROCESS = '__flagInMainProcess';\nvar OPTION_UPDATED = '__optionUpdated';\nvar ACTION_REG = /^[a-zA-Z0-9_]+$/;\n\nfunction createRegisterEventWithLowercaseName(method, ignoreDisposed) {\n  return function (eventName, handler, context) {\n    if (!ignoreDisposed && this._disposed) {\n      disposedWarning(this.id);\n      return;\n    } // Event name is all lowercase\n\n\n    eventName = eventName && eventName.toLowerCase();\n    Eventful.prototype[method].call(this, eventName, handler, context);\n  };\n}\n/**\n * @module echarts~MessageCenter\n */\n\n\nfunction MessageCenter() {\n  Eventful.call(this);\n}\n\nMessageCenter.prototype.on = createRegisterEventWithLowercaseName('on', true);\nMessageCenter.prototype.off = createRegisterEventWithLowercaseName('off', true);\nMessageCenter.prototype.one = createRegisterEventWithLowercaseName('one', true);\nzrUtil.mixin(MessageCenter, Eventful);\n/**\n * @module echarts~ECharts\n */\n\nfunction ECharts(dom, theme, opts) {\n  opts = opts || {}; // Get theme by name\n\n  if (typeof theme === 'string') {\n    theme = themeStorage[theme];\n  }\n  /**\n   * @type {string}\n   */\n\n\n  this.id;\n  /**\n   * Group id\n   * @type {string}\n   */\n\n  this.group;\n  /**\n   * @type {HTMLElement}\n   * @private\n   */\n\n  this._dom = dom;\n  var defaultRenderer = 'canvas';\n  /**\n   * @type {module:zrender/ZRender}\n   * @private\n   */\n\n  var zr = this._zr = zrender.init(dom, {\n    renderer: opts.renderer || defaultRenderer,\n    devicePixelRatio: opts.devicePixelRatio,\n    width: opts.width,\n    height: opts.height\n  });\n  /**\n   * Expect 60 fps.\n   * @type {Function}\n   * @private\n   */\n\n  this._throttledZrFlush = throttle(zrUtil.bind(zr.flush, zr), 17);\n  var theme = zrUtil.clone(theme);\n  theme && backwardCompat(theme, true);\n  /**\n   * @type {Object}\n   * @private\n   */\n\n  this._theme = theme;\n  /**\n   * @type {Array.<module:echarts/view/Chart>}\n   * @private\n   */\n\n  this._chartsViews = [];\n  /**\n   * @type {Object.<string, module:echarts/view/Chart>}\n   * @private\n   */\n\n  this._chartsMap = {};\n  /**\n   * @type {Array.<module:echarts/view/Component>}\n   * @private\n   */\n\n  this._componentsViews = [];\n  /**\n   * @type {Object.<string, module:echarts/view/Component>}\n   * @private\n   */\n\n  this._componentsMap = {};\n  /**\n   * @type {module:echarts/CoordinateSystem}\n   * @private\n   */\n\n  this._coordSysMgr = new CoordinateSystemManager();\n  /**\n   * @type {module:echarts/ExtensionAPI}\n   * @private\n   */\n\n  var api = this._api = createExtensionAPI(this); // Sort on demand\n\n  function prioritySortFunc(a, b) {\n    return a.__prio - b.__prio;\n  }\n\n  timsort(visualFuncs, prioritySortFunc);\n  timsort(dataProcessorFuncs, prioritySortFunc);\n  /**\n   * @type {module:echarts/stream/Scheduler}\n   */\n\n  this._scheduler = new Scheduler(this, api, dataProcessorFuncs, visualFuncs);\n  Eventful.call(this, this._ecEventProcessor = new EventProcessor());\n  /**\n   * @type {module:echarts~MessageCenter}\n   * @private\n   */\n\n  this._messageCenter = new MessageCenter(); // Init mouse events\n\n  this._initEvents(); // In case some people write `window.onresize = chart.resize`\n\n\n  this.resize = zrUtil.bind(this.resize, this); // Can't dispatch action during rendering procedure\n\n  this._pendingActions = [];\n  zr.animation.on('frame', this._onframe, this);\n  bindRenderedEvent(zr, this); // ECharts instance can be used as value.\n\n  zrUtil.setAsPrimitive(this);\n}\n\nvar echartsProto = ECharts.prototype;\n\nechartsProto._onframe = function () {\n  if (this._disposed) {\n    return;\n  }\n\n  var scheduler = this._scheduler; // Lazy update\n\n  if (this[OPTION_UPDATED]) {\n    var silent = this[OPTION_UPDATED].silent;\n    this[IN_MAIN_PROCESS] = true;\n    prepare(this);\n    updateMethods.update.call(this);\n    this[IN_MAIN_PROCESS] = false;\n    this[OPTION_UPDATED] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  } // Avoid do both lazy update and progress in one frame.\n  else if (scheduler.unfinished) {\n      // Stream progress.\n      var remainTime = TEST_FRAME_REMAIN_TIME;\n      var ecModel = this._model;\n      var api = this._api;\n      scheduler.unfinished = false;\n\n      do {\n        var startTime = +new Date();\n        scheduler.performSeriesTasks(ecModel); // Currently dataProcessorFuncs do not check threshold.\n\n        scheduler.performDataProcessorTasks(ecModel);\n        updateStreamModes(this, ecModel); // Do not update coordinate system here. Because that coord system update in\n        // each frame is not a good user experience. So we follow the rule that\n        // the extent of the coordinate system is determin in the first frame (the\n        // frame is executed immedietely after task reset.\n        // this._coordSysMgr.update(ecModel, api);\n        // console.log('--- ec frame visual ---', remainTime);\n\n        scheduler.performVisualTasks(ecModel);\n        renderSeries(this, this._model, api, 'remain');\n        remainTime -= +new Date() - startTime;\n      } while (remainTime > 0 && scheduler.unfinished); // Call flush explicitly for trigger finished event.\n\n\n      if (!scheduler.unfinished) {\n        this._zr.flush();\n      } // Else, zr flushing be ensue within the same frame,\n      // because zr flushing is after onframe event.\n\n    }\n};\n/**\n * @return {HTMLElement}\n */\n\n\nechartsProto.getDom = function () {\n  return this._dom;\n};\n/**\n * @return {module:zrender~ZRender}\n */\n\n\nechartsProto.getZr = function () {\n  return this._zr;\n};\n/**\n * Usage:\n * chart.setOption(option, notMerge, lazyUpdate);\n * chart.setOption(option, {\n *     notMerge: ...,\n *     lazyUpdate: ...,\n *     silent: ...\n * });\n *\n * @param {Object} option\n * @param {Object|boolean} [opts] opts or notMerge.\n * @param {boolean} [opts.notMerge=false]\n * @param {boolean} [opts.lazyUpdate=false] Useful when setOption frequently.\n */\n\n\nechartsProto.setOption = function (option, notMerge, lazyUpdate) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  var silent;\n\n  if (isObject(notMerge)) {\n    lazyUpdate = notMerge.lazyUpdate;\n    silent = notMerge.silent;\n    notMerge = notMerge.notMerge;\n  }\n\n  this[IN_MAIN_PROCESS] = true;\n\n  if (!this._model || notMerge) {\n    var optionManager = new OptionManager(this._api);\n    var theme = this._theme;\n    var ecModel = this._model = new GlobalModel();\n    ecModel.scheduler = this._scheduler;\n    ecModel.init(null, null, theme, optionManager);\n  }\n\n  this._model.setOption(option, optionPreprocessorFuncs);\n\n  if (lazyUpdate) {\n    this[OPTION_UPDATED] = {\n      silent: silent\n    };\n    this[IN_MAIN_PROCESS] = false;\n  } else {\n    prepare(this);\n    updateMethods.update.call(this); // Ensure zr refresh sychronously, and then pixel in canvas can be\n    // fetched after `setOption`.\n\n    this._zr.flush();\n\n    this[OPTION_UPDATED] = false;\n    this[IN_MAIN_PROCESS] = false;\n    flushPendingActions.call(this, silent);\n    triggerUpdatedEvent.call(this, silent);\n  }\n};\n/**\n * @DEPRECATED\n */\n\n\nechartsProto.setTheme = function () {\n  console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0');\n};\n/**\n * @return {module:echarts/model/Global}\n */\n\n\nechartsProto.getModel = function () {\n  return this._model;\n};\n/**\n * @return {Object}\n */\n\n\nechartsProto.getOption = function () {\n  return this._model && this._model.getOption();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getWidth = function () {\n  return this._zr.getWidth();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getHeight = function () {\n  return this._zr.getHeight();\n};\n/**\n * @return {number}\n */\n\n\nechartsProto.getDevicePixelRatio = function () {\n  return this._zr.painter.dpr || window.devicePixelRatio || 1;\n};\n/**\n * Get canvas which has all thing rendered\n * @param {Object} opts\n * @param {string} [opts.backgroundColor]\n * @return {string}\n */\n\n\nechartsProto.getRenderedCanvas = function (opts) {\n  if (!env.canvasSupported) {\n    return;\n  }\n\n  opts = opts || {};\n  opts.pixelRatio = opts.pixelRatio || 1;\n  opts.backgroundColor = opts.backgroundColor || this._model.get('backgroundColor');\n  var zr = this._zr; // var list = zr.storage.getDisplayList();\n  // Stop animations\n  // Never works before in init animation, so remove it.\n  // zrUtil.each(list, function (el) {\n  //     el.stopAnimation(true);\n  // });\n\n  return zr.painter.getRenderedCanvas(opts);\n};\n/**\n * Get svg data url\n * @return {string}\n */\n\n\nechartsProto.getSvgDataUrl = function () {\n  if (!env.svgSupported) {\n    return;\n  }\n\n  var zr = this._zr;\n  var list = zr.storage.getDisplayList(); // Stop animations\n\n  zrUtil.each(list, function (el) {\n    el.stopAnimation(true);\n  });\n  return zr.painter.pathToDataUrl();\n};\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n * @param {string} [opts.excludeComponents]\n */\n\n\nechartsProto.getDataURL = function (opts) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  opts = opts || {};\n  var excludeComponents = opts.excludeComponents;\n  var ecModel = this._model;\n  var excludesComponentViews = [];\n  var self = this;\n  each(excludeComponents, function (componentType) {\n    ecModel.eachComponent({\n      mainType: componentType\n    }, function (component) {\n      var view = self._componentsMap[component.__viewId];\n\n      if (!view.group.ignore) {\n        excludesComponentViews.push(view);\n        view.group.ignore = true;\n      }\n    });\n  });\n  var url = this._zr.painter.getType() === 'svg' ? this.getSvgDataUrl() : this.getRenderedCanvas(opts).toDataURL('image/' + (opts && opts.type || 'png'));\n  each(excludesComponentViews, function (view) {\n    view.group.ignore = false;\n  });\n  return url;\n};\n/**\n * @return {string}\n * @param {Object} opts\n * @param {string} [opts.type='png']\n * @param {string} [opts.pixelRatio=1]\n * @param {string} [opts.backgroundColor]\n */\n\n\nechartsProto.getConnectedDataURL = function (opts) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  if (!env.canvasSupported) {\n    return;\n  }\n\n  var groupId = this.group;\n  var mathMin = Math.min;\n  var mathMax = Math.max;\n  var MAX_NUMBER = Infinity;\n\n  if (connectedGroups[groupId]) {\n    var left = MAX_NUMBER;\n    var top = MAX_NUMBER;\n    var right = -MAX_NUMBER;\n    var bottom = -MAX_NUMBER;\n    var canvasList = [];\n    var dpr = opts && opts.pixelRatio || 1;\n    zrUtil.each(instances, function (chart, id) {\n      if (chart.group === groupId) {\n        var canvas = chart.getRenderedCanvas(zrUtil.clone(opts));\n        var boundingRect = chart.getDom().getBoundingClientRect();\n        left = mathMin(boundingRect.left, left);\n        top = mathMin(boundingRect.top, top);\n        right = mathMax(boundingRect.right, right);\n        bottom = mathMax(boundingRect.bottom, bottom);\n        canvasList.push({\n          dom: canvas,\n          left: boundingRect.left,\n          top: boundingRect.top\n        });\n      }\n    });\n    left *= dpr;\n    top *= dpr;\n    right *= dpr;\n    bottom *= dpr;\n    var width = right - left;\n    var height = bottom - top;\n    var targetCanvas = zrUtil.createCanvas();\n    targetCanvas.width = width;\n    targetCanvas.height = height;\n    var zr = zrender.init(targetCanvas); // Background between the charts\n\n    if (opts.connectedBackgroundColor) {\n      zr.add(new graphic.Rect({\n        shape: {\n          x: 0,\n          y: 0,\n          width: width,\n          height: height\n        },\n        style: {\n          fill: opts.connectedBackgroundColor\n        }\n      }));\n    }\n\n    each(canvasList, function (item) {\n      var img = new graphic.Image({\n        style: {\n          x: item.left * dpr - left,\n          y: item.top * dpr - top,\n          image: item.dom\n        }\n      });\n      zr.add(img);\n    });\n    zr.refreshImmediately();\n    return targetCanvas.toDataURL('image/' + (opts && opts.type || 'png'));\n  } else {\n    return this.getDataURL(opts);\n  }\n};\n/**\n * Convert from logical coordinate system to pixel coordinate system.\n * See CoordinateSystem#convertToPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId, geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\n\n\nechartsProto.convertToPixel = zrUtil.curry(doConvertPixel, 'convertToPixel');\n/**\n * Convert from pixel coordinate system to logical coordinate system.\n * See CoordinateSystem#convertFromPixel.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {Array|number} result\n */\n\nechartsProto.convertFromPixel = zrUtil.curry(doConvertPixel, 'convertFromPixel');\n\nfunction doConvertPixel(methodName, finder, value) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  var ecModel = this._model;\n\n  var coordSysList = this._coordSysMgr.getCoordinateSystems();\n\n  var result;\n  finder = modelUtil.parseFinder(ecModel, finder);\n\n  for (var i = 0; i < coordSysList.length; i++) {\n    var coordSys = coordSysList[i];\n\n    if (coordSys[methodName] && (result = coordSys[methodName](ecModel, finder, value)) != null) {\n      return result;\n    }\n  }\n}\n/**\n * Is the specified coordinate systems or components contain the given pixel point.\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            geoIndex / geoId / geoName,\n *            bmapIndex / bmapId / bmapName,\n *            xAxisIndex / xAxisId / xAxisName,\n *            yAxisIndex / yAxisId / yAxisName,\n *            gridIndex / gridId / gridName,\n *            ... (can be extended)\n *        }\n * @param {Array|number} value\n * @return {boolean} result\n */\n\n\nechartsProto.containPixel = function (finder, value) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  var ecModel = this._model;\n  var result;\n  finder = modelUtil.parseFinder(ecModel, finder);\n  zrUtil.each(finder, function (models, key) {\n    key.indexOf('Models') >= 0 && zrUtil.each(models, function (model) {\n      var coordSys = model.coordinateSystem;\n\n      if (coordSys && coordSys.containPoint) {\n        result |= !!coordSys.containPoint(value);\n      } else if (key === 'seriesModels') {\n        var view = this._chartsMap[model.__viewId];\n\n        if (view && view.containPoint) {\n          result |= view.containPoint(value, model);\n        } else {}\n      } else {}\n    }, this);\n  }, this);\n  return !!result;\n};\n/**\n * Get visual from series or data.\n * @param {string|Object} finder\n *        If string, e.g., 'series', means {seriesIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex / seriesId / seriesName,\n *            dataIndex / dataIndexInside\n *        }\n *        If dataIndex is not specified, series visual will be fetched,\n *        but not data item visual.\n *        If all of seriesIndex, seriesId, seriesName are not specified,\n *        visual will be fetched from first series.\n * @param {string} visualType 'color', 'symbol', 'symbolSize'\n */\n\n\nechartsProto.getVisual = function (finder, visualType) {\n  var ecModel = this._model;\n  finder = modelUtil.parseFinder(ecModel, finder, {\n    defaultMainType: 'series'\n  });\n  var seriesModel = finder.seriesModel;\n  var data = seriesModel.getData();\n  var dataIndexInside = finder.hasOwnProperty('dataIndexInside') ? finder.dataIndexInside : finder.hasOwnProperty('dataIndex') ? data.indexOfRawIndex(finder.dataIndex) : null;\n  return dataIndexInside != null ? data.getItemVisual(dataIndexInside, visualType) : data.getVisual(visualType);\n};\n/**\n * Get view of corresponding component model\n * @param  {module:echarts/model/Component} componentModel\n * @return {module:echarts/view/Component}\n */\n\n\nechartsProto.getViewOfComponentModel = function (componentModel) {\n  return this._componentsMap[componentModel.__viewId];\n};\n/**\n * Get view of corresponding series model\n * @param  {module:echarts/model/Series} seriesModel\n * @return {module:echarts/view/Chart}\n */\n\n\nechartsProto.getViewOfSeriesModel = function (seriesModel) {\n  return this._chartsMap[seriesModel.__viewId];\n};\n\nvar updateMethods = {\n  prepareAndUpdate: function prepareAndUpdate(payload) {\n    prepare(this);\n    updateMethods.update.call(this, payload);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  update: function update(payload) {\n    // console.profile && console.profile('update');\n    var ecModel = this._model;\n    var api = this._api;\n    var zr = this._zr;\n    var coordSysMgr = this._coordSysMgr;\n    var scheduler = this._scheduler; // update before setOption\n\n    if (!ecModel) {\n      return;\n    }\n\n    scheduler.restoreData(ecModel, payload);\n    scheduler.performSeriesTasks(ecModel); // TODO\n    // Save total ecModel here for undo/redo (after restoring data and before processing data).\n    // Undo (restoration of total ecModel) can be carried out in 'action' or outside API call.\n    // Create new coordinate system each update\n    // In LineView may save the old coordinate system and use it to get the orignal point\n\n    coordSysMgr.create(ecModel, api);\n    scheduler.performDataProcessorTasks(ecModel, payload); // Current stream render is not supported in data process. So we can update\n    // stream modes after data processing, where the filtered data is used to\n    // deteming whether use progressive rendering.\n\n    updateStreamModes(this, ecModel); // We update stream modes before coordinate system updated, then the modes info\n    // can be fetched when coord sys updating (consider the barGrid extent fix). But\n    // the drawback is the full coord info can not be fetched. Fortunately this full\n    // coord is not requied in stream mode updater currently.\n\n    coordSysMgr.update(ecModel, api);\n    clearColorPalette(ecModel);\n    scheduler.performVisualTasks(ecModel, payload);\n    render(this, ecModel, api, payload); // Set background\n\n    var backgroundColor = ecModel.get('backgroundColor') || 'transparent'; // In IE8\n\n    if (!env.canvasSupported) {\n      var colorArr = colorTool.parse(backgroundColor);\n      backgroundColor = colorTool.stringify(colorArr, 'rgb');\n\n      if (colorArr[3] === 0) {\n        backgroundColor = 'transparent';\n      }\n    } else {\n      zr.setBackgroundColor(backgroundColor);\n    }\n\n    performPostUpdateFuncs(ecModel, api); // console.profile && console.profileEnd('update');\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateTransform: function updateTransform(payload) {\n    var ecModel = this._model;\n    var ecIns = this;\n    var api = this._api; // update before setOption\n\n    if (!ecModel) {\n      return;\n    } // ChartView.markUpdateMethod(payload, 'updateTransform');\n\n\n    var componentDirtyList = [];\n    ecModel.eachComponent(function (componentType, componentModel) {\n      var componentView = ecIns.getViewOfComponentModel(componentModel);\n\n      if (componentView && componentView.__alive) {\n        if (componentView.updateTransform) {\n          var result = componentView.updateTransform(componentModel, ecModel, api, payload);\n          result && result.update && componentDirtyList.push(componentView);\n        } else {\n          componentDirtyList.push(componentView);\n        }\n      }\n    });\n    var seriesDirtyMap = zrUtil.createHashMap();\n    ecModel.eachSeries(function (seriesModel) {\n      var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n      if (chartView.updateTransform) {\n        var result = chartView.updateTransform(seriesModel, ecModel, api, payload);\n        result && result.update && seriesDirtyMap.set(seriesModel.uid, 1);\n      } else {\n        seriesDirtyMap.set(seriesModel.uid, 1);\n      }\n    });\n    clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n    // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n\n    this._scheduler.performVisualTasks(ecModel, payload, {\n      setDirty: true,\n      dirtyMap: seriesDirtyMap\n    }); // Currently, not call render of components. Geo render cost a lot.\n    // renderComponents(ecIns, ecModel, api, payload, componentDirtyList);\n\n\n    renderSeries(ecIns, ecModel, api, payload, seriesDirtyMap);\n    performPostUpdateFuncs(ecModel, this._api);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateView: function updateView(payload) {\n    var ecModel = this._model; // update before setOption\n\n    if (!ecModel) {\n      return;\n    }\n\n    ChartView.markUpdateMethod(payload, 'updateView');\n    clearColorPalette(ecModel); // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n\n    this._scheduler.performVisualTasks(ecModel, payload, {\n      setDirty: true\n    });\n\n    render(this, this._model, this._api, payload);\n    performPostUpdateFuncs(ecModel, this._api);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateVisual: function updateVisual(payload) {\n    updateMethods.update.call(this, payload); // var ecModel = this._model;\n    // // update before setOption\n    // if (!ecModel) {\n    //     return;\n    // }\n    // ChartView.markUpdateMethod(payload, 'updateVisual');\n    // clearColorPalette(ecModel);\n    // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n    // this._scheduler.performVisualTasks(ecModel, payload, {visualType: 'visual', setDirty: true});\n    // render(this, this._model, this._api, payload);\n    // performPostUpdateFuncs(ecModel, this._api);\n  },\n\n  /**\n   * @param {Object} payload\n   * @private\n   */\n  updateLayout: function updateLayout(payload) {\n    updateMethods.update.call(this, payload); // var ecModel = this._model;\n    // // update before setOption\n    // if (!ecModel) {\n    //     return;\n    // }\n    // ChartView.markUpdateMethod(payload, 'updateLayout');\n    // // Keep pipe to the exist pipeline because it depends on the render task of the full pipeline.\n    // // this._scheduler.performVisualTasks(ecModel, payload, 'layout', true);\n    // this._scheduler.performVisualTasks(ecModel, payload, {setDirty: true});\n    // render(this, this._model, this._api, payload);\n    // performPostUpdateFuncs(ecModel, this._api);\n  }\n};\n\nfunction prepare(ecIns) {\n  var ecModel = ecIns._model;\n  var scheduler = ecIns._scheduler;\n  scheduler.restorePipelines(ecModel);\n  scheduler.prepareStageTasks();\n  prepareView(ecIns, 'component', ecModel, scheduler);\n  prepareView(ecIns, 'chart', ecModel, scheduler);\n  scheduler.plan();\n}\n/**\n * @private\n */\n\n\nfunction updateDirectly(ecIns, method, payload, mainType, subType) {\n  var ecModel = ecIns._model; // broadcast\n\n  if (!mainType) {\n    // FIXME\n    // Chart will not be update directly here, except set dirty.\n    // But there is no such scenario now.\n    each(ecIns._componentsViews.concat(ecIns._chartsViews), callView);\n    return;\n  }\n\n  var query = {};\n  query[mainType + 'Id'] = payload[mainType + 'Id'];\n  query[mainType + 'Index'] = payload[mainType + 'Index'];\n  query[mainType + 'Name'] = payload[mainType + 'Name'];\n  var condition = {\n    mainType: mainType,\n    query: query\n  };\n  subType && (condition.subType = subType); // subType may be '' by parseClassType;\n\n  var excludeSeriesId = payload.excludeSeriesId;\n\n  if (excludeSeriesId != null) {\n    excludeSeriesId = zrUtil.createHashMap(modelUtil.normalizeToArray(excludeSeriesId));\n  } // If dispatchAction before setOption, do nothing.\n\n\n  ecModel && ecModel.eachComponent(condition, function (model) {\n    if (!excludeSeriesId || excludeSeriesId.get(model.id) == null) {\n      callView(ecIns[mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId]);\n    }\n  }, ecIns);\n\n  function callView(view) {\n    view && view.__alive && view[method] && view[method](view.__model, ecModel, ecIns._api, payload);\n  }\n}\n/**\n * Resize the chart\n * @param {Object} opts\n * @param {number} [opts.width] Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Can be 'auto' (the same as null/undefined)\n * @param {boolean} [opts.silent=false]\n */\n\n\nechartsProto.resize = function (opts) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  this._zr.resize(opts);\n\n  var ecModel = this._model; // Resize loading effect\n\n  this._loadingFX && this._loadingFX.resize();\n\n  if (!ecModel) {\n    return;\n  }\n\n  var optionChanged = ecModel.resetOption('media');\n  var silent = opts && opts.silent;\n  this[IN_MAIN_PROCESS] = true;\n  optionChanged && prepare(this);\n  updateMethods.update.call(this);\n  this[IN_MAIN_PROCESS] = false;\n  flushPendingActions.call(this, silent);\n  triggerUpdatedEvent.call(this, silent);\n};\n\nfunction updateStreamModes(ecIns, ecModel) {\n  var chartsMap = ecIns._chartsMap;\n  var scheduler = ecIns._scheduler;\n  ecModel.eachSeries(function (seriesModel) {\n    scheduler.updateStreamModes(seriesModel, chartsMap[seriesModel.__viewId]);\n  });\n}\n/**\n * Show loading effect\n * @param  {string} [name='default']\n * @param  {Object} [cfg]\n */\n\n\nechartsProto.showLoading = function (name, cfg) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  if (isObject(name)) {\n    cfg = name;\n    name = '';\n  }\n\n  name = name || 'default';\n  this.hideLoading();\n\n  if (!loadingEffects[name]) {\n    return;\n  }\n\n  var el = loadingEffects[name](this._api, cfg);\n  var zr = this._zr;\n  this._loadingFX = el;\n  zr.add(el);\n};\n/**\n * Hide loading effect\n */\n\n\nechartsProto.hideLoading = function () {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  this._loadingFX && this._zr.remove(this._loadingFX);\n  this._loadingFX = null;\n};\n/**\n * @param {Object} eventObj\n * @return {Object}\n */\n\n\nechartsProto.makeActionFromEvent = function (eventObj) {\n  var payload = zrUtil.extend({}, eventObj);\n  payload.type = eventActionMap[eventObj.type];\n  return payload;\n};\n/**\n * @pubilc\n * @param {Object} payload\n * @param {string} [payload.type] Action type\n * @param {Object|boolean} [opt] If pass boolean, means opt.silent\n * @param {boolean} [opt.silent=false] Whether trigger events.\n * @param {boolean} [opt.flush=undefined]\n *                  true: Flush immediately, and then pixel in canvas can be fetched\n *                      immediately. Caution: it might affect performance.\n *                  false: Not flush.\n *                  undefined: Auto decide whether perform flush.\n */\n\n\nechartsProto.dispatchAction = function (payload, opt) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  if (!isObject(opt)) {\n    opt = {\n      silent: !!opt\n    };\n  }\n\n  if (!actions[payload.type]) {\n    return;\n  } // Avoid dispatch action before setOption. Especially in `connect`.\n\n\n  if (!this._model) {\n    return;\n  } // May dispatchAction in rendering procedure\n\n\n  if (this[IN_MAIN_PROCESS]) {\n    this._pendingActions.push(payload);\n\n    return;\n  }\n\n  doDispatchAction.call(this, payload, opt.silent);\n\n  if (opt.flush) {\n    this._zr.flush(true);\n  } else if (opt.flush !== false && env.browser.weChat) {\n    // In WeChat embeded browser, `requestAnimationFrame` and `setInterval`\n    // hang when sliding page (on touch event), which cause that zr does not\n    // refresh util user interaction finished, which is not expected.\n    // But `dispatchAction` may be called too frequently when pan on touch\n    // screen, which impacts performance if do not throttle them.\n    this._throttledZrFlush();\n  }\n\n  flushPendingActions.call(this, opt.silent);\n  triggerUpdatedEvent.call(this, opt.silent);\n};\n\nfunction doDispatchAction(payload, silent) {\n  var payloadType = payload.type;\n  var escapeConnect = payload.escapeConnect;\n  var actionWrap = actions[payloadType];\n  var actionInfo = actionWrap.actionInfo;\n  var cptType = (actionInfo.update || 'update').split(':');\n  var updateMethod = cptType.pop();\n  cptType = cptType[0] != null && parseClassType(cptType[0]);\n  this[IN_MAIN_PROCESS] = true;\n  var payloads = [payload];\n  var batched = false; // Batch action\n\n  if (payload.batch) {\n    batched = true;\n    payloads = zrUtil.map(payload.batch, function (item) {\n      item = zrUtil.defaults(zrUtil.extend({}, item), payload);\n      item.batch = null;\n      return item;\n    });\n  }\n\n  var eventObjBatch = [];\n  var eventObj;\n  var isHighDown = payloadType === 'highlight' || payloadType === 'downplay';\n  each(payloads, function (batchItem) {\n    // Action can specify the event by return it.\n    eventObj = actionWrap.action(batchItem, this._model, this._api); // Emit event outside\n\n    eventObj = eventObj || zrUtil.extend({}, batchItem); // Convert type to eventType\n\n    eventObj.type = actionInfo.event || eventObj.type;\n    eventObjBatch.push(eventObj); // light update does not perform data process, layout and visual.\n\n    if (isHighDown) {\n      // method, payload, mainType, subType\n      updateDirectly(this, updateMethod, batchItem, 'series');\n    } else if (cptType) {\n      updateDirectly(this, updateMethod, batchItem, cptType.main, cptType.sub);\n    }\n  }, this);\n\n  if (updateMethod !== 'none' && !isHighDown && !cptType) {\n    // Still dirty\n    if (this[OPTION_UPDATED]) {\n      // FIXME Pass payload ?\n      prepare(this);\n      updateMethods.update.call(this, payload);\n      this[OPTION_UPDATED] = false;\n    } else {\n      updateMethods[updateMethod].call(this, payload);\n    }\n  } // Follow the rule of action batch\n\n\n  if (batched) {\n    eventObj = {\n      type: actionInfo.event || payloadType,\n      escapeConnect: escapeConnect,\n      batch: eventObjBatch\n    };\n  } else {\n    eventObj = eventObjBatch[0];\n  }\n\n  this[IN_MAIN_PROCESS] = false;\n  !silent && this._messageCenter.trigger(eventObj.type, eventObj);\n}\n\nfunction flushPendingActions(silent) {\n  var pendingActions = this._pendingActions;\n\n  while (pendingActions.length) {\n    var payload = pendingActions.shift();\n    doDispatchAction.call(this, payload, silent);\n  }\n}\n\nfunction triggerUpdatedEvent(silent) {\n  !silent && this.trigger('updated');\n}\n/**\n * Event `rendered` is triggered when zr\n * rendered. It is useful for realtime\n * snapshot (reflect animation).\n *\n * Event `finished` is triggered when:\n * (1) zrender rendering finished.\n * (2) initial animation finished.\n * (3) progressive rendering finished.\n * (4) no pending action.\n * (5) no delayed setOption needs to be processed.\n */\n\n\nfunction bindRenderedEvent(zr, ecIns) {\n  zr.on('rendered', function () {\n    ecIns.trigger('rendered'); // The `finished` event should not be triggered repeatly,\n    // so it should only be triggered when rendering indeed happend\n    // in zrender. (Consider the case that dipatchAction is keep\n    // triggering when mouse move).\n\n    if ( // Although zr is dirty if initial animation is not finished\n    // and this checking is called on frame, we also check\n    // animation finished for robustness.\n    zr.animation.isFinished() && !ecIns[OPTION_UPDATED] && !ecIns._scheduler.unfinished && !ecIns._pendingActions.length) {\n      ecIns.trigger('finished');\n    }\n  });\n}\n/**\n * @param {Object} params\n * @param {number} params.seriesIndex\n * @param {Array|TypedArray} params.data\n */\n\n\nechartsProto.appendData = function (params) {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  var seriesIndex = params.seriesIndex;\n  var ecModel = this.getModel();\n  var seriesModel = ecModel.getSeriesByIndex(seriesIndex);\n  seriesModel.appendData(params); // Note: `appendData` does not support that update extent of coordinate\n  // system, util some scenario require that. In the expected usage of\n  // `appendData`, the initial extent of coordinate system should better\n  // be fixed by axis `min`/`max` setting or initial data, otherwise if\n  // the extent changed while `appendData`, the location of the painted\n  // graphic elements have to be changed, which make the usage of\n  // `appendData` meaningless.\n\n  this._scheduler.unfinished = true;\n};\n/**\n * Register event\n * @method\n */\n\n\nechartsProto.on = createRegisterEventWithLowercaseName('on', false);\nechartsProto.off = createRegisterEventWithLowercaseName('off', false);\nechartsProto.one = createRegisterEventWithLowercaseName('one', false);\n/**\n * Prepare view instances of charts and components\n * @param  {module:echarts/model/Global} ecModel\n * @private\n */\n\nfunction prepareView(ecIns, type, ecModel, scheduler) {\n  var isComponent = type === 'component';\n  var viewList = isComponent ? ecIns._componentsViews : ecIns._chartsViews;\n  var viewMap = isComponent ? ecIns._componentsMap : ecIns._chartsMap;\n  var zr = ecIns._zr;\n  var api = ecIns._api;\n\n  for (var i = 0; i < viewList.length; i++) {\n    viewList[i].__alive = false;\n  }\n\n  isComponent ? ecModel.eachComponent(function (componentType, model) {\n    componentType !== 'series' && doPrepare(model);\n  }) : ecModel.eachSeries(doPrepare);\n\n  function doPrepare(model) {\n    // Consider: id same and type changed.\n    var viewId = '_ec_' + model.id + '_' + model.type;\n    var view = viewMap[viewId];\n\n    if (!view) {\n      var classType = parseClassType(model.type);\n      var Clazz = isComponent ? ComponentView.getClass(classType.main, classType.sub) : ChartView.getClass(classType.sub);\n      view = new Clazz();\n      view.init(ecModel, api);\n      viewMap[viewId] = view;\n      viewList.push(view);\n      zr.add(view.group);\n    }\n\n    model.__viewId = view.__id = viewId;\n    view.__alive = true;\n    view.__model = model;\n    view.group.__ecComponentInfo = {\n      mainType: model.mainType,\n      index: model.componentIndex\n    };\n    !isComponent && scheduler.prepareView(view, model, ecModel, api);\n  }\n\n  for (var i = 0; i < viewList.length;) {\n    var view = viewList[i];\n\n    if (!view.__alive) {\n      !isComponent && view.renderTask.dispose();\n      zr.remove(view.group);\n      view.dispose(ecModel, api);\n      viewList.splice(i, 1);\n      delete viewMap[view.__id];\n      view.__id = view.group.__ecComponentInfo = null;\n    } else {\n      i++;\n    }\n  }\n} // /**\n//  * Encode visual infomation from data after data processing\n//  *\n//  * @param {module:echarts/model/Global} ecModel\n//  * @param {object} layout\n//  * @param {boolean} [layoutFilter] `true`: only layout,\n//  *                                 `false`: only not layout,\n//  *                                 `null`/`undefined`: all.\n//  * @param {string} taskBaseTag\n//  * @private\n//  */\n// function startVisualEncoding(ecIns, ecModel, api, payload, layoutFilter) {\n//     each(visualFuncs, function (visual, index) {\n//         var isLayout = visual.isLayout;\n//         if (layoutFilter == null\n//             || (layoutFilter === false && !isLayout)\n//             || (layoutFilter === true && isLayout)\n//         ) {\n//             visual.func(ecModel, api, payload);\n//         }\n//     });\n// }\n\n\nfunction clearColorPalette(ecModel) {\n  ecModel.clearColorPalette();\n  ecModel.eachSeries(function (seriesModel) {\n    seriesModel.clearColorPalette();\n  });\n}\n\nfunction render(ecIns, ecModel, api, payload) {\n  renderComponents(ecIns, ecModel, api, payload);\n  each(ecIns._chartsViews, function (chart) {\n    chart.__alive = false;\n  });\n  renderSeries(ecIns, ecModel, api, payload); // Remove groups of unrendered charts\n\n  each(ecIns._chartsViews, function (chart) {\n    if (!chart.__alive) {\n      chart.remove(ecModel, api);\n    }\n  });\n}\n\nfunction renderComponents(ecIns, ecModel, api, payload, dirtyList) {\n  each(dirtyList || ecIns._componentsViews, function (componentView) {\n    var componentModel = componentView.__model;\n    componentView.render(componentModel, ecModel, api, payload);\n    updateZ(componentModel, componentView);\n  });\n}\n/**\n * Render each chart and component\n * @private\n */\n\n\nfunction renderSeries(ecIns, ecModel, api, payload, dirtyMap) {\n  // Render all charts\n  var scheduler = ecIns._scheduler;\n  var unfinished;\n  ecModel.eachSeries(function (seriesModel) {\n    var chartView = ecIns._chartsMap[seriesModel.__viewId];\n    chartView.__alive = true;\n    var renderTask = chartView.renderTask;\n    scheduler.updatePayload(renderTask, payload);\n\n    if (dirtyMap && dirtyMap.get(seriesModel.uid)) {\n      renderTask.dirty();\n    }\n\n    unfinished |= renderTask.perform(scheduler.getPerformArgs(renderTask));\n    chartView.group.silent = !!seriesModel.get('silent');\n    updateZ(seriesModel, chartView);\n    updateBlend(seriesModel, chartView);\n  });\n  scheduler.unfinished |= unfinished; // If use hover layer\n\n  updateHoverLayerStatus(ecIns, ecModel); // Add aria\n\n  aria(ecIns._zr.dom, ecModel);\n}\n\nfunction performPostUpdateFuncs(ecModel, api) {\n  each(postUpdateFuncs, function (func) {\n    func(ecModel, api);\n  });\n}\n\nvar MOUSE_EVENT_NAMES = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu'];\n/**\n * @private\n */\n\nechartsProto._initEvents = function () {\n  each(MOUSE_EVENT_NAMES, function (eveName) {\n    var handler = function handler(e) {\n      var ecModel = this.getModel();\n      var el = e.target;\n      var params;\n      var isGlobalOut = eveName === 'globalout'; // no e.target when 'globalout'.\n\n      if (isGlobalOut) {\n        params = {};\n      } else if (el && el.dataIndex != null) {\n        var dataModel = el.dataModel || ecModel.getSeriesByIndex(el.seriesIndex);\n        params = dataModel && dataModel.getDataParams(el.dataIndex, el.dataType, el) || {};\n      } // If element has custom eventData of components\n      else if (el && el.eventData) {\n          params = zrUtil.extend({}, el.eventData);\n        } // Contract: if params prepared in mouse event,\n      // these properties must be specified:\n      // {\n      //    componentType: string (component main type)\n      //    componentIndex: number\n      // }\n      // Otherwise event query can not work.\n\n\n      if (params) {\n        var componentType = params.componentType;\n        var componentIndex = params.componentIndex; // Special handling for historic reason: when trigger by\n        // markLine/markPoint/markArea, the componentType is\n        // 'markLine'/'markPoint'/'markArea', but we should better\n        // enable them to be queried by seriesIndex, since their\n        // option is set in each series.\n\n        if (componentType === 'markLine' || componentType === 'markPoint' || componentType === 'markArea') {\n          componentType = 'series';\n          componentIndex = params.seriesIndex;\n        }\n\n        var model = componentType && componentIndex != null && ecModel.getComponent(componentType, componentIndex);\n        var view = model && this[model.mainType === 'series' ? '_chartsMap' : '_componentsMap'][model.__viewId];\n        params.event = e;\n        params.type = eveName;\n        this._ecEventProcessor.eventInfo = {\n          targetEl: el,\n          packedEvent: params,\n          model: model,\n          view: view\n        };\n        this.trigger(eveName, params);\n      }\n    }; // Consider that some component (like tooltip, brush, ...)\n    // register zr event handler, but user event handler might\n    // do anything, such as call `setOption` or `dispatchAction`,\n    // which probably update any of the content and probably\n    // cause problem if it is called previous other inner handlers.\n\n\n    handler.zrEventfulCallAtLast = true;\n\n    this._zr.on(eveName, handler, this);\n  }, this);\n  each(eventActionMap, function (actionType, eventType) {\n    this._messageCenter.on(eventType, function (event) {\n      this.trigger(eventType, event);\n    }, this);\n  }, this);\n};\n/**\n * @return {boolean}\n */\n\n\nechartsProto.isDisposed = function () {\n  return this._disposed;\n};\n/**\n * Clear\n */\n\n\nechartsProto.clear = function () {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  this.setOption({\n    series: []\n  }, true);\n};\n/**\n * Dispose instance\n */\n\n\nechartsProto.dispose = function () {\n  if (this._disposed) {\n    disposedWarning(this.id);\n    return;\n  }\n\n  this._disposed = true;\n  modelUtil.setAttribute(this.getDom(), DOM_ATTRIBUTE_KEY, '');\n  var api = this._api;\n  var ecModel = this._model;\n  each(this._componentsViews, function (component) {\n    component.dispose(ecModel, api);\n  });\n  each(this._chartsViews, function (chart) {\n    chart.dispose(ecModel, api);\n  }); // Dispose after all views disposed\n\n  this._zr.dispose();\n\n  delete instances[this.id];\n};\n\nzrUtil.mixin(ECharts, Eventful);\n\nfunction disposedWarning(id) {}\n\nfunction updateHoverLayerStatus(ecIns, ecModel) {\n  var zr = ecIns._zr;\n  var storage = zr.storage;\n  var elCount = 0;\n  storage.traverse(function (el) {\n    elCount++;\n  });\n\n  if (elCount > ecModel.get('hoverLayerThreshold') && !env.node) {\n    ecModel.eachSeries(function (seriesModel) {\n      if (seriesModel.preventUsingHoverLayer) {\n        return;\n      }\n\n      var chartView = ecIns._chartsMap[seriesModel.__viewId];\n\n      if (chartView.__alive) {\n        chartView.group.traverse(function (el) {\n          // Don't switch back.\n          el.useHoverLayer = true;\n        });\n      }\n    });\n  }\n}\n/**\n * Update chart progressive and blend.\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\n\n\nfunction updateBlend(seriesModel, chartView) {\n  var blendMode = seriesModel.get('blendMode') || null;\n  chartView.group.traverse(function (el) {\n    // FIXME marker and other components\n    if (!el.isGroup) {\n      // Only set if blendMode is changed. In case element is incremental and don't wan't to rerender.\n      if (el.style.blend !== blendMode) {\n        el.setStyle('blend', blendMode);\n      }\n    }\n\n    if (el.eachPendingDisplayable) {\n      el.eachPendingDisplayable(function (displayable) {\n        displayable.setStyle('blend', blendMode);\n      });\n    }\n  });\n}\n/**\n * @param {module:echarts/model/Series|module:echarts/model/Component} model\n * @param {module:echarts/view/Component|module:echarts/view/Chart} view\n */\n\n\nfunction updateZ(model, view) {\n  var z = model.get('z');\n  var zlevel = model.get('zlevel'); // Set z and zlevel\n\n  view.group.traverse(function (el) {\n    if (el.type !== 'group') {\n      z != null && (el.z = z);\n      zlevel != null && (el.zlevel = zlevel);\n    }\n  });\n}\n\nfunction createExtensionAPI(ecInstance) {\n  var coordSysMgr = ecInstance._coordSysMgr;\n  return zrUtil.extend(new ExtensionAPI(ecInstance), {\n    // Inject methods\n    getCoordinateSystems: zrUtil.bind(coordSysMgr.getCoordinateSystems, coordSysMgr),\n    getComponentByElement: function getComponentByElement(el) {\n      while (el) {\n        var modelInfo = el.__ecComponentInfo;\n\n        if (modelInfo != null) {\n          return ecInstance._model.getComponent(modelInfo.mainType, modelInfo.index);\n        }\n\n        el = el.parent;\n      }\n    }\n  });\n}\n/**\n * @class\n * Usage of query:\n * `chart.on('click', query, handler);`\n * The `query` can be:\n * + The component type query string, only `mainType` or `mainType.subType`,\n *   like: 'xAxis', 'series', 'xAxis.category' or 'series.line'.\n * + The component query object, like:\n *   `{seriesIndex: 2}`, `{seriesName: 'xx'}`, `{seriesId: 'some'}`,\n *   `{xAxisIndex: 2}`, `{xAxisName: 'xx'}`, `{xAxisId: 'some'}`.\n * + The data query object, like:\n *   `{dataIndex: 123}`, `{dataType: 'link'}`, `{name: 'some'}`.\n * + The other query object (cmponent customized query), like:\n *   `{element: 'some'}` (only available in custom series).\n *\n * Caveat: If a prop in the `query` object is `null/undefined`, it is the\n * same as there is no such prop in the `query` object.\n */\n\n\nfunction EventProcessor() {\n  // These info required: targetEl, packedEvent, model, view\n  this.eventInfo;\n}\n\nEventProcessor.prototype = {\n  constructor: EventProcessor,\n  normalizeQuery: function normalizeQuery(query) {\n    var cptQuery = {};\n    var dataQuery = {};\n    var otherQuery = {}; // `query` is `mainType` or `mainType.subType` of component.\n\n    if (zrUtil.isString(query)) {\n      var condCptType = parseClassType(query); // `.main` and `.sub` may be ''.\n\n      cptQuery.mainType = condCptType.main || null;\n      cptQuery.subType = condCptType.sub || null;\n    } // `query` is an object, convert to {mainType, index, name, id}.\n    else {\n        // `xxxIndex`, `xxxName`, `xxxId`, `name`, `dataIndex`, `dataType` is reserved,\n        // can not be used in `compomentModel.filterForExposedEvent`.\n        var suffixes = ['Index', 'Name', 'Id'];\n        var dataKeys = {\n          name: 1,\n          dataIndex: 1,\n          dataType: 1\n        };\n        zrUtil.each(query, function (val, key) {\n          var reserved = false;\n\n          for (var i = 0; i < suffixes.length; i++) {\n            var propSuffix = suffixes[i];\n            var suffixPos = key.lastIndexOf(propSuffix);\n\n            if (suffixPos > 0 && suffixPos === key.length - propSuffix.length) {\n              var mainType = key.slice(0, suffixPos); // Consider `dataIndex`.\n\n              if (mainType !== 'data') {\n                cptQuery.mainType = mainType;\n                cptQuery[propSuffix.toLowerCase()] = val;\n                reserved = true;\n              }\n            }\n          }\n\n          if (dataKeys.hasOwnProperty(key)) {\n            dataQuery[key] = val;\n            reserved = true;\n          }\n\n          if (!reserved) {\n            otherQuery[key] = val;\n          }\n        });\n      }\n\n    return {\n      cptQuery: cptQuery,\n      dataQuery: dataQuery,\n      otherQuery: otherQuery\n    };\n  },\n  filter: function filter(eventType, query, args) {\n    // They should be assigned before each trigger call.\n    var eventInfo = this.eventInfo;\n\n    if (!eventInfo) {\n      return true;\n    }\n\n    var targetEl = eventInfo.targetEl;\n    var packedEvent = eventInfo.packedEvent;\n    var model = eventInfo.model;\n    var view = eventInfo.view; // For event like 'globalout'.\n\n    if (!model || !view) {\n      return true;\n    }\n\n    var cptQuery = query.cptQuery;\n    var dataQuery = query.dataQuery;\n    return check(cptQuery, model, 'mainType') && check(cptQuery, model, 'subType') && check(cptQuery, model, 'index', 'componentIndex') && check(cptQuery, model, 'name') && check(cptQuery, model, 'id') && check(dataQuery, packedEvent, 'name') && check(dataQuery, packedEvent, 'dataIndex') && check(dataQuery, packedEvent, 'dataType') && (!view.filterForExposedEvent || view.filterForExposedEvent(eventType, query.otherQuery, targetEl, packedEvent));\n\n    function check(query, host, prop, propOnHost) {\n      return query[prop] == null || host[propOnHost || prop] === query[prop];\n    }\n  },\n  afterTrigger: function afterTrigger() {\n    // Make sure the eventInfo wont be used in next trigger.\n    this.eventInfo = null;\n  }\n};\n/**\n * @type {Object} key: actionType.\n * @inner\n */\n\nvar actions = {};\n/**\n * Map eventType to actionType\n * @type {Object}\n */\n\nvar eventActionMap = {};\n/**\n * Data processor functions of each stage\n * @type {Array.<Object.<string, Function>>}\n * @inner\n */\n\nvar dataProcessorFuncs = [];\n/**\n * @type {Array.<Function>}\n * @inner\n */\n\nvar optionPreprocessorFuncs = [];\n/**\n * @type {Array.<Function>}\n * @inner\n */\n\nvar postUpdateFuncs = [];\n/**\n * Visual encoding functions of each stage\n * @type {Array.<Object.<string, Function>>}\n */\n\nvar visualFuncs = [];\n/**\n * Theme storage\n * @type {Object.<key, Object>}\n */\n\nvar themeStorage = {};\n/**\n * Loading effects\n */\n\nvar loadingEffects = {};\nvar instances = {};\nvar connectedGroups = {};\nvar idBase = new Date() - 0;\nvar groupIdBase = new Date() - 0;\nvar DOM_ATTRIBUTE_KEY = '_echarts_instance_';\n\nfunction enableConnect(chart) {\n  var STATUS_PENDING = 0;\n  var STATUS_UPDATING = 1;\n  var STATUS_UPDATED = 2;\n  var STATUS_KEY = '__connectUpdateStatus';\n\n  function updateConnectedChartsStatus(charts, status) {\n    for (var i = 0; i < charts.length; i++) {\n      var otherChart = charts[i];\n      otherChart[STATUS_KEY] = status;\n    }\n  }\n\n  each(eventActionMap, function (actionType, eventType) {\n    chart._messageCenter.on(eventType, function (event) {\n      if (connectedGroups[chart.group] && chart[STATUS_KEY] !== STATUS_PENDING) {\n        if (event && event.escapeConnect) {\n          return;\n        }\n\n        var action = chart.makeActionFromEvent(event);\n        var otherCharts = [];\n        each(instances, function (otherChart) {\n          if (otherChart !== chart && otherChart.group === chart.group) {\n            otherCharts.push(otherChart);\n          }\n        });\n        updateConnectedChartsStatus(otherCharts, STATUS_PENDING);\n        each(otherCharts, function (otherChart) {\n          if (otherChart[STATUS_KEY] !== STATUS_UPDATING) {\n            otherChart.dispatchAction(action);\n          }\n        });\n        updateConnectedChartsStatus(otherCharts, STATUS_UPDATED);\n      }\n    });\n  });\n}\n/**\n * @param {HTMLElement} dom\n * @param {Object} [theme]\n * @param {Object} opts\n * @param {number} [opts.devicePixelRatio] Use window.devicePixelRatio by default\n * @param {string} [opts.renderer] Can choose 'canvas' or 'svg' to render the chart.\n * @param {number} [opts.width] Use clientWidth of the input `dom` by default.\n *                              Can be 'auto' (the same as null/undefined)\n * @param {number} [opts.height] Use clientHeight of the input `dom` by default.\n *                               Can be 'auto' (the same as null/undefined)\n */\n\n\nfunction init(dom, theme, opts) {\n  var existInstance = getInstanceByDom(dom);\n\n  if (existInstance) {\n    return existInstance;\n  }\n\n  var chart = new ECharts(dom, theme, opts);\n  chart.id = 'ec_' + idBase++;\n  instances[chart.id] = chart;\n  modelUtil.setAttribute(dom, DOM_ATTRIBUTE_KEY, chart.id);\n  enableConnect(chart);\n  return chart;\n}\n/**\n * @return {string|Array.<module:echarts~ECharts>} groupId\n */\n\n\nfunction connect(groupId) {\n  // Is array of charts\n  if (zrUtil.isArray(groupId)) {\n    var charts = groupId;\n    groupId = null; // If any chart has group\n\n    each(charts, function (chart) {\n      if (chart.group != null) {\n        groupId = chart.group;\n      }\n    });\n    groupId = groupId || 'g_' + groupIdBase++;\n    each(charts, function (chart) {\n      chart.group = groupId;\n    });\n  }\n\n  connectedGroups[groupId] = true;\n  return groupId;\n}\n/**\n * @DEPRECATED\n * @return {string} groupId\n */\n\n\nfunction disConnect(groupId) {\n  connectedGroups[groupId] = false;\n}\n/**\n * @return {string} groupId\n */\n\n\nvar disconnect = disConnect;\n/**\n * Dispose a chart instance\n * @param  {module:echarts~ECharts|HTMLDomElement|string} chart\n */\n\nfunction dispose(chart) {\n  if (typeof chart === 'string') {\n    chart = instances[chart];\n  } else if (!(chart instanceof ECharts)) {\n    // Try to treat as dom\n    chart = getInstanceByDom(chart);\n  }\n\n  if (chart instanceof ECharts && !chart.isDisposed()) {\n    chart.dispose();\n  }\n}\n/**\n * @param  {HTMLElement} dom\n * @return {echarts~ECharts}\n */\n\n\nfunction getInstanceByDom(dom) {\n  return instances[modelUtil.getAttribute(dom, DOM_ATTRIBUTE_KEY)];\n}\n/**\n * @param {string} key\n * @return {echarts~ECharts}\n */\n\n\nfunction getInstanceById(key) {\n  return instances[key];\n}\n/**\n * Register theme\n */\n\n\nfunction registerTheme(name, theme) {\n  themeStorage[name] = theme;\n}\n/**\n * Register option preprocessor\n * @param {Function} preprocessorFunc\n */\n\n\nfunction registerPreprocessor(preprocessorFunc) {\n  optionPreprocessorFuncs.push(preprocessorFunc);\n}\n/**\n * @param {number} [priority=1000]\n * @param {Object|Function} processor\n */\n\n\nfunction registerProcessor(priority, processor) {\n  normalizeRegister(dataProcessorFuncs, priority, processor, PRIORITY_PROCESSOR_FILTER);\n}\n/**\n * Register postUpdater\n * @param {Function} postUpdateFunc\n */\n\n\nfunction registerPostUpdate(postUpdateFunc) {\n  postUpdateFuncs.push(postUpdateFunc);\n}\n/**\n * Usage:\n * registerAction('someAction', 'someEvent', function () { ... });\n * registerAction('someAction', function () { ... });\n * registerAction(\n *     {type: 'someAction', event: 'someEvent', update: 'updateView'},\n *     function () { ... }\n * );\n *\n * @param {(string|Object)} actionInfo\n * @param {string} actionInfo.type\n * @param {string} [actionInfo.event]\n * @param {string} [actionInfo.update]\n * @param {string} [eventName]\n * @param {Function} action\n */\n\n\nfunction registerAction(actionInfo, eventName, action) {\n  if (typeof eventName === 'function') {\n    action = eventName;\n    eventName = '';\n  }\n\n  var actionType = isObject(actionInfo) ? actionInfo.type : [actionInfo, actionInfo = {\n    event: eventName\n  }][0]; // Event name is all lowercase\n\n  actionInfo.event = (actionInfo.event || actionType).toLowerCase();\n  eventName = actionInfo.event; // Validate action type and event name.\n\n  assert(ACTION_REG.test(actionType) && ACTION_REG.test(eventName));\n\n  if (!actions[actionType]) {\n    actions[actionType] = {\n      action: action,\n      actionInfo: actionInfo\n    };\n  }\n\n  eventActionMap[eventName] = actionType;\n}\n/**\n * @param {string} type\n * @param {*} CoordinateSystem\n */\n\n\nfunction registerCoordinateSystem(type, CoordinateSystem) {\n  CoordinateSystemManager.register(type, CoordinateSystem);\n}\n/**\n * Get dimensions of specified coordinate system.\n * @param {string} type\n * @return {Array.<string|Object>}\n */\n\n\nfunction getCoordinateSystemDimensions(type) {\n  var coordSysCreator = CoordinateSystemManager.get(type);\n\n  if (coordSysCreator) {\n    return coordSysCreator.getDimensionsInfo ? coordSysCreator.getDimensionsInfo() : coordSysCreator.dimensions.slice();\n  }\n}\n/**\n * Layout is a special stage of visual encoding\n * Most visual encoding like color are common for different chart\n * But each chart has it's own layout algorithm\n *\n * @param {number} [priority=1000]\n * @param {Function} layoutTask\n */\n\n\nfunction registerLayout(priority, layoutTask) {\n  normalizeRegister(visualFuncs, priority, layoutTask, PRIORITY_VISUAL_LAYOUT, 'layout');\n}\n/**\n * @param {number} [priority=3000]\n * @param {module:echarts/stream/Task} visualTask\n */\n\n\nfunction registerVisual(priority, visualTask) {\n  normalizeRegister(visualFuncs, priority, visualTask, PRIORITY_VISUAL_CHART, 'visual');\n}\n/**\n * @param {Object|Function} fn: {seriesType, createOnAllSeries, performRawSeries, reset}\n */\n\n\nfunction normalizeRegister(targetList, priority, fn, defaultPriority, visualType) {\n  if (isFunction(priority) || isObject(priority)) {\n    fn = priority;\n    priority = defaultPriority;\n  }\n\n  var stageHandler = Scheduler.wrapStageHandler(fn, visualType);\n  stageHandler.__prio = priority;\n  stageHandler.__raw = fn;\n  targetList.push(stageHandler);\n  return stageHandler;\n}\n/**\n * @param {string} name\n */\n\n\nfunction registerLoading(name, loadingFx) {\n  loadingEffects[name] = loadingFx;\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendComponentModel(opts\n/*, superClass*/\n) {\n  // var Clazz = ComponentModel;\n  // if (superClass) {\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n  // }\n  return ComponentModel.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendComponentView(opts\n/*, superClass*/\n) {\n  // var Clazz = ComponentView;\n  // if (superClass) {\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentView.getClass(classType.main, classType.sub, true);\n  // }\n  return ComponentView.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendSeriesModel(opts\n/*, superClass*/\n) {\n  // var Clazz = SeriesModel;\n  // if (superClass) {\n  //     superClass = 'series.' + superClass.replace('series.', '');\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ComponentModel.getClass(classType.main, classType.sub, true);\n  // }\n  return SeriesModel.extend(opts);\n}\n/**\n * @param {Object} opts\n * @param {string} [superClass]\n */\n\n\nfunction extendChartView(opts\n/*, superClass*/\n) {\n  // var Clazz = ChartView;\n  // if (superClass) {\n  //     superClass = superClass.replace('series.', '');\n  //     var classType = parseClassType(superClass);\n  //     Clazz = ChartView.getClass(classType.main, true);\n  // }\n  return ChartView.extend(opts);\n}\n/**\n * ZRender need a canvas context to do measureText.\n * But in node environment canvas may be created by node-canvas.\n * So we need to specify how to create a canvas instead of using document.createElement('canvas')\n *\n * Be careful of using it in the browser.\n *\n * @param {Function} creator\n * @example\n *     var Canvas = require('canvas');\n *     var echarts = require('echarts');\n *     echarts.setCanvasCreator(function () {\n *         // Small size is enough.\n *         return new Canvas(32, 32);\n *     });\n */\n\n\nfunction setCanvasCreator(creator) {\n  zrUtil.$override('createCanvas', creator);\n}\n/**\n * @param {string} mapName\n * @param {Array.<Object>|Object|string} geoJson\n * @param {Object} [specialAreas]\n *\n * @example GeoJSON\n *     $.get('USA.json', function (geoJson) {\n *         echarts.registerMap('USA', geoJson);\n *         // Or\n *         echarts.registerMap('USA', {\n *             geoJson: geoJson,\n *             specialAreas: {}\n *         })\n *     });\n *\n *     $.get('airport.svg', function (svg) {\n *         echarts.registerMap('airport', {\n *             svg: svg\n *         }\n *     });\n *\n *     echarts.registerMap('eu', [\n *         {svg: eu-topographic.svg},\n *         {geoJSON: eu.json}\n *     ])\n */\n\n\nfunction registerMap(mapName, geoJson, specialAreas) {\n  mapDataStorage.registerMap(mapName, geoJson, specialAreas);\n}\n/**\n * @param {string} mapName\n * @return {Object}\n */\n\n\nfunction getMap(mapName) {\n  // For backward compatibility, only return the first one.\n  var records = mapDataStorage.retrieveMap(mapName);\n  return records && records[0] && {\n    geoJson: records[0].geoJSON,\n    specialAreas: records[0].specialAreas\n  };\n}\n\nregisterVisual(PRIORITY_VISUAL_GLOBAL, seriesColor);\nregisterPreprocessor(backwardCompat);\nregisterProcessor(PRIORITY_PROCESSOR_DATASTACK, dataStack);\nregisterLoading('default', loadingDefault); // Default actions\n\nregisterAction({\n  type: 'highlight',\n  event: 'highlight',\n  update: 'highlight'\n}, zrUtil.noop);\nregisterAction({\n  type: 'downplay',\n  event: 'downplay',\n  update: 'downplay'\n}, zrUtil.noop); // Default theme\n\nregisterTheme('light', lightTheme);\nregisterTheme('dark', darkTheme); // For backward compatibility, where the namespace `dataTool` will\n// be mounted on `echarts` is the extension `dataTool` is imported.\n\nvar dataTool = {};\nexports.version = version;\nexports.dependencies = dependencies;\nexports.PRIORITY = PRIORITY;\nexports.init = init;\nexports.connect = connect;\nexports.disConnect = disConnect;\nexports.disconnect = disconnect;\nexports.dispose = dispose;\nexports.getInstanceByDom = getInstanceByDom;\nexports.getInstanceById = getInstanceById;\nexports.registerTheme = registerTheme;\nexports.registerPreprocessor = registerPreprocessor;\nexports.registerProcessor = registerProcessor;\nexports.registerPostUpdate = registerPostUpdate;\nexports.registerAction = registerAction;\nexports.registerCoordinateSystem = registerCoordinateSystem;\nexports.getCoordinateSystemDimensions = getCoordinateSystemDimensions;\nexports.registerLayout = registerLayout;\nexports.registerVisual = registerVisual;\nexports.registerLoading = registerLoading;\nexports.extendComponentModel = extendComponentModel;\nexports.extendComponentView = extendComponentView;\nexports.extendSeriesModel = extendSeriesModel;\nexports.extendChartView = extendChartView;\nexports.setCanvasCreator = setCanvasCreator;\nexports.registerMap = registerMap;\nexports.getMap = getMap;\nexports.dataTool = dataTool;\n\nvar ___ec_export = require(\"./export\");\n\n(function () {\n  for (var key in ___ec_export) {\n    if (___ec_export.hasOwnProperty(key)) {\n      exports[key] = ___ec_export[key];\n    }\n  }\n})();","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar env = require(\"zrender/lib/core/env\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar each = zrUtil.each;\nvar isObject = zrUtil.isObject;\nvar isArray = zrUtil.isArray;\n/**\n * Make the name displayable. But we should\n * make sure it is not duplicated with user\n * specified name, so use '\\0';\n */\n\nvar DUMMY_COMPONENT_NAME_PREFIX = 'series\\0';\n/**\n * If value is not array, then translate it to array.\n * @param  {*} value\n * @return {Array} [value] or value\n */\n\nfunction normalizeToArray(value) {\n  return value instanceof Array ? value : value == null ? [] : [value];\n}\n/**\n * Sync default option between normal and emphasis like `position` and `show`\n * In case some one will write code like\n *     label: {\n *          show: false,\n *          position: 'outside',\n *          fontSize: 18\n *     },\n *     emphasis: {\n *          label: { show: true }\n *     }\n * @param {Object} opt\n * @param {string} key\n * @param {Array.<string>} subOpts\n */\n\n\nfunction defaultEmphasis(opt, key, subOpts) {\n  // Caution: performance sensitive.\n  if (opt) {\n    opt[key] = opt[key] || {};\n    opt.emphasis = opt.emphasis || {};\n    opt.emphasis[key] = opt.emphasis[key] || {}; // Default emphasis option from normal\n\n    for (var i = 0, len = subOpts.length; i < len; i++) {\n      var subOptName = subOpts[i];\n\n      if (!opt.emphasis[key].hasOwnProperty(subOptName) && opt[key].hasOwnProperty(subOptName)) {\n        opt.emphasis[key][subOptName] = opt[key][subOptName];\n      }\n    }\n  }\n}\n\nvar TEXT_STYLE_OPTIONS = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; // modelUtil.LABEL_OPTIONS = modelUtil.TEXT_STYLE_OPTIONS.concat([\n//     'position', 'offset', 'rotate', 'origin', 'show', 'distance', 'formatter',\n//     'fontStyle', 'fontWeight', 'fontSize', 'fontFamily',\n//     // FIXME: deprecated, check and remove it.\n//     'textStyle'\n// ]);\n\n/**\n * The method do not ensure performance.\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method retieves value from data.\n * @param {string|number|Date|Array|Object} dataItem\n * @return {number|string|Date|Array.<number|string|Date>}\n */\n\nfunction getDataItemValue(dataItem) {\n  return isObject(dataItem) && !isArray(dataItem) && !(dataItem instanceof Date) ? dataItem.value : dataItem;\n}\n/**\n * data could be [12, 2323, {value: 223}, [1221, 23], {value: [2, 23]}]\n * This helper method determine if dataItem has extra option besides value\n * @param {string|number|Date|Array|Object} dataItem\n */\n\n\nfunction isDataItemOption(dataItem) {\n  return isObject(dataItem) && !(dataItem instanceof Array); // // markLine data can be array\n  // && !(dataItem[0] && isObject(dataItem[0]) && !(dataItem[0] instanceof Array));\n}\n/**\n * Mapping to exists for merge.\n *\n * @public\n * @param {Array.<Object>|Array.<module:echarts/model/Component>} exists\n * @param {Object|Array.<Object>} newCptOptions\n * @return {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          index of which is the same as exists.\n */\n\n\nfunction mappingToExists(exists, newCptOptions) {\n  // Mapping by the order by original option (but not order of\n  // new option) in merge mode. Because we should ensure\n  // some specified index (like xAxisIndex) is consistent with\n  // original option, which is easy to understand, espatially in\n  // media query. And in most case, merge option is used to\n  // update partial option but not be expected to change order.\n  newCptOptions = (newCptOptions || []).slice();\n  var result = zrUtil.map(exists || [], function (obj, index) {\n    return {\n      exist: obj\n    };\n  }); // Mapping by id or name if specified.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    } // id has highest priority.\n\n\n    for (var i = 0; i < result.length; i++) {\n      if (!result[i].option // Consider name: two map to one.\n      && cptOption.id != null && result[i].exist.id === cptOption.id + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n\n    for (var i = 0; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Consider name: two map to one.\n      // Can not match when both ids exist but different.\n      && (exist.id == null || cptOption.id == null) && cptOption.name != null && !isIdInner(cptOption) && !isIdInner(exist) && exist.name === cptOption.name + '') {\n        result[i].option = cptOption;\n        newCptOptions[index] = null;\n        return;\n      }\n    }\n  }); // Otherwise mapping by index.\n\n  each(newCptOptions, function (cptOption, index) {\n    if (!isObject(cptOption)) {\n      return;\n    }\n\n    var i = 0;\n\n    for (; i < result.length; i++) {\n      var exist = result[i].exist;\n\n      if (!result[i].option // Existing model that already has id should be able to\n      // mapped to (because after mapping performed model may\n      // be assigned with a id, whish should not affect next\n      // mapping), except those has inner id.\n      && !isIdInner(exist) // Caution:\n      // Do not overwrite id. But name can be overwritten,\n      // because axis use name as 'show label text'.\n      // 'exist' always has id and name and we dont\n      // need to check it.\n      && cptOption.id == null) {\n        result[i].option = cptOption;\n        break;\n      }\n    }\n\n    if (i >= result.length) {\n      result.push({\n        option: cptOption\n      });\n    }\n  });\n  return result;\n}\n/**\n * Make id and name for mapping result (result of mappingToExists)\n * into `keyInfo` field.\n *\n * @public\n * @param {Array.<Object>} Result, like [{exist: ..., option: ...}, {}],\n *                          which order is the same as exists.\n * @return {Array.<Object>} The input.\n */\n\n\nfunction makeIdAndName(mapResult) {\n  // We use this id to hash component models and view instances\n  // in echarts. id can be specified by user, or auto generated.\n  // The id generation rule ensures new view instance are able\n  // to mapped to old instance when setOption are called in\n  // no-merge mode. So we generate model id by name and plus\n  // type in view id.\n  // name can be duplicated among components, which is convenient\n  // to specify multi components (like series) by one name.\n  // Ensure that each id is distinct.\n  var idMap = zrUtil.createHashMap();\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    existCpt && idMap.set(existCpt.id, item);\n  });\n  each(mapResult, function (item, index) {\n    var opt = item.option;\n    zrUtil.assert(!opt || opt.id == null || !idMap.get(opt.id) || idMap.get(opt.id) === item, 'id duplicates: ' + (opt && opt.id));\n    opt && opt.id != null && idMap.set(opt.id, item);\n    !item.keyInfo && (item.keyInfo = {});\n  }); // Make name and id.\n\n  each(mapResult, function (item, index) {\n    var existCpt = item.exist;\n    var opt = item.option;\n    var keyInfo = item.keyInfo;\n\n    if (!isObject(opt)) {\n      return;\n    } // name can be overwitten. Consider case: axis.name = '20km'.\n    // But id generated by name will not be changed, which affect\n    // only in that case: setOption with 'not merge mode' and view\n    // instance will be recreated, which can be accepted.\n\n\n    keyInfo.name = opt.name != null ? opt.name + '' : existCpt ? existCpt.name // Avoid diffferent series has the same name,\n    // because name may be used like in color pallet.\n    : DUMMY_COMPONENT_NAME_PREFIX + index;\n\n    if (existCpt) {\n      keyInfo.id = existCpt.id;\n    } else if (opt.id != null) {\n      keyInfo.id = opt.id + '';\n    } else {\n      // Consider this situatoin:\n      //  optionA: [{name: 'a'}, {name: 'a'}, {..}]\n      //  optionB [{..}, {name: 'a'}, {name: 'a'}]\n      // Series with the same name between optionA and optionB\n      // should be mapped.\n      var idNum = 0;\n\n      do {\n        keyInfo.id = '\\0' + keyInfo.name + '\\0' + idNum++;\n      } while (idMap.get(keyInfo.id));\n    }\n\n    idMap.set(keyInfo.id, item);\n  });\n}\n\nfunction isNameSpecified(componentModel) {\n  var name = componentModel.name; // Is specified when `indexOf` get -1 or > 0.\n\n  return !!(name && name.indexOf(DUMMY_COMPONENT_NAME_PREFIX));\n}\n/**\n * @public\n * @param {Object} cptOption\n * @return {boolean}\n */\n\n\nfunction isIdInner(cptOption) {\n  return isObject(cptOption) && cptOption.id && (cptOption.id + '').indexOf('\\0_ec_\\0') === 0;\n}\n/**\n * A helper for removing duplicate items between batchA and batchB,\n * and in themselves, and categorize by series.\n *\n * @param {Array.<Object>} batchA Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @param {Array.<Object>} batchB Like: [{seriesId: 2, dataIndex: [32, 4, 5]}, ...]\n * @return {Array.<Array.<Object>, Array.<Object>>} result: [resultBatchA, resultBatchB]\n */\n\n\nfunction compressBatches(batchA, batchB) {\n  var mapA = {};\n  var mapB = {};\n  makeMap(batchA || [], mapA);\n  makeMap(batchB || [], mapB, mapA);\n  return [mapToArray(mapA), mapToArray(mapB)];\n\n  function makeMap(sourceBatch, map, otherMap) {\n    for (var i = 0, len = sourceBatch.length; i < len; i++) {\n      var seriesId = sourceBatch[i].seriesId;\n      var dataIndices = normalizeToArray(sourceBatch[i].dataIndex);\n      var otherDataIndices = otherMap && otherMap[seriesId];\n\n      for (var j = 0, lenj = dataIndices.length; j < lenj; j++) {\n        var dataIndex = dataIndices[j];\n\n        if (otherDataIndices && otherDataIndices[dataIndex]) {\n          otherDataIndices[dataIndex] = null;\n        } else {\n          (map[seriesId] || (map[seriesId] = {}))[dataIndex] = 1;\n        }\n      }\n    }\n  }\n\n  function mapToArray(map, isData) {\n    var result = [];\n\n    for (var i in map) {\n      if (map.hasOwnProperty(i) && map[i] != null) {\n        if (isData) {\n          result.push(+i);\n        } else {\n          var dataIndices = mapToArray(map[i], true);\n          dataIndices.length && result.push({\n            seriesId: i,\n            dataIndex: dataIndices\n          });\n        }\n      }\n    }\n\n    return result;\n  }\n}\n/**\n * @param {module:echarts/data/List} data\n * @param {Object} payload Contains dataIndex (means rawIndex) / dataIndexInside / name\n *                         each of which can be Array or primary type.\n * @return {number|Array.<number>} dataIndex If not found, return undefined/null.\n */\n\n\nfunction queryDataIndex(data, payload) {\n  if (payload.dataIndexInside != null) {\n    return payload.dataIndexInside;\n  } else if (payload.dataIndex != null) {\n    return zrUtil.isArray(payload.dataIndex) ? zrUtil.map(payload.dataIndex, function (value) {\n      return data.indexOfRawIndex(value);\n    }) : data.indexOfRawIndex(payload.dataIndex);\n  } else if (payload.name != null) {\n    return zrUtil.isArray(payload.name) ? zrUtil.map(payload.name, function (value) {\n      return data.indexOfName(value);\n    }) : data.indexOfName(payload.name);\n  }\n}\n/**\n * Enable property storage to any host object.\n * Notice: Serialization is not supported.\n *\n * For example:\n * var inner = zrUitl.makeInner();\n *\n * function some1(hostObj) {\n *      inner(hostObj).someProperty = 1212;\n *      ...\n * }\n * function some2() {\n *      var fields = inner(this);\n *      fields.someProperty1 = 1212;\n *      fields.someProperty2 = 'xx';\n *      ...\n * }\n *\n * @return {Function}\n */\n\n\nfunction makeInner() {\n  // Consider different scope by es module import.\n  var key = '__\\0ec_inner_' + innerUniqueIndex++ + '_' + Math.random().toFixed(5);\n  return function (hostObj) {\n    return hostObj[key] || (hostObj[key] = {});\n  };\n}\n\nvar innerUniqueIndex = 0;\n/**\n * @param {module:echarts/model/Global} ecModel\n * @param {string|Object} finder\n *        If string, e.g., 'geo', means {geoIndex: 0}.\n *        If Object, could contain some of these properties below:\n *        {\n *            seriesIndex, seriesId, seriesName,\n *            geoIndex, geoId, geoName,\n *            bmapIndex, bmapId, bmapName,\n *            xAxisIndex, xAxisId, xAxisName,\n *            yAxisIndex, yAxisId, yAxisName,\n *            gridIndex, gridId, gridName,\n *            ... (can be extended)\n *        }\n *        Each properties can be number|string|Array.<number>|Array.<string>\n *        For example, a finder could be\n *        {\n *            seriesIndex: 3,\n *            geoId: ['aa', 'cc'],\n *            gridName: ['xx', 'rr']\n *        }\n *        xxxIndex can be set as 'all' (means all xxx) or 'none' (means not specify)\n *        If nothing or null/undefined specified, return nothing.\n * @param {Object} [opt]\n * @param {string} [opt.defaultMainType]\n * @param {Array.<string>} [opt.includeMainTypes]\n * @return {Object} result like:\n *        {\n *            seriesModels: [seriesModel1, seriesModel2],\n *            seriesModel: seriesModel1, // The first model\n *            geoModels: [geoModel1, geoModel2],\n *            geoModel: geoModel1, // The first model\n *            ...\n *        }\n */\n\nfunction parseFinder(ecModel, finder, opt) {\n  if (zrUtil.isString(finder)) {\n    var obj = {};\n    obj[finder + 'Index'] = 0;\n    finder = obj;\n  }\n\n  var defaultMainType = opt && opt.defaultMainType;\n\n  if (defaultMainType && !has(finder, defaultMainType + 'Index') && !has(finder, defaultMainType + 'Id') && !has(finder, defaultMainType + 'Name')) {\n    finder[defaultMainType + 'Index'] = 0;\n  }\n\n  var result = {};\n  each(finder, function (value, key) {\n    var value = finder[key]; // Exclude 'dataIndex' and other illgal keys.\n\n    if (key === 'dataIndex' || key === 'dataIndexInside') {\n      result[key] = value;\n      return;\n    }\n\n    var parsedKey = key.match(/^(\\w+)(Index|Id|Name)$/) || [];\n    var mainType = parsedKey[1];\n    var queryType = (parsedKey[2] || '').toLowerCase();\n\n    if (!mainType || !queryType || value == null || queryType === 'index' && value === 'none' || opt && opt.includeMainTypes && zrUtil.indexOf(opt.includeMainTypes, mainType) < 0) {\n      return;\n    }\n\n    var queryParam = {\n      mainType: mainType\n    };\n\n    if (queryType !== 'index' || value !== 'all') {\n      queryParam[queryType] = value;\n    }\n\n    var models = ecModel.queryComponents(queryParam);\n    result[mainType + 'Models'] = models;\n    result[mainType + 'Model'] = models[0];\n  });\n  return result;\n}\n\nfunction has(obj, prop) {\n  return obj && obj.hasOwnProperty(prop);\n}\n\nfunction setAttribute(dom, key, value) {\n  dom.setAttribute ? dom.setAttribute(key, value) : dom[key] = value;\n}\n\nfunction getAttribute(dom, key) {\n  return dom.getAttribute ? dom.getAttribute(key) : dom[key];\n}\n\nfunction getTooltipRenderMode(renderModeOption) {\n  if (renderModeOption === 'auto') {\n    // Using html when `document` exists, use richText otherwise\n    return env.domSupported ? 'html' : 'richText';\n  } else {\n    return renderModeOption || 'html';\n  }\n}\n/**\n * Group a list by key.\n *\n * @param {Array} array\n * @param {Function} getKey\n *        param {*} Array item\n *        return {string} key\n * @return {Object} Result\n *        {Array}: keys,\n *        {module:zrender/core/util/HashMap} buckets: {key -> Array}\n */\n\n\nfunction groupData(array, getKey) {\n  var buckets = zrUtil.createHashMap();\n  var keys = [];\n  zrUtil.each(array, function (item) {\n    var key = getKey(item);\n    (buckets.get(key) || (keys.push(key), buckets.set(key, []))).push(item);\n  });\n  return {\n    keys: keys,\n    buckets: buckets\n  };\n}\n\nexports.normalizeToArray = normalizeToArray;\nexports.defaultEmphasis = defaultEmphasis;\nexports.TEXT_STYLE_OPTIONS = TEXT_STYLE_OPTIONS;\nexports.getDataItemValue = getDataItemValue;\nexports.isDataItemOption = isDataItemOption;\nexports.mappingToExists = mappingToExists;\nexports.makeIdAndName = makeIdAndName;\nexports.isNameSpecified = isNameSpecified;\nexports.isIdInner = isIdInner;\nexports.compressBatches = compressBatches;\nexports.queryDataIndex = queryDataIndex;\nexports.makeInner = makeInner;\nexports.parseFinder = parseFinder;\nexports.setAttribute = setAttribute;\nexports.getAttribute = getAttribute;\nexports.getTooltipRenderMode = getTooltipRenderMode;\nexports.groupData = groupData;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n\nvar pathTool = require(\"zrender/lib/tool/path\");\n\nvar colorTool = require(\"zrender/lib/tool/color\");\n\nvar matrix = require(\"zrender/lib/core/matrix\");\n\nvar vector = require(\"zrender/lib/core/vector\");\n\nvar Path = require(\"zrender/lib/graphic/Path\");\n\nvar Transformable = require(\"zrender/lib/mixin/Transformable\");\n\nvar ZImage = require(\"zrender/lib/graphic/Image\");\n\nexports.Image = ZImage;\n\nvar Group = require(\"zrender/lib/container/Group\");\n\nexports.Group = Group;\n\nvar Text = require(\"zrender/lib/graphic/Text\");\n\nexports.Text = Text;\n\nvar Circle = require(\"zrender/lib/graphic/shape/Circle\");\n\nexports.Circle = Circle;\n\nvar Sector = require(\"zrender/lib/graphic/shape/Sector\");\n\nexports.Sector = Sector;\n\nvar Ring = require(\"zrender/lib/graphic/shape/Ring\");\n\nexports.Ring = Ring;\n\nvar Polygon = require(\"zrender/lib/graphic/shape/Polygon\");\n\nexports.Polygon = Polygon;\n\nvar Polyline = require(\"zrender/lib/graphic/shape/Polyline\");\n\nexports.Polyline = Polyline;\n\nvar Rect = require(\"zrender/lib/graphic/shape/Rect\");\n\nexports.Rect = Rect;\n\nvar Line = require(\"zrender/lib/graphic/shape/Line\");\n\nexports.Line = Line;\n\nvar BezierCurve = require(\"zrender/lib/graphic/shape/BezierCurve\");\n\nexports.BezierCurve = BezierCurve;\n\nvar Arc = require(\"zrender/lib/graphic/shape/Arc\");\n\nexports.Arc = Arc;\n\nvar CompoundPath = require(\"zrender/lib/graphic/CompoundPath\");\n\nexports.CompoundPath = CompoundPath;\n\nvar LinearGradient = require(\"zrender/lib/graphic/LinearGradient\");\n\nexports.LinearGradient = LinearGradient;\n\nvar RadialGradient = require(\"zrender/lib/graphic/RadialGradient\");\n\nexports.RadialGradient = RadialGradient;\n\nvar BoundingRect = require(\"zrender/lib/core/BoundingRect\");\n\nexports.BoundingRect = BoundingRect;\n\nvar IncrementalDisplayable = require(\"zrender/lib/graphic/IncrementalDisplayable\");\n\nexports.IncrementalDisplayable = IncrementalDisplayable;\n\nvar subPixelOptimizeUtil = require(\"zrender/lib/graphic/helper/subPixelOptimize\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n\nvar mathMax = Math.max;\nvar mathMin = Math.min;\nvar EMPTY_OBJ = {};\nvar Z2_EMPHASIS_LIFT = 1; // key: label model property nane, value: style property name.\n\nvar CACHED_LABEL_STYLE_PROPERTIES = {\n  color: 'textFill',\n  textBorderColor: 'textStroke',\n  textBorderWidth: 'textStrokeWidth'\n};\nvar EMPHASIS = 'emphasis';\nvar NORMAL = 'normal'; // Reserve 0 as default.\n\nvar _highlightNextDigit = 1;\nvar _highlightKeyMap = {};\nvar _customShapeMap = {};\n/**\n * Extend shape with parameters\n */\n\nfunction extendShape(opts) {\n  return Path.extend(opts);\n}\n/**\n * Extend path\n */\n\n\nfunction extendPath(pathData, opts) {\n  return pathTool.extendFromString(pathData, opts);\n}\n/**\n * Register a user defined shape.\n * The shape class can be fetched by `getShapeClass`\n * This method will overwrite the registered shapes, including\n * the registered built-in shapes, if using the same `name`.\n * The shape can be used in `custom series` and\n * `graphic component` by declaring `{type: name}`.\n *\n * @param {string} name\n * @param {Object} ShapeClass Can be generated by `extendShape`.\n */\n\n\nfunction registerShape(name, ShapeClass) {\n  _customShapeMap[name] = ShapeClass;\n}\n/**\n * Find shape class registered by `registerShape`. Usually used in\n * fetching user defined shape.\n *\n * [Caution]:\n * (1) This method **MUST NOT be used inside echarts !!!**, unless it is prepared\n * to use user registered shapes.\n * Because the built-in shape (see `getBuiltInShape`) will be registered by\n * `registerShape` by default. That enables users to get both built-in\n * shapes as well as the shapes belonging to themsleves. But users can overwrite\n * the built-in shapes by using names like 'circle', 'rect' via calling\n * `registerShape`. So the echarts inner featrues should not fetch shapes from here\n * in case that it is overwritten by users, except that some features, like\n * `custom series`, `graphic component`, do it deliberately.\n *\n * (2) In the features like `custom series`, `graphic component`, the user input\n * `{tpye: 'xxx'}` does not only specify shapes but also specify other graphic\n * elements like `'group'`, `'text'`, `'image'` or event `'path'`. Those names\n * are reserved names, that is, if some user register a shape named `'image'`,\n * the shape will not be used. If we intending to add some more reserved names\n * in feature, that might bring break changes (disable some existing user shape\n * names). But that case probably rearly happen. So we dont make more mechanism\n * to resolve this issue here.\n *\n * @param {string} name\n * @return {Object} The shape class. If not found, return nothing.\n */\n\n\nfunction getShapeClass(name) {\n  if (_customShapeMap.hasOwnProperty(name)) {\n    return _customShapeMap[name];\n  }\n}\n/**\n * Create a path element from path data string\n * @param {string} pathData\n * @param {Object} opts\n * @param {module:zrender/core/BoundingRect} rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makePath(pathData, opts, rect, layout) {\n  var path = pathTool.createFromString(pathData, opts);\n\n  if (rect) {\n    if (layout === 'center') {\n      rect = centerGraphic(rect, path.getBoundingRect());\n    }\n\n    resizePath(path, rect);\n  }\n\n  return path;\n}\n/**\n * Create a image element from image url\n * @param {string} imageUrl image url\n * @param {Object} opts options\n * @param {module:zrender/core/BoundingRect} rect constrain rect\n * @param {string} [layout=cover] 'center' or 'cover'\n */\n\n\nfunction makeImage(imageUrl, rect, layout) {\n  var path = new ZImage({\n    style: {\n      image: imageUrl,\n      x: rect.x,\n      y: rect.y,\n      width: rect.width,\n      height: rect.height\n    },\n    onload: function onload(img) {\n      if (layout === 'center') {\n        var boundingRect = {\n          width: img.width,\n          height: img.height\n        };\n        path.setStyle(centerGraphic(rect, boundingRect));\n      }\n    }\n  });\n  return path;\n}\n/**\n * Get position of centered element in bounding box.\n *\n * @param  {Object} rect         element local bounding box\n * @param  {Object} boundingRect constraint bounding box\n * @return {Object} element position containing x, y, width, and height\n */\n\n\nfunction centerGraphic(rect, boundingRect) {\n  // Set rect to center, keep width / height ratio.\n  var aspect = boundingRect.width / boundingRect.height;\n  var width = rect.height * aspect;\n  var height;\n\n  if (width <= rect.width) {\n    height = rect.height;\n  } else {\n    width = rect.width;\n    height = width / aspect;\n  }\n\n  var cx = rect.x + rect.width / 2;\n  var cy = rect.y + rect.height / 2;\n  return {\n    x: cx - width / 2,\n    y: cy - height / 2,\n    width: width,\n    height: height\n  };\n}\n\nvar mergePath = pathTool.mergePath;\n/**\n * Resize a path to fit the rect\n * @param {module:zrender/graphic/Path} path\n * @param {Object} rect\n */\n\nfunction resizePath(path, rect) {\n  if (!path.applyTransform) {\n    return;\n  }\n\n  var pathRect = path.getBoundingRect();\n  var m = pathRect.calculateTransform(rect);\n  path.applyTransform(m);\n}\n/**\n * Sub pixel optimize line for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x1]\n * @param {number} [param.shape.y1]\n * @param {number} [param.shape.x2]\n * @param {number} [param.shape.y2]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeLine(param) {\n  subPixelOptimizeUtil.subPixelOptimizeLine(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize rect for canvas\n *\n * @param {Object} param\n * @param {Object} [param.shape]\n * @param {number} [param.shape.x]\n * @param {number} [param.shape.y]\n * @param {number} [param.shape.width]\n * @param {number} [param.shape.height]\n * @param {Object} [param.style]\n * @param {number} [param.style.lineWidth]\n * @return {Object} Modified param\n */\n\n\nfunction subPixelOptimizeRect(param) {\n  subPixelOptimizeUtil.subPixelOptimizeRect(param.shape, param.shape, param.style);\n  return param;\n}\n/**\n * Sub pixel optimize for canvas\n *\n * @param {number} position Coordinate, such as x, y\n * @param {number} lineWidth Should be nonnegative integer.\n * @param {boolean=} positiveOrNegative Default false (negative).\n * @return {number} Optimized position.\n */\n\n\nvar subPixelOptimize = subPixelOptimizeUtil.subPixelOptimize;\n\nfunction hasFillOrStroke(fillOrStroke) {\n  return fillOrStroke != null && fillOrStroke !== 'none';\n} // Most lifted color are duplicated.\n\n\nvar liftedColorMap = zrUtil.createHashMap();\nvar liftedColorCount = 0;\n\nfunction liftColor(color) {\n  if (typeof color !== 'string') {\n    return color;\n  }\n\n  var liftedColor = liftedColorMap.get(color);\n\n  if (!liftedColor) {\n    liftedColor = colorTool.lift(color, -0.1);\n\n    if (liftedColorCount < 10000) {\n      liftedColorMap.set(color, liftedColor);\n      liftedColorCount++;\n    }\n  }\n\n  return liftedColor;\n}\n\nfunction cacheElementStl(el) {\n  if (!el.__hoverStlDirty) {\n    return;\n  }\n\n  el.__hoverStlDirty = false;\n  var hoverStyle = el.__hoverStl;\n\n  if (!hoverStyle) {\n    el.__cachedNormalStl = el.__cachedNormalZ2 = null;\n    return;\n  }\n\n  var normalStyle = el.__cachedNormalStl = {};\n  el.__cachedNormalZ2 = el.z2;\n  var elStyle = el.style;\n\n  for (var name in hoverStyle) {\n    // See comment in `singleEnterEmphasis`.\n    if (hoverStyle[name] != null) {\n      normalStyle[name] = elStyle[name];\n    }\n  } // Always cache fill and stroke to normalStyle for lifting color.\n\n\n  normalStyle.fill = elStyle.fill;\n  normalStyle.stroke = elStyle.stroke;\n}\n\nfunction singleEnterEmphasis(el) {\n  var hoverStl = el.__hoverStl;\n\n  if (!hoverStl || el.__highlighted) {\n    return;\n  }\n\n  var zr = el.__zr;\n  var useHoverLayer = el.useHoverLayer && zr && zr.painter.type === 'canvas';\n  el.__highlighted = useHoverLayer ? 'layer' : 'plain';\n\n  if (el.isGroup || !zr && el.useHoverLayer) {\n    return;\n  }\n\n  var elTarget = el;\n  var targetStyle = el.style;\n\n  if (useHoverLayer) {\n    elTarget = zr.addHover(el);\n    targetStyle = elTarget.style;\n  }\n\n  rollbackDefaultTextStyle(targetStyle);\n\n  if (!useHoverLayer) {\n    cacheElementStl(elTarget);\n  } // styles can be:\n  // {\n  //    label: {\n  //        show: false,\n  //        position: 'outside',\n  //        fontSize: 18\n  //    },\n  //    emphasis: {\n  //        label: {\n  //            show: true\n  //        }\n  //    }\n  // },\n  // where properties of `emphasis` may not appear in `normal`. We previously use\n  // module:echarts/util/model#defaultEmphasis to merge `normal` to `emphasis`.\n  // But consider rich text and setOption in merge mode, it is impossible to cover\n  // all properties in merge. So we use merge mode when setting style here.\n  // But we choose the merge strategy that only properties that is not `null/undefined`.\n  // Because when making a textStyle (espacially rich text), it is not easy to distinguish\n  // `hasOwnProperty` and `null/undefined` in code, so we trade them as the same for simplicity.\n  // But this strategy brings a trouble that `null/undefined` can not be used to remove\n  // style any more in `emphasis`. Users can both set properties directly on normal and\n  // emphasis to avoid this issue, or we might support `'none'` for this case if required.\n\n\n  targetStyle.extendFrom(hoverStl);\n  setDefaultHoverFillStroke(targetStyle, hoverStl, 'fill');\n  setDefaultHoverFillStroke(targetStyle, hoverStl, 'stroke');\n  applyDefaultTextStyle(targetStyle);\n\n  if (!useHoverLayer) {\n    el.dirty(false);\n    el.z2 += Z2_EMPHASIS_LIFT;\n  }\n}\n\nfunction setDefaultHoverFillStroke(targetStyle, hoverStyle, prop) {\n  if (!hasFillOrStroke(hoverStyle[prop]) && hasFillOrStroke(targetStyle[prop])) {\n    targetStyle[prop] = liftColor(targetStyle[prop]);\n  }\n}\n\nfunction singleEnterNormal(el) {\n  var highlighted = el.__highlighted;\n\n  if (!highlighted) {\n    return;\n  }\n\n  el.__highlighted = false;\n\n  if (el.isGroup) {\n    return;\n  }\n\n  if (highlighted === 'layer') {\n    el.__zr && el.__zr.removeHover(el);\n  } else {\n    var style = el.style;\n    var normalStl = el.__cachedNormalStl;\n\n    if (normalStl) {\n      rollbackDefaultTextStyle(style);\n      el.setStyle(normalStl);\n      applyDefaultTextStyle(style);\n    } // `__cachedNormalZ2` will not be reset if calling `setElementHoverStyle`\n    // when `el` is on emphasis state. So here by comparing with 1, we try\n    // hard to make the bug case rare.\n\n\n    var normalZ2 = el.__cachedNormalZ2;\n\n    if (normalZ2 != null && el.z2 - normalZ2 === Z2_EMPHASIS_LIFT) {\n      el.z2 = normalZ2;\n    }\n  }\n}\n\nfunction traverseUpdate(el, updater, commonParam) {\n  // If root is group, also enter updater for `highDownOnUpdate`.\n  var fromState = NORMAL;\n  var toState = NORMAL;\n  var trigger; // See the rule of `highDownOnUpdate` on `graphic.setAsHighDownDispatcher`.\n\n  el.__highlighted && (fromState = EMPHASIS, trigger = true);\n  updater(el, commonParam);\n  el.__highlighted && (toState = EMPHASIS, trigger = true);\n  el.isGroup && el.traverse(function (child) {\n    !child.isGroup && updater(child, commonParam);\n  });\n  trigger && el.__highDownOnUpdate && el.__highDownOnUpdate(fromState, toState);\n}\n/**\n * Set hover style (namely \"emphasis style\") of element, based on the current\n * style of the given `el`.\n * This method should be called after all of the normal styles have been adopted\n * to the `el`. See the reason on `setHoverStyle`.\n *\n * @param {module:zrender/Element} el Should not be `zrender/container/Group`.\n * @param {Object} [el.hoverStyle] Can be set on el or its descendants,\n *        e.g., `el.hoverStyle = ...; graphic.setHoverStyle(el); `.\n *        Often used when item group has a label element and it's hoverStyle is different.\n * @param {Object|boolean} [hoverStl] The specified hover style.\n *        If set as `false`, disable the hover style.\n *        Similarly, The `el.hoverStyle` can alse be set\n *        as `false` to disable the hover style.\n *        Otherwise, use the default hover style if not provided.\n */\n\n\nfunction setElementHoverStyle(el, hoverStl) {\n  // For performance consideration, it might be better to make the \"hover style\" only the\n  // difference properties from the \"normal style\", but not a entire copy of all styles.\n  hoverStl = el.__hoverStl = hoverStl !== false && (el.hoverStyle || hoverStl || {});\n  el.__hoverStlDirty = true; // FIXME\n  // It is not completely right to save \"normal\"/\"emphasis\" flag on elements.\n  // It probably should be saved on `data` of series. Consider the cases:\n  // (1) A highlighted elements are moved out of the view port and re-enter\n  // again by dataZoom.\n  // (2) call `setOption` and replace elements totally when they are highlighted.\n\n  if (el.__highlighted) {\n    // Consider the case:\n    // The styles of a highlighted `el` is being updated. The new \"emphasis style\"\n    // should be adapted to the `el`. Notice here new \"normal styles\" should have\n    // been set outside and the cached \"normal style\" is out of date.\n    el.__cachedNormalStl = null; // Do not clear `__cachedNormalZ2` here, because setting `z2` is not a constraint\n    // of this method. In most cases, `z2` is not set and hover style should be able\n    // to rollback. Of course, that would bring bug, but only in a rare case, see\n    // `doSingleLeaveHover` for details.\n\n    singleEnterNormal(el);\n    singleEnterEmphasis(el);\n  }\n}\n\nfunction onElementMouseOver(e) {\n  !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !this.__highByOuter && traverseUpdate(this, singleEnterEmphasis);\n}\n\nfunction onElementMouseOut(e) {\n  !shouldSilent(this, e) // \"emphasis\" event highlight has higher priority than mouse highlight.\n  && !this.__highByOuter && traverseUpdate(this, singleEnterNormal);\n}\n\nfunction onElementEmphasisEvent(highlightDigit) {\n  this.__highByOuter |= 1 << (highlightDigit || 0);\n  traverseUpdate(this, singleEnterEmphasis);\n}\n\nfunction onElementNormalEvent(highlightDigit) {\n  !(this.__highByOuter &= ~(1 << (highlightDigit || 0))) && traverseUpdate(this, singleEnterNormal);\n}\n\nfunction shouldSilent(el, e) {\n  return el.__highDownSilentOnTouch && e.zrByTouch;\n}\n/**\n * Set hover style (namely \"emphasis style\") of element,\n * based on the current style of the given `el`.\n *\n * (1)\n * **CONSTRAINTS** for this method:\n * <A> This method MUST be called after all of the normal styles having been adopted\n * to the `el`.\n * <B> The input `hoverStyle` (that is, \"emphasis style\") MUST be the subset of the\n * \"normal style\" having been set to the el.\n * <C> `color` MUST be one of the \"normal styles\" (because color might be lifted as\n * a default hover style).\n *\n * The reason: this method treat the current style of the `el` as the \"normal style\"\n * and cache them when enter/update the \"emphasis style\". Consider the case: the `el`\n * is in \"emphasis\" state and `setOption`/`dispatchAction` trigger the style updating\n * logic, where the el should shift from the original emphasis style to the new\n * \"emphasis style\" and should be able to \"downplay\" back to the new \"normal style\".\n *\n * Indeed, it is error-prone to make a interface has so many constraints, but I have\n * not found a better solution yet to fit the backward compatibility, performance and\n * the current programming style.\n *\n * (2)\n * Call the method for a \"root\" element once. Do not call it for each descendants.\n * If the descendants elemenets of a group has itself hover style different from the\n * root group, we can simply mount the style on `el.hoverStyle` for them, but should\n * not call this method for them.\n *\n * (3) These input parameters can be set directly on `el`:\n *\n * @param {module:zrender/Element} el\n * @param {Object} [el.hoverStyle] See `graphic.setElementHoverStyle`.\n * @param {boolean} [el.highDownSilentOnTouch=false] See `graphic.setAsHighDownDispatcher`.\n * @param {Function} [el.highDownOnUpdate] See `graphic.setAsHighDownDispatcher`.\n * @param {Object|boolean} [hoverStyle] See `graphic.setElementHoverStyle`.\n */\n\n\nfunction setHoverStyle(el, hoverStyle) {\n  setAsHighDownDispatcher(el, true);\n  traverseUpdate(el, setElementHoverStyle, hoverStyle);\n}\n/**\n * @param {module:zrender/Element} el\n * @param {Function} [el.highDownOnUpdate] Called when state updated.\n *        Since `setHoverStyle` has the constraint that it must be called after\n *        all of the normal style updated, `highDownOnUpdate` is not needed to\n *        trigger if both `fromState` and `toState` is 'normal', and needed to\n *        trigger if both `fromState` and `toState` is 'emphasis', which enables\n *        to sync outside style settings to \"emphasis\" state.\n *        @this {string} This dispatcher `el`.\n *        @param {string} fromState Can be \"normal\" or \"emphasis\".\n *               `fromState` might equal to `toState`,\n *               for example, when this method is called when `el` is\n *               on \"emphasis\" state.\n *        @param {string} toState Can be \"normal\" or \"emphasis\".\n *\n *        FIXME\n *        CAUTION: Do not expose `highDownOnUpdate` outside echarts.\n *        Because it is not a complete solution. The update\n *        listener should not have been mount in element,\n *        and the normal/emphasis state should not have\n *        mantained on elements.\n *\n * @param {boolean} [el.highDownSilentOnTouch=false]\n *        In touch device, mouseover event will be trigger on touchstart event\n *        (see module:zrender/dom/HandlerProxy). By this mechanism, we can\n *        conveniently use hoverStyle when tap on touch screen without additional\n *        code for compatibility.\n *        But if the chart/component has select feature, which usually also use\n *        hoverStyle, there might be conflict between 'select-highlight' and\n *        'hover-highlight' especially when roam is enabled (see geo for example).\n *        In this case, `highDownSilentOnTouch` should be used to disable\n *        hover-highlight on touch device.\n * @param {boolean} [asDispatcher=true] If `false`, do not set as \"highDownDispatcher\".\n */\n\n\nfunction setAsHighDownDispatcher(el, asDispatcher) {\n  var disable = asDispatcher === false; // Make `highDownSilentOnTouch` and `highDownOnUpdate` only work after\n  // `setAsHighDownDispatcher` called. Avoid it is modified by user unexpectedly.\n\n  el.__highDownSilentOnTouch = el.highDownSilentOnTouch;\n  el.__highDownOnUpdate = el.highDownOnUpdate; // Simple optimize, since this method might be\n  // called for each elements of a group in some cases.\n\n  if (!disable || el.__highDownDispatcher) {\n    var method = disable ? 'off' : 'on'; // Duplicated function will be auto-ignored, see Eventful.js.\n\n    el[method]('mouseover', onElementMouseOver)[method]('mouseout', onElementMouseOut); // Emphasis, normal can be triggered manually by API or other components like hover link.\n\n    el[method]('emphasis', onElementEmphasisEvent)[method]('normal', onElementNormalEvent); // Also keep previous record.\n\n    el.__highByOuter = el.__highByOuter || 0;\n    el.__highDownDispatcher = !disable;\n  }\n}\n/**\n * @param {module:zrender/src/Element} el\n * @return {boolean}\n */\n\n\nfunction isHighDownDispatcher(el) {\n  return !!(el && el.__highDownDispatcher);\n}\n/**\n * Support hightlight/downplay record on each elements.\n * For the case: hover highlight/downplay (legend, visualMap, ...) and\n * user triggerred hightlight/downplay should not conflict.\n * Only all of the highlightDigit cleared, return to normal.\n * @param {string} highlightKey\n * @return {number} highlightDigit\n */\n\n\nfunction getHighlightDigit(highlightKey) {\n  var highlightDigit = _highlightKeyMap[highlightKey];\n\n  if (highlightDigit == null && _highlightNextDigit <= 32) {\n    highlightDigit = _highlightKeyMap[highlightKey] = _highlightNextDigit++;\n  }\n\n  return highlightDigit;\n}\n/**\n * See more info in `setTextStyleCommon`.\n * @param {Object|module:zrender/graphic/Style} normalStyle\n * @param {Object} emphasisStyle\n * @param {module:echarts/model/Model} normalModel\n * @param {module:echarts/model/Model} emphasisModel\n * @param {Object} opt Check `opt` of `setTextStyleCommon` to find other props.\n * @param {string|Function} [opt.defaultText]\n * @param {module:echarts/model/Model} [opt.labelFetcher] Fetch text by\n *      `opt.labelFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDataIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {module:echarts/model/Model} [opt.labelDimIndex] Fetch text by\n *      `opt.textFetcher.getFormattedLabel(opt.labelDataIndex, 'normal'/'emphasis', null, opt.labelDimIndex)`\n * @param {Object} [normalSpecified]\n * @param {Object} [emphasisSpecified]\n */\n\n\nfunction setLabelStyle(normalStyle, emphasisStyle, normalModel, emphasisModel, opt, normalSpecified, emphasisSpecified) {\n  opt = opt || EMPTY_OBJ;\n  var labelFetcher = opt.labelFetcher;\n  var labelDataIndex = opt.labelDataIndex;\n  var labelDimIndex = opt.labelDimIndex; // This scenario, `label.normal.show = true; label.emphasis.show = false`,\n  // is not supported util someone requests.\n\n  var showNormal = normalModel.getShallow('show');\n  var showEmphasis = emphasisModel.getShallow('show'); // Consider performance, only fetch label when necessary.\n  // If `normal.show` is `false` and `emphasis.show` is `true` and `emphasis.formatter` is not set,\n  // label should be displayed, where text is fetched by `normal.formatter` or `opt.defaultText`.\n\n  var baseText;\n\n  if (showNormal || showEmphasis) {\n    if (labelFetcher) {\n      baseText = labelFetcher.getFormattedLabel(labelDataIndex, 'normal', null, labelDimIndex);\n    }\n\n    if (baseText == null) {\n      baseText = zrUtil.isFunction(opt.defaultText) ? opt.defaultText(labelDataIndex, opt) : opt.defaultText;\n    }\n  }\n\n  var normalStyleText = showNormal ? baseText : null;\n  var emphasisStyleText = showEmphasis ? zrUtil.retrieve2(labelFetcher ? labelFetcher.getFormattedLabel(labelDataIndex, 'emphasis', null, labelDimIndex) : null, baseText) : null; // Optimize: If style.text is null, text will not be drawn.\n\n  if (normalStyleText != null || emphasisStyleText != null) {\n    // Always set `textStyle` even if `normalStyle.text` is null, because default\n    // values have to be set on `normalStyle`.\n    // If we set default values on `emphasisStyle`, consider case:\n    // Firstly, `setOption(... label: {normal: {text: null}, emphasis: {show: true}} ...);`\n    // Secondly, `setOption(... label: {noraml: {show: true, text: 'abc', color: 'red'} ...);`\n    // Then the 'red' will not work on emphasis.\n    setTextStyle(normalStyle, normalModel, normalSpecified, opt);\n    setTextStyle(emphasisStyle, emphasisModel, emphasisSpecified, opt, true);\n  }\n\n  normalStyle.text = normalStyleText;\n  emphasisStyle.text = emphasisStyleText;\n}\n/**\n * Modify label style manually.\n * Only works after `setLabelStyle` and `setElementHoverStyle` called.\n *\n * @param {module:zrender/src/Element} el\n * @param {Object} [normalStyleProps] optional\n * @param {Object} [emphasisStyleProps] optional\n */\n\n\nfunction modifyLabelStyle(el, normalStyleProps, emphasisStyleProps) {\n  var elStyle = el.style;\n\n  if (normalStyleProps) {\n    rollbackDefaultTextStyle(elStyle);\n    el.setStyle(normalStyleProps);\n    applyDefaultTextStyle(elStyle);\n  }\n\n  elStyle = el.__hoverStl;\n\n  if (emphasisStyleProps && elStyle) {\n    rollbackDefaultTextStyle(elStyle);\n    zrUtil.extend(elStyle, emphasisStyleProps);\n    applyDefaultTextStyle(elStyle);\n  }\n}\n/**\n * Set basic textStyle properties.\n * See more info in `setTextStyleCommon`.\n * @param {Object|module:zrender/graphic/Style} textStyle\n * @param {module:echarts/model/Model} model\n * @param {Object} [specifiedTextStyle] Can be overrided by settings in model.\n * @param {Object} [opt] See `opt` of `setTextStyleCommon`.\n * @param {boolean} [isEmphasis]\n */\n\n\nfunction setTextStyle(textStyle, textStyleModel, specifiedTextStyle, opt, isEmphasis) {\n  setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis);\n  specifiedTextStyle && zrUtil.extend(textStyle, specifiedTextStyle); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n\n  return textStyle;\n}\n/**\n * Set text option in the style.\n * See more info in `setTextStyleCommon`.\n * @deprecated\n * @param {Object} textStyle\n * @param {module:echarts/model/Model} labelModel\n * @param {string|boolean} defaultColor Default text color.\n *        If set as false, it will be processed as a emphasis style.\n */\n\n\nfunction setText(textStyle, labelModel, defaultColor) {\n  var opt = {\n    isRectText: true\n  };\n  var isEmphasis;\n\n  if (defaultColor === false) {\n    isEmphasis = true;\n  } else {\n    // Support setting color as 'auto' to get visual color.\n    opt.autoColor = defaultColor;\n  }\n\n  setTextStyleCommon(textStyle, labelModel, opt, isEmphasis); // textStyle.host && textStyle.host.dirty && textStyle.host.dirty(false);\n}\n/**\n * The uniform entry of set text style, that is, retrieve style definitions\n * from `model` and set to `textStyle` object.\n *\n * Never in merge mode, but in overwrite mode, that is, all of the text style\n * properties will be set. (Consider the states of normal and emphasis and\n * default value can be adopted, merge would make the logic too complicated\n * to manage.)\n *\n * The `textStyle` object can either be a plain object or an instance of\n * `zrender/src/graphic/Style`, and either be the style of normal or emphasis.\n * After this mothod called, the `textStyle` object can then be used in\n * `el.setStyle(textStyle)` or `el.hoverStyle = textStyle`.\n *\n * Default value will be adopted and `insideRollbackOpt` will be created.\n * See `applyDefaultTextStyle` `rollbackDefaultTextStyle` for more details.\n *\n * opt: {\n *      disableBox: boolean, Whether diable drawing box of block (outer most).\n *      isRectText: boolean,\n *      autoColor: string, specify a color when color is 'auto',\n *              for textFill, textStroke, textBackgroundColor, and textBorderColor.\n *              If autoColor specified, it is used as default textFill.\n *      useInsideStyle:\n *              `true`: Use inside style (textFill, textStroke, textStrokeWidth)\n *                  if `textFill` is not specified.\n *              `false`: Do not use inside style.\n *              `null/undefined`: use inside style if `isRectText` is true and\n *                  `textFill` is not specified and textPosition contains `'inside'`.\n *      forceRich: boolean\n * }\n */\n\n\nfunction setTextStyleCommon(textStyle, textStyleModel, opt, isEmphasis) {\n  // Consider there will be abnormal when merge hover style to normal style if given default value.\n  opt = opt || EMPTY_OBJ;\n\n  if (opt.isRectText) {\n    var textPosition;\n\n    if (opt.getTextPosition) {\n      textPosition = opt.getTextPosition(textStyleModel, isEmphasis);\n    } else {\n      textPosition = textStyleModel.getShallow('position') || (isEmphasis ? null : 'inside'); // 'outside' is not a valid zr textPostion value, but used\n      // in bar series, and magric type should be considered.\n\n      textPosition === 'outside' && (textPosition = 'top');\n    }\n\n    textStyle.textPosition = textPosition;\n    textStyle.textOffset = textStyleModel.getShallow('offset');\n    var labelRotate = textStyleModel.getShallow('rotate');\n    labelRotate != null && (labelRotate *= Math.PI / 180);\n    textStyle.textRotation = labelRotate;\n    textStyle.textDistance = zrUtil.retrieve2(textStyleModel.getShallow('distance'), isEmphasis ? null : 5);\n  }\n\n  var ecModel = textStyleModel.ecModel;\n  var globalTextStyle = ecModel && ecModel.option.textStyle; // Consider case:\n  // {\n  //     data: [{\n  //         value: 12,\n  //         label: {\n  //             rich: {\n  //                 // no 'a' here but using parent 'a'.\n  //             }\n  //         }\n  //     }],\n  //     rich: {\n  //         a: { ... }\n  //     }\n  // }\n\n  var richItemNames = getRichItemNames(textStyleModel);\n  var richResult;\n\n  if (richItemNames) {\n    richResult = {};\n\n    for (var name in richItemNames) {\n      if (richItemNames.hasOwnProperty(name)) {\n        // Cascade is supported in rich.\n        var richTextStyle = textStyleModel.getModel(['rich', name]); // In rich, never `disableBox`.\n        // FIXME: consider `label: {formatter: '{a|xx}', color: 'blue', rich: {a: {}}}`,\n        // the default color `'blue'` will not be adopted if no color declared in `rich`.\n        // That might confuses users. So probably we should put `textStyleModel` as the\n        // root ancestor of the `richTextStyle`. But that would be a break change.\n\n        setTokenTextStyle(richResult[name] = {}, richTextStyle, globalTextStyle, opt, isEmphasis);\n      }\n    }\n  }\n\n  textStyle.rich = richResult;\n  setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, true);\n\n  if (opt.forceRich && !opt.textStyle) {\n    opt.textStyle = {};\n  }\n\n  return textStyle;\n} // Consider case:\n// {\n//     data: [{\n//         value: 12,\n//         label: {\n//             rich: {\n//                 // no 'a' here but using parent 'a'.\n//             }\n//         }\n//     }],\n//     rich: {\n//         a: { ... }\n//     }\n// }\n\n\nfunction getRichItemNames(textStyleModel) {\n  // Use object to remove duplicated names.\n  var richItemNameMap;\n\n  while (textStyleModel && textStyleModel !== textStyleModel.ecModel) {\n    var rich = (textStyleModel.option || EMPTY_OBJ).rich;\n\n    if (rich) {\n      richItemNameMap = richItemNameMap || {};\n\n      for (var name in rich) {\n        if (rich.hasOwnProperty(name)) {\n          richItemNameMap[name] = 1;\n        }\n      }\n    }\n\n    textStyleModel = textStyleModel.parentModel;\n  }\n\n  return richItemNameMap;\n}\n\nfunction setTokenTextStyle(textStyle, textStyleModel, globalTextStyle, opt, isEmphasis, isBlock) {\n  // In merge mode, default value should not be given.\n  globalTextStyle = !isEmphasis && globalTextStyle || EMPTY_OBJ;\n  textStyle.textFill = getAutoColor(textStyleModel.getShallow('color'), opt) || globalTextStyle.color;\n  textStyle.textStroke = getAutoColor(textStyleModel.getShallow('textBorderColor'), opt) || globalTextStyle.textBorderColor;\n  textStyle.textStrokeWidth = zrUtil.retrieve2(textStyleModel.getShallow('textBorderWidth'), globalTextStyle.textBorderWidth);\n\n  if (!isEmphasis) {\n    if (isBlock) {\n      textStyle.insideRollbackOpt = opt;\n      applyDefaultTextStyle(textStyle);\n    } // Set default finally.\n\n\n    if (textStyle.textFill == null) {\n      textStyle.textFill = opt.autoColor;\n    }\n  } // Do not use `getFont` here, because merge should be supported, where\n  // part of these properties may be changed in emphasis style, and the\n  // others should remain their original value got from normal style.\n\n\n  textStyle.fontStyle = textStyleModel.getShallow('fontStyle') || globalTextStyle.fontStyle;\n  textStyle.fontWeight = textStyleModel.getShallow('fontWeight') || globalTextStyle.fontWeight;\n  textStyle.fontSize = textStyleModel.getShallow('fontSize') || globalTextStyle.fontSize;\n  textStyle.fontFamily = textStyleModel.getShallow('fontFamily') || globalTextStyle.fontFamily;\n  textStyle.textAlign = textStyleModel.getShallow('align');\n  textStyle.textVerticalAlign = textStyleModel.getShallow('verticalAlign') || textStyleModel.getShallow('baseline');\n  textStyle.textLineHeight = textStyleModel.getShallow('lineHeight');\n  textStyle.textWidth = textStyleModel.getShallow('width');\n  textStyle.textHeight = textStyleModel.getShallow('height');\n  textStyle.textTag = textStyleModel.getShallow('tag');\n\n  if (!isBlock || !opt.disableBox) {\n    textStyle.textBackgroundColor = getAutoColor(textStyleModel.getShallow('backgroundColor'), opt);\n    textStyle.textPadding = textStyleModel.getShallow('padding');\n    textStyle.textBorderColor = getAutoColor(textStyleModel.getShallow('borderColor'), opt);\n    textStyle.textBorderWidth = textStyleModel.getShallow('borderWidth');\n    textStyle.textBorderRadius = textStyleModel.getShallow('borderRadius');\n    textStyle.textBoxShadowColor = textStyleModel.getShallow('shadowColor');\n    textStyle.textBoxShadowBlur = textStyleModel.getShallow('shadowBlur');\n    textStyle.textBoxShadowOffsetX = textStyleModel.getShallow('shadowOffsetX');\n    textStyle.textBoxShadowOffsetY = textStyleModel.getShallow('shadowOffsetY');\n  }\n\n  textStyle.textShadowColor = textStyleModel.getShallow('textShadowColor') || globalTextStyle.textShadowColor;\n  textStyle.textShadowBlur = textStyleModel.getShallow('textShadowBlur') || globalTextStyle.textShadowBlur;\n  textStyle.textShadowOffsetX = textStyleModel.getShallow('textShadowOffsetX') || globalTextStyle.textShadowOffsetX;\n  textStyle.textShadowOffsetY = textStyleModel.getShallow('textShadowOffsetY') || globalTextStyle.textShadowOffsetY;\n}\n\nfunction getAutoColor(color, opt) {\n  return color !== 'auto' ? color : opt && opt.autoColor ? opt.autoColor : null;\n}\n/**\n * Give some default value to the input `textStyle` object, based on the current settings\n * in this `textStyle` object.\n *\n * The Scenario:\n * when text position is `inside` and `textFill` is not specified, we show\n * text border by default for better view. But it should be considered that text position\n * might be changed when hovering or being emphasis, where the `insideRollback` is used to\n * restore the style.\n *\n * Usage (& NOTICE):\n * When a style object (eithor plain object or instance of `zrender/src/graphic/Style`) is\n * about to be modified on its text related properties, `rollbackDefaultTextStyle` should\n * be called before the modification and `applyDefaultTextStyle` should be called after that.\n * (For the case that all of the text related properties is reset, like `setTextStyleCommon`\n * does, `rollbackDefaultTextStyle` is not needed to be called).\n */\n\n\nfunction applyDefaultTextStyle(textStyle) {\n  var textPosition = textStyle.textPosition;\n  var opt = textStyle.insideRollbackOpt;\n  var insideRollback;\n\n  if (opt && textStyle.textFill == null) {\n    var autoColor = opt.autoColor;\n    var isRectText = opt.isRectText;\n    var useInsideStyle = opt.useInsideStyle;\n    var useInsideStyleCache = useInsideStyle !== false && (useInsideStyle === true || isRectText && textPosition // textPosition can be [10, 30]\n    && typeof textPosition === 'string' && textPosition.indexOf('inside') >= 0);\n    var useAutoColorCache = !useInsideStyleCache && autoColor != null; // All of the props declared in `CACHED_LABEL_STYLE_PROPERTIES` are to be cached.\n\n    if (useInsideStyleCache || useAutoColorCache) {\n      insideRollback = {\n        textFill: textStyle.textFill,\n        textStroke: textStyle.textStroke,\n        textStrokeWidth: textStyle.textStrokeWidth\n      };\n    }\n\n    if (useInsideStyleCache) {\n      textStyle.textFill = '#fff'; // Consider text with #fff overflow its container.\n\n      if (textStyle.textStroke == null) {\n        textStyle.textStroke = autoColor;\n        textStyle.textStrokeWidth == null && (textStyle.textStrokeWidth = 2);\n      }\n    }\n\n    if (useAutoColorCache) {\n      textStyle.textFill = autoColor;\n    }\n  } // Always set `insideRollback`, so that the previous one can be cleared.\n\n\n  textStyle.insideRollback = insideRollback;\n}\n/**\n * Consider the case: in a scatter,\n * label: {\n *     normal: {position: 'inside'},\n *     emphasis: {position: 'top'}\n * }\n * In the normal state, the `textFill` will be set as '#fff' for pretty view (see\n * `applyDefaultTextStyle`), but when switching to emphasis state, the `textFill`\n * should be retured to 'autoColor', but not keep '#fff'.\n */\n\n\nfunction rollbackDefaultTextStyle(style) {\n  var insideRollback = style.insideRollback;\n\n  if (insideRollback) {\n    // Reset all of the props in `CACHED_LABEL_STYLE_PROPERTIES`.\n    style.textFill = insideRollback.textFill;\n    style.textStroke = insideRollback.textStroke;\n    style.textStrokeWidth = insideRollback.textStrokeWidth;\n    style.insideRollback = null;\n  }\n}\n\nfunction getFont(opt, ecModel) {\n  // ecModel or default text style model.\n  var gTextStyleModel = ecModel || ecModel.getModel('textStyle');\n  return zrUtil.trim([// FIXME in node-canvas fontWeight is before fontStyle\n  opt.fontStyle || gTextStyleModel && gTextStyleModel.getShallow('fontStyle') || '', opt.fontWeight || gTextStyleModel && gTextStyleModel.getShallow('fontWeight') || '', (opt.fontSize || gTextStyleModel && gTextStyleModel.getShallow('fontSize') || 12) + 'px', opt.fontFamily || gTextStyleModel && gTextStyleModel.getShallow('fontFamily') || 'sans-serif'].join(' '));\n}\n\nfunction animateOrSetProps(isUpdate, el, props, animatableModel, dataIndex, cb) {\n  if (typeof dataIndex === 'function') {\n    cb = dataIndex;\n    dataIndex = null;\n  } // Do not check 'animation' property directly here. Consider this case:\n  // animation model is an `itemModel`, whose does not have `isAnimationEnabled`\n  // but its parent model (`seriesModel`) does.\n\n\n  var animationEnabled = animatableModel && animatableModel.isAnimationEnabled();\n\n  if (animationEnabled) {\n    var postfix = isUpdate ? 'Update' : '';\n    var duration = animatableModel.getShallow('animationDuration' + postfix);\n    var animationEasing = animatableModel.getShallow('animationEasing' + postfix);\n    var animationDelay = animatableModel.getShallow('animationDelay' + postfix);\n\n    if (typeof animationDelay === 'function') {\n      animationDelay = animationDelay(dataIndex, animatableModel.getAnimationDelayParams ? animatableModel.getAnimationDelayParams(el, dataIndex) : null);\n    }\n\n    if (typeof duration === 'function') {\n      duration = duration(dataIndex);\n    }\n\n    duration > 0 ? el.animateTo(props, duration, animationDelay || 0, animationEasing, cb, !!cb) : (el.stopAnimation(), el.attr(props), cb && cb());\n  } else {\n    el.stopAnimation();\n    el.attr(props);\n    cb && cb();\n  }\n}\n/**\n * Update graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} [cb]\n * @example\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, dataIndex, function () { console.log('Animation done!'); });\n *     // Or\n *     graphic.updateProps(el, {\n *         position: [100, 100]\n *     }, seriesModel, function () { console.log('Animation done!'); });\n */\n\n\nfunction updateProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(true, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Init graphic element properties with or without animation according to the\n * configuration in series.\n *\n * Caution: this method will stop previous animation.\n * So if do not use this method to one element twice before\n * animation starts, unless you know what you are doing.\n *\n * @param {module:zrender/Element} el\n * @param {Object} props\n * @param {module:echarts/model/Model} [animatableModel]\n * @param {number} [dataIndex]\n * @param {Function} cb\n */\n\n\nfunction initProps(el, props, animatableModel, dataIndex, cb) {\n  animateOrSetProps(false, el, props, animatableModel, dataIndex, cb);\n}\n/**\n * Get transform matrix of target (param target),\n * in coordinate of its ancestor (param ancestor)\n *\n * @param {module:zrender/mixin/Transformable} target\n * @param {module:zrender/mixin/Transformable} [ancestor]\n */\n\n\nfunction getTransform(target, ancestor) {\n  var mat = matrix.identity([]);\n\n  while (target && target !== ancestor) {\n    matrix.mul(mat, target.getLocalTransform(), mat);\n    target = target.parent;\n  }\n\n  return mat;\n}\n/**\n * Apply transform to an vertex.\n * @param {Array.<number>} target [x, y]\n * @param {Array.<number>|TypedArray.<number>|Object} transform Can be:\n *      + Transform matrix: like [1, 0, 0, 1, 0, 0]\n *      + {position, rotation, scale}, the same as `zrender/Transformable`.\n * @param {boolean=} invert Whether use invert matrix.\n * @return {Array.<number>} [x, y]\n */\n\n\nfunction applyTransform(target, transform, invert) {\n  if (transform && !zrUtil.isArrayLike(transform)) {\n    transform = Transformable.getLocalTransform(transform);\n  }\n\n  if (invert) {\n    transform = matrix.invert([], transform);\n  }\n\n  return vector.applyTransform([], target, transform);\n}\n/**\n * @param {string} direction 'left' 'right' 'top' 'bottom'\n * @param {Array.<number>} transform Transform matrix: like [1, 0, 0, 1, 0, 0]\n * @param {boolean=} invert Whether use invert matrix.\n * @return {string} Transformed direction. 'left' 'right' 'top' 'bottom'\n */\n\n\nfunction transformDirection(direction, transform, invert) {\n  // Pick a base, ensure that transform result will not be (0, 0).\n  var hBase = transform[4] === 0 || transform[5] === 0 || transform[0] === 0 ? 1 : Math.abs(2 * transform[4] / transform[0]);\n  var vBase = transform[4] === 0 || transform[5] === 0 || transform[2] === 0 ? 1 : Math.abs(2 * transform[4] / transform[2]);\n  var vertex = [direction === 'left' ? -hBase : direction === 'right' ? hBase : 0, direction === 'top' ? -vBase : direction === 'bottom' ? vBase : 0];\n  vertex = applyTransform(vertex, transform, invert);\n  return Math.abs(vertex[0]) > Math.abs(vertex[1]) ? vertex[0] > 0 ? 'right' : 'left' : vertex[1] > 0 ? 'bottom' : 'top';\n}\n/**\n * Apply group transition animation from g1 to g2.\n * If no animatableModel, no animation.\n */\n\n\nfunction groupTransition(g1, g2, animatableModel, cb) {\n  if (!g1 || !g2) {\n    return;\n  }\n\n  function getElMap(g) {\n    var elMap = {};\n    g.traverse(function (el) {\n      if (!el.isGroup && el.anid) {\n        elMap[el.anid] = el;\n      }\n    });\n    return elMap;\n  }\n\n  function getAnimatableProps(el) {\n    var obj = {\n      position: vector.clone(el.position),\n      rotation: el.rotation\n    };\n\n    if (el.shape) {\n      obj.shape = zrUtil.extend({}, el.shape);\n    }\n\n    return obj;\n  }\n\n  var elMap1 = getElMap(g1);\n  g2.traverse(function (el) {\n    if (!el.isGroup && el.anid) {\n      var oldEl = elMap1[el.anid];\n\n      if (oldEl) {\n        var newProp = getAnimatableProps(el);\n        el.attr(getAnimatableProps(oldEl));\n        updateProps(el, newProp, animatableModel, el.dataIndex);\n      } // else {\n      //     if (el.previousProps) {\n      //         graphic.updateProps\n      //     }\n      // }\n\n    }\n  });\n}\n/**\n * @param {Array.<Array.<number>>} points Like: [[23, 44], [53, 66], ...]\n * @param {Object} rect {x, y, width, height}\n * @return {Array.<Array.<number>>} A new clipped points.\n */\n\n\nfunction clipPointsByRect(points, rect) {\n  // FIXME: this way migth be incorrect when grpahic clipped by a corner.\n  // and when element have border.\n  return zrUtil.map(points, function (point) {\n    var x = point[0];\n    x = mathMax(x, rect.x);\n    x = mathMin(x, rect.x + rect.width);\n    var y = point[1];\n    y = mathMax(y, rect.y);\n    y = mathMin(y, rect.y + rect.height);\n    return [x, y];\n  });\n}\n/**\n * @param {Object} targetRect {x, y, width, height}\n * @param {Object} rect {x, y, width, height}\n * @return {Object} A new clipped rect. If rect size are negative, return undefined.\n */\n\n\nfunction clipRectByRect(targetRect, rect) {\n  var x = mathMax(targetRect.x, rect.x);\n  var x2 = mathMin(targetRect.x + targetRect.width, rect.x + rect.width);\n  var y = mathMax(targetRect.y, rect.y);\n  var y2 = mathMin(targetRect.y + targetRect.height, rect.y + rect.height); // If the total rect is cliped, nothing, including the border,\n  // should be painted. So return undefined.\n\n  if (x2 >= x && y2 >= y) {\n    return {\n      x: x,\n      y: y,\n      width: x2 - x,\n      height: y2 - y\n    };\n  }\n}\n/**\n * @param {string} iconStr Support 'image://' or 'path://' or direct svg path.\n * @param {Object} [opt] Properties of `module:zrender/Element`, except `style`.\n * @param {Object} [rect] {x, y, width, height}\n * @return {module:zrender/Element} Icon path or image element.\n */\n\n\nfunction createIcon(iconStr, opt, rect) {\n  opt = zrUtil.extend({\n    rectHover: true\n  }, opt);\n  var style = opt.style = {\n    strokeNoScale: true\n  };\n  rect = rect || {\n    x: -1,\n    y: -1,\n    width: 2,\n    height: 2\n  };\n\n  if (iconStr) {\n    return iconStr.indexOf('image://') === 0 ? (style.image = iconStr.slice(8), zrUtil.defaults(style, rect), new ZImage(opt)) : makePath(iconStr.replace('path://', ''), opt, rect, 'center');\n  }\n}\n/**\n * Return `true` if the given line (line `a`) and the given polygon\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n *\n * @param {number} a1x\n * @param {number} a1y\n * @param {number} a2x\n * @param {number} a2y\n * @param {Array.<Array.<number>>} points Points of the polygon.\n * @return {boolean}\n */\n\n\nfunction linePolygonIntersect(a1x, a1y, a2x, a2y, points) {\n  for (var i = 0, p2 = points[points.length - 1]; i < points.length; i++) {\n    var p = points[i];\n\n    if (lineLineIntersect(a1x, a1y, a2x, a2y, p[0], p[1], p2[0], p2[1])) {\n      return true;\n    }\n\n    p2 = p;\n  }\n}\n/**\n * Return `true` if the given two lines (line `a` and line `b`)\n * are intersect.\n * Note that we do not count colinear as intersect here because no\n * requirement for that. We could do that if required in future.\n *\n * @param {number} a1x\n * @param {number} a1y\n * @param {number} a2x\n * @param {number} a2y\n * @param {number} b1x\n * @param {number} b1y\n * @param {number} b2x\n * @param {number} b2y\n * @return {boolean}\n */\n\n\nfunction lineLineIntersect(a1x, a1y, a2x, a2y, b1x, b1y, b2x, b2y) {\n  // let `vec_m` to be `vec_a2 - vec_a1` and `vec_n` to be `vec_b2 - vec_b1`.\n  var mx = a2x - a1x;\n  var my = a2y - a1y;\n  var nx = b2x - b1x;\n  var ny = b2y - b1y; // `vec_m` and `vec_n` are parallel iff\n  //     exising `k` such that `vec_m = k  vec_n`, equivalent to `vec_m X vec_n = 0`.\n\n  var nmCrossProduct = crossProduct2d(nx, ny, mx, my);\n\n  if (nearZero(nmCrossProduct)) {\n    return false;\n  } // `vec_m` and `vec_n` are intersect iff\n  //     existing `p` and `q` in [0, 1] such that `vec_a1 + p * vec_m = vec_b1 + q * vec_n`,\n  //     such that `q = ((vec_a1 - vec_b1) X vec_m) / (vec_n X vec_m)`\n  //           and `p = ((vec_a1 - vec_b1) X vec_n) / (vec_n X vec_m)`.\n\n\n  var b1a1x = a1x - b1x;\n  var b1a1y = a1y - b1y;\n  var q = crossProduct2d(b1a1x, b1a1y, mx, my) / nmCrossProduct;\n\n  if (q < 0 || q > 1) {\n    return false;\n  }\n\n  var p = crossProduct2d(b1a1x, b1a1y, nx, ny) / nmCrossProduct;\n\n  if (p < 0 || p > 1) {\n    return false;\n  }\n\n  return true;\n}\n/**\n * Cross product of 2-dimension vector.\n */\n\n\nfunction crossProduct2d(x1, y1, x2, y2) {\n  return x1 * y2 - x2 * y1;\n}\n\nfunction nearZero(val) {\n  return val <= 1e-6 && val >= -1e-6;\n} // Register built-in shapes. These shapes might be overwirtten\n// by users, although we do not recommend that.\n\n\nregisterShape('circle', Circle);\nregisterShape('sector', Sector);\nregisterShape('ring', Ring);\nregisterShape('polygon', Polygon);\nregisterShape('polyline', Polyline);\nregisterShape('rect', Rect);\nregisterShape('line', Line);\nregisterShape('bezierCurve', BezierCurve);\nregisterShape('arc', Arc);\nexports.Z2_EMPHASIS_LIFT = Z2_EMPHASIS_LIFT;\nexports.CACHED_LABEL_STYLE_PROPERTIES = CACHED_LABEL_STYLE_PROPERTIES;\nexports.extendShape = extendShape;\nexports.extendPath = extendPath;\nexports.registerShape = registerShape;\nexports.getShapeClass = getShapeClass;\nexports.makePath = makePath;\nexports.makeImage = makeImage;\nexports.mergePath = mergePath;\nexports.resizePath = resizePath;\nexports.subPixelOptimizeLine = subPixelOptimizeLine;\nexports.subPixelOptimizeRect = subPixelOptimizeRect;\nexports.subPixelOptimize = subPixelOptimize;\nexports.setElementHoverStyle = setElementHoverStyle;\nexports.setHoverStyle = setHoverStyle;\nexports.setAsHighDownDispatcher = setAsHighDownDispatcher;\nexports.isHighDownDispatcher = isHighDownDispatcher;\nexports.getHighlightDigit = getHighlightDigit;\nexports.setLabelStyle = setLabelStyle;\nexports.modifyLabelStyle = modifyLabelStyle;\nexports.setTextStyle = setTextStyle;\nexports.setText = setText;\nexports.getFont = getFont;\nexports.updateProps = updateProps;\nexports.initProps = initProps;\nexports.getTransform = getTransform;\nexports.applyTransform = applyTransform;\nexports.transformDirection = transformDirection;\nexports.groupTransition = groupTransition;\nexports.clipPointsByRect = clipPointsByRect;\nexports.clipRectByRect = clipRectByRect;\nexports.createIcon = createIcon;\nexports.linePolygonIntersect = linePolygonIntersect;\nexports.lineLineIntersect = lineLineIntersect;","//\nmodule.exports = function shallowEqual(objA, objB, compare, compareContext) {\n  var ret = compare ? compare.call(compareContext, objA, objB) : void 0;\n\n  if (ret !== void 0) {\n    return !!ret;\n  }\n\n  if (objA === objB) {\n    return true;\n  }\n\n  if (typeof objA !== \"object\" || !objA || typeof objB !== \"object\" || !objB) {\n    return false;\n  }\n\n  var keysA = Object.keys(objA);\n  var keysB = Object.keys(objB);\n\n  if (keysA.length !== keysB.length) {\n    return false;\n  }\n\n  var bHasOwnProperty = Object.prototype.hasOwnProperty.bind(objB); // Test for A's keys different from B.\n\n  for (var idx = 0; idx < keysA.length; idx++) {\n    var key = keysA[idx];\n\n    if (!bHasOwnProperty(key)) {\n      return false;\n    }\n\n    var valueA = objA[key];\n    var valueB = objB[key];\n    ret = compare ? compare.call(compareContext, valueA, valueB, key) : void 0;\n\n    if (ret === false || ret === void 0 && valueA !== valueB) {\n      return false;\n    }\n  }\n\n  return true;\n};","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n// (1) The code `if (__DEV__) ...` can be removed by build tool.\n// (2) If intend to use `__DEV__`, this module should be imported. Use a global\n// variable `__DEV__` may cause that miss the declaration (see #6535), or the\n// declaration is behind of the using position (for example in `Model.extent`,\n// And tools like rollup can not analysis the dependency if not import).\nvar dev; // In browser\n\nif (typeof window !== 'undefined') {\n  dev = window.__DEV__;\n} // In node\nelse if (typeof global !== 'undefined') {\n    dev = global.__DEV__;\n  }\n\nif (typeof dev === 'undefined') {\n  dev = true;\n}\n\nvar __DEV__ = dev;\nexports.__DEV__ = __DEV__;","/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\nvar zrUtil = require(\"zrender/lib/core/util\");\n/*\n* Licensed to the Apache Software Foundation (ASF) under one\n* or more contributor license agreements.  See the NOTICE file\n* distributed with this work for additional information\n* regarding copyright ownership.  The ASF licenses this file\n* to you under the Apache License, Version 2.0 (the\n* \"License\"); you may not use this file except in compliance\n* with the License.  You may obtain a copy of the License at\n*\n*   http://www.apache.org/licenses/LICENSE-2.0\n*\n* Unless required by applicable law or agreed to in writing,\n* software distributed under the License is distributed on an\n* \"AS IS\" BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY\n* KIND, either express or implied.  See the License for the\n* specific language governing permissions and limitations\n* under the License.\n*/\n\n/*\n* A third-party license is embeded for some of the code in this file:\n* The method \"quantile\" was copied from \"d3.js\".\n* (See more details in the comment of the method below.)\n* The use of the source code of this file is also subject to the terms\n* and consitions of the license of \"d3.js\" (BSD-3Clause, see\n* </licenses/LICENSE-d3>).\n*/\n\n\nvar RADIAN_EPSILON = 1e-4;\n\nfunction _trim(str) {\n  return str.replace(/^\\s+|\\s+$/g, '');\n}\n/**\n * Linear mapping a value from domain to range\n * @memberOf module:echarts/util/number\n * @param  {(number|Array.<number>)} val\n * @param  {Array.<number>} domain Domain extent domain[0] can be bigger than domain[1]\n * @param  {Array.<number>} range  Range extent range[0] can be bigger than range[1]\n * @param  {boolean} clamp\n * @return {(number|Array.<number>}\n */\n\n\nfunction linearMap(val, domain, range, clamp) {\n  var subDomain = domain[1] - domain[0];\n  var subRange = range[1] - range[0];\n\n  if (subDomain === 0) {\n    return subRange === 0 ? range[0] : (range[0] + range[1]) / 2;\n  } // Avoid accuracy problem in edge, such as\n  // 146.39 - 62.83 === 83.55999999999999.\n  // See echarts/test/ut/spec/util/number.js#linearMap#accuracyError\n  // It is a little verbose for efficiency considering this method\n  // is a hotspot.\n\n\n  if (clamp) {\n    if (subDomain > 0) {\n      if (val <= domain[0]) {\n        return range[0];\n      } else if (val >= domain[1]) {\n        return range[1];\n      }\n    } else {\n      if (val >= domain[0]) {\n        return range[0];\n      } else if (val <= domain[1]) {\n        return range[1];\n      }\n    }\n  } else {\n    if (val === domain[0]) {\n      return range[0];\n    }\n\n    if (val === domain[1]) {\n      return range[1];\n    }\n  }\n\n  return (val - domain[0]) / subDomain * subRange + range[0];\n}\n/**\n * Convert a percent string to absolute number.\n * Returns NaN if percent is not a valid string or number\n * @memberOf module:echarts/util/number\n * @param {string|number} percent\n * @param {number} all\n * @return {number}\n */\n\n\nfunction parsePercent(percent, all) {\n  switch (percent) {\n    case 'center':\n    case 'middle':\n      percent = '50%';\n      break;\n\n    case 'left':\n    case 'top':\n      percent = '0%';\n      break;\n\n    case 'right':\n    case 'bottom':\n      percent = '100%';\n      break;\n  }\n\n  if (typeof percent === 'string') {\n    if (_trim(percent).match(/%$/)) {\n      return parseFloat(percent) / 100 * all;\n    }\n\n    return parseFloat(percent);\n  }\n\n  return percent == null ? NaN : +percent;\n}\n/**\n * (1) Fix rounding error of float numbers.\n * (2) Support return string to avoid scientific notation like '3.5e-7'.\n *\n * @param {number} x\n * @param {number} [precision]\n * @param {boolean} [returnStr]\n * @return {number|string}\n */\n\n\nfunction round(x, precision, returnStr) {\n  if (precision == null) {\n    precision = 10;\n  } // Avoid range error\n\n\n  precision = Math.min(Math.max(0, precision), 20);\n  x = (+x).toFixed(precision);\n  return returnStr ? x : +x;\n}\n/**\n * asc sort arr.\n * The input arr will be modified.\n *\n * @param {Array} arr\n * @return {Array} The input arr.\n */\n\n\nfunction asc(arr) {\n  arr.sort(function (a, b) {\n    return a - b;\n  });\n  return arr;\n}\n/**\n * Get precision\n * @param {number} val\n */\n\n\nfunction getPrecision(val) {\n  val = +val;\n\n  if (isNaN(val)) {\n    return 0;\n  } // It is much faster than methods converting number to string as follows\n  //      var tmp = val.toString();\n  //      return tmp.length - 1 - tmp.indexOf('.');\n  // especially when precision is low\n\n\n  var e = 1;\n  var count = 0;\n\n  while (Math.round(val * e) / e !== val) {\n    e *= 10;\n    count++;\n  }\n\n  return count;\n}\n/**\n * @param {string|number} val\n * @return {number}\n */\n\n\nfunction getPrecisionSafe(val) {\n  var str = val.toString(); // Consider scientific notation: '3.4e-12' '3.4e+12'\n\n  var eIndex = str.indexOf('e');\n\n  if (eIndex > 0) {\n    var precision = +str.slice(eIndex + 1);\n    return precision < 0 ? -precision : 0;\n  } else {\n    var dotIndex = str.indexOf('.');\n    return dotIndex < 0 ? 0 : str.length - 1 - dotIndex;\n  }\n}\n/**\n * Minimal dicernible data precisioin according to a single pixel.\n *\n * @param {Array.<number>} dataExtent\n * @param {Array.<number>} pixelExtent\n * @return {number} precision\n */\n\n\nfunction getPixelPrecision(dataExtent, pixelExtent) {\n  var log = Math.log;\n  var LN10 = Math.LN10;\n  var dataQuantity = Math.floor(log(dataExtent[1] - dataExtent[0]) / LN10);\n  var sizeQuantity = Math.round(log(Math.abs(pixelExtent[1] - pixelExtent[0])) / LN10); // toFixed() digits argument must be between 0 and 20.\n\n  var precision = Math.min(Math.max(-dataQuantity + sizeQuantity, 0), 20);\n  return !isFinite(precision) ? 20 : precision;\n}\n/**\n * Get a data of given precision, assuring the sum of percentages\n * in valueList is 1.\n * The largest remainer method is used.\n * https://en.wikipedia.org/wiki/Largest_remainder_method\n *\n * @param {Array.<number>} valueList a list of all data\n * @param {number} idx index of the data to be processed in valueList\n * @param {number} precision integer number showing digits of precision\n * @return {number} percent ranging from 0 to 100\n */\n\n\nfunction getPercentWithPrecision(valueList, idx, precision) {\n  if (!valueList[idx]) {\n    return 0;\n  }\n\n  var sum = zrUtil.reduce(valueList, function (acc, val) {\n    return acc + (isNaN(val) ? 0 : val);\n  }, 0);\n\n  if (sum === 0) {\n    return 0;\n  }\n\n  var digits = Math.pow(10, precision);\n  var votesPerQuota = zrUtil.map(valueList, function (val) {\n    return (isNaN(val) ? 0 : val) / sum * digits * 100;\n  });\n  var targetSeats = digits * 100;\n  var seats = zrUtil.map(votesPerQuota, function (votes) {\n    // Assign automatic seats.\n    return Math.floor(votes);\n  });\n  var currentSum = zrUtil.reduce(seats, function (acc, val) {\n    return acc + val;\n  }, 0);\n  var remainder = zrUtil.map(votesPerQuota, function (votes, idx) {\n    return votes - seats[idx];\n  }); // Has remainding votes.\n\n  while (currentSum < targetSeats) {\n    // Find next largest remainder.\n    var max = Number.NEGATIVE_INFINITY;\n    var maxId = null;\n\n    for (var i = 0, len = remainder.length; i < len; ++i) {\n      if (remainder[i] > max) {\n        max = remainder[i];\n        maxId = i;\n      }\n    } // Add a vote to max remainder.\n\n\n    ++seats[maxId];\n    remainder[maxId] = 0;\n    ++currentSum;\n  }\n\n  return seats[idx] / digits;\n} // Number.MAX_SAFE_INTEGER, ie do not support.\n\n\nvar MAX_SAFE_INTEGER = 9007199254740991;\n/**\n * To 0 - 2 * PI, considering negative radian.\n * @param {number} radian\n * @return {number}\n */\n\nfunction remRadian(radian) {\n  var pi2 = Math.PI * 2;\n  return (radian % pi2 + pi2) % pi2;\n}\n/**\n * @param {type} radian\n * @return {boolean}\n */\n\n\nfunction isRadianAroundZero(val) {\n  return val > -RADIAN_EPSILON && val < RADIAN_EPSILON;\n}\n/* eslint-disable */\n\n\nvar TIME_REG = /^(?:(\\d{4})(?:[-\\/](\\d{1,2})(?:[-\\/](\\d{1,2})(?:[T ](\\d{1,2})(?::(\\d\\d)(?::(\\d\\d)(?:[.,](\\d+))?)?)?(Z|[\\+\\-]\\d\\d:?\\d\\d)?)?)?)?)?$/; // jshint ignore:line\n\n/* eslint-enable */\n\n/**\n * @param {string|Date|number} value These values can be accepted:\n *   + An instance of Date, represent a time in its own time zone.\n *   + Or string in a subset of ISO 8601, only including:\n *     + only year, month, date: '2012-03', '2012-03-01', '2012-03-01 05', '2012-03-01 05:06',\n *     + separated with T or space: '2012-03-01T12:22:33.123', '2012-03-01 12:22:33.123',\n *     + time zone: '2012-03-01T12:22:33Z', '2012-03-01T12:22:33+8000', '2012-03-01T12:22:33-05:00',\n *     all of which will be treated as local time if time zone is not specified\n *     (see <https://momentjs.com/>).\n *   + Or other string format, including (all of which will be treated as loacal time):\n *     '2012', '2012-3-1', '2012/3/1', '2012/03/01',\n *     '2009/6/12 2:00', '2009/6/12 2:05:08', '2009/6/12 2:05:08.123'\n *   + a timestamp, which represent a time in UTC.\n * @return {Date} date\n */\n\nfunction parseDate(value) {\n  if (value instanceof Date) {\n    return value;\n  } else if (typeof value === 'string') {\n    // Different browsers parse date in different way, so we parse it manually.\n    // Some other issues:\n    // new Date('1970-01-01') is UTC,\n    // new Date('1970/01/01') and new Date('1970-1-01') is local.\n    // See issue #3623\n    var match = TIME_REG.exec(value);\n\n    if (!match) {\n      // return Invalid Date.\n      return new Date(NaN);\n    } // Use local time when no timezone offset specifed.\n\n\n    if (!match[8]) {\n      // match[n] can only be string or undefined.\n      // But take care of '12' + 1 => '121'.\n      return new Date(+match[1], +(match[2] || 1) - 1, +match[3] || 1, +match[4] || 0, +(match[5] || 0), +match[6] || 0, +match[7] || 0);\n    } // Timezoneoffset of Javascript Date has considered DST (Daylight Saving Time,\n    // https://tc39.github.io/ecma262/#sec-daylight-saving-time-adjustment).\n    // For example, system timezone is set as \"Time Zone: America/Toronto\",\n    // then these code will get different result:\n    // `new Date(1478411999999).getTimezoneOffset();  // get 240`\n    // `new Date(1478412000000).getTimezoneOffset();  // get 300`\n    // So we should not use `new Date`, but use `Date.UTC`.\n    else {\n        var hour = +match[4] || 0;\n\n        if (match[8].toUpperCase() !== 'Z') {\n          hour -= match[8].slice(0, 3);\n        }\n\n        return new Date(Date.UTC(+match[1], +(match[2] || 1) - 1, +match[3] || 1, hour, +(match[5] || 0), +match[6] || 0, +match[7] || 0));\n      }\n  } else if (value == null) {\n    return new Date(NaN);\n  }\n\n  return new Date(Math.round(value));\n}\n/**\n * Quantity of a number. e.g. 0.1, 1, 10, 100\n *\n * @param  {number} val\n * @return {number}\n */\n\n\nfunction quantity(val) {\n  return Math.pow(10, quantityExponent(val));\n}\n\nfunction quantityExponent(val) {\n  return Math.floor(Math.log(val) / Math.LN10);\n}\n/**\n * find a nice number approximately equal to x. Round the number if round = true,\n * take ceiling if round = false. The primary observation is that the nicest\n * numbers in decimal are 1, 2, and 5, and all power-of-ten multiples of these numbers.\n *\n * See \"Nice Numbers for Graph Labels\" of Graphic Gems.\n *\n * @param  {number} val Non-negative value.\n * @param  {boolean} round\n * @return {number}\n */\n\n\nfunction nice(val, round) {\n  var exponent = quantityExponent(val);\n  var exp10 = Math.pow(10, exponent);\n  var f = val / exp10; // 1 <= f < 10\n\n  var nf;\n\n  if (round) {\n    if (f < 1.5) {\n      nf = 1;\n    } else if (f < 2.5) {\n      nf = 2;\n    } else if (f < 4) {\n      nf = 3;\n    } else if (f < 7) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  } else {\n    if (f < 1) {\n      nf = 1;\n    } else if (f < 2) {\n      nf = 2;\n    } else if (f < 3) {\n      nf = 3;\n    } else if (f < 5) {\n      nf = 5;\n    } else {\n      nf = 10;\n    }\n  }\n\n  val = nf * exp10; // Fix 3 * 0.1 === 0.30000000000000004 issue (see IEEE 754).\n  // 20 is the uppper bound of toFixed.\n\n  return exponent >= -20 ? +val.toFixed(exponent < 0 ? -exponent : 0) : val;\n}\n/**\n * This code was copied from \"d3.js\"\n * <https://github.com/d3/d3/blob/9cc9a875e636a1dcf36cc1e07bdf77e1ad6e2c74/src/arrays/quantile.js>.\n * See the license statement at the head of this file.\n * @param {Array.<number>} ascArr\n */\n\n\nfunction quantile(ascArr, p) {\n  var H = (ascArr.length - 1) * p + 1;\n  var h = Math.floor(H);\n  var v = +ascArr[h - 1];\n  var e = H - h;\n  return e ? v + e * (ascArr[h] - v) : v;\n}\n/**\n * Order intervals asc, and split them when overlap.\n * expect(numberUtil.reformIntervals([\n *     {interval: [18, 62], close: [1, 1]},\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [1, 1]},\n *     {interval: [62, 150], close: [1, 1]},\n *     {interval: [106, 150], close: [1, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ])).toEqual([\n *     {interval: [-Infinity, -70], close: [0, 0]},\n *     {interval: [-70, -26], close: [1, 1]},\n *     {interval: [-26, 18], close: [0, 1]},\n *     {interval: [18, 62], close: [0, 1]},\n *     {interval: [62, 150], close: [0, 1]},\n *     {interval: [150, Infinity], close: [0, 0]}\n * ]);\n * @param {Array.<Object>} list, where `close` mean open or close\n *        of the interval, and Infinity can be used.\n * @return {Array.<Object>} The origin list, which has been reformed.\n */\n\n\nfunction reformIntervals(list) {\n  list.sort(function (a, b) {\n    return littleThan(a, b, 0) ? -1 : 1;\n  });\n  var curr = -Infinity;\n  var currClose = 1;\n\n  for (var i = 0; i < list.length;) {\n    var interval = list[i].interval;\n    var close = list[i].close;\n\n    for (var lg = 0; lg < 2; lg++) {\n      if (interval[lg] <= curr) {\n        interval[lg] = curr;\n        close[lg] = !lg ? 1 - currClose : 1;\n      }\n\n      curr = interval[lg];\n      currClose = close[lg];\n    }\n\n    if (interval[0] === interval[1] && close[0] * close[1] !== 1) {\n      list.splice(i, 1);\n    } else {\n      i++;\n    }\n  }\n\n  return list;\n\n  function littleThan(a, b, lg) {\n    return a.interval[lg] < b.interval[lg] || a.interval[lg] === b.interval[lg] && (a.close[lg] - b.close[lg] === (!lg ? 1 : -1) || !lg && littleThan(a, b, 1));\n  }\n}\n/**\n * parseFloat NaNs numeric-cast false positives (null|true|false|\"\")\n * ...but misinterprets leading-number strings, particularly hex literals (\"0x...\")\n * subtraction forces infinities to NaN\n *\n * @param {*} v\n * @return {boolean}\n */\n\n\nfunction isNumeric(v) {\n  return v - parseFloat(v) >= 0;\n}\n\nexports.linearMap = linearMap;\nexports.parsePercent = parsePercent;\nexports.round = round;\nexports.asc = asc;\nexports.getPrecision = getPrecision;\nexports.getPrecisionSafe = getPrecisionSafe;\nexports.getPixelPrecision = getPixelPrecision;\nexports.getPercentWithPrecision = getPercentWithPrecision;\nexports.MAX_SAFE_INTEGER = MAX_SAFE_INTEGER;\nexports.remRadian = remRadian;\nexports.isRadianAroundZero = isRadianAroundZero;\nexports.parseDate = parseDate;\nexports.quantity = quantity;\nexports.nice = nice;\nexports.quantile = quantile;\nexports.reformIntervals = reformIntervals;\nexports.isNumeric = isNumeric;","/**\n * @ignore\n * some key-codes definition and utils from closure-library\n * @author yiminghe@gmail.com\n */\nvar KeyCode = {\n  /**\n   * MAC_ENTER\n   */\n  MAC_ENTER: 3,\n\n  /**\n   * BACKSPACE\n   */\n  BACKSPACE: 8,\n\n  /**\n   * TAB\n   */\n  TAB: 9,\n\n  /**\n   * NUMLOCK on FF/Safari Mac\n   */\n  NUM_CENTER: 12,\n  // NUMLOCK on FF/Safari Mac\n\n  /**\n   * ENTER\n   */\n  ENTER: 13,\n\n  /**\n   * SHIFT\n   */\n  SHIFT: 16,\n\n  /**\n   * CTRL\n   */\n  CTRL: 17,\n\n  /**\n   * ALT\n   */\n  ALT: 18,\n\n  /**\n   * PAUSE\n   */\n  PAUSE: 19,\n\n  /**\n   * CAPS_LOCK\n   */\n  CAPS_LOCK: 20,\n\n  /**\n   * ESC\n   */\n  ESC: 27,\n\n  /**\n   * SPACE\n   */\n  SPACE: 32,\n\n  /**\n   * PAGE_UP\n   */\n  PAGE_UP: 33,\n  // also NUM_NORTH_EAST\n\n  /**\n   * PAGE_DOWN\n   */\n  PAGE_DOWN: 34,\n  // also NUM_SOUTH_EAST\n\n  /**\n   * END\n   */\n  END: 35,\n  // also NUM_SOUTH_WEST\n\n  /**\n   * HOME\n   */\n  HOME: 36,\n  // also NUM_NORTH_WEST\n\n  /**\n   * LEFT\n   */\n  LEFT: 37,\n  // also NUM_WEST\n\n  /**\n   * UP\n   */\n  UP: 38,\n  // also NUM_NORTH\n\n  /**\n   * RIGHT\n   */\n  RIGHT: 39,\n  // also NUM_EAST\n\n  /**\n   * DOWN\n   */\n  DOWN: 40,\n  // also NUM_SOUTH\n\n  /**\n   * PRINT_SCREEN\n   */\n  PRINT_SCREEN: 44,\n\n  /**\n   * INSERT\n   */\n  INSERT: 45,\n  // also NUM_INSERT\n\n  /**\n   * DELETE\n   */\n  DELETE: 46,\n  // also NUM_DELETE\n\n  /**\n   * ZERO\n   */\n  ZERO: 48,\n\n  /**\n   * ONE\n   */\n  ONE: 49,\n\n  /**\n   * TWO\n   */\n  TWO: 50,\n\n  /**\n   * THREE\n   */\n  THREE: 51,\n\n  /**\n   * FOUR\n   */\n  FOUR: 52,\n\n  /**\n   * FIVE\n   */\n  FIVE: 53,\n\n  /**\n   * SIX\n   */\n  SIX: 54,\n\n  /**\n   * SEVEN\n   */\n  SEVEN: 55,\n\n  /**\n   * EIGHT\n   */\n  EIGHT: 56,\n\n  /**\n   * NINE\n   */\n  NINE: 57,\n\n  /**\n   * QUESTION_MARK\n   */\n  QUESTION_MARK: 63,\n  // needs localization\n\n  /**\n   * A\n   */\n  A: 65,\n\n  /**\n   * B\n   */\n  B: 66,\n\n  /**\n   * C\n   */\n  C: 67,\n\n  /**\n   * D\n   */\n  D: 68,\n\n  /**\n   * E\n   */\n  E: 69,\n\n  /**\n   * F\n   */\n  F: 70,\n\n  /**\n   * G\n   */\n  G: 71,\n\n  /**\n   * H\n   */\n  H: 72,\n\n  /**\n   * I\n   */\n  I: 73,\n\n  /**\n   * J\n   */\n  J: 74,\n\n  /**\n   * K\n   */\n  K: 75,\n\n  /**\n   * L\n   */\n  L: 76,\n\n  /**\n   * M\n   */\n  M: 77,\n\n  /**\n   * N\n   */\n  N: 78,\n\n  /**\n   * O\n   */\n  O: 79,\n\n  /**\n   * P\n   */\n  P: 80,\n\n  /**\n   * Q\n   */\n  Q: 81,\n\n  /**\n   * R\n   */\n  R: 82,\n\n  /**\n   * S\n   */\n  S: 83,\n\n  /**\n   * T\n   */\n  T: 84,\n\n  /**\n   * U\n   */\n  U: 85,\n\n  /**\n   * V\n   */\n  V: 86,\n\n  /**\n   * W\n   */\n  W: 87,\n\n  /**\n   * X\n   */\n  X: 88,\n\n  /**\n   * Y\n   */\n  Y: 89,\n\n  /**\n   * Z\n   */\n  Z: 90,\n\n  /**\n   * META\n   */\n  META: 91,\n  // WIN_KEY_LEFT\n\n  /**\n   * WIN_KEY_RIGHT\n   */\n  WIN_KEY_RIGHT: 92,\n\n  /**\n   * CONTEXT_MENU\n   */\n  CONTEXT_MENU: 93,\n\n  /**\n   * NUM_ZERO\n   */\n  NUM_ZERO: 96,\n\n  /**\n   * NUM_ONE\n   */\n  NUM_ONE: 97,\n\n  /**\n   * NUM_TWO\n   */\n  NUM_TWO: 98,\n\n  /**\n   * NUM_THREE\n   */\n  NUM_THREE: 99,\n\n  /**\n   * NUM_FOUR\n   */\n  NUM_FOUR: 100,\n\n  /**\n   * NUM_FIVE\n   */\n  NUM_FIVE: 101,\n\n  /**\n   * NUM_SIX\n   */\n  NUM_SIX: 102,\n\n  /**\n   * NUM_SEVEN\n   */\n  NUM_SEVEN: 103,\n\n  /**\n   * NUM_EIGHT\n   */\n  NUM_EIGHT: 104,\n\n  /**\n   * NUM_NINE\n   */\n  NUM_NINE: 105,\n\n  /**\n   * NUM_MULTIPLY\n   */\n  NUM_MULTIPLY: 106,\n\n  /**\n   * NUM_PLUS\n   */\n  NUM_PLUS: 107,\n\n  /**\n   * NUM_MINUS\n   */\n  NUM_MINUS: 109,\n\n  /**\n   * NUM_PERIOD\n   */\n  NUM_PERIOD: 110,\n\n  /**\n   * NUM_DIVISION\n   */\n  NUM_DIVISION: 111,\n\n  /**\n   * F1\n   */\n  F1: 112,\n\n  /**\n   * F2\n   */\n  F2: 113,\n\n  /**\n   * F3\n   */\n  F3: 114,\n\n  /**\n   * F4\n   */\n  F4: 115,\n\n  /**\n   * F5\n   */\n  F5: 116,\n\n  /**\n   * F6\n   */\n  F6: 117,\n\n  /**\n   * F7\n   */\n  F7: 118,\n\n  /**\n   * F8\n   */\n  F8: 119,\n\n  /**\n   * F9\n   */\n  F9: 120,\n\n  /**\n   * F10\n   */\n  F10: 121,\n\n  /**\n   * F11\n   */\n  F11: 122,\n\n  /**\n   * F12\n   */\n  F12: 123,\n\n  /**\n   * NUMLOCK\n   */\n  NUMLOCK: 144,\n\n  /**\n   * SEMICOLON\n   */\n  SEMICOLON: 186,\n  // needs localization\n\n  /**\n   * DASH\n   */\n  DASH: 189,\n  // needs localization\n\n  /**\n   * EQUALS\n   */\n  EQUALS: 187,\n  // needs localization\n\n  /**\n   * COMMA\n   */\n  COMMA: 188,\n  // needs localization\n\n  /**\n   * PERIOD\n   */\n  PERIOD: 190,\n  // needs localization\n\n  /**\n   * SLASH\n   */\n  SLASH: 191,\n  // needs localization\n\n  /**\n   * APOSTROPHE\n   */\n  APOSTROPHE: 192,\n  // needs localization\n\n  /**\n   * SINGLE_QUOTE\n   */\n  SINGLE_QUOTE: 222,\n  // needs localization\n\n  /**\n   * OPEN_SQUARE_BRACKET\n   */\n  OPEN_SQUARE_BRACKET: 219,\n  // needs localization\n\n  /**\n   * BACKSLASH\n   */\n  BACKSLASH: 220,\n  // needs localization\n\n  /**\n   * CLOSE_SQUARE_BRACKET\n   */\n  CLOSE_SQUARE_BRACKET: 221,\n  // needs localization\n\n  /**\n   * WIN_KEY\n   */\n  WIN_KEY: 224,\n\n  /**\n   * MAC_FF_META\n   */\n  MAC_FF_META: 224,\n  // Firefox (Gecko) fires this for the meta key instead of 91\n\n  /**\n   * WIN_IME\n   */\n  WIN_IME: 229\n};\n/*\n whether text and modified key is entered at the same time.\n */\n\nKeyCode.isTextModifyingKeyEvent = function isTextModifyingKeyEvent(e) {\n  var keyCode = e.keyCode;\n\n  if (e.altKey && !e.ctrlKey || e.metaKey || // Function keys don't generate text\n  keyCode >= KeyCode.F1 && keyCode <= KeyCode.F12) {\n    return false;\n  } // The following keys are quite harmless, even in combination with\n  // CTRL, ALT or SHIFT.\n\n\n  switch (keyCode) {\n    case KeyCode.ALT:\n    case KeyCode.CAPS_LOCK:\n    case KeyCode.CONTEXT_MENU:\n    case KeyCode.CTRL:\n    case KeyCode.DOWN:\n    case KeyCode.END:\n    case KeyCode.ESC:\n    case KeyCode.HOME:\n    case KeyCode.INSERT:\n    case KeyCode.LEFT:\n    case KeyCode.MAC_FF_META:\n    case KeyCode.META:\n    case KeyCode.NUMLOCK:\n    case KeyCode.NUM_CENTER:\n    case KeyCode.PAGE_DOWN:\n    case KeyCode.PAGE_UP:\n    case KeyCode.PAUSE:\n    case KeyCode.PRINT_SCREEN:\n    case KeyCode.RIGHT:\n    case KeyCode.SHIFT:\n    case KeyCode.UP:\n    case KeyCode.WIN_KEY:\n    case KeyCode.WIN_KEY_RIGHT:\n      return false;\n\n    default:\n      return true;\n  }\n};\n/*\n whether character is entered.\n */\n\n\nKeyCode.isCharacterKey = function isCharacterKey(keyCode) {\n  if (keyCode >= KeyCode.ZERO && keyCode <= KeyCode.NINE) {\n    return true;\n  }\n\n  if (keyCode >= KeyCode.NUM_ZERO && keyCode <= KeyCode.NUM_MULTIPLY) {\n    return true;\n  }\n\n  if (keyCode >= KeyCode.A && keyCode <= KeyCode.Z) {\n    return true;\n  } // Safari sends zero key code for non-latin characters.\n\n\n  if (window.navigation.userAgent.indexOf('WebKit') !== -1 && keyCode === 0) {\n    return true;\n  }\n\n  switch (keyCode) {\n    case KeyCode.SPACE:\n    case KeyCode.QUESTION_MARK:\n    case KeyCode.NUM_PLUS:\n    case KeyCode.NUM_MINUS:\n    case KeyCode.NUM_PERIOD:\n    case KeyCode.NUM_DIVISION:\n    case KeyCode.SEMICOLON:\n    case KeyCode.DASH:\n    case KeyCode.EQUALS:\n    case KeyCode.COMMA:\n    case KeyCode.PERIOD:\n    case KeyCode.SLASH:\n    case KeyCode.APOSTROPHE:\n    case KeyCode.SINGLE_QUOTE:\n    case KeyCode.OPEN_SQUARE_BRACKET:\n    case KeyCode.BACKSLASH:\n    case KeyCode.CLOSE_SQUARE_BRACKET:\n      return true;\n\n    default:\n      return false;\n  }\n};\n\nexport default KeyCode;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport { polyfill } from 'react-lifecycles-compat';\nimport { ConfigConsumer } from '../config-provider';\n\nfunction getNumberArray(num) {\n  return num ? num.toString().split('').reverse().map(function (i) {\n    var current = Number(i);\n    return isNaN(current) ? i : current;\n  }) : [];\n}\n\nfunction renderNumberList(position) {\n  var childrenToReturn = [];\n\n  for (var i = 0; i < 30; i++) {\n    var currentClassName = position === i ? 'current' : '';\n    childrenToReturn.push(React.createElement(\"p\", {\n      key: i.toString(),\n      className: currentClassName\n    }, i % 10));\n  }\n\n  return childrenToReturn;\n}\n\nvar ScrollNumber =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(ScrollNumber, _React$Component);\n\n  function ScrollNumber(props) {\n    var _this;\n\n    _classCallCheck(this, ScrollNumber);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(ScrollNumber).call(this, props));\n\n    _this.onAnimated = function () {\n      var onAnimated = _this.props.onAnimated;\n\n      if (onAnimated) {\n        onAnimated();\n      }\n    };\n\n    _this.renderScrollNumber = function (_ref) {\n      var getPrefixCls = _ref.getPrefixCls;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          className = _this$props.className,\n          style = _this$props.style,\n          title = _this$props.title,\n          _this$props$component = _this$props.component,\n          component = _this$props$component === void 0 ? 'sup' : _this$props$component,\n          displayComponent = _this$props.displayComponent; // fix https://fb.me/react-unknown-prop\n\n      var restProps = omit(_this.props, ['count', 'onAnimated', 'component', 'prefixCls', 'displayComponent']);\n      var prefixCls = getPrefixCls('scroll-number', customizePrefixCls);\n\n      var newProps = _extends(_extends({}, restProps), {\n        className: classNames(prefixCls, className),\n        title: title\n      }); // allow specify the border\n      // mock border-color by box-shadow for compatible with old usage:\n      // <Badge count={4} style={{ backgroundColor: '#fff', color: '#999', borderColor: '#d9d9d9' }} />\n\n\n      if (style && style.borderColor) {\n        newProps.style = _extends(_extends({}, style), {\n          boxShadow: \"0 0 0 1px \".concat(style.borderColor, \" inset\")\n        });\n      }\n\n      if (displayComponent) {\n        return React.cloneElement(displayComponent, {\n          className: classNames(\"\".concat(prefixCls, \"-custom-component\"), displayComponent.props && displayComponent.props.className)\n        });\n      }\n\n      return React.createElement(component, newProps, _this.renderNumberElement(prefixCls));\n    };\n\n    _this.state = {\n      animateStarted: true,\n      count: props.count\n    };\n    return _this;\n  }\n\n  _createClass(ScrollNumber, [{\n    key: \"componentDidUpdate\",\n    value: function componentDidUpdate(_, prevState) {\n      this.lastCount = prevState.count;\n      var animateStarted = this.state.animateStarted;\n\n      if (animateStarted) {\n        // eslint-disable-next-line react/no-did-update-set-state\n        this.setState(function (__, props) {\n          return {\n            animateStarted: false,\n            count: props.count\n          };\n        }, this.onAnimated);\n      }\n    }\n  }, {\n    key: \"getPositionByNum\",\n    value: function getPositionByNum(num, i) {\n      var count = this.state.count;\n      var currentCount = Math.abs(Number(count));\n      var lastCount = Math.abs(Number(this.lastCount));\n      var currentDigit = Math.abs(getNumberArray(this.state.count)[i]);\n      var lastDigit = Math.abs(getNumberArray(this.lastCount)[i]);\n\n      if (this.state.animateStarted) {\n        return 10 + num;\n      } // \n\n\n      if (currentCount > lastCount) {\n        if (currentDigit >= lastDigit) {\n          return 10 + num;\n        }\n\n        return 20 + num;\n      }\n\n      if (currentDigit <= lastDigit) {\n        return 10 + num;\n      }\n\n      return num;\n    }\n  }, {\n    key: \"renderCurrentNumber\",\n    value: function renderCurrentNumber(prefixCls, num, i) {\n      if (typeof num === 'number') {\n        var position = this.getPositionByNum(num, i);\n        var removeTransition = this.state.animateStarted || getNumberArray(this.lastCount)[i] === undefined;\n        return React.createElement('span', {\n          className: \"\".concat(prefixCls, \"-only\"),\n          style: {\n            transition: removeTransition ? 'none' : undefined,\n            msTransform: \"translateY(\".concat(-position * 100, \"%)\"),\n            WebkitTransform: \"translateY(\".concat(-position * 100, \"%)\"),\n            transform: \"translateY(\".concat(-position * 100, \"%)\")\n          },\n          key: i\n        }, renderNumberList(position));\n      }\n\n      return React.createElement(\"span\", {\n        key: \"symbol\",\n        className: \"\".concat(prefixCls, \"-symbol\")\n      }, num);\n    }\n  }, {\n    key: \"renderNumberElement\",\n    value: function renderNumberElement(prefixCls) {\n      var _this2 = this;\n\n      var count = this.state.count;\n\n      if (count && Number(count) % 1 === 0) {\n        return getNumberArray(count).map(function (num, i) {\n          return _this2.renderCurrentNumber(prefixCls, num, i);\n        }).reverse();\n      }\n\n      return count;\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderScrollNumber);\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, nextState) {\n      if ('count' in nextProps) {\n        if (nextState.count === nextProps.count) {\n          return null;\n        }\n\n        return {\n          animateStarted: true\n        };\n      }\n\n      return null;\n    }\n  }]);\n\n  return ScrollNumber;\n}(React.Component);\n\nScrollNumber.defaultProps = {\n  count: null,\n  onAnimated: function onAnimated() {}\n};\npolyfill(ScrollNumber);\nexport default ScrollNumber;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport Animate from 'rc-animate';\nimport omit from 'omit.js';\nimport classNames from 'classnames';\nimport ScrollNumber from './ScrollNumber';\nimport { PresetColorTypes } from '../_util/colors';\nimport { ConfigConsumer } from '../config-provider';\n\nfunction isPresetColor(color) {\n  return PresetColorTypes.indexOf(color) !== -1;\n}\n\nvar Badge =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(Badge, _React$Component);\n\n  function Badge() {\n    var _this;\n\n    _classCallCheck(this, Badge);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Badge).apply(this, arguments));\n\n    _this.renderBadge = function (_ref) {\n      var _classNames;\n\n      var getPrefixCls = _ref.getPrefixCls;\n\n      var _a = _this.props,\n          customizePrefixCls = _a.prefixCls,\n          customizeScrollNumberPrefixCls = _a.scrollNumberPrefixCls,\n          children = _a.children,\n          status = _a.status,\n          text = _a.text,\n          color = _a.color,\n          restProps = __rest(_a, [\"prefixCls\", \"scrollNumberPrefixCls\", \"children\", \"status\", \"text\", \"color\"]);\n\n      var omitArr = ['count', 'showZero', 'overflowCount', 'className', 'style', 'dot', 'offset', 'title'];\n      var prefixCls = getPrefixCls('badge', customizePrefixCls);\n      var scrollNumberPrefixCls = getPrefixCls('scroll-number', customizeScrollNumberPrefixCls);\n\n      var scrollNumber = _this.renderBadgeNumber(prefixCls, scrollNumberPrefixCls);\n\n      var statusText = _this.renderStatusText(prefixCls);\n\n      var statusCls = classNames((_classNames = {}, _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-dot\"), _this.hasStatus()), _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-\").concat(status), !!status), _defineProperty(_classNames, \"\".concat(prefixCls, \"-status-\").concat(color), isPresetColor(color)), _classNames));\n      var statusStyle = {};\n\n      if (color && !isPresetColor(color)) {\n        statusStyle.background = color;\n      } // <Badge status=\"success\" />\n\n\n      if (!children && _this.hasStatus()) {\n        var styleWithOffset = _this.getStyleWithOffset();\n\n        var statusTextColor = styleWithOffset && styleWithOffset.color;\n        return React.createElement(\"span\", _extends({}, omit(restProps, omitArr), {\n          className: _this.getBadgeClassName(prefixCls),\n          style: styleWithOffset\n        }), React.createElement(\"span\", {\n          className: statusCls,\n          style: statusStyle\n        }), React.createElement(\"span\", {\n          style: {\n            color: statusTextColor\n          },\n          className: \"\".concat(prefixCls, \"-status-text\")\n        }, text));\n      }\n\n      return React.createElement(\"span\", _extends({}, omit(restProps, omitArr), {\n        className: _this.getBadgeClassName(prefixCls)\n      }), children, React.createElement(Animate, {\n        component: \"\",\n        showProp: \"data-show\",\n        transitionName: children ? \"\".concat(prefixCls, \"-zoom\") : '',\n        transitionAppear: true\n      }, scrollNumber), statusText);\n    };\n\n    return _this;\n  }\n\n  _createClass(Badge, [{\n    key: \"getNumberedDispayCount\",\n    value: function getNumberedDispayCount() {\n      var _this$props = this.props,\n          count = _this$props.count,\n          overflowCount = _this$props.overflowCount;\n      var displayCount = count > overflowCount ? \"\".concat(overflowCount, \"+\") : count;\n      return displayCount;\n    }\n  }, {\n    key: \"getDispayCount\",\n    value: function getDispayCount() {\n      var isDot = this.isDot(); // dot mode don't need count\n\n      if (isDot) {\n        return '';\n      }\n\n      return this.getNumberedDispayCount();\n    }\n  }, {\n    key: \"getScrollNumberTitle\",\n    value: function getScrollNumberTitle() {\n      var _this$props2 = this.props,\n          title = _this$props2.title,\n          count = _this$props2.count;\n\n      if (title) {\n        return title;\n      }\n\n      return typeof count === 'string' || typeof count === 'number' ? count : undefined;\n    }\n  }, {\n    key: \"getStyleWithOffset\",\n    value: function getStyleWithOffset() {\n      var _this$props3 = this.props,\n          offset = _this$props3.offset,\n          style = _this$props3.style;\n      return offset ? _extends({\n        right: -parseInt(offset[0], 10),\n        marginTop: offset[1]\n      }, style) : style;\n    }\n  }, {\n    key: \"getBadgeClassName\",\n    value: function getBadgeClassName(prefixCls) {\n      var _classNames2;\n\n      var _this$props4 = this.props,\n          className = _this$props4.className,\n          children = _this$props4.children;\n      return classNames(className, prefixCls, (_classNames2 = {}, _defineProperty(_classNames2, \"\".concat(prefixCls, \"-status\"), this.hasStatus()), _defineProperty(_classNames2, \"\".concat(prefixCls, \"-not-a-wrapper\"), !children), _classNames2));\n    }\n  }, {\n    key: \"hasStatus\",\n    value: function hasStatus() {\n      var _this$props5 = this.props,\n          status = _this$props5.status,\n          color = _this$props5.color;\n      return !!status || !!color;\n    }\n  }, {\n    key: \"isZero\",\n    value: function isZero() {\n      var numberedDispayCount = this.getNumberedDispayCount();\n      return numberedDispayCount === '0' || numberedDispayCount === 0;\n    }\n  }, {\n    key: \"isDot\",\n    value: function isDot() {\n      var dot = this.props.dot;\n      var isZero = this.isZero();\n      return dot && !isZero || this.hasStatus();\n    }\n  }, {\n    key: \"isHidden\",\n    value: function isHidden() {\n      var showZero = this.props.showZero;\n      var displayCount = this.getDispayCount();\n      var isZero = this.isZero();\n      var isDot = this.isDot();\n      var isEmpty = displayCount === null || displayCount === undefined || displayCount === '';\n      return (isEmpty || isZero && !showZero) && !isDot;\n    }\n  }, {\n    key: \"renderStatusText\",\n    value: function renderStatusText(prefixCls) {\n      var text = this.props.text;\n      var hidden = this.isHidden();\n      return hidden || !text ? null : React.createElement(\"span\", {\n        className: \"\".concat(prefixCls, \"-status-text\")\n      }, text);\n    }\n  }, {\n    key: \"renderDispayComponent\",\n    value: function renderDispayComponent() {\n      var count = this.props.count;\n      var customNode = count;\n\n      if (!customNode || _typeof(customNode) !== 'object') {\n        return undefined;\n      }\n\n      return React.cloneElement(customNode, {\n        style: _extends(_extends({}, this.getStyleWithOffset()), customNode.props && customNode.props.style)\n      });\n    }\n  }, {\n    key: \"renderBadgeNumber\",\n    value: function renderBadgeNumber(prefixCls, scrollNumberPrefixCls) {\n      var _classNames3;\n\n      var _this$props6 = this.props,\n          status = _this$props6.status,\n          count = _this$props6.count;\n      var displayCount = this.getDispayCount();\n      var isDot = this.isDot();\n      var hidden = this.isHidden();\n      var scrollNumberCls = classNames((_classNames3 = {}, _defineProperty(_classNames3, \"\".concat(prefixCls, \"-dot\"), isDot), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-count\"), !isDot), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-multiple-words\"), !isDot && count && count.toString && count.toString().length > 1), _defineProperty(_classNames3, \"\".concat(prefixCls, \"-status-\").concat(status), this.hasStatus()), _classNames3));\n      return hidden ? null : React.createElement(ScrollNumber, {\n        prefixCls: scrollNumberPrefixCls,\n        \"data-show\": !hidden,\n        className: scrollNumberCls,\n        count: displayCount,\n        displayComponent: this.renderDispayComponent() // <Badge status=\"success\" count={<Icon type=\"xxx\" />}></Badge>\n        ,\n        title: this.getScrollNumberTitle(),\n        style: this.getStyleWithOffset(),\n        key: \"scrollNumber\"\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(ConfigConsumer, null, this.renderBadge);\n    }\n  }]);\n\n  return Badge;\n}(React.Component);\n\nexport { Badge as default };\nBadge.defaultProps = {\n  count: null,\n  showZero: false,\n  dot: false,\n  overflowCount: 99\n};\nBadge.propTypes = {\n  count: PropTypes.node,\n  showZero: PropTypes.bool,\n  dot: PropTypes.bool,\n  overflowCount: PropTypes.number\n};","var Displayable = require(\"./Displayable\");\n\nvar zrUtil = require(\"../core/util\");\n\nvar PathProxy = require(\"../core/PathProxy\");\n\nvar pathContain = require(\"../contain/path\");\n\nvar Pattern = require(\"./Pattern\");\n\nvar getCanvasPattern = Pattern.prototype.getCanvasPattern;\nvar abs = Math.abs;\nvar pathProxyForDraw = new PathProxy(true);\n/**\n * @alias module:zrender/graphic/Path\n * @extends module:zrender/graphic/Displayable\n * @constructor\n * @param {Object} opts\n */\n\nfunction Path(opts) {\n  Displayable.call(this, opts);\n  /**\n   * @type {module:zrender/core/PathProxy}\n   * @readOnly\n   */\n\n  this.path = null;\n}\n\nPath.prototype = {\n  constructor: Path,\n  type: 'path',\n  __dirtyPath: true,\n  strokeContainThreshold: 5,\n  // This item default to be false. But in map series in echarts,\n  // in order to improve performance, it should be set to true,\n  // so the shorty segment won't draw.\n  segmentIgnoreThreshold: 0,\n\n  /**\n   * See `module:zrender/src/graphic/helper/subPixelOptimize`.\n   * @type {boolean}\n   */\n  subPixelOptimize: false,\n  brush: function brush(ctx, prevEl) {\n    var style = this.style;\n    var path = this.path || pathProxyForDraw;\n    var hasStroke = style.hasStroke();\n    var hasFill = style.hasFill();\n    var fill = style.fill;\n    var stroke = style.stroke;\n    var hasFillGradient = hasFill && !!fill.colorStops;\n    var hasStrokeGradient = hasStroke && !!stroke.colorStops;\n    var hasFillPattern = hasFill && !!fill.image;\n    var hasStrokePattern = hasStroke && !!stroke.image;\n    style.bind(ctx, this, prevEl);\n    this.setTransform(ctx);\n\n    if (this.__dirty) {\n      var rect; // Update gradient because bounding rect may changed\n\n      if (hasFillGradient) {\n        rect = rect || this.getBoundingRect();\n        this._fillGradient = style.getGradient(ctx, fill, rect);\n      }\n\n      if (hasStrokeGradient) {\n        rect = rect || this.getBoundingRect();\n        this._strokeGradient = style.getGradient(ctx, stroke, rect);\n      }\n    } // Use the gradient or pattern\n\n\n    if (hasFillGradient) {\n      // PENDING If may have affect the state\n      ctx.fillStyle = this._fillGradient;\n    } else if (hasFillPattern) {\n      ctx.fillStyle = getCanvasPattern.call(fill, ctx);\n    }\n\n    if (hasStrokeGradient) {\n      ctx.strokeStyle = this._strokeGradient;\n    } else if (hasStrokePattern) {\n      ctx.strokeStyle = getCanvasPattern.call(stroke, ctx);\n    }\n\n    var lineDash = style.lineDash;\n    var lineDashOffset = style.lineDashOffset;\n    var ctxLineDash = !!ctx.setLineDash; // Update path sx, sy\n\n    var scale = this.getGlobalScale();\n    path.setScale(scale[0], scale[1], this.segmentIgnoreThreshold); // Proxy context\n    // Rebuild path in following 2 cases\n    // 1. Path is dirty\n    // 2. Path needs javascript implemented lineDash stroking.\n    //    In this case, lineDash information will not be saved in PathProxy\n\n    if (this.__dirtyPath || lineDash && !ctxLineDash && hasStroke) {\n      path.beginPath(ctx); // Setting line dash before build path\n\n      if (lineDash && !ctxLineDash) {\n        path.setLineDash(lineDash);\n        path.setLineDashOffset(lineDashOffset);\n      }\n\n      this.buildPath(path, this.shape, false); // Clear path dirty flag\n\n      if (this.path) {\n        this.__dirtyPath = false;\n      }\n    } else {\n      // Replay path building\n      ctx.beginPath();\n      this.path.rebuildPath(ctx);\n    }\n\n    if (hasFill) {\n      if (style.fillOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.fillOpacity * style.opacity;\n        path.fill(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.fill(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      ctx.setLineDash(lineDash);\n      ctx.lineDashOffset = lineDashOffset;\n    }\n\n    if (hasStroke) {\n      if (style.strokeOpacity != null) {\n        var originalGlobalAlpha = ctx.globalAlpha;\n        ctx.globalAlpha = style.strokeOpacity * style.opacity;\n        path.stroke(ctx);\n        ctx.globalAlpha = originalGlobalAlpha;\n      } else {\n        path.stroke(ctx);\n      }\n    }\n\n    if (lineDash && ctxLineDash) {\n      // PENDING\n      // Remove lineDash\n      ctx.setLineDash([]);\n    } // Draw rect text\n\n\n    if (style.text != null) {\n      // Only restore transform when needs draw text.\n      this.restoreTransform(ctx);\n      this.drawRectText(ctx, this.getBoundingRect());\n    }\n  },\n  // When bundling path, some shape may decide if use moveTo to begin a new subpath or closePath\n  // Like in circle\n  buildPath: function buildPath(ctx, shapeCfg, inBundle) {},\n  createPathProxy: function createPathProxy() {\n    this.path = new PathProxy();\n  },\n  getBoundingRect: function getBoundingRect() {\n    var rect = this._rect;\n    var style = this.style;\n    var needsUpdateRect = !rect;\n\n    if (needsUpdateRect) {\n      var path = this.path;\n\n      if (!path) {\n        // Create path on demand.\n        path = this.path = new PathProxy();\n      }\n\n      if (this.__dirtyPath) {\n        path.beginPath();\n        this.buildPath(path, this.shape, false);\n      }\n\n      rect = path.getBoundingRect();\n    }\n\n    this._rect = rect;\n\n    if (style.hasStroke()) {\n      // Needs update rect with stroke lineWidth when\n      // 1. Element changes scale or lineWidth\n      // 2. Shape is changed\n      var rectWithStroke = this._rectWithStroke || (this._rectWithStroke = rect.clone());\n\n      if (this.__dirty || needsUpdateRect) {\n        rectWithStroke.copy(rect); // FIXME Must after updateTransform\n\n        var w = style.lineWidth; // PENDING, Min line width is needed when line is horizontal or vertical\n\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Only add extra hover lineWidth when there are no fill\n\n        if (!style.hasFill()) {\n          w = Math.max(w, this.strokeContainThreshold || 4);\n        } // Consider line width\n        // Line scale can't be 0;\n\n\n        if (lineScale > 1e-10) {\n          rectWithStroke.width += w / lineScale;\n          rectWithStroke.height += w / lineScale;\n          rectWithStroke.x -= w / lineScale / 2;\n          rectWithStroke.y -= w / lineScale / 2;\n        }\n      } // Return rect with stroke\n\n\n      return rectWithStroke;\n    }\n\n    return rect;\n  },\n  contain: function contain(x, y) {\n    var localPos = this.transformCoordToLocal(x, y);\n    var rect = this.getBoundingRect();\n    var style = this.style;\n    x = localPos[0];\n    y = localPos[1];\n\n    if (rect.contain(x, y)) {\n      var pathData = this.path.data;\n\n      if (style.hasStroke()) {\n        var lineWidth = style.lineWidth;\n        var lineScale = style.strokeNoScale ? this.getLineScale() : 1; // Line scale can't be 0;\n\n        if (lineScale > 1e-10) {\n          // Only add extra hover lineWidth when there are no fill\n          if (!style.hasFill()) {\n            lineWidth = Math.max(lineWidth, this.strokeContainThreshold);\n          }\n\n          if (pathContain.containStroke(pathData, lineWidth / lineScale, x, y)) {\n            return true;\n          }\n        }\n      }\n\n      if (style.hasFill()) {\n        return pathContain.contain(pathData, x, y);\n      }\n    }\n\n    return false;\n  },\n\n  /**\n   * @param  {boolean} dirtyPath\n   */\n  dirty: function dirty(dirtyPath) {\n    if (dirtyPath == null) {\n      dirtyPath = true;\n    } // Only mark dirty, not mark clean\n\n\n    if (dirtyPath) {\n      this.__dirtyPath = dirtyPath;\n      this._rect = null;\n    }\n\n    this.__dirty = this.__dirtyText = true;\n    this.__zr && this.__zr.refresh(); // Used as a clipping path\n\n    if (this.__clipTarget) {\n      this.__clipTarget.dirty();\n    }\n  },\n\n  /**\n   * Alias for animate('shape')\n   * @param {boolean} loop\n   */\n  animateShape: function animateShape(loop) {\n    return this.animate('shape', loop);\n  },\n  // Overwrite attrKV\n  attrKV: function attrKV(key, value) {\n    // FIXME\n    if (key === 'shape') {\n      this.setShape(value);\n      this.__dirtyPath = true;\n      this._rect = null;\n    } else {\n      Displayable.prototype.attrKV.call(this, key, value);\n    }\n  },\n\n  /**\n   * @param {Object|string} key\n   * @param {*} value\n   */\n  setShape: function setShape(key, value) {\n    var shape = this.shape; // Path from string may not have shape\n\n    if (shape) {\n      if (zrUtil.isObject(key)) {\n        for (var name in key) {\n          if (key.hasOwnProperty(name)) {\n            shape[name] = key[name];\n          }\n        }\n      } else {\n        shape[key] = value;\n      }\n\n      this.dirty(true);\n    }\n\n    return this;\n  },\n  getLineScale: function getLineScale() {\n    var m = this.transform; // Get the line scale.\n    // Determinant of `m` means how much the area is enlarged by the\n    // transformation. So its square root can be used as a scale factor\n    // for width.\n\n    return m && abs(m[0] - 1) > 1e-10 && abs(m[3] - 1) > 1e-10 ? Math.sqrt(abs(m[0] * m[3] - m[2] * m[1])) : 1;\n  }\n};\n/**\n *  Path element, \n * Extend a path element\n * @param {Object} props\n * @param {string} props.type Path type\n * @param {Function} props.init Initialize\n * @param {Function} props.buildPath Overwrite buildPath method\n * @param {Object} [props.style] Extended default style config\n * @param {Object} [props.shape] Extended default shape config\n */\n\nPath.extend = function (defaults) {\n  var Sub = function Sub(opts) {\n    Path.call(this, opts);\n\n    if (defaults.style) {\n      // Extend default style\n      this.style.extendFrom(defaults.style, false);\n    } // Extend default shape\n\n\n    var defaultShape = defaults.shape;\n\n    if (defaultShape) {\n      this.shape = this.shape || {};\n      var thisShape = this.shape;\n\n      for (var name in defaultShape) {\n        if (!thisShape.hasOwnProperty(name) && defaultShape.hasOwnProperty(name)) {\n          thisShape[name] = defaultShape[name];\n        }\n      }\n    }\n\n    defaults.init && defaults.init.call(this, opts);\n  };\n\n  zrUtil.inherits(Sub, Path); // FIXME  extend position, rotation \n\n  for (var name in defaults) {\n    // Extending prototype values and methods\n    if (name !== 'style' && name !== 'shape') {\n      Sub.prototype[name] = defaults[name];\n    }\n  }\n\n  return Sub;\n};\n\nzrUtil.inherits(Path, Displayable);\nvar _default = Path;\nmodule.exports = _default;","import createContext from '@ant-design/create-react-context';\nvar MenuContext = createContext({\n  inlineCollapsed: false\n});\nexport default MenuContext;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport * as PropTypes from 'prop-types';\nimport { SubMenu as RcSubMenu } from 'rc-menu';\nimport classNames from 'classnames';\nimport MenuContext from './MenuContext';\n\nvar SubMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(SubMenu, _React$Component);\n\n  function SubMenu() {\n    var _this;\n\n    _classCallCheck(this, SubMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(SubMenu).apply(this, arguments));\n\n    _this.onKeyDown = function (e) {\n      _this.subMenu.onKeyDown(e);\n    };\n\n    _this.saveSubMenu = function (subMenu) {\n      _this.subMenu = subMenu;\n    };\n\n    return _this;\n  }\n\n  _createClass(SubMenu, [{\n    key: \"render\",\n    value: function render() {\n      var _this2 = this;\n\n      var _this$props = this.props,\n          rootPrefixCls = _this$props.rootPrefixCls,\n          popupClassName = _this$props.popupClassName;\n      return React.createElement(MenuContext.Consumer, null, function (_ref) {\n        var antdMenuTheme = _ref.antdMenuTheme;\n        return React.createElement(RcSubMenu, _extends({}, _this2.props, {\n          ref: _this2.saveSubMenu,\n          popupClassName: classNames(\"\".concat(rootPrefixCls, \"-\").concat(antdMenuTheme), popupClassName)\n        }));\n      });\n    }\n  }]);\n\n  return SubMenu;\n}(React.Component);\n\nSubMenu.contextTypes = {\n  antdMenuTheme: PropTypes.string\n}; // fix issue:https://github.com/ant-design/ant-design/issues/8666\n\nSubMenu.isSubMenu = 1;\nexport default SubMenu;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nvar __rest = this && this.__rest || function (s, e) {\n  var t = {};\n\n  for (var p in s) {\n    if (Object.prototype.hasOwnProperty.call(s, p) && e.indexOf(p) < 0) t[p] = s[p];\n  }\n\n  if (s != null && typeof Object.getOwnPropertySymbols === \"function\") for (var i = 0, p = Object.getOwnPropertySymbols(s); i < p.length; i++) {\n    if (e.indexOf(p[i]) < 0 && Object.prototype.propertyIsEnumerable.call(s, p[i])) t[p[i]] = s[p[i]];\n  }\n  return t;\n};\n\nimport * as React from 'react';\nimport { Item } from 'rc-menu';\nimport MenuContext from './MenuContext';\nimport Tooltip from '../tooltip';\nimport { SiderContext } from '../layout/Sider';\n\nvar MenuItem =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(MenuItem, _React$Component);\n\n  function MenuItem() {\n    var _this;\n\n    _classCallCheck(this, MenuItem);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(MenuItem).apply(this, arguments));\n\n    _this.onKeyDown = function (e) {\n      _this.menuItem.onKeyDown(e);\n    };\n\n    _this.saveMenuItem = function (menuItem) {\n      _this.menuItem = menuItem;\n    };\n\n    _this.renderItem = function (_ref) {\n      var siderCollapsed = _ref.siderCollapsed;\n      var _this$props = _this.props,\n          level = _this$props.level,\n          children = _this$props.children,\n          rootPrefixCls = _this$props.rootPrefixCls;\n\n      var _a = _this.props,\n          title = _a.title,\n          rest = __rest(_a, [\"title\"]);\n\n      return React.createElement(MenuContext.Consumer, null, function (_ref2) {\n        var inlineCollapsed = _ref2.inlineCollapsed;\n        var tooltipProps = {\n          title: title || (level === 1 ? children : '')\n        };\n\n        if (!siderCollapsed && !inlineCollapsed) {\n          tooltipProps.title = null; // Reset `visible` to fix control mode tooltip display not correct\n          // ref: https://github.com/ant-design/ant-design/issues/16742\n\n          tooltipProps.visible = false;\n        }\n\n        return React.createElement(Tooltip, _extends({}, tooltipProps, {\n          placement: \"right\",\n          overlayClassName: \"\".concat(rootPrefixCls, \"-inline-collapsed-tooltip\")\n        }), React.createElement(Item, _extends({}, rest, {\n          title: title,\n          ref: _this.saveMenuItem\n        })));\n      });\n    };\n\n    return _this;\n  }\n\n  _createClass(MenuItem, [{\n    key: \"render\",\n    value: function render() {\n      return React.createElement(SiderContext.Consumer, null, this.renderItem);\n    }\n  }]);\n\n  return MenuItem;\n}(React.Component);\n\nexport { MenuItem as default };\nMenuItem.isMenuItem = true;","function _typeof(obj) {\n  if (typeof Symbol === \"function\" && typeof Symbol.iterator === \"symbol\") {\n    _typeof = function _typeof(obj) {\n      return typeof obj;\n    };\n  } else {\n    _typeof = function _typeof(obj) {\n      return obj && typeof Symbol === \"function\" && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj;\n    };\n  }\n\n  return _typeof(obj);\n}\n\nfunction _extends() {\n  _extends = Object.assign || function (target) {\n    for (var i = 1; i < arguments.length; i++) {\n      var source = arguments[i];\n\n      for (var key in source) {\n        if (Object.prototype.hasOwnProperty.call(source, key)) {\n          target[key] = source[key];\n        }\n      }\n    }\n\n    return target;\n  };\n\n  return _extends.apply(this, arguments);\n}\n\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n\n  return obj;\n}\n\nfunction _classCallCheck(instance, Constructor) {\n  if (!(instance instanceof Constructor)) {\n    throw new TypeError(\"Cannot call a class as a function\");\n  }\n}\n\nfunction _defineProperties(target, props) {\n  for (var i = 0; i < props.length; i++) {\n    var descriptor = props[i];\n    descriptor.enumerable = descriptor.enumerable || false;\n    descriptor.configurable = true;\n    if (\"value\" in descriptor) descriptor.writable = true;\n    Object.defineProperty(target, descriptor.key, descriptor);\n  }\n}\n\nfunction _createClass(Constructor, protoProps, staticProps) {\n  if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n  if (staticProps) _defineProperties(Constructor, staticProps);\n  return Constructor;\n}\n\nfunction _possibleConstructorReturn(self, call) {\n  if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) {\n    return call;\n  }\n\n  return _assertThisInitialized(self);\n}\n\nfunction _assertThisInitialized(self) {\n  if (self === void 0) {\n    throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\");\n  }\n\n  return self;\n}\n\nfunction _getPrototypeOf(o) {\n  _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) {\n    return o.__proto__ || Object.getPrototypeOf(o);\n  };\n  return _getPrototypeOf(o);\n}\n\nfunction _inherits(subClass, superClass) {\n  if (typeof superClass !== \"function\" && superClass !== null) {\n    throw new TypeError(\"Super expression must either be null or a function\");\n  }\n\n  subClass.prototype = Object.create(superClass && superClass.prototype, {\n    constructor: {\n      value: subClass,\n      writable: true,\n      configurable: true\n    }\n  });\n  if (superClass) _setPrototypeOf(subClass, superClass);\n}\n\nfunction _setPrototypeOf(o, p) {\n  _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) {\n    o.__proto__ = p;\n    return o;\n  };\n\n  return _setPrototypeOf(o, p);\n}\n\nimport * as React from 'react';\nimport RcMenu, { Divider, ItemGroup } from 'rc-menu';\nimport classNames from 'classnames';\nimport omit from 'omit.js';\nimport { polyfill } from 'react-lifecycles-compat';\nimport SubMenu from './SubMenu';\nimport Item from './MenuItem';\nimport { ConfigConsumer } from '../config-provider';\nimport animation from '../_util/openAnimation';\nimport warning from '../_util/warning';\nimport { SiderContext } from '../layout/Sider';\nimport raf from '../_util/raf';\nimport MenuContext from './MenuContext';\n\nvar InternalMenu =\n/*#__PURE__*/\nfunction (_React$Component) {\n  _inherits(InternalMenu, _React$Component);\n\n  function InternalMenu(props) {\n    var _this;\n\n    _classCallCheck(this, InternalMenu);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(InternalMenu).call(this, props)); // Restore vertical mode when menu is collapsed responsively when mounted\n    // https://github.com/ant-design/ant-design/issues/13104\n    // TODO: not a perfect solution, looking a new way to avoid setting switchingModeFromInline in this situation\n\n    _this.handleMouseEnter = function (e) {\n      _this.restoreModeVerticalFromInline();\n\n      var onMouseEnter = _this.props.onMouseEnter;\n\n      if (onMouseEnter) {\n        onMouseEnter(e);\n      }\n    };\n\n    _this.handleTransitionEnd = function (e) {\n      // when inlineCollapsed menu width animation finished\n      // https://github.com/ant-design/ant-design/issues/12864\n      var widthCollapsed = e.propertyName === 'width' && e.target === e.currentTarget; // Fix SVGElement e.target.className.indexOf is not a function\n      // https://github.com/ant-design/ant-design/issues/15699\n\n      var className = e.target.className; // SVGAnimatedString.animVal should be identical to SVGAnimatedString.baseVal, unless during an animation.\n\n      var classNameValue = Object.prototype.toString.call(className) === '[object SVGAnimatedString]' ? className.animVal : className; // Fix for <Menu style={{ width: '100%' }} />, the width transition won't trigger when menu is collapsed\n      // https://github.com/ant-design/ant-design-pro/issues/2783\n\n      var iconScaled = e.propertyName === 'font-size' && classNameValue.indexOf('anticon') >= 0;\n\n      if (widthCollapsed || iconScaled) {\n        _this.restoreModeVerticalFromInline();\n      }\n    };\n\n    _this.handleClick = function (e) {\n      _this.handleOpenChange([]);\n\n      var onClick = _this.props.onClick;\n\n      if (onClick) {\n        onClick(e);\n      }\n    };\n\n    _this.handleOpenChange = function (openKeys) {\n      _this.setOpenKeys(openKeys);\n\n      var onOpenChange = _this.props.onOpenChange;\n\n      if (onOpenChange) {\n        onOpenChange(openKeys);\n      }\n    };\n\n    _this.renderMenu = function (_ref) {\n      var getPopupContainer = _ref.getPopupContainer,\n          getPrefixCls = _ref.getPrefixCls;\n      var mounted = _this.state.mounted;\n      var _this$props = _this.props,\n          customizePrefixCls = _this$props.prefixCls,\n          className = _this$props.className,\n          theme = _this$props.theme,\n          collapsedWidth = _this$props.collapsedWidth;\n      var passProps = omit(_this.props, ['collapsedWidth', 'siderCollapsed']);\n\n      var menuMode = _this.getRealMenuMode();\n\n      var menuOpenAnimation = _this.getMenuOpenAnimation(menuMode);\n\n      var prefixCls = getPrefixCls('menu', customizePrefixCls);\n      var menuClassName = classNames(className, \"\".concat(prefixCls, \"-\").concat(theme), _defineProperty({}, \"\".concat(prefixCls, \"-inline-collapsed\"), _this.getInlineCollapsed()));\n      var menuProps = {\n        openKeys: _this.state.openKeys,\n        onOpenChange: _this.handleOpenChange,\n        className: menuClassName,\n        mode: menuMode\n      };\n\n      if (menuMode !== 'inline') {\n        // closing vertical popup submenu after click it\n        menuProps.onClick = _this.handleClick;\n        menuProps.openTransitionName = mounted ? menuOpenAnimation : '';\n      } else {\n        menuProps.openAnimation = mounted ? menuOpenAnimation : {};\n      } // https://github.com/ant-design/ant-design/issues/8587\n\n\n      var hideMenu = _this.getInlineCollapsed() && (collapsedWidth === 0 || collapsedWidth === '0' || collapsedWidth === '0px');\n\n      if (hideMenu) {\n        menuProps.openKeys = [];\n      }\n\n      return React.createElement(RcMenu, _extends({\n        getPopupContainer: getPopupContainer\n      }, passProps, menuProps, {\n        prefixCls: prefixCls,\n        onTransitionEnd: _this.handleTransitionEnd,\n        onMouseEnter: _this.handleMouseEnter\n      }));\n    };\n\n    warning(!('onOpen' in props || 'onClose' in props), 'Menu', '`onOpen` and `onClose` are removed, please use `onOpenChange` instead, ' + 'see: https://u.ant.design/menu-on-open-change.');\n    warning(!('inlineCollapsed' in props && props.mode !== 'inline'), 'Menu', '`inlineCollapsed` should only be used when `mode` is inline.');\n    warning(!(props.siderCollapsed !== undefined && 'inlineCollapsed' in props), 'Menu', '`inlineCollapsed` not control Menu under Sider. Should set `collapsed` on Sider instead.');\n    var openKeys;\n\n    if ('openKeys' in props) {\n      openKeys = props.openKeys;\n    } else if ('defaultOpenKeys' in props) {\n      openKeys = props.defaultOpenKeys;\n    }\n\n    _this.state = {\n      openKeys: openKeys || [],\n      switchingModeFromInline: false,\n      inlineOpenKeys: [],\n      prevProps: props,\n      mounted: false\n    };\n    return _this;\n  }\n\n  _createClass(InternalMenu, [{\n    key: \"componentDidMount\",\n    // [Legacy] Origin code can render full defaultOpenKeys is caused by `rc-animate` bug.\n    // We have to workaround this to prevent animation on first render.\n    // https://github.com/ant-design/ant-design/issues/15966\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      this.mountRafId = raf(function () {\n        _this2.setState({\n          mounted: true\n        });\n      }, 10);\n    }\n  }, {\n    key: \"componentWillUnmount\",\n    value: function componentWillUnmount() {\n      raf.cancel(this.mountRafId);\n    }\n  }, {\n    key: \"setOpenKeys\",\n    value: function setOpenKeys(openKeys) {\n      if (!('openKeys' in this.props)) {\n        this.setState({\n          openKeys: openKeys\n        });\n      }\n    }\n  }, {\n    key: \"getRealMenuMode\",\n    value: function getRealMenuMode() {\n      var inlineCollapsed = this.getInlineCollapsed();\n\n      if (this.state.switchingModeFromInline && inlineCollapsed) {\n        return 'inline';\n      }\n\n      var mode = this.props.mode;\n      return inlineCollapsed ? 'vertical' : mode;\n    }\n  }, {\n    key: \"getInlineCollapsed\",\n    value: function getInlineCollapsed() {\n      var inlineCollapsed = this.props.inlineCollapsed;\n\n      if (this.props.siderCollapsed !== undefined) {\n        return this.props.siderCollapsed;\n      }\n\n      return inlineCollapsed;\n    }\n  }, {\n    key: \"getMenuOpenAnimation\",\n    value: function getMenuOpenAnimation(menuMode) {\n      var _this$props2 = this.props,\n          openAnimation = _this$props2.openAnimation,\n          openTransitionName = _this$props2.openTransitionName;\n      var menuOpenAnimation = openAnimation || openTransitionName;\n\n      if (openAnimation === undefined && openTransitionName === undefined) {\n        if (menuMode === 'horizontal') {\n          menuOpenAnimation = 'slide-up';\n        } else if (menuMode === 'inline') {\n          menuOpenAnimation = animation;\n        } else {\n          // When mode switch from inline\n          // submenu should hide without animation\n          menuOpenAnimation = this.state.switchingModeFromInline ? '' : 'zoom-big';\n        }\n      }\n\n      return menuOpenAnimation;\n    }\n  }, {\n    key: \"restoreModeVerticalFromInline\",\n    value: function restoreModeVerticalFromInline() {\n      var switchingModeFromInline = this.state.switchingModeFromInline;\n\n      if (switchingModeFromInline) {\n        this.setState({\n          switchingModeFromInline: false\n        });\n      }\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      return React.createElement(MenuContext.Provider, {\n        value: {\n          inlineCollapsed: this.getInlineCollapsed() || false,\n          antdMenuTheme: this.props.theme\n        }\n      }, React.createElement(ConfigConsumer, null, this.renderMenu));\n    }\n  }], [{\n    key: \"getDerivedStateFromProps\",\n    value: function getDerivedStateFromProps(nextProps, prevState) {\n      var prevProps = prevState.prevProps;\n      var newState = {\n        prevProps: nextProps\n      };\n\n      if (prevProps.mode === 'inline' && nextProps.mode !== 'inline') {\n        newState.switchingModeFromInline = true;\n      }\n\n      if ('openKeys' in nextProps) {\n        newState.openKeys = nextProps.openKeys;\n      } else {\n        // [Legacy] Old code will return after `openKeys` changed.\n        // Not sure the reason, we should keep this logic still.\n        if (nextProps.inlineCollapsed && !prevProps.inlineCollapsed || nextProps.siderCollapsed && !prevProps.siderCollapsed) {\n          newState.switchingModeFromInline = true;\n          newState.inlineOpenKeys = prevState.openKeys;\n          newState.openKeys = [];\n        }\n\n        if (!nextProps.inlineCollapsed && prevProps.inlineCollapsed || !nextProps.siderCollapsed && prevProps.siderCollapsed) {\n          newState.openKeys = prevState.inlineOpenKeys;\n          newState.inlineOpenKeys = [];\n        }\n      }\n\n      return newState;\n    }\n  }]);\n\n  return InternalMenu;\n}(React.Component);\n\nInternalMenu.defaultProps = {\n  className: '',\n  theme: 'light',\n  focusable: false\n};\npolyfill(InternalMenu); // We should keep this as ref-able\n\nvar Menu =\n/*#__PURE__*/\nfunction (_React$Component2) {\n  _inherits(Menu, _React$Component2);\n\n  function Menu() {\n    _classCallCheck(this, Menu);\n\n    return _possibleConstructorReturn(this, _getPrototypeOf(Menu).apply(this, arguments));\n  }\n\n  _createClass(Menu, [{\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      return React.createElement(SiderContext.Consumer, null, function (context) {\n        return React.createElement(InternalMenu, _extends({}, _this3.props, context));\n      });\n    }\n  }]);\n\n  return Menu;\n}(React.Component);\n\nexport { Menu as default };\nMenu.Divider = Divider;\nMenu.Item = Item;\nMenu.SubMenu = SubMenu;\nMenu.ItemGroup = ItemGroup;"],"sourceRoot":""}